{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { bidiText as e } from \"../../../../../../core/BidiText.js\";\nimport { pt2px as o, toPt as t } from \"../../../../../../core/screenUtils.js\";\nimport { Alignment as i } from \"../../../../../../symbols/cim/enums.js\";\nimport { getJustification as r, getXAnchorDirection as n, getYAnchorDirection as s } from \"../../alignmentUtils.js\";\nimport { premultiplyAlphaRGBAArray as l, premultiplyAlphaRGBA as a } from \"../../color.js\";\nimport { GLYPH_SIZE as m, MIN_MAX_ZOOM_PRECISION_FACTOR as h } from \"../../definitions.js\";\nimport { i1616to32 as c } from \"../../number.js\";\nimport { MaterialKeyBase as f } from \"../../materialKey/MaterialKey.js\";\nimport { DEFAULT_MIN_ZOOM as d, DEFAULT_MAX_ZOOM as _, getMinMaxZoom as u } from \"./util.js\";\nimport b from \"./WGLBaseTextTemplate.js\";\nimport x from \"./WGLMeshTemplate.js\";\nconst z = 5;\n\nclass g extends b(x) {\n  constructor(e, l, a, d, _, u, b, x, g, C, M, p, S, j, L, y, T, V, k, A, v, I, K, R) {\n    super(), this._xOffset = o(S), this._yOffset = o(j), this._decoration = C || \"none\", this._backgroundColor = I, this._borderLineColor = K, this._borderLineSize = R, this._color = _, this._haloColor = u, this._haloSize = Math.min(Math.floor(z * o(t(a))), 127), this._size = Math.min(Math.round(o(l)), 127);\n    const W = Math.min(Math.round(o(d || l)), 127);\n    this._referenceSize = Math.round(Math.sqrt(256 * W)), this._scale = this._size / m, this._angle = p, this._justify = r(b || \"center\"), this._xAlignD = n(b || \"center\"), this._yAlignD = s(x || \"baseline\"), this._baseline = \"baseline\" === (x || \"baseline\"), this._bitset = (g === i.MAP ? 1 : 0) | (M ? 1 : 0) << 1;\n    const B = f.load(e);\n    B.sdf = !0, this._materialKey = B.data, this._lineWidth = o(L) || 512, this._lineHeight = y || 1, this._textPlacement = T, this._effects = V, this._isCIM = k ?? !1, this._minMaxZoom = c(Math.round(A * h), Math.round(v * h));\n  }\n\n  static fromText(o, t) {\n    const r = o.font?.size,\n          n = new g(o.materialKey, r, o.haloSize || 0, r, o.color && l(o.color) || 0, o.haloColor && l(o.haloColor) || 0, o.horizontalAlignment, o.verticalAlignment, i.SCREEN, o.font?.decoration, !1, o.angle || 0, o.xoffset || 0, o.yoffset || 0, o.lineWidth || 0, o.lineHeight || 0, null, null, !1, d, _, o.backgroundColor && l(o.backgroundColor), o.borderLineColor && l(o.borderLineColor), o.borderLineSize),\n          [, s] = e(o.text);\n    return n.bindTextInfo(t ?? [], s), n._vertexBoundsScale = o.maxVVSize && r ? o.maxVVSize / r : 1, n;\n  }\n\n  static fromCIMText(o, t, i) {\n    const r = o.scaleFactor || 1,\n          n = o.size * o.sizeRatio * r,\n          [s, l] = u(o.scaleInfo, i),\n          m = new g(o.materialKey, n, o.outlineSize * o.sizeRatio, o.referenceSize, a(o.color), a(o.outlineColor), o.horizontalAlignment, o.verticalAlignment, o.alignment, o.decoration, o.colorLocked ?? !1, o.angle, o.offsetX * o.sizeRatio * r, o.offsetY * o.sizeRatio * r, 512, 1, o.markerPlacement, o.effects, !0, s, l, o.backgroundColor ? a(o.backgroundColor) : void 0, o.borderLineColor ? a(o.borderLineColor) : void 0, o.borderLineWidth),\n          [, h] = e(o.text);\n    return m.bindTextInfo(t, h), m._vertexBoundsScale = o.maxVVSize ? o.maxVVSize / n : 1, m;\n  }\n\n}\n\nexport { g as default };","map":{"version":3,"names":["bidiText","e","pt2px","o","toPt","t","Alignment","i","getJustification","r","getXAnchorDirection","n","getYAnchorDirection","s","premultiplyAlphaRGBAArray","l","premultiplyAlphaRGBA","a","GLYPH_SIZE","m","MIN_MAX_ZOOM_PRECISION_FACTOR","h","i1616to32","c","MaterialKeyBase","f","DEFAULT_MIN_ZOOM","d","DEFAULT_MAX_ZOOM","_","getMinMaxZoom","u","b","x","z","g","constructor","C","M","p","S","j","L","y","T","V","k","A","v","I","K","R","_xOffset","_yOffset","_decoration","_backgroundColor","_borderLineColor","_borderLineSize","_color","_haloColor","_haloSize","Math","min","floor","_size","round","W","_referenceSize","sqrt","_scale","_angle","_justify","_xAlignD","_yAlignD","_baseline","_bitset","MAP","B","load","sdf","_materialKey","data","_lineWidth","_lineHeight","_textPlacement","_effects","_isCIM","_minMaxZoom","fromText","font","size","materialKey","haloSize","color","haloColor","horizontalAlignment","verticalAlignment","SCREEN","decoration","angle","xoffset","yoffset","lineWidth","lineHeight","backgroundColor","borderLineColor","borderLineSize","text","bindTextInfo","_vertexBoundsScale","maxVVSize","fromCIMText","scaleFactor","sizeRatio","scaleInfo","outlineSize","referenceSize","outlineColor","alignment","colorLocked","offsetX","offsetY","markerPlacement","effects","borderLineWidth","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/WGLTextTemplate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{bidiText as e}from\"../../../../../../core/BidiText.js\";import{pt2px as o,toPt as t}from\"../../../../../../core/screenUtils.js\";import{Alignment as i}from\"../../../../../../symbols/cim/enums.js\";import{getJustification as r,getXAnchorDirection as n,getYAnchorDirection as s}from\"../../alignmentUtils.js\";import{premultiplyAlphaRGBAArray as l,premultiplyAlphaRGBA as a}from\"../../color.js\";import{GLYPH_SIZE as m,MIN_MAX_ZOOM_PRECISION_FACTOR as h}from\"../../definitions.js\";import{i1616to32 as c}from\"../../number.js\";import{MaterialKeyBase as f}from\"../../materialKey/MaterialKey.js\";import{DEFAULT_MIN_ZOOM as d,DEFAULT_MAX_ZOOM as _,getMinMaxZoom as u}from\"./util.js\";import b from\"./WGLBaseTextTemplate.js\";import x from\"./WGLMeshTemplate.js\";const z=5;class g extends(b(x)){constructor(e,l,a,d,_,u,b,x,g,C,M,p,S,j,L,y,T,V,k,A,v,I,K,R){super(),this._xOffset=o(S),this._yOffset=o(j),this._decoration=C||\"none\",this._backgroundColor=I,this._borderLineColor=K,this._borderLineSize=R,this._color=_,this._haloColor=u,this._haloSize=Math.min(Math.floor(z*o(t(a))),127),this._size=Math.min(Math.round(o(l)),127);const W=Math.min(Math.round(o(d||l)),127);this._referenceSize=Math.round(Math.sqrt(256*W)),this._scale=this._size/m,this._angle=p,this._justify=r(b||\"center\"),this._xAlignD=n(b||\"center\"),this._yAlignD=s(x||\"baseline\"),this._baseline=\"baseline\"===(x||\"baseline\"),this._bitset=(g===i.MAP?1:0)|(M?1:0)<<1;const B=f.load(e);B.sdf=!0,this._materialKey=B.data,this._lineWidth=o(L)||512,this._lineHeight=y||1,this._textPlacement=T,this._effects=V,this._isCIM=k??!1,this._minMaxZoom=c(Math.round(A*h),Math.round(v*h))}static fromText(o,t){const r=o.font?.size,n=new g(o.materialKey,r,o.haloSize||0,r,o.color&&l(o.color)||0,o.haloColor&&l(o.haloColor)||0,o.horizontalAlignment,o.verticalAlignment,i.SCREEN,o.font?.decoration,!1,o.angle||0,o.xoffset||0,o.yoffset||0,o.lineWidth||0,o.lineHeight||0,null,null,!1,d,_,o.backgroundColor&&l(o.backgroundColor),o.borderLineColor&&l(o.borderLineColor),o.borderLineSize),[,s]=e(o.text);return n.bindTextInfo(t??[],s),n._vertexBoundsScale=o.maxVVSize&&r?o.maxVVSize/r:1,n}static fromCIMText(o,t,i){const r=o.scaleFactor||1,n=o.size*o.sizeRatio*r,[s,l]=u(o.scaleInfo,i),m=new g(o.materialKey,n,o.outlineSize*o.sizeRatio,o.referenceSize,a(o.color),a(o.outlineColor),o.horizontalAlignment,o.verticalAlignment,o.alignment,o.decoration,o.colorLocked??!1,o.angle,o.offsetX*o.sizeRatio*r,o.offsetY*o.sizeRatio*r,512,1,o.markerPlacement,o.effects,!0,s,l,o.backgroundColor?a(o.backgroundColor):void 0,o.borderLineColor?a(o.borderLineColor):void 0,o.borderLineWidth),[,h]=e(o.text);return m.bindTextInfo(t,h),m._vertexBoundsScale=o.maxVVSize?o.maxVVSize/n:1,m}}export{g as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}