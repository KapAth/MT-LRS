{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as e, isSome as t } from \"../../../../core/maybe.js\";\nimport { g as s, h as r, r as i, k as o, m as a } from \"../../../../chunks/mat3.js\";\nimport { c as u } from \"../../../../chunks/mat3f32.js\";\nimport { f as h } from \"../../../../chunks/vec2f32.js\";\nimport { extractBands as n } from \"../../../../layers/support/rasterFunctions/pixelUtils.js\";\nimport { DisplayObject as l } from \"../DisplayObject.js\";\nimport { TextureSamplingMode as d } from \"../../../webgl/enums.js\";\nimport { createTransformTexture as p, createRasterTexture as _, createColormapTexture as x } from \"../../../webgl/rasterUtils.js\";\nconst c = {\n  bandCount: 3,\n  outMin: 0,\n  outMax: 1,\n  minCutOff: [0, 0, 0],\n  maxCutOff: [255, 255, 255],\n  factor: [1 / 255, 1 / 255, 1 / 255],\n  useGamma: !1,\n  gamma: [1, 1, 1],\n  gammaCorrection: [1, 1, 1],\n  colormap: null,\n  colormapOffset: null,\n  stretchType: \"none\",\n  type: \"stretch\"\n};\n\nclass m extends l {\n  constructor(e = null, t = null, s = null) {\n    super(), this._textureInvalidated = !0, this._colormapTextureInvalidated = !0, this._rasterTexture = null, this._rasterTextureBandIds = null, this._transformGridTexture = null, this._colormapTexture = null, this._colormap = null, this._supportsBilinearTexture = !0, this._processedTexture = null, this.functionTextures = [], this.projected = !1, this.stencilRef = 0, this.coordScale = [1, 1], this._processed = !1, this._symbolizerParameters = null, this.height = null, this.isRendereredSource = !1, this.pixelRatio = 1, this.resolution = 0, this.rotation = 0, this._source = null, this.rawPixelData = null, this._suspended = !1, this._bandIds = null, this._interpolation = null, this._transformGrid = null, this.width = null, this.x = 0, this.y = 0, this.source = e, this.transformGrid = t, this.interpolation = s;\n  }\n\n  destroy() {\n    this._disposeTextures();\n  }\n\n  get processedTexture() {\n    return this._processedTexture;\n  }\n\n  set processedTexture(e) {\n    this._processedTexture !== e && (this._disposeTextures(!0), this._processedTexture = e);\n  }\n\n  get rasterTexture() {\n    return this._rasterTexture;\n  }\n\n  set rasterTexture(e) {\n    this._rasterTexture !== e && (this._rasterTexture?.dispose(), this._rasterTexture = e);\n  }\n\n  get processed() {\n    return this._processed;\n  }\n\n  set processed(t) {\n    this._processed = t, t || (e(this.processedTexture), this.invalidateTexture());\n  }\n\n  get symbolizerParameters() {\n    return this._symbolizerParameters || c;\n  }\n\n  set symbolizerParameters(e) {\n    this._symbolizerParameters !== e && (this._symbolizerParameters = e, this._colormapTextureInvalidated = !0, this.commonUniforms = null);\n  }\n\n  get source() {\n    return this._source;\n  }\n\n  set source(e) {\n    this._source !== e && (this._source = e, this._rasterTexture && (this._rasterTexture.dispose(), this._rasterTexture = null, this._rasterTextureBandIds = null), this.projected = !1, this.invalidateTexture());\n  }\n\n  get suspended() {\n    return this._suspended;\n  }\n\n  set suspended(e) {\n    this._suspended && !e && this.stage && (this.ready(), this.requestRender()), this._suspended = e;\n  }\n\n  get bandIds() {\n    return this._bandIds;\n  }\n\n  set bandIds(e) {\n    this._bandIds = e, this._isBandIdschanged(e) && (this.projected = !1, this.invalidateTexture());\n  }\n\n  get interpolation() {\n    return this._interpolation || \"nearest\";\n  }\n\n  set interpolation(e) {\n    this._interpolation = e, this._rasterTexture && this._rasterTexture.setSamplingMode(\"bilinear\" === this._getTextureSamplingMethod(e || \"nearest\") ? d.LINEAR : d.NEAREST);\n  }\n\n  get transformGrid() {\n    return this._transformGrid;\n  }\n\n  set transformGrid(t) {\n    this._transformGrid = t, this._transformGridTexture = e(this._transformGridTexture);\n  }\n\n  invalidateTexture() {\n    this._textureInvalidated || (this._textureInvalidated = !0, this.requestRender());\n  }\n\n  _createTransforms() {\n    return {\n      dvs: u()\n    };\n  }\n\n  setTransform(e) {\n    const t = s(this.transforms.dvs),\n          [u, n] = e.toScreenNoRotation([0, 0], [this.x, this.y]),\n          l = this.resolution / this.pixelRatio / e.resolution,\n          d = l * this.width,\n          p = l * this.height,\n          _ = Math.PI * this.rotation / 180;\n\n    r(t, t, h(u, n)), r(t, t, h(d / 2, p / 2)), i(t, t, -_), r(t, t, h(-d / 2, -p / 2)), o(t, t, h(d, p)), a(this.transforms.dvs, e.displayViewMat3, t);\n  }\n\n  getTextures({\n    forProcessing: e = !1,\n    useProcessedTexture: t = !1\n  } = {}) {\n    const s = t ? this._processedTexture ?? this._rasterTexture : this._rasterTexture,\n          r = [],\n          i = [];\n    return s ? t ? (i.push(s), r.push(\"u_image\"), this._colormapTexture && (i.push(this._colormapTexture), r.push(\"u_colormap\")), {\n      names: r,\n      textures: i\n    }) : (this._transformGridTexture && (i.push(this._transformGridTexture), r.push(\"u_transformGrid\")), i.push(s), r.push(\"u_image\"), this._colormapTexture && !e && (i.push(this._colormapTexture), r.push(\"u_colormap\")), {\n      names: r,\n      textures: i\n    }) : {\n      names: r,\n      textures: i\n    };\n  }\n\n  onAttach() {\n    this.invalidateTexture();\n  }\n\n  onDetach() {\n    this.invalidateTexture();\n  }\n\n  updateTexture({\n    context: e\n  }) {\n    if (!this.stage) return void this._disposeTextures();\n\n    const t = this._isValidSource(this.source);\n\n    t && this._colormapTextureInvalidated && (this._colormapTextureInvalidated = !1, this._updateColormapTexture(e)), this._textureInvalidated && (this._textureInvalidated = !1, this._createOrDestroyRasterTexture(e), this._rasterTexture && (t ? this.transformGrid && !this._transformGridTexture && (this._transformGridTexture = p(e, this.transformGrid)) : this._rasterTexture.setData(null)), this.suspended || (this.ready(), this.requestRender()));\n  }\n\n  updateProcessedTexture() {\n    const {\n      functionTextures: e\n    } = this;\n    0 !== e.length && (this.processedTexture = e.shift(), e.forEach(e => e?.dispose()), e.length = 0);\n  }\n\n  _createOrDestroyRasterTexture(e) {\n    const s = t(this.source) ? n(this.source, this.bandIds) : null;\n    if (!this._isValidSource(s)) return void (this._rasterTexture && (this._rasterTexture.dispose(), this._rasterTextureBandIds = null, this._rasterTexture = null));\n    const r = !this._isBandIdschanged(this.bandIds);\n\n    if (this._rasterTexture) {\n      if (r) return;\n      this._rasterTexture.dispose(), this._rasterTextureBandIds = null, this._rasterTexture = null;\n    }\n\n    this._supportsBilinearTexture = !!e.capabilities.textureFloat?.textureFloatLinear;\n\n    const i = this._getTextureSamplingMethod(this.interpolation),\n          o = this.isRendereredSource || !e.capabilities.textureFloat?.textureFloat;\n\n    this._rasterTexture = _(e, s, i, o), this.projected = !1, this._processed = !1, this._rasterTextureBandIds = this.bandIds ? [...this.bandIds] : null;\n  }\n\n  _isBandIdschanged(e) {\n    const t = this._rasterTextureBandIds;\n    return !(null == t && null == e || t && e && t.join(\"\") === e.join(\"\"));\n  }\n\n  _isValidSource(e) {\n    return t(e) && e.pixels?.length > 0;\n  }\n\n  _getTextureSamplingMethod(e) {\n    const {\n      type: s,\n      colormap: r\n    } = this.symbolizerParameters,\n          i = \"lut\" === s || \"stretch\" === s && t(r);\n    return !this._supportsBilinearTexture || i || \"bilinear\" !== e && \"cubic\" !== e ? \"nearest\" : \"bilinear\";\n  }\n\n  _updateColormapTexture(e) {\n    const t = this._colormap,\n          s = this.symbolizerParameters.colormap;\n    return s ? t ? s.length !== t.length || s.some((e, s) => e !== t[s]) ? (this._colormapTexture && (this._colormapTexture.dispose(), this._colormapTexture = null), this._colormapTexture = x(e, s), void (this._colormap = s)) : void 0 : (this._colormapTexture = x(e, s), void (this._colormap = s)) : (this._colormapTexture && (this._colormapTexture.dispose(), this._colormapTexture = null), void (this._colormap = null));\n  }\n\n  _disposeTextures(e = !1) {\n    this._transformGridTexture && (this._transformGridTexture.dispose(), this._transformGridTexture = null), !e && this._colormapTexture && (this._colormapTexture.dispose(), this._colormapTexture = null, this._colormap = null, this._colormapTextureInvalidated = !0), !e && this._rasterTexture && (this._rasterTexture.dispose(), this._rasterTexture = null, this._rasterTextureBandIds = null), this._processedTexture && (this._processedTexture.dispose(), this._processedTexture = null);\n  }\n\n}\n\nclass T extends m {\n  get source() {\n    return this._source;\n  }\n\n}\n\nfunction f(e) {\n  return t(e.source);\n}\n\nexport { m as RasterBitmap, T as RasterBitmapWithSource, f as hasSource };","map":{"version":3,"names":["disposeMaybe","e","isSome","t","g","s","h","r","i","k","o","m","a","c","u","f","extractBands","n","DisplayObject","l","TextureSamplingMode","d","createTransformTexture","p","createRasterTexture","_","createColormapTexture","x","bandCount","outMin","outMax","minCutOff","maxCutOff","factor","useGamma","gamma","gammaCorrection","colormap","colormapOffset","stretchType","type","constructor","_textureInvalidated","_colormapTextureInvalidated","_rasterTexture","_rasterTextureBandIds","_transformGridTexture","_colormapTexture","_colormap","_supportsBilinearTexture","_processedTexture","functionTextures","projected","stencilRef","coordScale","_processed","_symbolizerParameters","height","isRendereredSource","pixelRatio","resolution","rotation","_source","rawPixelData","_suspended","_bandIds","_interpolation","_transformGrid","width","y","source","transformGrid","interpolation","destroy","_disposeTextures","processedTexture","rasterTexture","dispose","processed","invalidateTexture","symbolizerParameters","commonUniforms","suspended","stage","ready","requestRender","bandIds","_isBandIdschanged","setSamplingMode","_getTextureSamplingMethod","LINEAR","NEAREST","_createTransforms","dvs","setTransform","transforms","toScreenNoRotation","Math","PI","displayViewMat3","getTextures","forProcessing","useProcessedTexture","push","names","textures","onAttach","onDetach","updateTexture","context","_isValidSource","_updateColormapTexture","_createOrDestroyRasterTexture","setData","updateProcessedTexture","length","shift","forEach","capabilities","textureFloat","textureFloatLinear","join","pixels","some","T","RasterBitmap","RasterBitmapWithSource","hasSource"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/engine/imagery/RasterBitmap.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e,isSome as t}from\"../../../../core/maybe.js\";import{g as s,h as r,r as i,k as o,m as a}from\"../../../../chunks/mat3.js\";import{c as u}from\"../../../../chunks/mat3f32.js\";import{f as h}from\"../../../../chunks/vec2f32.js\";import{extractBands as n}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{DisplayObject as l}from\"../DisplayObject.js\";import{TextureSamplingMode as d}from\"../../../webgl/enums.js\";import{createTransformTexture as p,createRasterTexture as _,createColormapTexture as x}from\"../../../webgl/rasterUtils.js\";const c={bandCount:3,outMin:0,outMax:1,minCutOff:[0,0,0],maxCutOff:[255,255,255],factor:[1/255,1/255,1/255],useGamma:!1,gamma:[1,1,1],gammaCorrection:[1,1,1],colormap:null,colormapOffset:null,stretchType:\"none\",type:\"stretch\"};class m extends l{constructor(e=null,t=null,s=null){super(),this._textureInvalidated=!0,this._colormapTextureInvalidated=!0,this._rasterTexture=null,this._rasterTextureBandIds=null,this._transformGridTexture=null,this._colormapTexture=null,this._colormap=null,this._supportsBilinearTexture=!0,this._processedTexture=null,this.functionTextures=[],this.projected=!1,this.stencilRef=0,this.coordScale=[1,1],this._processed=!1,this._symbolizerParameters=null,this.height=null,this.isRendereredSource=!1,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this.rawPixelData=null,this._suspended=!1,this._bandIds=null,this._interpolation=null,this._transformGrid=null,this.width=null,this.x=0,this.y=0,this.source=e,this.transformGrid=t,this.interpolation=s}destroy(){this._disposeTextures()}get processedTexture(){return this._processedTexture}set processedTexture(e){this._processedTexture!==e&&(this._disposeTextures(!0),this._processedTexture=e)}get rasterTexture(){return this._rasterTexture}set rasterTexture(e){this._rasterTexture!==e&&(this._rasterTexture?.dispose(),this._rasterTexture=e)}get processed(){return this._processed}set processed(t){this._processed=t,t||(e(this.processedTexture),this.invalidateTexture())}get symbolizerParameters(){return this._symbolizerParameters||c}set symbolizerParameters(e){this._symbolizerParameters!==e&&(this._symbolizerParameters=e,this._colormapTextureInvalidated=!0,this.commonUniforms=null)}get source(){return this._source}set source(e){this._source!==e&&(this._source=e,this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null),this.projected=!1,this.invalidateTexture())}get suspended(){return this._suspended}set suspended(e){this._suspended&&!e&&this.stage&&(this.ready(),this.requestRender()),this._suspended=e}get bandIds(){return this._bandIds}set bandIds(e){this._bandIds=e,this._isBandIdschanged(e)&&(this.projected=!1,this.invalidateTexture())}get interpolation(){return this._interpolation||\"nearest\"}set interpolation(e){this._interpolation=e,this._rasterTexture&&this._rasterTexture.setSamplingMode(\"bilinear\"===this._getTextureSamplingMethod(e||\"nearest\")?d.LINEAR:d.NEAREST)}get transformGrid(){return this._transformGrid}set transformGrid(t){this._transformGrid=t,this._transformGridTexture=e(this._transformGridTexture)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRender())}_createTransforms(){return{dvs:u()}}setTransform(e){const t=s(this.transforms.dvs),[u,n]=e.toScreenNoRotation([0,0],[this.x,this.y]),l=this.resolution/this.pixelRatio/e.resolution,d=l*this.width,p=l*this.height,_=Math.PI*this.rotation/180;r(t,t,h(u,n)),r(t,t,h(d/2,p/2)),i(t,t,-_),r(t,t,h(-d/2,-p/2)),o(t,t,h(d,p)),a(this.transforms.dvs,e.displayViewMat3,t)}getTextures({forProcessing:e=!1,useProcessedTexture:t=!1}={}){const s=t?this._processedTexture??this._rasterTexture:this._rasterTexture,r=[],i=[];return s?t?(i.push(s),r.push(\"u_image\"),this._colormapTexture&&(i.push(this._colormapTexture),r.push(\"u_colormap\")),{names:r,textures:i}):(this._transformGridTexture&&(i.push(this._transformGridTexture),r.push(\"u_transformGrid\")),i.push(s),r.push(\"u_image\"),this._colormapTexture&&!e&&(i.push(this._colormapTexture),r.push(\"u_colormap\")),{names:r,textures:i}):{names:r,textures:i}}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}updateTexture({context:e}){if(!this.stage)return void this._disposeTextures();const t=this._isValidSource(this.source);t&&this._colormapTextureInvalidated&&(this._colormapTextureInvalidated=!1,this._updateColormapTexture(e)),this._textureInvalidated&&(this._textureInvalidated=!1,this._createOrDestroyRasterTexture(e),this._rasterTexture&&(t?this.transformGrid&&!this._transformGridTexture&&(this._transformGridTexture=p(e,this.transformGrid)):this._rasterTexture.setData(null)),this.suspended||(this.ready(),this.requestRender()))}updateProcessedTexture(){const{functionTextures:e}=this;0!==e.length&&(this.processedTexture=e.shift(),e.forEach((e=>e?.dispose())),e.length=0)}_createOrDestroyRasterTexture(e){const s=t(this.source)?n(this.source,this.bandIds):null;if(!this._isValidSource(s))return void(this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null));const r=!this._isBandIdschanged(this.bandIds);if(this._rasterTexture){if(r)return;this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null}this._supportsBilinearTexture=!!e.capabilities.textureFloat?.textureFloatLinear;const i=this._getTextureSamplingMethod(this.interpolation),o=this.isRendereredSource||!e.capabilities.textureFloat?.textureFloat;this._rasterTexture=_(e,s,i,o),this.projected=!1,this._processed=!1,this._rasterTextureBandIds=this.bandIds?[...this.bandIds]:null}_isBandIdschanged(e){const t=this._rasterTextureBandIds;return!(null==t&&null==e||t&&e&&t.join(\"\")===e.join(\"\"))}_isValidSource(e){return t(e)&&e.pixels?.length>0}_getTextureSamplingMethod(e){const{type:s,colormap:r}=this.symbolizerParameters,i=\"lut\"===s||\"stretch\"===s&&t(r);return!this._supportsBilinearTexture||i||\"bilinear\"!==e&&\"cubic\"!==e?\"nearest\":\"bilinear\"}_updateColormapTexture(e){const t=this._colormap,s=this.symbolizerParameters.colormap;return s?t?s.length!==t.length||s.some(((e,s)=>e!==t[s]))?(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),this._colormapTexture=x(e,s),void(this._colormap=s)):void 0:(this._colormapTexture=x(e,s),void(this._colormap=s)):(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),void(this._colormap=null))}_disposeTextures(e=!1){this._transformGridTexture&&(this._transformGridTexture.dispose(),this._transformGridTexture=null),!e&&this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null,this._colormap=null,this._colormapTextureInvalidated=!0),!e&&this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null),this._processedTexture&&(this._processedTexture.dispose(),this._processedTexture=null)}}class T extends m{get source(){return this._source}}function f(e){return t(e.source)}export{m as RasterBitmap,T as RasterBitmapWithSource,f as hasSource};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}