{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../PopupTemplate.js\";\nimport s from \"../../../core/Collection.js\";\nimport { watch as i, initial as t } from \"../../../core/reactiveUtils.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/Error.js\";\nimport \"../../../core/has.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport p from \"../../../renderers/SimpleRenderer.js\";\nimport { fromJSON as a } from \"../../../renderers/support/jsonUtils.js\";\nimport l from \"../../../rest/support/FeatureSet.js\";\nimport { LayerView2DMixin as n } from \"./LayerView2D.js\";\nimport h from \"./graphics/GraphicContainer.js\";\nimport c from \"./graphics/GraphicsView2D.js\";\nimport m from \"../../layers/LayerView.js\";\nlet y = class extends n(m) {\n  constructor() {\n    super(...arguments), this._graphicsViewMap = {}, this._popupTemplates = new Map(), this.graphicsViews = [];\n  }\n\n  hitTest(e, r) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this.graphicsViews.length) return null;\n      const s = _this.layer;\n      return _this.graphicsViews.reverse().map(r => {\n        const i = _this._popupTemplates.get(r),\n              t = r.hitTest(e);\n\n        for (const e of t) e.layer = s, e.sourceLayer = s, e.popupTemplate = i;\n\n        return t;\n      }).flat().map(r => ({\n        type: \"graphic\",\n        graphic: r,\n        layer: s,\n        mapPoint: e\n      }));\n    })();\n  }\n\n  update(e) {\n    if (this.graphicsViews) for (const r of this.graphicsViews) r.processUpdate(e);\n  }\n\n  attach() {\n    this.addAttachHandles([i(() => this.layer?.featureCollections, e => {\n      this._clear();\n\n      for (const {\n        popupInfo: i,\n        featureSet: t,\n        layerDefinition: o\n      } of e) {\n        const e = l.fromJSON(t),\n              p = new s(e.features),\n              n = o.drawingInfo,\n              m = i ? r.fromJSON(i) : null,\n              y = a(n.renderer),\n              g = new c({\n          requestUpdateCallback: () => this.requestUpdate(),\n          view: this.view,\n          graphics: p,\n          renderer: y,\n          container: new h(this.view.featuresTilingScheme)\n        });\n        this._graphicsViewMap[e.geometryType] = g, this._popupTemplates.set(g, m), \"polygon\" !== e.geometryType || this.layer.polygonSymbol ? \"polyline\" !== e.geometryType || this.layer.lineSymbol ? \"point\" !== e.geometryType || this.layer.pointSymbol || (this.layer.pointSymbol = y.symbol) : this.layer.lineSymbol = y.symbol : this.layer.polygonSymbol = y.symbol, this.graphicsViews.push(g), this.container.addChild(g.container);\n      }\n    }, t), i(() => this.layer?.polygonSymbol, e => {\n      this._graphicsViewMap.polygon.renderer = new p({\n        symbol: e\n      });\n    }, t), i(() => this.layer?.lineSymbol, e => {\n      this._graphicsViewMap.polyline.renderer = new p({\n        symbol: e\n      });\n    }, t), i(() => this.layer?.pointSymbol, e => {\n      this._graphicsViewMap.point.renderer = new p({\n        symbol: e\n      });\n    }, t)]);\n  }\n\n  detach() {\n    this._clear();\n  }\n\n  moveStart() {}\n\n  moveEnd() {}\n\n  viewChange() {\n    for (const e of this.graphicsViews) e.viewChange();\n  }\n\n  _clear() {\n    this.container.removeAllChildren();\n\n    for (const e of this.graphicsViews) e.destroy();\n\n    this._graphicsViewMap = {}, this._popupTemplates.clear(), this.graphicsViews.length = 0;\n  }\n\n};\ny = e([o(\"esri.views.2d.layers.GeoRSSLayerView2D\")], y);\nconst g = y;\nexport { g as default };","map":{"version":3,"names":["_","e","r","s","watch","i","initial","t","subclass","o","p","fromJSON","a","l","LayerView2DMixin","n","h","c","m","y","constructor","arguments","_graphicsViewMap","_popupTemplates","Map","graphicsViews","hitTest","length","layer","reverse","map","get","sourceLayer","popupTemplate","flat","type","graphic","mapPoint","update","processUpdate","attach","addAttachHandles","featureCollections","_clear","popupInfo","featureSet","layerDefinition","features","drawingInfo","renderer","g","requestUpdateCallback","requestUpdate","view","graphics","container","featuresTilingScheme","geometryType","set","polygonSymbol","lineSymbol","pointSymbol","symbol","push","addChild","polygon","polyline","point","detach","moveStart","moveEnd","viewChange","removeAllChildren","destroy","clear","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/layers/GeoRSSLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../PopupTemplate.js\";import s from\"../../../core/Collection.js\";import{watch as i,initial as t}from\"../../../core/reactiveUtils.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/Error.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../renderers/SimpleRenderer.js\";import{fromJSON as a}from\"../../../renderers/support/jsonUtils.js\";import l from\"../../../rest/support/FeatureSet.js\";import{LayerView2DMixin as n}from\"./LayerView2D.js\";import h from\"./graphics/GraphicContainer.js\";import c from\"./graphics/GraphicsView2D.js\";import m from\"../../layers/LayerView.js\";let y=class extends(n(m)){constructor(){super(...arguments),this._graphicsViewMap={},this._popupTemplates=new Map,this.graphicsViews=[]}async hitTest(e,r){if(!this.graphicsViews.length)return null;const s=this.layer;return this.graphicsViews.reverse().map((r=>{const i=this._popupTemplates.get(r),t=r.hitTest(e);for(const e of t)e.layer=s,e.sourceLayer=s,e.popupTemplate=i;return t})).flat().map((r=>({type:\"graphic\",graphic:r,layer:s,mapPoint:e})))}update(e){if(this.graphicsViews)for(const r of this.graphicsViews)r.processUpdate(e)}attach(){this.addAttachHandles([i((()=>this.layer?.featureCollections),(e=>{this._clear();for(const{popupInfo:i,featureSet:t,layerDefinition:o}of e){const e=l.fromJSON(t),p=new s(e.features),n=o.drawingInfo,m=i?r.fromJSON(i):null,y=a(n.renderer),g=new c({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:p,renderer:y,container:new h(this.view.featuresTilingScheme)});this._graphicsViewMap[e.geometryType]=g,this._popupTemplates.set(g,m),\"polygon\"!==e.geometryType||this.layer.polygonSymbol?\"polyline\"!==e.geometryType||this.layer.lineSymbol?\"point\"!==e.geometryType||this.layer.pointSymbol||(this.layer.pointSymbol=y.symbol):this.layer.lineSymbol=y.symbol:this.layer.polygonSymbol=y.symbol,this.graphicsViews.push(g),this.container.addChild(g.container)}}),t),i((()=>this.layer?.polygonSymbol),(e=>{this._graphicsViewMap.polygon.renderer=new p({symbol:e})}),t),i((()=>this.layer?.lineSymbol),(e=>{this._graphicsViewMap.polyline.renderer=new p({symbol:e})}),t),i((()=>this.layer?.pointSymbol),(e=>{this._graphicsViewMap.point.renderer=new p({symbol:e})}),t)])}detach(){this._clear()}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews)e.viewChange()}_clear(){this.container.removeAllChildren();for(const e of this.graphicsViews)e.destroy();this._graphicsViewMap={},this._popupTemplates.clear(),this.graphicsViews.length=0}};y=e([o(\"esri.views.2d.layers.GeoRSSLayerView2D\")],y);const g=y;export{g as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}