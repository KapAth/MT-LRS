{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { e as n } from \"../../chunks/earcut.js\";\nimport { isClockwise as t } from \"./coordsUtils.js\";\nimport { deduplicate as e } from \"./meshUtils/deduplicate.js\";\nimport { doubleSubArray as o, newDoubleArray as r } from \"../../views/3d/webgl-engine/lib/DoubleArray.js\";\n\nfunction i(t) {\n  const r = l(t.rings, t.hasZ, f.CCW_IS_HOLE),\n        i = new Array();\n  let c = 0,\n      h = 0;\n\n  for (const e of r.polygons) {\n    const t = e.count,\n          s = e.index,\n          l = o(r.position, 3 * s, 3 * t),\n          f = e.holeIndices.map(n => n - s),\n          g = new Uint32Array(n(l, f, 3));\n    i.push({\n      position: l,\n      faces: g\n    }), c += l.length, h += g.length;\n  }\n\n  const g = s(i, c, h),\n        a = Array.isArray(g.position) ? e(g.position, 3, {\n    originalIndices: g.faces\n  }) : e(g.position.buffer, 6, {\n    originalIndices: g.faces\n  });\n  return g.position = new Float64Array(a.buffer), g.faces = a.indices, g;\n}\n\nfunction s(n, t, e) {\n  if (1 === n.length) return n[0];\n  const o = r(t),\n        i = new Uint32Array(e);\n  let s = 0,\n      l = 0,\n      c = 0;\n\n  for (const r of n) {\n    for (let n = 0; n < r.position.length; n++) o[s++] = r.position[n];\n\n    for (let n = 0; n < r.faces.length; n++) i[l++] = r.faces[n] + c;\n\n    c = s / 3;\n  }\n\n  return {\n    position: o,\n    faces: i\n  };\n}\n\nfunction l(n, t, e) {\n  const o = n.length,\n        i = new Array(o),\n        s = new Array(o),\n        l = new Array(o);\n  let g = 0,\n      a = 0,\n      u = 0,\n      p = 0;\n\n  for (let r = 0; r < o; ++r) p += n[r].length;\n\n  const d = r(3 * p);\n  let y = 0;\n\n  for (let r = o - 1; r >= 0; r--) {\n    const p = n[r],\n          A = e === f.CCW_IS_HOLE && h(p);\n    if (A && 1 !== o) i[g++] = p;else {\n      let n = p.length;\n\n      for (let t = 0; t < g; ++t) n += i[t].length;\n\n      const e = {\n        index: y,\n        pathLengths: new Array(g + 1),\n        count: n,\n        holeIndices: new Array(g)\n      };\n      e.pathLengths[0] = p.length, p.length > 0 && (l[u++] = {\n        index: y,\n        count: p.length\n      }), y = A ? c(p, p.length - 1, -1, d, y, p.length, t) : c(p, 0, 1, d, y, p.length, t);\n\n      for (let o = 0; o < g; ++o) {\n        const n = i[o];\n        e.holeIndices[o] = y, e.pathLengths[o + 1] = n.length, n.length > 0 && (l[u++] = {\n          index: y,\n          count: n.length\n        }), y = c(n, 0, 1, d, y, n.length, t);\n      }\n\n      g = 0, e.count > 0 && (s[a++] = e);\n    }\n  }\n\n  for (let r = 0; r < g; ++r) {\n    const n = i[r];\n    n.length > 0 && (l[u++] = {\n      index: y,\n      count: n.length\n    }), y = c(n, 0, 1, d, y, n.length, t);\n  }\n\n  return s.length = a, l.length = u, {\n    position: d,\n    polygons: s,\n    outlines: l\n  };\n}\n\nfunction c(n, t, e, o, r, i, s) {\n  r *= 3;\n\n  for (let l = 0; l < i; ++l) {\n    const i = n[t];\n    o[r++] = i[0], o[r++] = i[1], o[r++] = s ? i[2] : 0, t += e;\n  }\n\n  return r / 3;\n}\n\nfunction h(n) {\n  return !t(n, !1, !1);\n}\n\nvar f;\n!function (n) {\n  n[n.NONE = 0] = \"NONE\", n[n.CCW_IS_HOLE = 1] = \"CCW_IS_HOLE\";\n}(f || (f = {}));\nexport { f as CounterClockwiseMode, l as pathsToTriangulationInfo, i as triangulate };","map":{"version":3,"names":["e","n","isClockwise","t","deduplicate","doubleSubArray","o","newDoubleArray","r","i","l","rings","hasZ","f","CCW_IS_HOLE","Array","c","h","polygons","count","s","index","position","holeIndices","map","g","Uint32Array","push","faces","length","a","isArray","originalIndices","buffer","Float64Array","indices","u","p","d","y","A","pathLengths","outlines","NONE","CounterClockwiseMode","pathsToTriangulationInfo","triangulate"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/geometry/support/triangulationUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{e as n}from\"../../chunks/earcut.js\";import{isClockwise as t}from\"./coordsUtils.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";import{doubleSubArray as o,newDoubleArray as r}from\"../../views/3d/webgl-engine/lib/DoubleArray.js\";function i(t){const r=l(t.rings,t.hasZ,f.CCW_IS_HOLE),i=new Array;let c=0,h=0;for(const e of r.polygons){const t=e.count,s=e.index,l=o(r.position,3*s,3*t),f=e.holeIndices.map((n=>n-s)),g=new Uint32Array(n(l,f,3));i.push({position:l,faces:g}),c+=l.length,h+=g.length}const g=s(i,c,h),a=Array.isArray(g.position)?e(g.position,3,{originalIndices:g.faces}):e(g.position.buffer,6,{originalIndices:g.faces});return g.position=new Float64Array(a.buffer),g.faces=a.indices,g}function s(n,t,e){if(1===n.length)return n[0];const o=r(t),i=new Uint32Array(e);let s=0,l=0,c=0;for(const r of n){for(let n=0;n<r.position.length;n++)o[s++]=r.position[n];for(let n=0;n<r.faces.length;n++)i[l++]=r.faces[n]+c;c=s/3}return{position:o,faces:i}}function l(n,t,e){const o=n.length,i=new Array(o),s=new Array(o),l=new Array(o);let g=0,a=0,u=0,p=0;for(let r=0;r<o;++r)p+=n[r].length;const d=r(3*p);let y=0;for(let r=o-1;r>=0;r--){const p=n[r],A=e===f.CCW_IS_HOLE&&h(p);if(A&&1!==o)i[g++]=p;else{let n=p.length;for(let t=0;t<g;++t)n+=i[t].length;const e={index:y,pathLengths:new Array(g+1),count:n,holeIndices:new Array(g)};e.pathLengths[0]=p.length,p.length>0&&(l[u++]={index:y,count:p.length}),y=A?c(p,p.length-1,-1,d,y,p.length,t):c(p,0,1,d,y,p.length,t);for(let o=0;o<g;++o){const n=i[o];e.holeIndices[o]=y,e.pathLengths[o+1]=n.length,n.length>0&&(l[u++]={index:y,count:n.length}),y=c(n,0,1,d,y,n.length,t)}g=0,e.count>0&&(s[a++]=e)}}for(let r=0;r<g;++r){const n=i[r];n.length>0&&(l[u++]={index:y,count:n.length}),y=c(n,0,1,d,y,n.length,t)}return s.length=a,l.length=u,{position:d,polygons:s,outlines:l}}function c(n,t,e,o,r,i,s){r*=3;for(let l=0;l<i;++l){const i=n[t];o[r++]=i[0],o[r++]=i[1],o[r++]=s?i[2]:0,t+=e}return r/3}function h(n){return!t(n,!1,!1)}var f;!function(n){n[n.NONE=0]=\"NONE\",n[n.CCW_IS_HOLE=1]=\"CCW_IS_HOLE\"}(f||(f={}));export{f as CounterClockwiseMode,l as pathsToTriangulationInfo,i as triangulate};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}