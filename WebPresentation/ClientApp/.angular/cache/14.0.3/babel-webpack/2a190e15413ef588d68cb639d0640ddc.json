{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../Graphic.js\";\nimport e from \"../../../core/Collection.js\";\nimport { destroyMaybe as s, isSome as h } from \"../../../core/maybe.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { LayerView2DMixin as o } from \"./LayerView2D.js\";\nimport p from \"./graphics/GraphicContainer.js\";\nimport g from \"./graphics/GraphicsView2D.js\";\nimport c from \"../../layers/LayerView.js\";\nconst l = {\n  remove() {},\n\n  pause() {},\n\n  resume() {}\n\n};\nlet n = class extends o(c) {\n  constructor() {\n    super(...arguments), this._highlightIds = new Map();\n  }\n\n  attach() {\n    this.graphicsView = new g({\n      requestUpdateCallback: () => this.requestUpdate(),\n      view: this.view,\n      graphics: this.layer.graphics,\n      container: new p(this.view.featuresTilingScheme)\n    }), this._updateHighlight(), this.container.addChild(this.graphicsView.container), this.addAttachHandles(this.layer.on(\"graphic-update\", this.graphicsView.graphicUpdateHandler));\n  }\n\n  detach() {\n    this.container.removeAllChildren(), this.graphicsView = s(this.graphicsView);\n  }\n\n  hitTest(i) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      return _this.graphicsView ? _this.graphicsView.hitTest(i).map(t => ({\n        type: \"graphic\",\n        graphic: t,\n        mapPoint: i,\n        layer: _this.layer\n      })) : null;\n    })();\n  }\n\n  fetchPopupFeatures(i) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this2.graphicsView ? _this2.graphicsView.hitTest(i).filter(i => !!i.popupTemplate) : [];\n    })();\n  }\n\n  queryGraphics() {\n    return Promise.resolve(this.graphicsView.graphics);\n  }\n\n  update(i) {\n    this.graphicsView.processUpdate(i);\n  }\n\n  moveStart() {}\n\n  viewChange() {\n    this.graphicsView.viewChange();\n  }\n\n  moveEnd() {}\n\n  isUpdating() {\n    return !this.graphicsView || this.graphicsView.updating;\n  }\n\n  highlight(i) {\n    let s;\n    \"number\" == typeof i ? s = [i] : i instanceof t ? s = [i.uid] : Array.isArray(i) && i.length > 0 ? s = \"number\" == typeof i[0] ? i : i.map(i => i && i.uid) : e.isCollection(i) && i.length > 0 && (s = i.map(i => i && i.uid).toArray());\n    const r = s?.filter(h);\n    return r?.length ? (this._addHighlight(r), {\n      remove: () => this._removeHighlight(r)\n    }) : l;\n  }\n\n  _addHighlight(i) {\n    for (const t of i) if (this._highlightIds.has(t)) {\n      const i = this._highlightIds.get(t);\n\n      this._highlightIds.set(t, i + 1);\n    } else this._highlightIds.set(t, 1);\n\n    this._updateHighlight();\n  }\n\n  _removeHighlight(i) {\n    for (const t of i) if (this._highlightIds.has(t)) {\n      const i = this._highlightIds.get(t) - 1;\n      0 === i ? this._highlightIds.delete(t) : this._highlightIds.set(t, i);\n    }\n\n    this._updateHighlight();\n  }\n\n  _updateHighlight() {\n    this.graphicsView?.setHighlight(Array.from(this._highlightIds.keys()));\n  }\n\n};\ni([r()], n.prototype, \"graphicsView\", void 0), n = i([a(\"esri.views.2d.layers.GraphicsLayerView2D\")], n);\nconst d = n;\nexport { d as default };","map":{"version":3,"names":["_","i","t","e","destroyMaybe","s","isSome","h","property","r","subclass","a","LayerView2DMixin","o","p","g","c","l","remove","pause","resume","n","constructor","arguments","_highlightIds","Map","attach","graphicsView","requestUpdateCallback","requestUpdate","view","graphics","layer","container","featuresTilingScheme","_updateHighlight","addChild","addAttachHandles","on","graphicUpdateHandler","detach","removeAllChildren","hitTest","map","type","graphic","mapPoint","fetchPopupFeatures","filter","popupTemplate","queryGraphics","Promise","resolve","update","processUpdate","moveStart","viewChange","moveEnd","isUpdating","updating","highlight","uid","Array","isArray","length","isCollection","toArray","_addHighlight","_removeHighlight","has","get","set","delete","setHighlight","from","keys","prototype","d","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/layers/GraphicsLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import e from\"../../../core/Collection.js\";import{destroyMaybe as s,isSome as h}from\"../../../core/maybe.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView2DMixin as o}from\"./LayerView2D.js\";import p from\"./graphics/GraphicContainer.js\";import g from\"./graphics/GraphicsView2D.js\";import c from\"../../layers/LayerView.js\";const l={remove(){},pause(){},resume(){}};let n=class extends(o(c)){constructor(){super(...arguments),this._highlightIds=new Map}attach(){this.graphicsView=new g({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this.layer.graphics,container:new p(this.view.featuresTilingScheme)}),this._updateHighlight(),this.container.addChild(this.graphicsView.container),this.addAttachHandles(this.layer.on(\"graphic-update\",this.graphicsView.graphicUpdateHandler))}detach(){this.container.removeAllChildren(),this.graphicsView=s(this.graphicsView)}async hitTest(i){return this.graphicsView?this.graphicsView.hitTest(i).map((t=>({type:\"graphic\",graphic:t,mapPoint:i,layer:this.layer}))):null}async fetchPopupFeatures(i){return this.graphicsView?this.graphicsView.hitTest(i).filter((i=>!!i.popupTemplate)):[]}queryGraphics(){return Promise.resolve(this.graphicsView.graphics)}update(i){this.graphicsView.processUpdate(i)}moveStart(){}viewChange(){this.graphicsView.viewChange()}moveEnd(){}isUpdating(){return!this.graphicsView||this.graphicsView.updating}highlight(i){let s;\"number\"==typeof i?s=[i]:i instanceof t?s=[i.uid]:Array.isArray(i)&&i.length>0?s=\"number\"==typeof i[0]?i:i.map((i=>i&&i.uid)):e.isCollection(i)&&i.length>0&&(s=i.map((i=>i&&i.uid)).toArray());const r=s?.filter(h);return r?.length?(this._addHighlight(r),{remove:()=>this._removeHighlight(r)}):l}_addHighlight(i){for(const t of i)if(this._highlightIds.has(t)){const i=this._highlightIds.get(t);this._highlightIds.set(t,i+1)}else this._highlightIds.set(t,1);this._updateHighlight()}_removeHighlight(i){for(const t of i)if(this._highlightIds.has(t)){const i=this._highlightIds.get(t)-1;0===i?this._highlightIds.delete(t):this._highlightIds.set(t,i)}this._updateHighlight()}_updateHighlight(){this.graphicsView?.setHighlight(Array.from(this._highlightIds.keys()))}};i([r()],n.prototype,\"graphicsView\",void 0),n=i([a(\"esri.views.2d.layers.GraphicsLayerView2D\")],n);const d=n;export{d as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}