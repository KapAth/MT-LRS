{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport o from \"../../core/Error.js\";\nimport s from \"../../core/Logger.js\";\nimport { property as t } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as r } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"./MediaElementBase.js\";\nlet n = class extends i {\n  constructor(e) {\n    super(e), this.content = null, this.type = \"video\";\n  }\n\n  load() {\n    const e = this.video;\n\n    if (\"string\" == typeof e) {\n      const o = document.createElement(\"video\");\n      o.src = e, o.crossOrigin = \"anonymous\", o.autoplay = !0, o.muted = !0, o.loop = !0, this.addResolvingPromise(this._loadVideo(o).then(() => {\n        this._set(\"content\", o);\n      }));\n    } else e instanceof HTMLVideoElement ? this.addResolvingPromise(this._loadVideo(e).then(() => {\n      this._set(\"content\", e);\n    })) : this.addResolvingPromise(Promise.reject(new o(\"video-element:invalid-video-type\", \"Invalid video type\", {\n      video: e\n    })));\n\n    return Promise.resolve(this);\n  }\n\n  set video(e) {\n    \"not-loaded\" === this.loadStatus ? this._set(\"video\", e) : s.getLogger(this.declaredClass).error(\"#video\", \"video cannot be changed after the element is loaded.\");\n  }\n\n  _loadVideo(e) {\n    return new Promise((o, s) => {\n      e.oncanplay = () => {\n        e.oncanplay = null, e.play().then(o, s);\n      }, \"anonymous\" !== e.crossOrigin && (e.crossOrigin = \"anonymous\", e.src = e.src);\n    });\n  }\n\n};\ne([t({\n  readOnly: !0\n})], n.prototype, \"content\", void 0), e([t()], n.prototype, \"video\", null), n = e([r(\"esri.layers.support.VideoElement\")], n);\nconst a = n;\nexport { a as default };","map":{"version":3,"names":["_","e","o","s","property","t","subclass","r","i","n","constructor","content","type","load","video","document","createElement","src","crossOrigin","autoplay","muted","loop","addResolvingPromise","_loadVideo","then","_set","HTMLVideoElement","Promise","reject","resolve","loadStatus","getLogger","declaredClass","error","oncanplay","play","readOnly","prototype","a","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/VideoElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import o from\"../../core/Error.js\";import s from\"../../core/Logger.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./MediaElementBase.js\";let n=class extends i{constructor(e){super(e),this.content=null,this.type=\"video\"}load(){const e=this.video;if(\"string\"==typeof e){const o=document.createElement(\"video\");o.src=e,o.crossOrigin=\"anonymous\",o.autoplay=!0,o.muted=!0,o.loop=!0,this.addResolvingPromise(this._loadVideo(o).then((()=>{this._set(\"content\",o)})))}else e instanceof HTMLVideoElement?this.addResolvingPromise(this._loadVideo(e).then((()=>{this._set(\"content\",e)}))):this.addResolvingPromise(Promise.reject(new o(\"video-element:invalid-video-type\",\"Invalid video type\",{video:e})));return Promise.resolve(this)}set video(e){\"not-loaded\"===this.loadStatus?this._set(\"video\",e):s.getLogger(this.declaredClass).error(\"#video\",\"video cannot be changed after the element is loaded.\")}_loadVideo(e){return new Promise(((o,s)=>{e.oncanplay=()=>{e.oncanplay=null,e.play().then(o,s)},\"anonymous\"!==e.crossOrigin&&(e.crossOrigin=\"anonymous\",e.src=e.src)}))}};e([t({readOnly:!0})],n.prototype,\"content\",void 0),e([t()],n.prototype,\"video\",null),n=e([r(\"esri.layers.support.VideoElement\")],n);const a=n;export{a as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}