{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../../core/Error.js\";\nimport t from \"../../../../../../core/Logger.js\";\nimport { clamp as i } from \"../../../../../../core/mathUtils.js\";\nimport { unwrap as o, isNone as r } from \"../../../../../../core/maybe.js\";\nimport { pt2px as n } from \"../../../../../../core/screenUtils.js\";\nimport { b as s } from \"../../../../../../chunks/mat2d.js\";\nimport { c as a } from \"../../../../../../chunks/mat2df32.js\";\nimport { Alignment as l } from \"../../../../../../symbols/cim/enums.js\";\nimport { isMapAligned as h, getAlignmentFromPlacement as c, getXDirection as m, getYDirection as _ } from \"../../alignmentUtils.js\";\nimport { premultiplyAlphaRGBAArray as g } from \"../../color.js\";\nimport { TEXT_PLACEMENT_PADDING as d } from \"../../definitions.js\";\nimport { WGLGeometryType as f } from \"../../enums.js\";\nimport { i8888to32 as u } from \"../../number.js\";\nimport { LabelMaterialKey as p } from \"../../materialKey/MaterialKey.js\";\nimport { smoothPaths as b, pathDivide as y } from \"./segmentUtils.js\";\nimport x from \"./WGLTextTemplate.js\";\n\nconst L = t.getLogger(\"esri.views.2d.engine.webgl.WGLLabelTemplate\"),\n      S = (t, i = \"mapview-labeling\") => L.error(new e(i, t)),\n      v = 1,\n      P = 0,\n      w = 4,\n      M = 25;\n\nfunction Z(e, t) {\n  const o = !!e.minScale && t.scaleToZoom(e.minScale) || 0;\n  return i(o, 0, 25.5);\n}\n\nfunction k(e, t) {\n  const o = !!e.maxScale && t.scaleToZoom(e.maxScale) || 255;\n  return i(o, 0, 25.5);\n}\n\nfunction A(e) {\n  const t = new Map();\n  return i => (t.has(i) || t.set(i, e(i)), t.get(i));\n}\n\nconst B = A(e => {\n  let t = 0;\n  if (0 === e) return 1 / 0;\n\n  for (; !(e % 2);) t++, e /= 2;\n\n  return t;\n}),\n      z = e => Math.floor(127 * e + 127),\n      C = e => Math.floor(10 * e),\n      W = e => Math.round(e * (254 / 360));\n\nclass G extends x {\n  constructor(e, t, i, o) {\n    super(e, i.font?.size, i.haloSize || 0, i.font?.size, i.color && g(i.color) || 0, i.haloColor && g(i.haloColor) || 0, i.horizontalAlignment, i.verticalAlignment, h(t.labelPlacement) ? l.MAP : l.SCREEN, i.font?.decoration, !1, i.angle || 0, i.xoffset, i.yoffset, i.lineWidth, i.lineHeight, null, null, !1, null, null, i.backgroundColor && g(i.backgroundColor), i.borderLineColor && g(i.borderLineColor), i.borderLineSize), this._outLineLabelAngle = 0, this._refPlacementPadding = 0, this._refPlacementDirX = 0, this._refPlacementDirY = 0, this._refOffsetX = 0, this._refOffsetY = 0, this._zoomLevel = 0, this.geometryType = f.LABEL, this._allowOverrun = t.allowOverrun ?? !1, this._repeatLabel = t.repeatLabel ?? !0, this._labelPosition = t.labelPosition ?? \"curved\";\n    const r = Z(t, o),\n          s = k(t, o),\n          a = t.labelPlacement,\n          [m, _] = c(a);\n    this._xAlignD = m, this._yAlignD = _, this._minZoom = r, this._maxZoom = s, this._minBackgroundZoom = r, this._maxBackgroundZoom = s, this._refPlacementPadding = n(i.haloSize) + d, this._repeatLabelDistance = t.repeatLabelDistance ? n(t.repeatLabelDistance) : 128;\n    const u = p.load(e);\n    u.sdf = !0, this._materialKey = u.data;\n  }\n\n  static fromLabelClass(e, t) {\n    if (\"esriServerLinePlacementCenterAlong\" === e.labelPlacement) {\n      const t = e.symbol;\n      t.xoffset = 0, t.yoffset = 0, t.angle = 0, t.font.decoration = \"none\";\n    }\n\n    return new G(e.materialKey, e, e.symbol, t);\n  }\n\n  get _shapedBox() {\n    return o(this._shapingInfo).bounds;\n  }\n\n  setZoomLevel(e) {\n    this._zoomLevel = e;\n  }\n\n  bindReferenceTemplate(e) {\n    let t = m(this._xAlignD),\n        i = _(this._yAlignD);\n\n    if (this._refOffsetX = 0, this._refOffsetY = 0, r(e)) return void (this._refSymbolAndPlacementOffset = u(0, 0, z(t), z(i)));\n\n    if (\"circle\" === e.boundsType && (t || i)) {\n      const e = Math.sqrt(t * t + i * i);\n      t /= e, i /= e;\n    }\n\n    const o = Math.max(e.height, e.width),\n          n = this._refPlacementPadding * w;\n    this._refSymbolAndPlacementOffset = u(n, o, z(t), z(i)), this._referenceSize = o, this._refPlacementDirX = t, this._refPlacementDirY = i, this._refOffsetX = e.xOffset, this._refOffsetY = e.yOffset;\n  }\n\n  _write(e, t) {\n    if (r(this._shapingInfo)) return;\n    const i = this._shapingInfo,\n          o = t.getDisplayId(),\n          n = \"esriGeometryPolygon\" === t.geometryType ? t.readLegacyCentroid() : t.readLegacyGeometry();\n    if (n) switch (this._current = {\n      out: e,\n      inId: o,\n      inShaping: i,\n      zoomLevel: this._zoomLevel\n    }, \"esriGeometryPolyline\" === t.geometryType && \"curved\" === this._labelPosition && (this._borderLineColor || this._backgroundColor) && L.warnOnce(\"TextSymbol properties 'borderLineColor', 'borderLineSize', and 'backgroundColor' are not supported in curved labels\"), t.geometryType) {\n      case \"esriGeometryPolyline\":\n        this._placeLineLabels(n);\n\n        break;\n\n      case \"esriGeometryPoint\":\n      case \"esriGeometryPolygon\":\n        this._placePointLabels(n);\n\n        break;\n\n      default:\n        S(`Geometry of type ${t.geometryType} is not supported`);\n    }\n  }\n\n  _isVisible(e, t) {\n    const i = C(this._current.zoomLevel);\n    return C(e) <= i && i <= C(t);\n  }\n\n  _placePointLabels(e) {\n    const {\n      out: t,\n      inId: i,\n      inShaping: o\n    } = this._current;\n\n    this._writeGlyphs(t, i, e, o);\n  }\n\n  _placeLineLabels(e) {\n    const t = b(e.paths, this._current.inShaping.bounds.width),\n          i = this._placeSubdivGlyphs.bind(this),\n          o = (this._shapedBox.width + this._repeatLabelDistance) / (1 << v);\n\n    for (const r of t) y(r, o, i, this._repeatLabel);\n  }\n\n  _placeSubdivGlyphs(e, t, i, o) {\n    const r = B(t),\n          n = this._shapedBox.width / (1 << v),\n          s = Math.sqrt(this._repeatLabelDistance) / (1 << v),\n          a = Math.min(i, o - i),\n          l = this._current.inShaping.isMultiline ? M : Math.log2(a / (s + n / 2)),\n          h = 0 === t ? l : Math.min(r, l),\n          c = Math.max(this._minZoom, this._current.zoomLevel + v - h),\n          m = this._current.zoomLevel - c,\n          _ = this._shapedBox.width / 2 * 2 ** m;\n\n    this._current.inShaping.isMultiline ? 0 === t && this._placeStraight(e, c) : this._allowOverrun && m < 0 ? this._placeStraightAlong(e, this._minZoom) : \"parallel\" === this._labelPosition ? this._placeStraightAlong(e, c) : \"curved\" === this._labelPosition && this._placeCurved(e, c, _);\n  }\n\n  _placeStraight(e, t) {\n    const {\n      out: i,\n      inId: o,\n      inShaping: r\n    } = this._current,\n          n = Math.ceil(e.angle * (180 / Math.PI) % 360),\n          s = Math.ceil((e.angle * (180 / Math.PI) + 180) % 360);\n    this._outLineLabelAngle = W(n), this._writeGlyphs(i, o, e, r, t), this._outLineLabelAngle = W(s), this._writeGlyphs(i, o, e, r, t);\n  }\n\n  _placeCurved(e, t, i) {\n    const {\n      out: o,\n      inId: r\n    } = this._current;\n    o.metricStart(r, t, e.x, e.y, 0, 0, 0, 0);\n    const n = e.clone(),\n          s = e.angle * (180 / Math.PI) % 360,\n          a = (e.angle * (180 / Math.PI) + 180) % 360;\n    this._outLineLabelAngle = W(s), this._placeFirst(n, t, 1), this._placeBack(e, n, t, i, 1), this._placeForward(e, n, t, i, 1), this._outLineLabelAngle = W(a), this._placeFirst(n, t, 0), this._placeBack(e, n, t, i, 0), this._placeForward(e, n, t, i, 0), o.metricEnd();\n  }\n\n  _placeStraightAlong(e, t) {\n    const {\n      out: i,\n      inId: o,\n      inShaping: r\n    } = this._current;\n    i.metricStart(o, t, e.x, e.y, 0, 0, 0, 0);\n    const n = e.clone(),\n          l = e.angle * (180 / Math.PI) % 360,\n          h = (e.angle * (180 / Math.PI) + 180) % 360,\n          c = r.glyphs.length > 0 && (this._borderLineColor || this._backgroundColor);\n\n    if (this._maxBackgroundZoom = M, this._minBackgroundZoom = Math.max(t, 0), c) {\n      const t = p.load(this._materialKey);\n      t.textureBinding = r.glyphs[0].textureBinding;\n      const n = s(a(), -e.angle),\n            [c, m] = r.shapeBackground(n);\n      this._outLineLabelAngle = W(l), i.recordStart(o, t.data, this.geometryType, !0), this._writeBackgroundGeometry(i, o, e, c, m), i.recordEnd(), this._outLineLabelAngle = W(h), i.recordStart(o, t.data, this.geometryType, !0), this._writeBackgroundGeometry(i, o, e, c, m), i.recordEnd();\n    }\n\n    this._outLineLabelAngle = W(l), this._placeFirst(n, t, 1, !0), this._outLineLabelAngle = W(h), this._placeFirst(n, t, 0, !0), i.metricEnd();\n  }\n\n  _placeBack(e, t, i, o, r) {\n    const n = e.clone();\n    let s = e.backwardLength + P;\n\n    for (; n.prev() && !(s >= o);) this._placeOnSegment(n, t, s, i, -1, r), s += n.length + P;\n  }\n\n  _placeForward(e, t, i, o, r) {\n    const n = e.clone();\n    let s = e.remainingLength + P;\n\n    for (; n.next() && !(s >= o);) this._placeOnSegment(n, t, s, i, 1, r), s += n.length + P;\n  }\n\n  _placeFirst(e, t, i, o = !1) {\n    const r = e,\n          n = this._current.inShaping,\n          s = n.glyphs,\n          a = this._current.zoomLevel,\n          {\n      out: l,\n      inId: h\n    } = this._current;\n\n    for (const c of s) {\n      const s = c.x > n.bounds.x ? i : 1 - i,\n            m = s * e.remainingLength + (1 - s) * e.backwardLength,\n            _ = Math.abs(c.x + c.width / 2 - n.bounds.x),\n            g = Math.max(0, a + Math.log2(_ / (m + P))),\n            d = Math.max(t, o ? 0 : g);\n\n      if (c.maxZoom = M, c.angle = e.angle + (1 - i) * Math.PI, c.minZoom = d, this._writeGlyph(l, h, r.x, r.y, c), i && this._isVisible(c.minZoom, c.maxZoom)) {\n        const e = c.bounds;\n        l.metricBoxWrite(e.center[0], e.center[1], e.width, e.height);\n      }\n    }\n  }\n\n  _placeOnSegment(e, t, i, o, r, n) {\n    const s = this._current.inShaping.glyphs,\n          {\n      out: a,\n      inId: l\n    } = this._current,\n          h = this._current.inShaping,\n          c = this._current.zoomLevel,\n          m = e.dx / e.length,\n          _ = e.dy / e.length,\n          g = {\n      x: e.x + i * -r * m,\n      y: e.y + i * -r * _\n    };\n\n    for (const d of s) {\n      const s = d.x > h.bounds.x ? n : 1 - n;\n      if (!(s && 1 === r || !s && -1 === r)) continue;\n\n      const m = Math.abs(d.x + d.width / 2 - h.bounds.x),\n            _ = Math.max(0, c + Math.log2(m / i) - .1),\n            f = Math.max(o, c + Math.log2(m / (i + e.length + P)));\n\n      if (0 !== _ && (d.angle = e.angle + (1 - n) * Math.PI, d.minZoom = f, d.maxZoom = _, this._writeGlyph(a, l, g.x, g.y, d), n && this._isVisible(d.minZoom, d.maxZoom))) {\n        const i = d.bounds,\n              o = e.x - t.x,\n              r = e.y - t.y;\n        a.metricBoxWrite(i.center[0] + o, i.center[1] + r, i.width, i.height);\n      }\n    }\n  }\n\n  _writeGlyphs(e, t, i, o, r = this._minZoom) {\n    if (i.x < 0 || i.x >= 512 || i.y < 0 || i.y >= 512) return;\n\n    if (o.glyphs.length > 0 && (this._borderLineColor || this._backgroundColor)) {\n      const r = p.load(this._materialKey);\n      r.textureBinding = o.glyphs[0].textureBinding, e.recordStart(t, r.data, this.geometryType, !0), this._writeBackgroundGeometry(e, t, i, o.bounds, o.background), e.recordEnd();\n    }\n\n    const n = i.x + this._refOffsetX,\n          s = i.y - this._refOffsetY;\n\n    for (const c of o.glyphs) c.minZoom = r, c.maxZoom = this._maxZoom, this._writeGlyph(e, t, n, s, c);\n\n    const a = this._refPlacementDirX,\n          l = this._refPlacementDirY,\n          h = o.boundsT;\n    e.metricStart(t, r, n, s, a, l, this._referenceSize, this._materialKey), e.metricBoxWrite(h.center[0], h.center[1], h.width, h.height), e.metricEnd();\n  }\n\n  _writeVertexCommon(e, t, i, o) {\n    const r = this._color,\n          n = this._haloColor,\n          s = u(0, 0, this._size, this._haloSize),\n          a = Math.max(o.minZoom, this._minZoom),\n          l = Math.min(o.maxZoom, this._maxZoom),\n          h = u(C(a), C(l), this._outLineLabelAngle, 0);\n    e.vertexWrite(i), e.vertexWrite(t), e.vertexWrite(r), e.vertexWrite(n), e.vertexWrite(s), e.vertexWrite(this._refSymbolAndPlacementOffset), e.vertexWrite(h);\n  }\n\n  _writeBackgroundVertex(e, t, i, o, r, n) {\n    const s = u(0, 0, this._size, this._haloSize),\n          a = u(0, 0, 0, 0),\n          l = u(C(this._minBackgroundZoom), C(this._maxBackgroundZoom), this._outLineLabelAngle, 1);\n    e.vertexWrite(i), e.vertexWrite(t), e.vertexWrite(o), e.vertexWrite(a), e.vertexWrite(s), e.vertexWrite(this._refSymbolAndPlacementOffset), e.vertexWrite(l), e.vertexWrite(r), e.vertexWrite(n), e.vertexEnd();\n  }\n\n}\n\nexport { G as default };","map":{"version":3,"names":["e","t","clamp","i","unwrap","o","isNone","r","pt2px","n","b","s","c","a","Alignment","l","isMapAligned","h","getAlignmentFromPlacement","getXDirection","m","getYDirection","_","premultiplyAlphaRGBAArray","g","TEXT_PLACEMENT_PADDING","d","WGLGeometryType","f","i8888to32","u","LabelMaterialKey","p","smoothPaths","pathDivide","y","x","L","getLogger","S","error","v","P","w","M","Z","minScale","scaleToZoom","k","maxScale","A","Map","has","set","get","B","z","Math","floor","C","W","round","G","constructor","font","size","haloSize","color","haloColor","horizontalAlignment","verticalAlignment","labelPlacement","MAP","SCREEN","decoration","angle","xoffset","yoffset","lineWidth","lineHeight","backgroundColor","borderLineColor","borderLineSize","_outLineLabelAngle","_refPlacementPadding","_refPlacementDirX","_refPlacementDirY","_refOffsetX","_refOffsetY","_zoomLevel","geometryType","LABEL","_allowOverrun","allowOverrun","_repeatLabel","repeatLabel","_labelPosition","labelPosition","_xAlignD","_yAlignD","_minZoom","_maxZoom","_minBackgroundZoom","_maxBackgroundZoom","_repeatLabelDistance","repeatLabelDistance","load","sdf","_materialKey","data","fromLabelClass","symbol","materialKey","_shapedBox","_shapingInfo","bounds","setZoomLevel","bindReferenceTemplate","_refSymbolAndPlacementOffset","boundsType","sqrt","max","height","width","_referenceSize","xOffset","yOffset","_write","getDisplayId","readLegacyCentroid","readLegacyGeometry","_current","out","inId","inShaping","zoomLevel","_borderLineColor","_backgroundColor","warnOnce","_placeLineLabels","_placePointLabels","_isVisible","_writeGlyphs","paths","_placeSubdivGlyphs","bind","min","isMultiline","log2","_placeStraight","_placeStraightAlong","_placeCurved","ceil","PI","metricStart","clone","_placeFirst","_placeBack","_placeForward","metricEnd","glyphs","length","textureBinding","shapeBackground","recordStart","_writeBackgroundGeometry","recordEnd","backwardLength","prev","_placeOnSegment","remainingLength","next","abs","maxZoom","minZoom","_writeGlyph","metricBoxWrite","center","dx","dy","background","boundsT","_writeVertexCommon","_color","_haloColor","_size","_haloSize","vertexWrite","_writeBackgroundVertex","vertexEnd","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/WGLLabelTemplate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/Error.js\";import t from\"../../../../../../core/Logger.js\";import{clamp as i}from\"../../../../../../core/mathUtils.js\";import{unwrap as o,isNone as r}from\"../../../../../../core/maybe.js\";import{pt2px as n}from\"../../../../../../core/screenUtils.js\";import{b as s}from\"../../../../../../chunks/mat2d.js\";import{c as a}from\"../../../../../../chunks/mat2df32.js\";import{Alignment as l}from\"../../../../../../symbols/cim/enums.js\";import{isMapAligned as h,getAlignmentFromPlacement as c,getXDirection as m,getYDirection as _}from\"../../alignmentUtils.js\";import{premultiplyAlphaRGBAArray as g}from\"../../color.js\";import{TEXT_PLACEMENT_PADDING as d}from\"../../definitions.js\";import{WGLGeometryType as f}from\"../../enums.js\";import{i8888to32 as u}from\"../../number.js\";import{LabelMaterialKey as p}from\"../../materialKey/MaterialKey.js\";import{smoothPaths as b,pathDivide as y}from\"./segmentUtils.js\";import x from\"./WGLTextTemplate.js\";const L=t.getLogger(\"esri.views.2d.engine.webgl.WGLLabelTemplate\"),S=(t,i=\"mapview-labeling\")=>L.error(new e(i,t)),v=1,P=0,w=4,M=25;function Z(e,t){const o=!!e.minScale&&t.scaleToZoom(e.minScale)||0;return i(o,0,25.5)}function k(e,t){const o=!!e.maxScale&&t.scaleToZoom(e.maxScale)||255;return i(o,0,25.5)}function A(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const B=A((e=>{let t=0;if(0===e)return 1/0;for(;!(e%2);)t++,e/=2;return t})),z=e=>Math.floor(127*e+127),C=e=>Math.floor(10*e),W=e=>Math.round(e*(254/360));class G extends x{constructor(e,t,i,o){super(e,i.font?.size,i.haloSize||0,i.font?.size,i.color&&g(i.color)||0,i.haloColor&&g(i.haloColor)||0,i.horizontalAlignment,i.verticalAlignment,h(t.labelPlacement)?l.MAP:l.SCREEN,i.font?.decoration,!1,i.angle||0,i.xoffset,i.yoffset,i.lineWidth,i.lineHeight,null,null,!1,null,null,i.backgroundColor&&g(i.backgroundColor),i.borderLineColor&&g(i.borderLineColor),i.borderLineSize),this._outLineLabelAngle=0,this._refPlacementPadding=0,this._refPlacementDirX=0,this._refPlacementDirY=0,this._refOffsetX=0,this._refOffsetY=0,this._zoomLevel=0,this.geometryType=f.LABEL,this._allowOverrun=t.allowOverrun??!1,this._repeatLabel=t.repeatLabel??!0,this._labelPosition=t.labelPosition??\"curved\";const r=Z(t,o),s=k(t,o),a=t.labelPlacement,[m,_]=c(a);this._xAlignD=m,this._yAlignD=_,this._minZoom=r,this._maxZoom=s,this._minBackgroundZoom=r,this._maxBackgroundZoom=s,this._refPlacementPadding=n(i.haloSize)+d,this._repeatLabelDistance=t.repeatLabelDistance?n(t.repeatLabelDistance):128;const u=p.load(e);u.sdf=!0,this._materialKey=u.data}static fromLabelClass(e,t){if(\"esriServerLinePlacementCenterAlong\"===e.labelPlacement){const t=e.symbol;t.xoffset=0,t.yoffset=0,t.angle=0,t.font.decoration=\"none\"}return new G(e.materialKey,e,e.symbol,t)}get _shapedBox(){return o(this._shapingInfo).bounds}setZoomLevel(e){this._zoomLevel=e}bindReferenceTemplate(e){let t=m(this._xAlignD),i=_(this._yAlignD);if(this._refOffsetX=0,this._refOffsetY=0,r(e))return void(this._refSymbolAndPlacementOffset=u(0,0,z(t),z(i)));if(\"circle\"===e.boundsType&&(t||i)){const e=Math.sqrt(t*t+i*i);t/=e,i/=e}const o=Math.max(e.height,e.width),n=this._refPlacementPadding*w;this._refSymbolAndPlacementOffset=u(n,o,z(t),z(i)),this._referenceSize=o,this._refPlacementDirX=t,this._refPlacementDirY=i,this._refOffsetX=e.xOffset,this._refOffsetY=e.yOffset}_write(e,t){if(r(this._shapingInfo))return;const i=this._shapingInfo,o=t.getDisplayId(),n=\"esriGeometryPolygon\"===t.geometryType?t.readLegacyCentroid():t.readLegacyGeometry();if(n)switch(this._current={out:e,inId:o,inShaping:i,zoomLevel:this._zoomLevel},\"esriGeometryPolyline\"===t.geometryType&&\"curved\"===this._labelPosition&&(this._borderLineColor||this._backgroundColor)&&L.warnOnce(\"TextSymbol properties 'borderLineColor', 'borderLineSize', and 'backgroundColor' are not supported in curved labels\"),t.geometryType){case\"esriGeometryPolyline\":this._placeLineLabels(n);break;case\"esriGeometryPoint\":case\"esriGeometryPolygon\":this._placePointLabels(n);break;default:S(`Geometry of type ${t.geometryType} is not supported`)}}_isVisible(e,t){const i=C(this._current.zoomLevel);return C(e)<=i&&i<=C(t)}_placePointLabels(e){const{out:t,inId:i,inShaping:o}=this._current;this._writeGlyphs(t,i,e,o)}_placeLineLabels(e){const t=b(e.paths,this._current.inShaping.bounds.width),i=this._placeSubdivGlyphs.bind(this),o=(this._shapedBox.width+this._repeatLabelDistance)/(1<<v);for(const r of t)y(r,o,i,this._repeatLabel)}_placeSubdivGlyphs(e,t,i,o){const r=B(t),n=this._shapedBox.width/(1<<v),s=Math.sqrt(this._repeatLabelDistance)/(1<<v),a=Math.min(i,o-i),l=this._current.inShaping.isMultiline?M:Math.log2(a/(s+n/2)),h=0===t?l:Math.min(r,l),c=Math.max(this._minZoom,this._current.zoomLevel+v-h),m=this._current.zoomLevel-c,_=this._shapedBox.width/2*2**m;this._current.inShaping.isMultiline?0===t&&this._placeStraight(e,c):this._allowOverrun&&m<0?this._placeStraightAlong(e,this._minZoom):\"parallel\"===this._labelPosition?this._placeStraightAlong(e,c):\"curved\"===this._labelPosition&&this._placeCurved(e,c,_)}_placeStraight(e,t){const{out:i,inId:o,inShaping:r}=this._current,n=Math.ceil(e.angle*(180/Math.PI)%360),s=Math.ceil((e.angle*(180/Math.PI)+180)%360);this._outLineLabelAngle=W(n),this._writeGlyphs(i,o,e,r,t),this._outLineLabelAngle=W(s),this._writeGlyphs(i,o,e,r,t)}_placeCurved(e,t,i){const{out:o,inId:r}=this._current;o.metricStart(r,t,e.x,e.y,0,0,0,0);const n=e.clone(),s=e.angle*(180/Math.PI)%360,a=(e.angle*(180/Math.PI)+180)%360;this._outLineLabelAngle=W(s),this._placeFirst(n,t,1),this._placeBack(e,n,t,i,1),this._placeForward(e,n,t,i,1),this._outLineLabelAngle=W(a),this._placeFirst(n,t,0),this._placeBack(e,n,t,i,0),this._placeForward(e,n,t,i,0),o.metricEnd()}_placeStraightAlong(e,t){const{out:i,inId:o,inShaping:r}=this._current;i.metricStart(o,t,e.x,e.y,0,0,0,0);const n=e.clone(),l=e.angle*(180/Math.PI)%360,h=(e.angle*(180/Math.PI)+180)%360,c=r.glyphs.length>0&&(this._borderLineColor||this._backgroundColor);if(this._maxBackgroundZoom=M,this._minBackgroundZoom=Math.max(t,0),c){const t=p.load(this._materialKey);t.textureBinding=r.glyphs[0].textureBinding;const n=s(a(),-e.angle),[c,m]=r.shapeBackground(n);this._outLineLabelAngle=W(l),i.recordStart(o,t.data,this.geometryType,!0),this._writeBackgroundGeometry(i,o,e,c,m),i.recordEnd(),this._outLineLabelAngle=W(h),i.recordStart(o,t.data,this.geometryType,!0),this._writeBackgroundGeometry(i,o,e,c,m),i.recordEnd()}this._outLineLabelAngle=W(l),this._placeFirst(n,t,1,!0),this._outLineLabelAngle=W(h),this._placeFirst(n,t,0,!0),i.metricEnd()}_placeBack(e,t,i,o,r){const n=e.clone();let s=e.backwardLength+P;for(;n.prev()&&!(s>=o);)this._placeOnSegment(n,t,s,i,-1,r),s+=n.length+P}_placeForward(e,t,i,o,r){const n=e.clone();let s=e.remainingLength+P;for(;n.next()&&!(s>=o);)this._placeOnSegment(n,t,s,i,1,r),s+=n.length+P}_placeFirst(e,t,i,o=!1){const r=e,n=this._current.inShaping,s=n.glyphs,a=this._current.zoomLevel,{out:l,inId:h}=this._current;for(const c of s){const s=c.x>n.bounds.x?i:1-i,m=s*e.remainingLength+(1-s)*e.backwardLength,_=Math.abs(c.x+c.width/2-n.bounds.x),g=Math.max(0,a+Math.log2(_/(m+P))),d=Math.max(t,o?0:g);if(c.maxZoom=M,c.angle=e.angle+(1-i)*Math.PI,c.minZoom=d,this._writeGlyph(l,h,r.x,r.y,c),i&&this._isVisible(c.minZoom,c.maxZoom)){const e=c.bounds;l.metricBoxWrite(e.center[0],e.center[1],e.width,e.height)}}}_placeOnSegment(e,t,i,o,r,n){const s=this._current.inShaping.glyphs,{out:a,inId:l}=this._current,h=this._current.inShaping,c=this._current.zoomLevel,m=e.dx/e.length,_=e.dy/e.length,g={x:e.x+i*-r*m,y:e.y+i*-r*_};for(const d of s){const s=d.x>h.bounds.x?n:1-n;if(!(s&&1===r||!s&&-1===r))continue;const m=Math.abs(d.x+d.width/2-h.bounds.x),_=Math.max(0,c+Math.log2(m/i)-.1),f=Math.max(o,c+Math.log2(m/(i+e.length+P)));if(0!==_&&(d.angle=e.angle+(1-n)*Math.PI,d.minZoom=f,d.maxZoom=_,this._writeGlyph(a,l,g.x,g.y,d),n&&this._isVisible(d.minZoom,d.maxZoom))){const i=d.bounds,o=e.x-t.x,r=e.y-t.y;a.metricBoxWrite(i.center[0]+o,i.center[1]+r,i.width,i.height)}}}_writeGlyphs(e,t,i,o,r=this._minZoom){if(i.x<0||i.x>=512||i.y<0||i.y>=512)return;if(o.glyphs.length>0&&(this._borderLineColor||this._backgroundColor)){const r=p.load(this._materialKey);r.textureBinding=o.glyphs[0].textureBinding,e.recordStart(t,r.data,this.geometryType,!0),this._writeBackgroundGeometry(e,t,i,o.bounds,o.background),e.recordEnd()}const n=i.x+this._refOffsetX,s=i.y-this._refOffsetY;for(const c of o.glyphs)c.minZoom=r,c.maxZoom=this._maxZoom,this._writeGlyph(e,t,n,s,c);const a=this._refPlacementDirX,l=this._refPlacementDirY,h=o.boundsT;e.metricStart(t,r,n,s,a,l,this._referenceSize,this._materialKey),e.metricBoxWrite(h.center[0],h.center[1],h.width,h.height),e.metricEnd()}_writeVertexCommon(e,t,i,o){const r=this._color,n=this._haloColor,s=u(0,0,this._size,this._haloSize),a=Math.max(o.minZoom,this._minZoom),l=Math.min(o.maxZoom,this._maxZoom),h=u(C(a),C(l),this._outLineLabelAngle,0);e.vertexWrite(i),e.vertexWrite(t),e.vertexWrite(r),e.vertexWrite(n),e.vertexWrite(s),e.vertexWrite(this._refSymbolAndPlacementOffset),e.vertexWrite(h)}_writeBackgroundVertex(e,t,i,o,r,n){const s=u(0,0,this._size,this._haloSize),a=u(0,0,0,0),l=u(C(this._minBackgroundZoom),C(this._maxBackgroundZoom),this._outLineLabelAngle,1);e.vertexWrite(i),e.vertexWrite(t),e.vertexWrite(o),e.vertexWrite(a),e.vertexWrite(s),e.vertexWrite(this._refSymbolAndPlacementOffset),e.vertexWrite(l),e.vertexWrite(r),e.vertexWrite(n),e.vertexEnd()}}export{G as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}