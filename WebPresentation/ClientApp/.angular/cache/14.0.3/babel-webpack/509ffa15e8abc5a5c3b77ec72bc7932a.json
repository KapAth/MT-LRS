{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as t, isNone as e, unwrap as n } from \"../../../core/maybe.js\";\nimport l from \"../PixelBlock.js\";\nimport { getPixelValueRange as i } from \"../rasterFormats/pixelRangeUtils.js\";\nvar o, s;\n!function (t) {\n  t[t.matchAny = 0] = \"matchAny\", t[t.matchAll = 1] = \"matchAll\";\n}(o || (o = {})), function (t) {\n  t[t.bestMatch = 0] = \"bestMatch\", t[t.fail = 1] = \"fail\";\n}(s || (s = {}));\nconst r = 6;\n\nfunction a(e) {\n  return t(e) && \"esri.layers.support.PixelBlock\" === e.declaredClass && e.pixels && e.pixels.length > 0;\n}\n\nfunction h(t, e) {\n  if (!e?.length || !a(t)) return t;\n  const n = t.pixels.length;\n  return e && e.some(t => t >= n) || 1 === n && 1 === e.length && 0 === e[0] ? t : n !== e.length || e.some((t, e) => t !== e) ? new l({\n    pixelType: t.pixelType,\n    width: t.width,\n    height: t.height,\n    mask: t.mask,\n    validPixelCount: t.validPixelCount,\n    maskIsAlpha: t.maskIsAlpha,\n    pixels: e.map(e => t.pixels[e]),\n    statistics: t.statistics && e.map(e => t.statistics[e])\n  }) : t;\n}\n\nfunction f(e) {\n  if (!e?.length || e.some(t => !a(t))) return null;\n  if (1 === e.length) return t(e[0]) ? e[0].clone() : null;\n  const n = e,\n        {\n    width: i,\n    height: o,\n    pixelType: s\n  } = n[0];\n  if (n.some(t => t.width !== i || t.height !== o)) return null;\n  const r = n.map(({\n    mask: t\n  }) => t).filter(t => null != t);\n  let h = null;\n  r.length && (h = new Uint8Array(i * o), h.set(r[0]), r.length > 1 && w(r.slice(1), h));\n  const f = [];\n  n.forEach(({\n    pixels: t\n  }) => f.push(...t));\n  const c = n.map(({\n    statistics: t\n  }) => t).filter(t => t?.length),\n        u = [];\n  return c.forEach(t => u.push(...t)), new l({\n    pixelType: s,\n    width: i,\n    height: o,\n    mask: h,\n    pixels: f,\n    statistics: u.length ? u : null\n  });\n}\n\nfunction c(t) {\n  if (!t) return;\n  const e = t.colormap;\n  if (!e || 0 === e.length) return;\n  const n = e.sort((t, e) => t[0] - e[0]);\n  let l = 0;\n  n[0][0] < 0 && (l = n[0][0]);\n  const i = Math.max(256, n[n.length - 1][0] - l + 1),\n        o = new Uint8Array(4 * i),\n        s = [];\n  let r,\n      a = 0,\n      h = 0;\n  const f = 5 === n[0].length;\n  if (i > 65536) return n.forEach(t => {\n    s[t[0] - l] = f ? t.slice(1) : t.slice(1).concat([255]);\n  }), {\n    indexed2DColormap: s,\n    offset: l,\n    alphaSpecified: f\n  };\n  if (t.fillUnspecified) for (r = n[h], a = r[0] - l; a < i; a++) o[4 * a] = r[1], o[4 * a + 1] = r[2], o[4 * a + 2] = r[3], o[4 * a + 3] = f ? r[4] : 255, a === r[0] - l && (r = h === n.length - 1 ? r : n[++h]);else for (a = 0; a < n.length; a++) r = n[a], h = 4 * (r[0] - l), o[h] = r[1], o[h + 1] = r[2], o[h + 2] = r[3], o[h + 3] = f ? r[4] : 255;\n  return {\n    indexedColormap: o,\n    offset: l,\n    alphaSpecified: f\n  };\n}\n\nfunction u(e, n) {\n  if (!a(e)) return e;\n  if (!n || !n.indexedColormap && !n.indexed2DColormap) return e;\n  const l = e.clone(),\n        i = l.pixels;\n  let o = l.mask;\n  const s = l.width * l.height;\n  if (1 !== i.length) return e;\n  const {\n    indexedColormap: r,\n    indexed2DColormap: h,\n    offset: f,\n    alphaSpecified: c\n  } = n;\n  let u = 0;\n  const p = i[0],\n        x = new Uint8Array(p.length),\n        m = new Uint8Array(p.length),\n        g = new Uint8Array(p.length);\n  let d,\n      y = 0;\n\n  if (r) {\n    const e = r.length - 1;\n    if (t(o)) for (u = 0; u < s; u++) o[u] && (y = 4 * (p[u] - f), y < f || y > e ? o[u] = 0 : (x[u] = r[y], m[u] = r[y + 1], g[u] = r[y + 2], o[u] = r[y + 3]));else {\n      for (o = new Uint8Array(s), u = 0; u < s; u++) y = 4 * (p[u] - f), y < f || y > e ? o[u] = 0 : (x[u] = r[y], m[u] = r[y + 1], g[u] = r[y + 2], o[u] = r[y + 3]);\n\n      l.mask = o;\n    }\n  } else if (h) if (t(o)) for (u = 0; u < s; u++) o[u] && (d = h[p[u]], x[u] = d[0], m[u] = d[1], g[u] = d[2], o[u] = d[3]);else {\n    for (o = new Uint8Array(s), u = 0; u < s; u++) d = h[p[u]], x[u] = d[0], m[u] = d[1], g[u] = d[2], o[u] = d[3];\n\n    l.mask = o;\n  }\n\n  return l.pixels = [x, m, g], l.statistics = null, l.pixelType = \"u8\", l.maskIsAlpha = c, l;\n}\n\nfunction p(t, e) {\n  if (!a(t)) return null;\n  const {\n    pixels: n,\n    mask: i\n  } = t,\n        o = n.length;\n  let s = e.lut;\n  const {\n    offset: r\n  } = e;\n  s && 1 === s[0].length && (s = n.map(() => s));\n  const h = [],\n        f = e.outputPixelType || \"u8\";\n\n  for (let l = 0; l < o; l++) {\n    const t = x(n[l], i, s[l], r || 0, f);\n    h.push(t);\n  }\n\n  const c = new l({\n    width: t.width,\n    height: t.height,\n    pixels: h,\n    mask: i,\n    pixelType: f\n  });\n  return c.updateStatistics(), c;\n}\n\nfunction x(t, e, n, i, o) {\n  const s = t.length,\n        r = l.createEmptyBand(o, s);\n  if (e) for (let l = 0; l < s; l++) e[l] && (r[l] = n[t[l] - i]);else for (let l = 0; l < s; l++) r[l] = n[t[l] - i];\n  return r;\n}\n\nfunction m(t, e) {\n  if (!a(t)) return null;\n  const n = t.clone(),\n        {\n    pixels: l\n  } = n,\n        i = n.width * n.height,\n        o = e.length,\n        s = Math.floor(o / 2),\n        r = e[Math.floor(s)],\n        h = l[0];\n  let f,\n      c,\n      u,\n      p,\n      x,\n      m,\n      g = !1;\n  const d = new Uint8Array(i),\n        y = new Uint8Array(i),\n        w = new Uint8Array(i);\n  let k = n.mask;\n  const M = 4 === e[0].mappedColor.length;\n\n  for (k || (k = new Uint8Array(i), k.fill(M ? 255 : 1), n.mask = k), x = 0; x < i; x++) if (k[x]) {\n    for (f = h[x], g = !1, m = s, c = r, u = 0, p = o - 1; p - u > 1;) {\n      if (f === c.value) {\n        g = !0;\n        break;\n      }\n\n      f > c.value ? u = m : p = m, m = Math.floor((u + p) / 2), c = e[Math.floor(m)];\n    }\n\n    g || (f === e[u].value ? (c = e[u], g = !0) : f === e[p].value ? (c = e[p], g = !0) : f < e[u].value ? (g = !1, c = null) : f > e[u].value && (f < e[p].value ? (c = e[u], g = !0) : p === o - 1 ? (g = !1, c = null) : (c = e[p], g = !0))), g ? (d[x] = c.mappedColor[0], y[x] = c.mappedColor[1], w[x] = c.mappedColor[2], k[x] = c.mappedColor[3]) : d[x] = y[x] = w[x] = k[x] = 0;\n  }\n\n  return n.pixels = [d, y, w], n.mask = k, n.pixelType = \"u8\", n.maskIsAlpha = M, n;\n}\n\nfunction g(t, e) {\n  if (!a(t)) return null;\n  const {\n    width: n,\n    height: o\n  } = t,\n        {\n    inputRanges: s,\n    outputValues: r,\n    outputPixelType: h,\n    noDataRanges: f,\n    allowUnmatched: c,\n    isLastInputRangeInclusive: u\n  } = e,\n        p = t.pixels[0],\n        x = l.createEmptyBand(h, p.length),\n        m = t.mask,\n        g = new Uint8Array(n * o);\n  m ? g.set(m) : g.fill(255);\n  const d = t.pixelType.startsWith(\"f\") ? 1e-6 : 0,\n        y = s.map(t => t - d);\n  y[0] = s[0], y[y.length - 1] = s[s.length - 1] + (u ? 1e-6 : 0);\n  const w = s.length / 2,\n        [k, M] = i(h);\n\n  for (let l = 0; l < o; l++) for (let t = 0; t < n; t++) {\n    const e = l * n + t;\n\n    if (g[e]) {\n      const t = p[e];\n      let n = !1;\n\n      for (let l = w - 1; l >= 0; l--) if (t === y[2 * l] || t > y[2 * l] && t < y[2 * l + 1]) {\n        x[e] = r[l], n = !0;\n        break;\n      }\n\n      n || (c ? x[e] = t > M ? M : t < k ? k : t : g[e] = 0);\n    }\n  }\n\n  if (f?.length) for (let l = 0; l < o; l++) for (let t = 0; t < n; t++) {\n    const e = l * n + t;\n\n    if (!m || m[e]) {\n      const t = p[e];\n\n      for (let n = 0; n < w; n += 2) if (t >= f[n] && t <= f[n + 1]) {\n        x[e] = 0, g[e] = 0;\n        break;\n      }\n    }\n  }\n  return new l({\n    width: n,\n    height: o,\n    pixelType: h,\n    pixels: [x],\n    mask: g\n  });\n}\n\nfunction d(t, e, n, l) {\n  const i = null != n && n.length >= 2 ? new Set(n) : null,\n        o = 1 === n?.length ? n[0] : null,\n        s = !!e?.length;\n\n  for (let r = 0; r < t.length; r++) if (l[r]) {\n    const n = t[r];\n\n    if (s) {\n      let t = !1;\n\n      for (let l = 0; l < e.length; l += 2) if (n >= e[l] && n <= e[l + 1]) {\n        t = !0;\n        break;\n      }\n\n      t || (l[r] = 0);\n    }\n\n    l[r] && (n === o || i?.has(n)) && (l[r] = 0);\n  }\n}\n\nfunction y(t, e) {\n  const n = t[0].length;\n\n  for (let l = 0; l < n; l++) if (e[l]) {\n    let n = !1;\n\n    for (let e = 0; e < t.length; e++) if (t[e][l]) {\n      n = !0;\n      break;\n    }\n\n    n || (e[l] = 0);\n  }\n}\n\nfunction w(t, e) {\n  const n = t[0].length;\n\n  for (let l = 0; l < n; l++) if (e[l]) {\n    let n = !1;\n\n    for (let e = 0; e < t.length; e++) if (0 === t[e][l]) {\n      n = !0;\n      break;\n    }\n\n    n && (e[l] = 0);\n  }\n}\n\nfunction k(t, e) {\n  if (!a(t)) return null;\n  const {\n    width: n,\n    height: i,\n    pixels: o\n  } = t,\n        s = n * i,\n        r = new Uint8Array(s);\n  t.mask ? r.set(t.mask) : r.fill(255);\n  const h = o.length,\n        {\n    includedRanges: f,\n    noDataValues: c,\n    outputPixelType: u,\n    matchAll: p,\n    lookups: m\n  } = e;\n\n  if (m) {\n    const t = [];\n\n    for (let e = 0; e < h; e++) {\n      const n = m[e],\n            l = x(o[e], r, n.lut, n.offset || 0, \"u8\");\n      t.push(l);\n    }\n\n    1 === t.length ? r.set(t[0]) : p ? y(t, r) : w(t, r);\n  } else if (p) {\n    const t = [];\n\n    for (let e = 0; e < h; e++) {\n      const n = new Uint8Array(s);\n      n.set(r), d(o[e], f?.slice(2 * e, 2 * e + 2), c?.[e], n), t.push(n);\n    }\n\n    1 === t.length ? r.set(t[0]) : y(t, r);\n  } else for (let l = 0; l < h; l++) d(o[l], f?.slice(2 * l, 2 * l + 2), c?.[l], r);\n\n  return new l({\n    width: n,\n    height: i,\n    pixelType: u,\n    pixels: o,\n    mask: r\n  });\n}\n\nfunction M(t) {\n  const {\n    srcPixelType: e,\n    inputRanges: n,\n    outputValues: o,\n    allowUnmatched: s,\n    noDataRanges: r,\n    isLastInputRangeInclusive: a,\n    outputPixelType: h\n  } = t;\n  if (\"u8\" !== e && \"s8\" !== e && \"u16\" !== e && \"s16\" !== e) return null;\n  const f = e.includes(\"16\") ? 65536 : 256,\n        c = e.includes(\"s\") ? -f / 2 : 0,\n        u = l.createEmptyBand(h, f),\n        p = new Uint8Array(f);\n  s && p.fill(255);\n  const [x, m] = i(h);\n\n  if (n?.length && o?.length) {\n    const t = 1e-6,\n          e = n.map(e => e - t);\n    e[0] = n[0], a && (e[e.length - 1] = n[n.length - 1]);\n\n    for (let n = 0; n < e.length; n++) {\n      const t = o[n] > m ? m : o[n] < x ? x : o[n],\n            l = Math.ceil(e[2 * n] - c),\n            i = Math.floor(e[2 * n + 1] - c);\n\n      for (let e = l; e <= i; e++) u[e] = t, p[e] = 255;\n    }\n  }\n\n  if (r?.length) for (let l = 0; l < r.length; l++) {\n    const t = Math.ceil(r[2 * l] - c),\n          e = Math.floor(r[2 * l + 1] - c);\n\n    for (let n = t; n <= e; n++) p[n] = 0;\n  }\n  return {\n    lut: u,\n    offset: c,\n    mask: p\n  };\n}\n\nfunction A(t, e, n) {\n  if (\"u8\" !== t && \"s8\" !== t && \"u16\" !== t && \"s16\" !== t) return null;\n  const l = t.includes(\"16\") ? 65536 : 256,\n        i = t.includes(\"s\") ? -l / 2 : 0,\n        o = new Uint8Array(l);\n  if (e) for (let s = 0; s < e.length; s++) {\n    const t = Math.ceil(e[2 * s] - i),\n          n = Math.floor(e[2 * s + 1] - i);\n\n    for (let e = t; e <= n; e++) o[e] = 255;\n  } else o.fill(255);\n  if (n) for (let s = 0; s < n.length; s++) o[n[s] - i] = 0;\n  return {\n    lut: o,\n    offset: i\n  };\n}\n\nfunction U(t, e, n, l, i, o, s, r) {\n  return {\n    xmin: i <= n * t ? 0 : i < n * t + t ? i - n * t : t,\n    ymin: o <= l * e ? 0 : o < l * e + e ? o - l * e : e,\n    xmax: i + s <= n * t ? 0 : i + s < n * t + t ? i + s - n * t : t,\n    ymax: o + r <= l * e ? 0 : o + r < l * e + e ? o + r - l * e : e\n  };\n}\n\nfunction T(t, n) {\n  if (!t || 0 === t.length) return null;\n  const l = t.find(t => t.pixelBlock);\n  if (!l || e(l.pixelBlock)) return null;\n  const i = (l.extent.xmax - l.extent.xmin) / l.pixelBlock.width,\n        o = (l.extent.ymax - l.extent.ymin) / l.pixelBlock.height,\n        s = .01 * Math.min(i, o),\n        r = t.sort((t, e) => Math.abs(t.extent.ymax - e.extent.ymax) > s ? e.extent.ymax - t.extent.ymax : Math.abs(t.extent.xmin - e.extent.xmin) > s ? t.extent.xmin - e.extent.xmin : 0),\n        a = Math.min.apply(null, r.map(t => t.extent.xmin)),\n        h = Math.min.apply(null, r.map(t => t.extent.ymin)),\n        f = Math.max.apply(null, r.map(t => t.extent.xmax)),\n        c = Math.max.apply(null, r.map(t => t.extent.ymax)),\n        u = {\n    x: Math.round((n.xmin - a) / i),\n    y: Math.round((c - n.ymax) / o)\n  },\n        p = {\n    width: Math.round((f - a) / i),\n    height: Math.round((c - h) / o)\n  },\n        x = {\n    width: Math.round((n.xmax - n.xmin) / i),\n    height: Math.round((n.ymax - n.ymin) / o)\n  };\n  if (Math.round(p.width / l.pixelBlock.width) * Math.round(p.height / l.pixelBlock.height) !== r.length || u.x < 0 || u.y < 0 || p.width < x.width || p.height < x.height) return null;\n  return {\n    extent: n,\n    pixelBlock: b(r.map(t => t.pixelBlock), p, {\n      clipOffset: u,\n      clipSize: x\n    })\n  };\n}\n\nfunction C(t, e, n, l, i, o) {\n  const {\n    width: s,\n    height: r\n  } = n.block,\n        {\n    x: a,\n    y: h\n  } = n.offset,\n        {\n    width: f,\n    height: c\n  } = n.mosaic,\n        u = U(s, r, l, i, a, h, f, c);\n  let p = 0,\n      x = 0;\n\n  if (o) {\n    const t = o.hasGCSSShiftTransform ? 360 : o.halfWorldWidth ?? 0,\n          e = s * o.resolutionX,\n          n = o.startX + l * e;\n    n < t && n + e > t ? x = o.rightPadding : n >= t && (p = o.leftMargin - o.rightPadding, x = 0);\n  }\n\n  if (u.xmax -= x, \"number\" != typeof e) for (let m = u.ymin; m < u.ymax; m++) {\n    const n = (i * r + m - h) * f + (l * s - a) + p,\n          o = m * s;\n\n    for (let l = u.xmin; l < u.xmax; l++) t[n + l] = e[o + l];\n  } else for (let m = u.ymin; m < u.ymax; m++) {\n    const n = (i * r + m - h) * f + (l * s - a) + p;\n\n    for (let l = u.xmin; l < u.xmax; l++) t[n + l] = e;\n  }\n}\n\nfunction b(n, i, o = {}) {\n  const {\n    clipOffset: s,\n    clipSize: r,\n    alignmentInfo: h,\n    blockWidths: f\n  } = o;\n  if (f) return P(n, i, {\n    blockWidths: f\n  });\n  const c = n.find(t => a(t));\n  if (e(c)) return null;\n  const u = r ? r.width : i.width,\n        p = r ? r.height : i.height,\n        x = c.width,\n        m = c.height,\n        g = i.width / x,\n        d = i.height / m,\n        y = {\n    offset: s || {\n      x: 0,\n      y: 0\n    },\n    mosaic: r || i,\n    block: {\n      width: x,\n      height: m\n    }\n  },\n        w = c.pixelType,\n        k = l.getPixelArrayConstructor(w),\n        M = c.pixels.length,\n        A = [];\n  let U, T;\n\n  for (let t = 0; t < M; t++) {\n    T = new k(u * p);\n\n    for (let e = 0; e < d; e++) for (let l = 0; l < g; l++) {\n      const i = n[e * g + l];\n      a(i) && (U = i.pixels[t], C(T, U, y, l, e, h));\n    }\n\n    A.push(T);\n  }\n\n  let b;\n\n  if (n.some(n => e(n) || t(n.mask) && n.mask.length > 0)) {\n    b = new Uint8Array(u * p);\n\n    for (let e = 0; e < d; e++) for (let l = 0; l < g; l++) {\n      const i = n[e * g + l],\n            o = t(i) ? i.mask : null;\n      t(o) ? C(b, o, y, l, e, h) : C(b, i ? 1 : 0, y, l, e, h);\n    }\n  }\n\n  const S = new l({\n    width: u,\n    height: p,\n    pixels: A,\n    pixelType: w,\n    mask: b\n  });\n  return S.updateStatistics(), S;\n}\n\nfunction P(i, o, s) {\n  const r = i.find(e => t(e));\n  if (e(r)) return null;\n  const h = i.some(e => !t(e) || !!e.mask),\n        {\n    width: f,\n    height: c\n  } = o,\n        u = h ? new Uint8Array(f * c) : null,\n        {\n    blockWidths: p\n  } = s,\n        x = [],\n        m = r.getPlaneCount(),\n        g = l.getPixelArrayConstructor(r.pixelType);\n  if (h) for (let t = 0, e = 0; t < i.length; e += p[t], t++) {\n    const l = i[t];\n    if (!a(l)) continue;\n    const o = n(l.mask);\n\n    for (let n = 0; n < c; n++) for (let i = 0; i < p[t]; i++) u[n * f + i + e] = null == o ? 255 : o[n * l.width + i];\n  }\n\n  for (let t = 0; t < m; t++) {\n    const e = new g(f * c);\n\n    for (let n = 0, l = 0; n < i.length; l += p[n], n++) {\n      const o = i[n];\n      if (!a(o)) continue;\n      const s = o.pixels[t];\n      if (null != s) for (let t = 0; t < c; t++) for (let i = 0; i < p[n]; i++) e[t * f + i + l] = s[t * o.width + i];\n    }\n\n    x.push(e);\n  }\n\n  const d = new l({\n    width: f,\n    height: c,\n    mask: u,\n    pixels: x,\n    pixelType: r.pixelType\n  });\n  return d.updateStatistics(), d;\n}\n\nfunction S(t, e, n) {\n  if (!a(t)) return null;\n  const {\n    width: l,\n    height: i\n  } = t,\n        o = e.x,\n        s = e.y,\n        r = n.width + o,\n        h = n.height + s;\n  if (o < 0 || s < 0 || r > l || h > i) return t;\n  if (0 === o && 0 === s && r === l && h === i) return t;\n  t.mask || (t.mask = new Uint8Array(l * i));\n  const f = t.mask;\n\n  for (let a = 0; a < i; a++) {\n    const t = a * l;\n\n    for (let e = 0; e < l; e++) f[t + e] = a < s || a >= h || e < o || e >= r ? 0 : 1;\n  }\n\n  return t.updateStatistics(), t;\n}\n\nfunction B(t) {\n  if (!a(t)) return null;\n  const e = t.clone(),\n        {\n    width: l,\n    height: i,\n    pixels: o\n  } = t,\n        s = o[0],\n        r = e.pixels[0],\n        h = n(t.mask);\n\n  for (let n = 2; n < i - 1; n++) {\n    const t = new Map();\n\n    for (let i = n - 2; i < n + 2; i++) for (let e = 0; e < 4; e++) {\n      const n = i * l + e;\n\n      _(t, s[n], h ? h[n] : 1);\n    }\n\n    r[n * l] = v(t), r[n * l + 1] = r[n * l + 2] = r[n * l];\n    let e = 3;\n\n    for (; e < l - 1; e++) {\n      let i = (n - 2) * l + e + 1;\n      _(t, s[i], h ? h[i] : 1), i = (n - 1) * l + e + 1, _(t, s[i], h ? h[i] : 1), i = n * l + e + 1, _(t, s[i], h ? h[i] : 1), i = (n + 1) * l + e + 1, _(t, s[i], h ? h[i] : 1), i = (n - 2) * l + e - 3, I(t, s[i], h ? h[i] : 1), i = (n - 1) * l + e - 3, I(t, s[i], h ? h[i] : 1), i = n * l + e - 3, I(t, s[i], h ? h[i] : 1), i = (n + 1) * l + e - 3, I(t, s[i], h ? h[i] : 1), r[n * l + e] = v(t);\n    }\n\n    r[n * l + e + 1] = r[n * l + e];\n  }\n\n  for (let n = 0; n < l; n++) r[n] = r[l + n] = r[2 * l + n], r[(i - 1) * l + n] = r[(i - 2) * l + n];\n\n  return e.updateStatistics(), e;\n}\n\nfunction v(t) {\n  if (0 === t.size) return 0;\n  let e = 0,\n      n = -1,\n      l = 0;\n  const i = t.keys();\n  let o = i.next();\n\n  for (; !o.done;) l = t.get(o.value), l > e && (n = o.value, e = l), o = i.next();\n\n  return n;\n}\n\nfunction I(t, e, n) {\n  if (0 === n) return;\n  const l = t.get(e);\n  1 === l ? t.delete(e) : t.set(e, l - 1);\n}\n\nfunction _(t, e, n) {\n  0 !== n && t.set(e, t.has(e) ? t.get(e) + 1 : 1);\n}\n\nfunction W(t, e, i) {\n  let {\n    x: o,\n    y: s\n  } = e;\n  const {\n    width: r,\n    height: h\n  } = i;\n  if (0 === o && 0 === s && h === t.height && r === t.width) return t;\n  const {\n    width: f,\n    height: c\n  } = t,\n        u = Math.max(0, s),\n        p = Math.max(0, o),\n        x = Math.min(o + r, f),\n        m = Math.min(s + h, c);\n  if (x < 0 || m < 0 || !a(t)) return null;\n  o = Math.max(0, -o), s = Math.max(0, -s);\n  const {\n    pixels: g\n  } = t,\n        d = r * h,\n        y = g.length,\n        w = [];\n\n  for (let n = 0; n < y; n++) {\n    const e = g[n],\n          i = l.createEmptyBand(t.pixelType, d);\n\n    for (let t = u; t < m; t++) {\n      const n = t * f;\n      let l = (t + s - u) * r + o;\n\n      for (let t = p; t < x; t++) i[l++] = e[n + t];\n    }\n\n    w.push(i);\n  }\n\n  const k = new Uint8Array(d),\n        M = n(t.mask);\n\n  for (let n = u; n < m; n++) {\n    const t = n * f;\n    let e = (n + s - u) * r + o;\n\n    for (let n = p; n < x; n++) k[e++] = M ? M[t + n] : 1;\n  }\n\n  const A = new l({\n    width: i.width,\n    height: i.height,\n    pixelType: t.pixelType,\n    pixels: w,\n    mask: k\n  });\n  return A.updateStatistics(), A;\n}\n\nfunction E(e, n = !0) {\n  if (!a(e)) return null;\n  const {\n    pixels: i,\n    width: o,\n    height: s,\n    mask: r,\n    pixelType: h\n  } = e,\n        f = [],\n        c = Math.round(o / 2),\n        u = Math.round(s / 2),\n        p = s - 1,\n        x = o - 1;\n\n  for (let t = 0; t < i.length; t++) {\n    const e = i[t],\n          r = l.createEmptyBand(h, c * u);\n    let a = 0;\n\n    for (let t = 0; t < s; t += 2) for (let l = 0; l < o; l += 2) {\n      const i = e[t * o + l];\n\n      if (n) {\n        const n = l === x ? i : e[t * o + l + 1],\n              s = t === p ? i : e[t * o + l + o],\n              h = l === x ? s : t === p ? n : e[t * o + l + o + 1];\n        r[a++] = (i + n + s + h) / 4;\n      } else r[a++] = i;\n    }\n\n    f.push(r);\n  }\n\n  let m = null;\n\n  if (t(r)) {\n    m = new Uint8Array(c * u);\n    let t = 0;\n\n    for (let e = 0; e < s; e += 2) for (let l = 0; l < o; l += 2) {\n      const i = r[e * o + l];\n\n      if (n) {\n        const n = l === x ? i : r[e * o + l + 1],\n              s = e === p ? i : r[e * o + l + o],\n              a = l === x ? s : e === p ? n : r[e * o + l + o + 1];\n        m[t++] = i * n * s * a ? 1 : 0;\n      } else m[t++] = i;\n    }\n  }\n\n  return new l({\n    width: c,\n    height: u,\n    pixelType: h,\n    pixels: f,\n    mask: m\n  });\n}\n\nfunction R(t, e, n) {\n  if (!a(t)) return null;\n  const {\n    width: l,\n    height: i\n  } = e;\n  let {\n    width: o,\n    height: s\n  } = t;\n  const r = new Map(),\n        h = {\n    x: 0,\n    y: 0\n  },\n        f = null == n ? 1 : 1 + n;\n  let c = t;\n\n  for (let a = 0; a < f; a++) {\n    const t = Math.ceil(o / l),\n          n = Math.ceil(s / i);\n\n    for (let o = 0; o < n; o++) {\n      h.y = o * i;\n\n      for (let n = 0; n < t; n++) {\n        h.x = n * l;\n        const t = W(c, h, e);\n        r.set(`${a}/${o}/${n}`, t);\n      }\n    }\n\n    a < f - 1 && (c = E(c)), o = Math.round(o / 2), s = Math.round(s / 2);\n  }\n\n  return r;\n}\n\nfunction j(t, e, n, l, i = 0) {\n  const {\n    width: o,\n    height: s\n  } = t,\n        {\n    width: r,\n    height: a\n  } = e,\n        h = l.cols,\n        f = l.rows,\n        c = Math.ceil(r / h - .1 / h),\n        u = Math.ceil(a / f - .1 / f);\n  let p, x, m, g, d, y, w;\n  const k = c * h,\n        M = k * u * f,\n        A = new Float32Array(M),\n        U = new Float32Array(M),\n        T = new Uint32Array(M),\n        C = new Uint32Array(M);\n  let b,\n      P,\n      S = 0;\n\n  for (let B = 0; B < u; B++) for (let t = 0; t < c; t++) {\n    p = 12 * (B * c + t), x = n[p], m = n[p + 1], g = n[p + 2], d = n[p + 3], y = n[p + 4], w = n[p + 5];\n\n    for (let e = 0; e < f; e++) {\n      S = (B * f + e) * k + t * h, P = (e + .5) / f;\n\n      for (let t = 0; t < e; t++) b = (t + .5) / h, A[S + t] = (x * b + m * P + g) * o + i, U[S + t] = (d * b + y * P + w) * s + i, T[S + t] = Math.floor(A[S + t]), C[S + t] = Math.floor(U[S + t]);\n    }\n\n    p += 6, x = n[p], m = n[p + 1], g = n[p + 2], d = n[p + 3], y = n[p + 4], w = n[p + 5];\n\n    for (let e = 0; e < f; e++) {\n      S = (B * f + e) * k + t * h, P = (e + .5) / f;\n\n      for (let t = e; t < h; t++) b = (t + .5) / h, A[S + t] = (x * b + m * P + g) * o + i, U[S + t] = (d * b + y * P + w) * s + i, T[S + t] = Math.floor(A[S + t]), C[S + t] = Math.floor(U[S + t]);\n    }\n  }\n\n  return {\n    offsets_x: A,\n    offsets_y: U,\n    offsets_xi: T,\n    offsets_yi: C,\n    gridWidth: k\n  };\n}\n\nfunction D(t, e) {\n  const {\n    coefficients: n,\n    spacing: l\n  } = e,\n        {\n    offsets_x: i,\n    offsets_y: o,\n    gridWidth: s\n  } = j(t, t, n, {\n    rows: l[0],\n    cols: l[1]\n  }),\n        {\n    width: r,\n    height: a\n  } = t,\n        h = new Float32Array(r * a),\n        f = 180 / Math.PI;\n\n  for (let c = 0; c < a; c++) for (let t = 0; t < r; t++) {\n    const e = c * s + t,\n          n = 0 === c ? e : e - s,\n          l = c === a - 1 ? e : e + s,\n          u = i[n] - i[l],\n          p = o[l] - o[n];\n    if (isNaN(u) || isNaN(p)) h[c * r + t] = 90;else {\n      let e = Math.atan2(p, u) * f;\n      e = (360 + e) % 360, h[c * r + t] = e;\n    }\n  }\n\n  return h;\n}\n\nfunction F(e, n, i, o, s = \"nearest\") {\n  if (!a(e)) return null;\n  \"majority\" === s && (e = B(e));\n  const {\n    pixels: r,\n    mask: h,\n    pixelType: f\n  } = e,\n        c = e.width,\n        u = e.height,\n        p = l.getPixelArrayConstructor(f),\n        x = r.length,\n        {\n    width: m,\n    height: g\n  } = n;\n  let d = !1;\n\n  for (let t = 0; t < i.length; t += 3) -1 === i[t] && -1 === i[t + 1] && -1 === i[t + 2] && (d = !0);\n\n  const {\n    offsets_x: y,\n    offsets_y: w,\n    offsets_xi: k,\n    offsets_yi: M,\n    gridWidth: A\n  } = j({\n    width: c,\n    height: u\n  }, n, i, o, \"majority\" === s ? .5 : 0);\n  let U;\n\n  const T = (t, e, n) => {\n    const l = t instanceof Float32Array || t instanceof Float64Array ? 0 : .5;\n\n    for (let i = 0; i < g; i++) {\n      U = i * A;\n\n      for (let o = 0; o < m; o++) {\n        if (y[U] < 0 || w[U] < 0) t[i * m + o] = 0;else if (n) t[i * m + o] = e[k[U] + M[U] * c];else {\n          const n = Math.floor(y[U]),\n                s = Math.floor(w[U]),\n                r = Math.ceil(y[U]),\n                a = Math.ceil(w[U]),\n                f = y[U] - n,\n                u = w[U] - s;\n\n          if (!h || h[n + s * c] && h[n + s * c] && h[n + a * c] && h[r + a * c]) {\n            const h = (1 - f) * e[n + s * c] + f * e[r + s * c],\n                  p = (1 - f) * e[n + a * c] + f * e[r + a * c];\n            t[i * m + o] = (1 - u) * h + u * p + l;\n          } else t[i * m + o] = e[k[U] + M[U] * c];\n        }\n        U++;\n      }\n    }\n  },\n        C = [];\n\n  let b;\n\n  for (let t = 0; t < x; t++) b = new p(m * g), T(b, r[t], \"nearest\" === s || \"majority\" === s), C.push(b);\n\n  const P = new l({\n    width: m,\n    height: g,\n    pixelType: f,\n    pixels: C\n  });\n  if (t(h)) P.mask = new Uint8Array(m * g), T(P.mask, h, !0);else if (d) {\n    P.mask = new Uint8Array(m * g);\n\n    for (let t = 0; t < m * g; t++) P.mask[t] = y[t] < 0 || w[t] < 0 ? 0 : 1;\n  }\n  return P.updateStatistics(), P;\n}\n\nexport { r as MAX_MAP_SIZE_GPU, s as MissingBandAction, o as NoDataInterpretation, F as approximateTransform, W as clip, u as colorize, f as compositeBands, c as createColormapLUT, A as createMaskLUT, M as createRemapLUT, h as extractBands, U as getClipBounds, D as getLocalArithmeticNorthRotations, j as interpolateOffsets, a as isValidPixelBlock, x as lookupBandValues, p as lookupPixels, k as mask, b as mosaic, T as mosaicPixelData, g as remap, m as remapColor, B as resampleByMajority, S as setValidBoundary, R as split };","map":{"version":3,"names":["isSome","t","isNone","e","unwrap","n","l","getPixelValueRange","i","o","s","matchAny","matchAll","bestMatch","fail","r","a","declaredClass","pixels","length","h","some","pixelType","width","height","mask","validPixelCount","maskIsAlpha","map","statistics","f","clone","filter","Uint8Array","set","w","slice","forEach","push","c","u","colormap","sort","Math","max","concat","indexed2DColormap","offset","alphaSpecified","fillUnspecified","indexedColormap","p","x","m","g","d","y","lut","outputPixelType","updateStatistics","createEmptyBand","floor","k","M","mappedColor","fill","value","inputRanges","outputValues","noDataRanges","allowUnmatched","isLastInputRangeInclusive","startsWith","Set","has","includedRanges","noDataValues","lookups","srcPixelType","includes","ceil","A","U","xmin","ymin","xmax","ymax","T","find","pixelBlock","extent","min","abs","apply","round","b","clipOffset","clipSize","C","block","mosaic","hasGCSSShiftTransform","halfWorldWidth","resolutionX","startX","rightPadding","leftMargin","alignmentInfo","blockWidths","P","getPixelArrayConstructor","S","getPlaneCount","B","Map","_","v","I","size","keys","next","done","get","delete","W","E","R","j","cols","rows","Float32Array","Uint32Array","offsets_x","offsets_y","offsets_xi","offsets_yi","gridWidth","D","coefficients","spacing","PI","isNaN","atan2","F","Float64Array","MAX_MAP_SIZE_GPU","MissingBandAction","NoDataInterpretation","approximateTransform","clip","colorize","compositeBands","createColormapLUT","createMaskLUT","createRemapLUT","extractBands","getClipBounds","getLocalArithmeticNorthRotations","interpolateOffsets","isValidPixelBlock","lookupBandValues","lookupPixels","mosaicPixelData","remap","remapColor","resampleByMajority","setValidBoundary","split"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e,unwrap as n}from\"../../../core/maybe.js\";import l from\"../PixelBlock.js\";import{getPixelValueRange as i}from\"../rasterFormats/pixelRangeUtils.js\";var o,s;!function(t){t[t.matchAny=0]=\"matchAny\",t[t.matchAll=1]=\"matchAll\"}(o||(o={})),function(t){t[t.bestMatch=0]=\"bestMatch\",t[t.fail=1]=\"fail\"}(s||(s={}));const r=6;function a(e){return t(e)&&\"esri.layers.support.PixelBlock\"===e.declaredClass&&e.pixels&&e.pixels.length>0}function h(t,e){if(!e?.length||!a(t))return t;const n=t.pixels.length;return e&&e.some((t=>t>=n))||1===n&&1===e.length&&0===e[0]?t:n!==e.length||e.some(((t,e)=>t!==e))?new l({pixelType:t.pixelType,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:e.map((e=>t.pixels[e])),statistics:t.statistics&&e.map((e=>t.statistics[e]))}):t}function f(e){if(!e?.length||e.some((t=>!a(t))))return null;if(1===e.length)return t(e[0])?e[0].clone():null;const n=e,{width:i,height:o,pixelType:s}=n[0];if(n.some((t=>t.width!==i||t.height!==o)))return null;const r=n.map((({mask:t})=>t)).filter((t=>null!=t));let h=null;r.length&&(h=new Uint8Array(i*o),h.set(r[0]),r.length>1&&w(r.slice(1),h));const f=[];n.forEach((({pixels:t})=>f.push(...t)));const c=n.map((({statistics:t})=>t)).filter((t=>t?.length)),u=[];return c.forEach((t=>u.push(...t))),new l({pixelType:s,width:i,height:o,mask:h,pixels:f,statistics:u.length?u:null})}function c(t){if(!t)return;const e=t.colormap;if(!e||0===e.length)return;const n=e.sort(((t,e)=>t[0]-e[0]));let l=0;n[0][0]<0&&(l=n[0][0]);const i=Math.max(256,n[n.length-1][0]-l+1),o=new Uint8Array(4*i),s=[];let r,a=0,h=0;const f=5===n[0].length;if(i>65536)return n.forEach((t=>{s[t[0]-l]=f?t.slice(1):t.slice(1).concat([255])})),{indexed2DColormap:s,offset:l,alphaSpecified:f};if(t.fillUnspecified)for(r=n[h],a=r[0]-l;a<i;a++)o[4*a]=r[1],o[4*a+1]=r[2],o[4*a+2]=r[3],o[4*a+3]=f?r[4]:255,a===r[0]-l&&(r=h===n.length-1?r:n[++h]);else for(a=0;a<n.length;a++)r=n[a],h=4*(r[0]-l),o[h]=r[1],o[h+1]=r[2],o[h+2]=r[3],o[h+3]=f?r[4]:255;return{indexedColormap:o,offset:l,alphaSpecified:f}}function u(e,n){if(!a(e))return e;if(!n||!n.indexedColormap&&!n.indexed2DColormap)return e;const l=e.clone(),i=l.pixels;let o=l.mask;const s=l.width*l.height;if(1!==i.length)return e;const{indexedColormap:r,indexed2DColormap:h,offset:f,alphaSpecified:c}=n;let u=0;const p=i[0],x=new Uint8Array(p.length),m=new Uint8Array(p.length),g=new Uint8Array(p.length);let d,y=0;if(r){const e=r.length-1;if(t(o))for(u=0;u<s;u++)o[u]&&(y=4*(p[u]-f),y<f||y>e?o[u]=0:(x[u]=r[y],m[u]=r[y+1],g[u]=r[y+2],o[u]=r[y+3]));else{for(o=new Uint8Array(s),u=0;u<s;u++)y=4*(p[u]-f),y<f||y>e?o[u]=0:(x[u]=r[y],m[u]=r[y+1],g[u]=r[y+2],o[u]=r[y+3]);l.mask=o}}else if(h)if(t(o))for(u=0;u<s;u++)o[u]&&(d=h[p[u]],x[u]=d[0],m[u]=d[1],g[u]=d[2],o[u]=d[3]);else{for(o=new Uint8Array(s),u=0;u<s;u++)d=h[p[u]],x[u]=d[0],m[u]=d[1],g[u]=d[2],o[u]=d[3];l.mask=o}return l.pixels=[x,m,g],l.statistics=null,l.pixelType=\"u8\",l.maskIsAlpha=c,l}function p(t,e){if(!a(t))return null;const{pixels:n,mask:i}=t,o=n.length;let s=e.lut;const{offset:r}=e;s&&1===s[0].length&&(s=n.map((()=>s)));const h=[],f=e.outputPixelType||\"u8\";for(let l=0;l<o;l++){const t=x(n[l],i,s[l],r||0,f);h.push(t)}const c=new l({width:t.width,height:t.height,pixels:h,mask:i,pixelType:f});return c.updateStatistics(),c}function x(t,e,n,i,o){const s=t.length,r=l.createEmptyBand(o,s);if(e)for(let l=0;l<s;l++)e[l]&&(r[l]=n[t[l]-i]);else for(let l=0;l<s;l++)r[l]=n[t[l]-i];return r}function m(t,e){if(!a(t))return null;const n=t.clone(),{pixels:l}=n,i=n.width*n.height,o=e.length,s=Math.floor(o/2),r=e[Math.floor(s)],h=l[0];let f,c,u,p,x,m,g=!1;const d=new Uint8Array(i),y=new Uint8Array(i),w=new Uint8Array(i);let k=n.mask;const M=4===e[0].mappedColor.length;for(k||(k=new Uint8Array(i),k.fill(M?255:1),n.mask=k),x=0;x<i;x++)if(k[x]){for(f=h[x],g=!1,m=s,c=r,u=0,p=o-1;p-u>1;){if(f===c.value){g=!0;break}f>c.value?u=m:p=m,m=Math.floor((u+p)/2),c=e[Math.floor(m)]}g||(f===e[u].value?(c=e[u],g=!0):f===e[p].value?(c=e[p],g=!0):f<e[u].value?(g=!1,c=null):f>e[u].value&&(f<e[p].value?(c=e[u],g=!0):p===o-1?(g=!1,c=null):(c=e[p],g=!0))),g?(d[x]=c.mappedColor[0],y[x]=c.mappedColor[1],w[x]=c.mappedColor[2],k[x]=c.mappedColor[3]):d[x]=y[x]=w[x]=k[x]=0}return n.pixels=[d,y,w],n.mask=k,n.pixelType=\"u8\",n.maskIsAlpha=M,n}function g(t,e){if(!a(t))return null;const{width:n,height:o}=t,{inputRanges:s,outputValues:r,outputPixelType:h,noDataRanges:f,allowUnmatched:c,isLastInputRangeInclusive:u}=e,p=t.pixels[0],x=l.createEmptyBand(h,p.length),m=t.mask,g=new Uint8Array(n*o);m?g.set(m):g.fill(255);const d=t.pixelType.startsWith(\"f\")?1e-6:0,y=s.map((t=>t-d));y[0]=s[0],y[y.length-1]=s[s.length-1]+(u?1e-6:0);const w=s.length/2,[k,M]=i(h);for(let l=0;l<o;l++)for(let t=0;t<n;t++){const e=l*n+t;if(g[e]){const t=p[e];let n=!1;for(let l=w-1;l>=0;l--)if(t===y[2*l]||t>y[2*l]&&t<y[2*l+1]){x[e]=r[l],n=!0;break}n||(c?x[e]=t>M?M:t<k?k:t:g[e]=0)}}if(f?.length)for(let l=0;l<o;l++)for(let t=0;t<n;t++){const e=l*n+t;if(!m||m[e]){const t=p[e];for(let n=0;n<w;n+=2)if(t>=f[n]&&t<=f[n+1]){x[e]=0,g[e]=0;break}}}return new l({width:n,height:o,pixelType:h,pixels:[x],mask:g})}function d(t,e,n,l){const i=null!=n&&n.length>=2?new Set(n):null,o=1===n?.length?n[0]:null,s=!!e?.length;for(let r=0;r<t.length;r++)if(l[r]){const n=t[r];if(s){let t=!1;for(let l=0;l<e.length;l+=2)if(n>=e[l]&&n<=e[l+1]){t=!0;break}t||(l[r]=0)}l[r]&&(n===o||i?.has(n))&&(l[r]=0)}}function y(t,e){const n=t[0].length;for(let l=0;l<n;l++)if(e[l]){let n=!1;for(let e=0;e<t.length;e++)if(t[e][l]){n=!0;break}n||(e[l]=0)}}function w(t,e){const n=t[0].length;for(let l=0;l<n;l++)if(e[l]){let n=!1;for(let e=0;e<t.length;e++)if(0===t[e][l]){n=!0;break}n&&(e[l]=0)}}function k(t,e){if(!a(t))return null;const{width:n,height:i,pixels:o}=t,s=n*i,r=new Uint8Array(s);t.mask?r.set(t.mask):r.fill(255);const h=o.length,{includedRanges:f,noDataValues:c,outputPixelType:u,matchAll:p,lookups:m}=e;if(m){const t=[];for(let e=0;e<h;e++){const n=m[e],l=x(o[e],r,n.lut,n.offset||0,\"u8\");t.push(l)}1===t.length?r.set(t[0]):p?y(t,r):w(t,r)}else if(p){const t=[];for(let e=0;e<h;e++){const n=new Uint8Array(s);n.set(r),d(o[e],f?.slice(2*e,2*e+2),c?.[e],n),t.push(n)}1===t.length?r.set(t[0]):y(t,r)}else for(let l=0;l<h;l++)d(o[l],f?.slice(2*l,2*l+2),c?.[l],r);return new l({width:n,height:i,pixelType:u,pixels:o,mask:r})}function M(t){const{srcPixelType:e,inputRanges:n,outputValues:o,allowUnmatched:s,noDataRanges:r,isLastInputRangeInclusive:a,outputPixelType:h}=t;if(\"u8\"!==e&&\"s8\"!==e&&\"u16\"!==e&&\"s16\"!==e)return null;const f=e.includes(\"16\")?65536:256,c=e.includes(\"s\")?-f/2:0,u=l.createEmptyBand(h,f),p=new Uint8Array(f);s&&p.fill(255);const[x,m]=i(h);if(n?.length&&o?.length){const t=1e-6,e=n.map((e=>e-t));e[0]=n[0],a&&(e[e.length-1]=n[n.length-1]);for(let n=0;n<e.length;n++){const t=o[n]>m?m:o[n]<x?x:o[n],l=Math.ceil(e[2*n]-c),i=Math.floor(e[2*n+1]-c);for(let e=l;e<=i;e++)u[e]=t,p[e]=255}}if(r?.length)for(let l=0;l<r.length;l++){const t=Math.ceil(r[2*l]-c),e=Math.floor(r[2*l+1]-c);for(let n=t;n<=e;n++)p[n]=0}return{lut:u,offset:c,mask:p}}function A(t,e,n){if(\"u8\"!==t&&\"s8\"!==t&&\"u16\"!==t&&\"s16\"!==t)return null;const l=t.includes(\"16\")?65536:256,i=t.includes(\"s\")?-l/2:0,o=new Uint8Array(l);if(e)for(let s=0;s<e.length;s++){const t=Math.ceil(e[2*s]-i),n=Math.floor(e[2*s+1]-i);for(let e=t;e<=n;e++)o[e]=255}else o.fill(255);if(n)for(let s=0;s<n.length;s++)o[n[s]-i]=0;return{lut:o,offset:i}}function U(t,e,n,l,i,o,s,r){return{xmin:i<=n*t?0:i<n*t+t?i-n*t:t,ymin:o<=l*e?0:o<l*e+e?o-l*e:e,xmax:i+s<=n*t?0:i+s<n*t+t?i+s-n*t:t,ymax:o+r<=l*e?0:o+r<l*e+e?o+r-l*e:e}}function T(t,n){if(!t||0===t.length)return null;const l=t.find((t=>t.pixelBlock));if(!l||e(l.pixelBlock))return null;const i=(l.extent.xmax-l.extent.xmin)/l.pixelBlock.width,o=(l.extent.ymax-l.extent.ymin)/l.pixelBlock.height,s=.01*Math.min(i,o),r=t.sort(((t,e)=>Math.abs(t.extent.ymax-e.extent.ymax)>s?e.extent.ymax-t.extent.ymax:Math.abs(t.extent.xmin-e.extent.xmin)>s?t.extent.xmin-e.extent.xmin:0)),a=Math.min.apply(null,r.map((t=>t.extent.xmin))),h=Math.min.apply(null,r.map((t=>t.extent.ymin))),f=Math.max.apply(null,r.map((t=>t.extent.xmax))),c=Math.max.apply(null,r.map((t=>t.extent.ymax))),u={x:Math.round((n.xmin-a)/i),y:Math.round((c-n.ymax)/o)},p={width:Math.round((f-a)/i),height:Math.round((c-h)/o)},x={width:Math.round((n.xmax-n.xmin)/i),height:Math.round((n.ymax-n.ymin)/o)};if(Math.round(p.width/l.pixelBlock.width)*Math.round(p.height/l.pixelBlock.height)!==r.length||u.x<0||u.y<0||p.width<x.width||p.height<x.height)return null;return{extent:n,pixelBlock:b(r.map((t=>t.pixelBlock)),p,{clipOffset:u,clipSize:x})}}function C(t,e,n,l,i,o){const{width:s,height:r}=n.block,{x:a,y:h}=n.offset,{width:f,height:c}=n.mosaic,u=U(s,r,l,i,a,h,f,c);let p=0,x=0;if(o){const t=o.hasGCSSShiftTransform?360:o.halfWorldWidth??0,e=s*o.resolutionX,n=o.startX+l*e;n<t&&n+e>t?x=o.rightPadding:n>=t&&(p=o.leftMargin-o.rightPadding,x=0)}if(u.xmax-=x,\"number\"!=typeof e)for(let m=u.ymin;m<u.ymax;m++){const n=(i*r+m-h)*f+(l*s-a)+p,o=m*s;for(let l=u.xmin;l<u.xmax;l++)t[n+l]=e[o+l]}else for(let m=u.ymin;m<u.ymax;m++){const n=(i*r+m-h)*f+(l*s-a)+p;for(let l=u.xmin;l<u.xmax;l++)t[n+l]=e}}function b(n,i,o={}){const{clipOffset:s,clipSize:r,alignmentInfo:h,blockWidths:f}=o;if(f)return P(n,i,{blockWidths:f});const c=n.find((t=>a(t)));if(e(c))return null;const u=r?r.width:i.width,p=r?r.height:i.height,x=c.width,m=c.height,g=i.width/x,d=i.height/m,y={offset:s||{x:0,y:0},mosaic:r||i,block:{width:x,height:m}},w=c.pixelType,k=l.getPixelArrayConstructor(w),M=c.pixels.length,A=[];let U,T;for(let t=0;t<M;t++){T=new k(u*p);for(let e=0;e<d;e++)for(let l=0;l<g;l++){const i=n[e*g+l];a(i)&&(U=i.pixels[t],C(T,U,y,l,e,h))}A.push(T)}let b;if(n.some((n=>e(n)||t(n.mask)&&n.mask.length>0))){b=new Uint8Array(u*p);for(let e=0;e<d;e++)for(let l=0;l<g;l++){const i=n[e*g+l],o=t(i)?i.mask:null;t(o)?C(b,o,y,l,e,h):C(b,i?1:0,y,l,e,h)}}const S=new l({width:u,height:p,pixels:A,pixelType:w,mask:b});return S.updateStatistics(),S}function P(i,o,s){const r=i.find((e=>t(e)));if(e(r))return null;const h=i.some((e=>!t(e)||!!e.mask)),{width:f,height:c}=o,u=h?new Uint8Array(f*c):null,{blockWidths:p}=s,x=[],m=r.getPlaneCount(),g=l.getPixelArrayConstructor(r.pixelType);if(h)for(let t=0,e=0;t<i.length;e+=p[t],t++){const l=i[t];if(!a(l))continue;const o=n(l.mask);for(let n=0;n<c;n++)for(let i=0;i<p[t];i++)u[n*f+i+e]=null==o?255:o[n*l.width+i]}for(let t=0;t<m;t++){const e=new g(f*c);for(let n=0,l=0;n<i.length;l+=p[n],n++){const o=i[n];if(!a(o))continue;const s=o.pixels[t];if(null!=s)for(let t=0;t<c;t++)for(let i=0;i<p[n];i++)e[t*f+i+l]=s[t*o.width+i]}x.push(e)}const d=new l({width:f,height:c,mask:u,pixels:x,pixelType:r.pixelType});return d.updateStatistics(),d}function S(t,e,n){if(!a(t))return null;const{width:l,height:i}=t,o=e.x,s=e.y,r=n.width+o,h=n.height+s;if(o<0||s<0||r>l||h>i)return t;if(0===o&&0===s&&r===l&&h===i)return t;t.mask||(t.mask=new Uint8Array(l*i));const f=t.mask;for(let a=0;a<i;a++){const t=a*l;for(let e=0;e<l;e++)f[t+e]=a<s||a>=h||e<o||e>=r?0:1}return t.updateStatistics(),t}function B(t){if(!a(t))return null;const e=t.clone(),{width:l,height:i,pixels:o}=t,s=o[0],r=e.pixels[0],h=n(t.mask);for(let n=2;n<i-1;n++){const t=new Map;for(let i=n-2;i<n+2;i++)for(let e=0;e<4;e++){const n=i*l+e;_(t,s[n],h?h[n]:1)}r[n*l]=v(t),r[n*l+1]=r[n*l+2]=r[n*l];let e=3;for(;e<l-1;e++){let i=(n-2)*l+e+1;_(t,s[i],h?h[i]:1),i=(n-1)*l+e+1,_(t,s[i],h?h[i]:1),i=n*l+e+1,_(t,s[i],h?h[i]:1),i=(n+1)*l+e+1,_(t,s[i],h?h[i]:1),i=(n-2)*l+e-3,I(t,s[i],h?h[i]:1),i=(n-1)*l+e-3,I(t,s[i],h?h[i]:1),i=n*l+e-3,I(t,s[i],h?h[i]:1),i=(n+1)*l+e-3,I(t,s[i],h?h[i]:1),r[n*l+e]=v(t)}r[n*l+e+1]=r[n*l+e]}for(let n=0;n<l;n++)r[n]=r[l+n]=r[2*l+n],r[(i-1)*l+n]=r[(i-2)*l+n];return e.updateStatistics(),e}function v(t){if(0===t.size)return 0;let e=0,n=-1,l=0;const i=t.keys();let o=i.next();for(;!o.done;)l=t.get(o.value),l>e&&(n=o.value,e=l),o=i.next();return n}function I(t,e,n){if(0===n)return;const l=t.get(e);1===l?t.delete(e):t.set(e,l-1)}function _(t,e,n){0!==n&&t.set(e,t.has(e)?t.get(e)+1:1)}function W(t,e,i){let{x:o,y:s}=e;const{width:r,height:h}=i;if(0===o&&0===s&&h===t.height&&r===t.width)return t;const{width:f,height:c}=t,u=Math.max(0,s),p=Math.max(0,o),x=Math.min(o+r,f),m=Math.min(s+h,c);if(x<0||m<0||!a(t))return null;o=Math.max(0,-o),s=Math.max(0,-s);const{pixels:g}=t,d=r*h,y=g.length,w=[];for(let n=0;n<y;n++){const e=g[n],i=l.createEmptyBand(t.pixelType,d);for(let t=u;t<m;t++){const n=t*f;let l=(t+s-u)*r+o;for(let t=p;t<x;t++)i[l++]=e[n+t]}w.push(i)}const k=new Uint8Array(d),M=n(t.mask);for(let n=u;n<m;n++){const t=n*f;let e=(n+s-u)*r+o;for(let n=p;n<x;n++)k[e++]=M?M[t+n]:1}const A=new l({width:i.width,height:i.height,pixelType:t.pixelType,pixels:w,mask:k});return A.updateStatistics(),A}function E(e,n=!0){if(!a(e))return null;const{pixels:i,width:o,height:s,mask:r,pixelType:h}=e,f=[],c=Math.round(o/2),u=Math.round(s/2),p=s-1,x=o-1;for(let t=0;t<i.length;t++){const e=i[t],r=l.createEmptyBand(h,c*u);let a=0;for(let t=0;t<s;t+=2)for(let l=0;l<o;l+=2){const i=e[t*o+l];if(n){const n=l===x?i:e[t*o+l+1],s=t===p?i:e[t*o+l+o],h=l===x?s:t===p?n:e[t*o+l+o+1];r[a++]=(i+n+s+h)/4}else r[a++]=i}f.push(r)}let m=null;if(t(r)){m=new Uint8Array(c*u);let t=0;for(let e=0;e<s;e+=2)for(let l=0;l<o;l+=2){const i=r[e*o+l];if(n){const n=l===x?i:r[e*o+l+1],s=e===p?i:r[e*o+l+o],a=l===x?s:e===p?n:r[e*o+l+o+1];m[t++]=i*n*s*a?1:0}else m[t++]=i}}return new l({width:c,height:u,pixelType:h,pixels:f,mask:m})}function R(t,e,n){if(!a(t))return null;const{width:l,height:i}=e;let{width:o,height:s}=t;const r=new Map,h={x:0,y:0},f=null==n?1:1+n;let c=t;for(let a=0;a<f;a++){const t=Math.ceil(o/l),n=Math.ceil(s/i);for(let o=0;o<n;o++){h.y=o*i;for(let n=0;n<t;n++){h.x=n*l;const t=W(c,h,e);r.set(`${a}/${o}/${n}`,t)}}a<f-1&&(c=E(c)),o=Math.round(o/2),s=Math.round(s/2)}return r}function j(t,e,n,l,i=0){const{width:o,height:s}=t,{width:r,height:a}=e,h=l.cols,f=l.rows,c=Math.ceil(r/h-.1/h),u=Math.ceil(a/f-.1/f);let p,x,m,g,d,y,w;const k=c*h,M=k*u*f,A=new Float32Array(M),U=new Float32Array(M),T=new Uint32Array(M),C=new Uint32Array(M);let b,P,S=0;for(let B=0;B<u;B++)for(let t=0;t<c;t++){p=12*(B*c+t),x=n[p],m=n[p+1],g=n[p+2],d=n[p+3],y=n[p+4],w=n[p+5];for(let e=0;e<f;e++){S=(B*f+e)*k+t*h,P=(e+.5)/f;for(let t=0;t<e;t++)b=(t+.5)/h,A[S+t]=(x*b+m*P+g)*o+i,U[S+t]=(d*b+y*P+w)*s+i,T[S+t]=Math.floor(A[S+t]),C[S+t]=Math.floor(U[S+t])}p+=6,x=n[p],m=n[p+1],g=n[p+2],d=n[p+3],y=n[p+4],w=n[p+5];for(let e=0;e<f;e++){S=(B*f+e)*k+t*h,P=(e+.5)/f;for(let t=e;t<h;t++)b=(t+.5)/h,A[S+t]=(x*b+m*P+g)*o+i,U[S+t]=(d*b+y*P+w)*s+i,T[S+t]=Math.floor(A[S+t]),C[S+t]=Math.floor(U[S+t])}}return{offsets_x:A,offsets_y:U,offsets_xi:T,offsets_yi:C,gridWidth:k}}function D(t,e){const{coefficients:n,spacing:l}=e,{offsets_x:i,offsets_y:o,gridWidth:s}=j(t,t,n,{rows:l[0],cols:l[1]}),{width:r,height:a}=t,h=new Float32Array(r*a),f=180/Math.PI;for(let c=0;c<a;c++)for(let t=0;t<r;t++){const e=c*s+t,n=0===c?e:e-s,l=c===a-1?e:e+s,u=i[n]-i[l],p=o[l]-o[n];if(isNaN(u)||isNaN(p))h[c*r+t]=90;else{let e=Math.atan2(p,u)*f;e=(360+e)%360,h[c*r+t]=e}}return h}function F(e,n,i,o,s=\"nearest\"){if(!a(e))return null;\"majority\"===s&&(e=B(e));const{pixels:r,mask:h,pixelType:f}=e,c=e.width,u=e.height,p=l.getPixelArrayConstructor(f),x=r.length,{width:m,height:g}=n;let d=!1;for(let t=0;t<i.length;t+=3)-1===i[t]&&-1===i[t+1]&&-1===i[t+2]&&(d=!0);const{offsets_x:y,offsets_y:w,offsets_xi:k,offsets_yi:M,gridWidth:A}=j({width:c,height:u},n,i,o,\"majority\"===s?.5:0);let U;const T=(t,e,n)=>{const l=t instanceof Float32Array||t instanceof Float64Array?0:.5;for(let i=0;i<g;i++){U=i*A;for(let o=0;o<m;o++){if(y[U]<0||w[U]<0)t[i*m+o]=0;else if(n)t[i*m+o]=e[k[U]+M[U]*c];else{const n=Math.floor(y[U]),s=Math.floor(w[U]),r=Math.ceil(y[U]),a=Math.ceil(w[U]),f=y[U]-n,u=w[U]-s;if(!h||h[n+s*c]&&h[n+s*c]&&h[n+a*c]&&h[r+a*c]){const h=(1-f)*e[n+s*c]+f*e[r+s*c],p=(1-f)*e[n+a*c]+f*e[r+a*c];t[i*m+o]=(1-u)*h+u*p+l}else t[i*m+o]=e[k[U]+M[U]*c]}U++}}},C=[];let b;for(let t=0;t<x;t++)b=new p(m*g),T(b,r[t],\"nearest\"===s||\"majority\"===s),C.push(b);const P=new l({width:m,height:g,pixelType:f,pixels:C});if(t(h))P.mask=new Uint8Array(m*g),T(P.mask,h,!0);else if(d){P.mask=new Uint8Array(m*g);for(let t=0;t<m*g;t++)P.mask[t]=y[t]<0||w[t]<0?0:1}return P.updateStatistics(),P}export{r as MAX_MAP_SIZE_GPU,s as MissingBandAction,o as NoDataInterpretation,F as approximateTransform,W as clip,u as colorize,f as compositeBands,c as createColormapLUT,A as createMaskLUT,M as createRemapLUT,h as extractBands,U as getClipBounds,D as getLocalArithmeticNorthRotations,j as interpolateOffsets,a as isValidPixelBlock,x as lookupBandValues,p as lookupPixels,k as mask,b as mosaic,T as mosaicPixelData,g as remap,m as remapColor,B as resampleByMajority,S as setValidBoundary,R as split};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}