{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport \"../intl.js\";\nimport t from \"../core/Collection.js\";\nimport { eventKey as i } from \"../core/events.js\";\nimport o from \"../core/Handles.js\";\nimport n from \"../core/Logger.js\";\nimport { isNone as s, isSome as r } from \"../core/maybe.js\";\nimport { watch as l, when as a, on as c, whenOnce as d, initial as u } from \"../core/reactiveUtils.js\";\nimport { throttle as h } from \"../core/throttle.js\";\nimport { property as p } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as g } from \"../core/accessorSupport/decorators/cast.js\";\nimport \"../core/arrayUtils.js\";\nimport { subclass as m } from \"../core/accessorSupport/decorators/subclass.js\";\nimport v from \"./Feature.js\";\nimport f from \"./Spinner.js\";\nimport _ from \"./Widget.js\";\nimport { CSS as w } from \"./Feature/resources.js\";\nimport { FeatureContentMixin as b } from \"./Feature/support/FeatureContentMixin.js\";\nimport { getPointFromGeometry as M } from \"./Popup/actionUtils.js\";\nimport { CSS as y } from \"./Popup/css.js\";\nimport A from \"./Popup/PopupViewModel.js\";\nimport { Heading as k } from \"./support/Heading.js\";\nimport { accessibleHandler as F } from \"./support/decorators/accessibleHandler.js\";\nimport { messageBundle as C } from \"./support/decorators/messageBundle.js\";\nimport { vmEvent as I } from \"./support/decorators/vmEvent.js\";\nimport { tsx as x } from \"./support/jsxFactory.js\";\nimport { isRTL as O, storeNode as E, cssTransition as N } from \"./support/widgetUtils.js\";\nimport { isDarkTheme as P } from \"../support/themeUtils.js\";\nimport { substitute as T } from \"../intl/substitute.js\";\nconst B = \"selected-index\",\n      D = 0,\n      L = \"popup-spinner\",\n      S = {\n  buttonEnabled: !0,\n  position: \"auto\",\n  breakpoint: {\n    width: 544\n  }\n},\n      R = \"esri-popup\";\n\nfunction V(e, t) {\n  return void 0 === t ? `${R}__${e}` : `${R}__${e}-${t}`;\n}\n\nconst U = {\n  closeButton: !0,\n  featureNavigation: !0\n};\nlet W = class extends b(_) {\n  constructor(e, i) {\n    super(e, i), this._blurClose = !1, this._blurContainer = !1, this._containerNode = null, this._mainContainerNode = null, this._featureMenuNode = null, this._actionsMenuNode = null, this._focusClose = !1, this._focusContainer = !1, this._focusDockButton = !1, this._focusFeatureMenuButton = !1, this._focusActionsMenuButton = !1, this._focusFirstFeature = !1, this._focusFirstAction = !1, this._handles = new o(), this._pointerOffsetInPx = 16, this._spinner = null, this._feature = null, this._featureMenuIntersectionObserverNode = null, this._featureMenuViewportNode = null, this._rootFlowItemNode = null, this._featureMenuIntersectionObserverCallback = ([e]) => {\n      e?.isIntersecting && null != this.viewModel.featurePage && this.viewModel.featurePage++;\n    }, this._featureMenuIntersectionObserver = new IntersectionObserver(this._featureMenuIntersectionObserverCallback, {\n      root: window.document\n    }), this._displaySpinnerThrottled = h(() => this._displaySpinner(), D), this._exitRelatedRecordsActions = new WeakMap(), this._featureSelectionActions = new WeakMap(), this._flowItems = new t(), this.alignment = \"auto\", this.collapsed = !1, this.collapseEnabled = !0, this.dockEnabled = !1, this.featureMenuOpen = !1, this.headingLevel = 2, this.maxInlineActions = 3, this.messages = null, this.messagesCommon = null, this.spinnerEnabled = !0, this.viewModel = new A(), this.visibleElements = { ...U\n    }, this._handleOpenRelatedFeature = e => {\n      this._openRelatedFeature(e);\n    }, this._addSelectedFeatureIndexHandle(), this.addHandles([l(() => this.viewModel?.screenLocation, () => this._positionContainer()), l(() => [this.viewModel?.active, this.dockEnabled], () => this._toggleScreenLocationEnabled()), l(() => this.viewModel?.screenLocation, (e, t) => {\n      !!e != !!t && this.reposition();\n    }), l(() => [this.viewModel?.view?.padding, this.viewModel?.view?.size, this.viewModel?.active, this.viewModel?.location, this.alignment], () => this.reposition()), l(() => this.spinnerEnabled, e => this._spinnerEnabledChange(e)), l(() => this.viewModel?.view?.size, (e, t) => this._updateDockEnabledForViewSize(e, t)), l(() => this.viewModel?.view, (e, t) => this._viewChange(e, t)), l(() => this.viewModel?.view?.ready, (e, t) => this._viewReadyChange(e ?? !1, t ?? !1)), l(() => [this.viewModel?.waitingForResult, this.viewModel?.location], () => {\n      this._hideSpinner(), this._displaySpinnerThrottled();\n    }), l(() => this.selectedFeatureWidget, () => this._destroyFlowItemWidgets()), l(() => [this.selectedFeatureWidget?.viewModel?.title, this.selectedFeatureWidget?.viewModel?.state], () => this._setTitleFromFeatureWidget()), l(() => [this.selectedFeatureWidget?.viewModel?.content, this.selectedFeatureWidget?.viewModel?.state], () => this._setContentFromFeatureWidget()), a(() => !this.collapsed, () => {\n      \"xsmall\" === this.viewModel?.view?.widthBreakpoint && this.viewModel.active && this.collapseEnabled && this.viewModel.centerAtLocation();\n    }), c(() => this.viewModel?.allActions, \"change\", () => this._watchActions()), l(() => this.viewModel?.allActions, () => this._watchActions(), u), l(() => this.viewModel?.featureViewModels, () => this._featureMenuViewportScrollTop()), c(() => this._flowItems, \"change\", () => {\n      this.notifyChange(\"_activeFlowItemWidget\"), this.scheduleRender();\n    }), l(() => [this._activeFlowItemWidget?.viewModel?.state, this._activeFlowItemWidget?.viewModel?.title], () => this.scheduleRender())]);\n  }\n\n  loadDependencies() {\n    return Promise.all([import(\"@esri/calcite-components/dist/components/calcite-flow.js\"), import(\"@esri/calcite-components/dist/components/calcite-flow-item.js\"), import(\"@esri/calcite-components/dist/components/calcite-action.js\"), import(\"@esri/calcite-components/dist/components/calcite-tooltip.js\"), import(\"@esri/calcite-components/dist/components/calcite-icon.js\")]);\n  }\n\n  destroy() {\n    this._destroyFlowItemWidgets(), this._destroySelectedFeatureWidget(), this._destroySpinner(), this._handles?.destroy(), this._unobserveFeatureMenuObserver(), this._featureMenuIntersectionObserver?.disconnect();\n  }\n\n  get actionsMenuId() {\n    return `${this.id}-actions-menu`;\n  }\n\n  get actionsMenuButtonId() {\n    return `${this.id}-actions-menu-button`;\n  }\n\n  get featureMenuId() {\n    return `${this.id}-feature-menu`;\n  }\n\n  get titleId() {\n    return `${this.id}-popup-title`;\n  }\n\n  get contentId() {\n    return `${this.id}-popup-content`;\n  }\n\n  get hasContent() {\n    const {\n      selectedFeatureWidget: e,\n      viewModel: t\n    } = this;\n    if (!e) return !!t?.content;\n    const i = e.viewModel;\n    if (i?.waitingForContent || \"error\" === i?.state) return !0;\n    const o = i?.content;\n    return Array.isArray(o) ? !!o.length : !!o;\n  }\n\n  get featureNavigationVisible() {\n    return this.viewModel.active && this.viewModel.featureCount > 1 && null != this.visibleElements.featureNavigation;\n  }\n\n  get collapsible() {\n    return !!(this.collapseEnabled && this.viewModel.title && this.hasContent);\n  }\n\n  get featureMenuVisible() {\n    return this.featureNavigationVisible && this.featureMenuOpen;\n  }\n\n  get contentCollapsed() {\n    return this.collapsible && !this.featureMenuVisible && this.collapsed;\n  }\n\n  get dividedActions() {\n    return this._divideActions();\n  }\n\n  get _activeFlowItemWidget() {\n    const {\n      _flowItems: e\n    } = this;\n    return e.getItemAt(e.length - 1) || null;\n  }\n\n  get actions() {\n    return this.viewModel.actions;\n  }\n\n  set actions(e) {\n    this.viewModel.actions = e;\n  }\n\n  set actionsMenuOpen(e) {\n    this._set(\"actionsMenuOpen\", !!e);\n  }\n\n  get actionsMenuOpen() {\n    return !!this.viewModel.active && this._get(\"actionsMenuOpen\");\n  }\n\n  get autoCloseEnabled() {\n    return this.viewModel.autoCloseEnabled;\n  }\n\n  set autoCloseEnabled(e) {\n    this.viewModel.autoCloseEnabled = e;\n  }\n\n  get autoOpenEnabled() {\n    return this.viewModel.autoOpenEnabled;\n  }\n\n  set autoOpenEnabled(e) {\n    this.viewModel.autoOpenEnabled = e;\n  }\n\n  get defaultPopupTemplateEnabled() {\n    return this.viewModel.defaultPopupTemplateEnabled;\n  }\n\n  set defaultPopupTemplateEnabled(e) {\n    this.viewModel.defaultPopupTemplateEnabled = e;\n  }\n\n  get content() {\n    return this.viewModel.content;\n  }\n\n  set content(e) {\n    this.viewModel.content = e;\n  }\n\n  get currentAlignment() {\n    return this._getCurrentAlignment();\n  }\n\n  get currentDockPosition() {\n    return this._getCurrentDockPosition();\n  }\n\n  get dockOptions() {\n    return this._get(\"dockOptions\") || S;\n  }\n\n  set dockOptions(e) {\n    const t = { ...S\n    },\n          i = this.viewModel?.view?.breakpoints,\n          o = {};\n    i && (o.width = i.xsmall, o.height = i.xsmall);\n    const n = { ...t,\n      ...e\n    },\n          s = { ...t.breakpoint,\n      ...o\n    },\n          {\n      breakpoint: r\n    } = n;\n    \"object\" == typeof r ? n.breakpoint = { ...s,\n      ...r\n    } : r && (n.breakpoint = s), this._set(\"dockOptions\", n), this._setCurrentDockPosition(), this.reposition();\n  }\n\n  get featureCount() {\n    return this.viewModel.featureCount;\n  }\n\n  get features() {\n    return this.viewModel.features;\n  }\n\n  set features(e) {\n    this.viewModel.features = e;\n  }\n\n  get goToOverride() {\n    return this.viewModel.goToOverride;\n  }\n\n  set goToOverride(e) {\n    this.viewModel.goToOverride = e;\n  }\n\n  get highlightEnabled() {\n    return this.viewModel.highlightEnabled;\n  }\n\n  set highlightEnabled(e) {\n    this.viewModel.highlightEnabled = e;\n  }\n\n  get location() {\n    return this.viewModel.location;\n  }\n\n  set location(e) {\n    this.viewModel.location = e;\n  }\n\n  get label() {\n    return this.messages?.widgetLabel ?? \"\";\n  }\n\n  set label(e) {\n    this._overrideIfSome(\"label\", e);\n  }\n\n  get promises() {\n    return this.viewModel.promises;\n  }\n\n  set promises(e) {\n    this.viewModel.promises = e;\n  }\n\n  get selectedFeature() {\n    return this.viewModel.selectedFeature;\n  }\n\n  get selectedFeatureIndex() {\n    return this.viewModel.selectedFeatureIndex;\n  }\n\n  set selectedFeatureIndex(e) {\n    this.viewModel.selectedFeatureIndex = e;\n  }\n\n  get selectedFeatureWidget() {\n    const {\n      _feature: e,\n      visibleElements: t,\n      headingLevel: i,\n      _flowItems: o\n    } = this,\n          {\n      selectedFeatureViewModel: n\n    } = this.viewModel,\n          s = { ...t,\n      title: !1\n    };\n    return n ? (e ? (e.viewModel = n, e.visibleElements = s) : this._feature = new v({\n      flowItems: o,\n      headingLevel: i + 1,\n      viewModel: n,\n      visibleElements: s\n    }), this._feature) : null;\n  }\n\n  get title() {\n    return this.viewModel.title;\n  }\n\n  set title(e) {\n    this.viewModel.title = e;\n  }\n\n  get updateLocationEnabled() {\n    return this.viewModel.updateLocationEnabled;\n  }\n\n  set updateLocationEnabled(e) {\n    this.viewModel.updateLocationEnabled = e;\n  }\n\n  get view() {\n    return this.viewModel.view;\n  }\n\n  set view(e) {\n    this.viewModel.view = e;\n  }\n\n  get visible() {\n    return this.viewModel.visible;\n  }\n\n  set visible(e) {\n    this.viewModel.visible = e;\n  }\n\n  castVisibleElements(e) {\n    return { ...U,\n      ...e\n    };\n  }\n\n  blur() {\n    const {\n      active: e\n    } = this.viewModel;\n    e || n.getLogger(this.declaredClass).warn(\"Popup can only be blurred when currently active.\"), this.visibleElements.closeButton ? this._blurClose = !0 : this._blurContainer = !0, this.scheduleRender();\n  }\n\n  clear() {\n    return this.viewModel.clear();\n  }\n\n  close() {\n    this.visible = !1;\n  }\n\n  fetchFeatures(e, t) {\n    return this.viewModel.fetchFeatures(e, t);\n  }\n\n  focus() {\n    const {\n      active: e\n    } = this.viewModel;\n    e || n.getLogger(this.declaredClass).warn(\"Popup can only be focused when currently active.\"), this.visibleElements.closeButton ? this._focusClose = !0 : this._focusContainer = !0, this.scheduleRender();\n  }\n\n  next() {\n    return this.viewModel.next();\n  }\n\n  open(e) {\n    this._handles.remove(B);\n\n    const t = !!e && !!e.featureMenuOpen,\n          i = !!e && !!e.actionsMenuOpen,\n          o = {\n      collapsed: !!e && !!e.collapsed,\n      actionsMenuOpen: i,\n      featureMenuOpen: t\n    };\n    \"xsmall\" === this.viewModel?.view?.widthBreakpoint && (o.collapsed = !0), this.set(o), this.viewModel.open(e), this._shouldFocus(e), this._addSelectedFeatureIndexHandle();\n  }\n\n  previous() {\n    return this.viewModel.previous();\n  }\n\n  reposition() {\n    this.renderNow(), this._positionContainer(), this._setCurrentAlignment();\n  }\n\n  triggerAction(e) {\n    return this.viewModel.triggerAction(e);\n  }\n\n  render() {\n    const {\n      actionsMenuOpen: e,\n      dockEnabled: t,\n      featureMenuVisible: i,\n      dividedActions: o,\n      currentAlignment: n,\n      currentDockPosition: s\n    } = this,\n          {\n      active: r\n    } = this.viewModel,\n          {\n      menuActions: l\n    } = o,\n          a = r && l.length > 1 && e,\n          c = r && t,\n          d = r && !t,\n          u = this.selectedFeature?.layer?.title,\n          h = this.selectedFeature?.layer?.id,\n          p = {\n      [y.alignTopCenter]: \"top-center\" === n,\n      [y.alignBottomCenter]: \"bottom-center\" === n,\n      [y.alignTopLeft]: \"top-left\" === n,\n      [y.alignBottomLeft]: \"bottom-left\" === n,\n      [y.alignTopRight]: \"top-right\" === n,\n      [y.alignBottomRight]: \"bottom-right\" === n,\n      [y.isDocked]: c,\n      [y.shadow]: d,\n      [y.isDockedTopLeft]: \"top-left\" === s,\n      [y.isDockedTopCenter]: \"top-center\" === s,\n      [y.isDockedTopRight]: \"top-right\" === s,\n      [y.isDockedBottomLeft]: \"bottom-left\" === s,\n      [y.isDockedBottomCenter]: \"bottom-center\" === s,\n      [y.isDockedBottomRight]: \"bottom-right\" === s,\n      [y.isFeatureMenuOpen]: i,\n      [y.isActionsMenuOpen]: a\n    };\n    return x(\"div\", {\n      class: this.classes(y.base, p),\n      role: \"presentation\",\n      \"data-layer-title\": u,\n      \"data-layer-id\": h,\n      bind: this,\n      afterCreate: this._positionContainer,\n      afterUpdate: this._positionContainer\n    }, r ? [this.renderMainContainer(), this.renderPointer()] : null);\n  }\n\n  renderLoadingIcon() {\n    return x(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(y.icon, y.iconLoading, y.rotating)\n    });\n  }\n\n  renderNavigationLoading() {\n    const {\n      messagesCommon: e\n    } = this;\n    return this.viewModel.pendingPromisesCount ? x(\"div\", {\n      key: V(\"loading-container\"),\n      role: \"presentation\",\n      class: y.loadingContainer,\n      \"aria-label\": e.loading,\n      title: e.loading\n    }, this.renderLoadingIcon()) : null;\n  }\n\n  renderPreviousIcon() {\n    const e = O(this.container),\n          t = {\n      [y.iconRightTriangleArrow]: e,\n      [y.paginationPreviousIconRTL]: e,\n      [y.iconLeftTriangleArrow]: !e,\n      [y.paginationPreviousIconLTR]: !e\n    };\n    return x(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(y.icon, t)\n    });\n  }\n\n  renderPreviousButton() {\n    const {\n      messages: e\n    } = this;\n    return x(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._previous,\n      onkeydown: this._previous,\n      class: this.classes(y.button, y.paginationPrevious),\n      \"aria-label\": e.previous,\n      title: e.previous\n    }, this.renderPreviousIcon());\n  }\n\n  renderNextIcon() {\n    const e = O(this.container),\n          t = {\n      [y.iconLeftTriangleArrow]: e,\n      [y.paginationNextIconRTL]: e,\n      [y.iconRightTriangleArrow]: !e,\n      [y.paginationNextIconLTR]: !e\n    };\n    return x(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(y.icon, t)\n    });\n  }\n\n  renderNextButton() {\n    const {\n      messages: e\n    } = this;\n    return x(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._next,\n      onkeydown: this._next,\n      class: this.classes(y.button, y.paginationNext),\n      \"aria-label\": e.next,\n      title: e.next\n    }, this.renderNextIcon());\n  }\n\n  renderFeatureMenuButton() {\n    const {\n      featureMenuOpen: e,\n      featureMenuId: t,\n      messagesCommon: i\n    } = this,\n          {\n      featureCount: o,\n      selectedFeatureIndex: n\n    } = this.viewModel;\n    return x(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._toggleFeatureMenu,\n      onkeydown: this._toggleFeatureMenu,\n      afterCreate: this._focusFeatureMenuButtonNode,\n      afterUpdate: this._focusFeatureMenuButtonNode,\n      class: this.classes(y.button, y.featureMenuButton),\n      \"aria-haspopup\": \"true\",\n      \"aria-controls\": t,\n      \"aria-expanded\": e.toString(),\n      \"aria-label\": i.menu,\n      title: i.menu\n    }, this._getPageText(o, n));\n  }\n\n  renderNavigationButtons() {\n    return this.featureNavigationVisible ? [this.renderPreviousButton(), this.renderNavigationLoading() || this.renderFeatureMenuButton(), this.renderNextButton()] : [];\n  }\n\n  renderDockIcon() {\n    const {\n      dockEnabled: e\n    } = this,\n          t = this._wouldDockTo(),\n          i = {\n      [y.iconUndock]: e,\n      [y.iconDock]: !e,\n      [y.iconDockToRight]: !e && (\"top-right\" === t || \"bottom-right\" === t),\n      [y.iconDockToLeft]: !e && (\"top-left\" === t || \"bottom-left\" === t),\n      [y.iconDockToTop]: !e && \"top-center\" === t,\n      [y.iconDockToBottom]: !e && \"bottom-center\" === t\n    };\n\n    return x(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(i, y.icon)\n    });\n  }\n\n  renderDockButton() {\n    const {\n      dockEnabled: e,\n      messages: t\n    } = this,\n          i = this.viewModel?.view?.widthBreakpoint,\n          o = e ? t.undock : t.dock;\n    return \"xsmall\" !== i && this.dockOptions?.buttonEnabled ? x(\"div\", {\n      role: \"button\",\n      \"aria-label\": o,\n      title: o,\n      tabIndex: 0,\n      bind: this,\n      onclick: this._toggleDockEnabled,\n      onkeydown: this._toggleDockEnabled,\n      afterCreate: this._focusDockButtonNode,\n      afterUpdate: this._focusDockButtonNode,\n      class: this.classes(y.button, y.buttonDock)\n    }, this.renderDockIcon()) : null;\n  }\n\n  renderTitle() {\n    const {\n      title: e\n    } = this.viewModel,\n          {\n      titleId: t,\n      collapsible: i,\n      contentCollapsed: o,\n      messagesCommon: n\n    } = this,\n          s = {\n      [y.headerContainerButton]: i\n    },\n          r = x(k, {\n      level: this.headingLevel,\n      class: y.headerTitle,\n      innerHTML: e ?? \"\"\n    }),\n          l = i ? x(\"button\", {\n      key: `${e}--collapsible`,\n      id: t,\n      title: o ? n.expand : n.collapse,\n      bind: this,\n      enterAnimation: this._createFeatureUpdatedAnimation(),\n      class: this.classes(y.headerContainer, s),\n      \"aria-expanded\": o ? \"false\" : \"true\",\n      onclick: this._toggleCollapsed,\n      type: \"button\"\n    }, r, x(\"calcite-icon\", {\n      class: y.collapseIcon,\n      key: \"collapse-icon\",\n      icon: o ? \"chevron-down\" : \"chevron-up\",\n      scale: \"m\"\n    })) : x(\"div\", {\n      key: e ?? \"title\",\n      id: t,\n      bind: this,\n      enterAnimation: this._createFeatureUpdatedAnimation(),\n      class: this.classes(y.headerContainer, s)\n    }, r);\n    return e ? l : null;\n  }\n\n  renderCloseIcon() {\n    return x(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(y.icon, y.iconClose)\n    });\n  }\n\n  renderCloseButton() {\n    const {\n      visibleElements: e,\n      messagesCommon: t\n    } = this;\n    return e.closeButton ? x(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._close,\n      onkeydown: this._close,\n      class: y.button,\n      \"aria-label\": t.close,\n      title: t.close,\n      afterCreate: this._closeButtonNodeUpdated,\n      afterUpdate: this._closeButtonNodeUpdated\n    }, this.renderCloseIcon()) : null;\n  }\n\n  renderHeader() {\n    return x(\"header\", {\n      class: y.header\n    }, this.renderTitle(), x(\"div\", {\n      class: y.headerButtons\n    }, this.renderDockButton(), this.renderCloseButton()));\n  }\n\n  renderContentContainer() {\n    const {\n      contentId: e,\n      hasContent: t,\n      contentCollapsed: i,\n      _flowItems: o\n    } = this,\n          {\n      content: n\n    } = this.viewModel,\n          s = o.toArray(),\n          r = {\n      [y.contentHasFlows]: !!s.length\n    };\n    return t && !i ? x(\"div\", {\n      key: n ?? \"content\",\n      enterAnimation: this._createFeatureUpdatedAnimation(),\n      id: e,\n      class: this.classes(y.content, r)\n    }, x(\"calcite-flow\", {\n      bind: this\n    }, x(\"calcite-flow-item\", {\n      bind: this,\n      \"data-node-ref\": \"_rootFlowItemNode\",\n      afterCreate: E,\n      key: \"root-flow-item\",\n      onCalciteFlowItemBack: this._handleBackClick\n    }, this.renderContent()), s.map(e => this.renderFlowItem(e))), s.map(e => this.renderFlowItemTooltips(e))) : null;\n  }\n\n  renderFlowItem(e) {\n    const {\n      messages: t\n    } = this,\n          i = P(),\n          o = \"graphic\" in e && !e.isTable;\n    return x(\"calcite-flow-item\", {\n      bind: this,\n      class: this.classes({\n        [y.calciteThemeDark]: !i,\n        [y.calciteThemeLight]: i\n      }),\n      heading: e.title ?? \"\",\n      description: this._getFlowItemDescription(e),\n      onCalciteFlowItemBack: this._handleBackClick,\n      key: `flow-item-${e.viewModel.uid}`\n    }, x(\"calcite-action\", {\n      class: y.actionExit,\n      icon: \"move-up\",\n      label: t?.exitRelatedRecords,\n      text: t?.exitRelatedRecords,\n      slot: \"header-actions-start\",\n      bind: this,\n      afterCreate: t => this._storeExitRelatedRecordsAction(e, t),\n      onclick: this._destroyFlowItemWidgets\n    }), o ? x(\"calcite-action\", {\n      class: y.actionSelectFeature,\n      icon: \"zoom-to-object\",\n      label: t?.selectFeature,\n      text: t?.selectFeature,\n      slot: \"header-actions-end\",\n      bind: this,\n      afterCreate: t => this._storeFeatureSelectionAction(e, t),\n      onclick: () => this._handleOpenRelatedFeature(e)\n    }) : null, x(\"div\", {\n      class: this.classes(y.contentFlowItem, {\n        [y.calciteThemeDark]: i,\n        [y.calciteThemeLight]: !i\n      })\n    }, e.render()));\n  }\n\n  renderFlowItemTooltips(e) {\n    const {\n      messages: t,\n      _exitRelatedRecordsActions: i,\n      _featureSelectionActions: o\n    } = this,\n          n = P(),\n          s = o.get(e);\n    return [x(\"calcite-tooltip\", {\n      class: this.classes({\n        [y.calciteThemeDark]: !n,\n        [y.calciteThemeLight]: n\n      }),\n      key: `exit-related-records-tooltip-${e.viewModel.uid}`,\n      label: t?.exitRelatedRecords,\n      overlayPositioning: \"fixed\",\n      referenceElement: i.get(e),\n      placement: \"top\"\n    }, t?.exitRelatedRecords), s ? x(\"calcite-tooltip\", {\n      class: this.classes({\n        [y.calciteThemeDark]: !n,\n        [y.calciteThemeLight]: n\n      }),\n      key: `select-related-record-tooltip-${e.viewModel.uid}`,\n      label: t?.selectFeature,\n      overlayPositioning: \"fixed\",\n      referenceElement: s,\n      placement: \"top\"\n    }, t?.selectFeature) : null];\n  }\n\n  renderActionsMenuButton() {\n    const {\n      actionsMenuId: e,\n      actionsMenuButtonId: t,\n      actionsMenuOpen: i,\n      dividedActions: o,\n      messagesCommon: n\n    } = this,\n          s = i ? n.close : n.open,\n          {\n      menuActions: r\n    } = o;\n    return r.length ? x(\"div\", {\n      key: V(\"actions-menu-button\"),\n      class: this.classes(y.button, y.actionsMenuButton),\n      role: \"button\",\n      id: t,\n      \"aria-haspopup\": \"true\",\n      \"aria-controls\": i ? e : null,\n      tabIndex: 0,\n      bind: this,\n      onclick: this._toggleActionsMenu,\n      onkeydown: this._toggleActionsMenu,\n      afterCreate: this._focusActionsMenuButtonNode,\n      afterUpdate: this._focusActionsMenuButtonNode,\n      \"aria-label\": s,\n      title: s\n    }, x(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: y.iconActionsMenu\n    })) : null;\n  }\n\n  renderMenuActions() {\n    const {\n      actionsMenuId: e,\n      actionsMenuButtonId: t,\n      actionsMenuOpen: i,\n      dividedActions: o\n    } = this,\n          {\n      menuActions: n\n    } = o;\n    return n.length && i ? x(\"ul\", {\n      id: e,\n      role: \"menu\",\n      \"aria-labelledby\": t,\n      key: V(\"actions\"),\n      class: y.actions,\n      bind: this,\n      onkeyup: this._handleActionMenuKeyup,\n      afterCreate: this._actionsMenuNodeUpdated,\n      afterUpdate: this._actionsMenuNodeUpdated\n    }, n.toArray().map(e => this.renderAction({\n      action: e,\n      type: \"menu-item\"\n    }))) : null;\n  }\n\n  renderInlineActions() {\n    const {\n      inlineActions: e\n    } = this.dividedActions;\n    return e.length ? e.toArray().map(e => this.renderAction({\n      action: e,\n      type: \"inline\"\n    })) : [];\n  }\n\n  renderInlineActionsContainer() {\n    const {\n      inlineActions: e,\n      menuActions: t\n    } = this.dividedActions,\n          i = !!e.length,\n          o = !!t.length;\n    return i || o ? x(\"div\", {\n      key: \"inline-actions-container\",\n      \"data-inline-actions\": i.toString(),\n      \"data-menu-actions\": o.toString(),\n      class: y.inlineActionsContainer\n    }, this.renderInlineActions(), this.renderActionsMenuButton(), this.renderMenuActions()) : null;\n  }\n\n  renderNavigation() {\n    return this.featureNavigationVisible ? x(\"section\", {\n      key: V(\"navigation\"),\n      class: this.classes(y.navigation)\n    }, this.renderNavigationButtons()) : null;\n  }\n\n  renderFooter() {\n    const {\n      featureNavigationVisible: e,\n      dividedActions: t\n    } = this,\n          {\n      inlineActions: i,\n      menuActions: o\n    } = t,\n          n = !!i.length,\n          s = !!o.length,\n          r = {\n      [y.footerHasPagination]: e,\n      [y.footerHasActions]: n,\n      [y.footerHasActionsMenu]: s\n    };\n    return e || n ? x(\"div\", {\n      key: V(\"feature-buttons\"),\n      class: this.classes(y.footer, r)\n    }, this.renderInlineActionsContainer(), this.renderNavigation()) : null;\n  }\n\n  renderFeatureMenuContainer() {\n    const {\n      messages: e\n    } = this,\n          {\n      featureViewModels: t,\n      isLoadingFeature: i\n    } = this.viewModel,\n          o = T(e.selectedFeatures, {\n      total: t.length\n    });\n    return x(\"section\", {\n      key: V(\"menu\"),\n      class: y.featureMenu\n    }, x(\"strong\", {\n      class: y.featureMenuHeader\n    }, o), x(\"nav\", {\n      bind: this,\n      class: y.featureMenuViewport,\n      \"data-node-ref\": \"_featureMenuViewportNode\",\n      afterCreate: E\n    }, this.renderFeatureMenu(), x(\"div\", {\n      class: y.featureMenuObserver,\n      bind: this,\n      afterCreate: this._featureMenuIntersectionObserverCreated\n    }), i ? x(\"div\", {\n      class: y.featureMenuLoader\n    }, this.renderLoadingIcon()) : null));\n  }\n\n  renderPointer() {\n    return this.dockEnabled ? null : x(\"div\", {\n      key: V(\"pointer\"),\n      class: y.pointer,\n      role: \"presentation\"\n    }, x(\"div\", {\n      class: this.classes(y.pointerDirection, y.shadow)\n    }));\n  }\n\n  renderMainContainer() {\n    const {\n      dockEnabled: e,\n      currentAlignment: t,\n      currentDockPosition: i,\n      titleId: o,\n      contentId: n,\n      collapsible: s,\n      hasContent: r,\n      contentCollapsed: l,\n      visibleElements: a\n    } = this,\n          {\n      title: c\n    } = this.viewModel,\n          d = \"bottom-left\" === t || \"bottom-center\" === t || \"bottom-right\" === t || \"top-left\" === i || \"top-center\" === i || \"top-right\" === i,\n          u = \"top-left\" === t || \"top-center\" === t || \"top-right\" === t || \"bottom-left\" === i || \"bottom-center\" === i || \"bottom-right\" === i,\n          h = {\n      [y.shadow]: e,\n      [y.isCollapsible]: s,\n      [y.isCollapsed]: l\n    };\n    return x(\"div\", {\n      class: this.classes(y.main, y.widget, h),\n      tabIndex: a.closeButton ? void 0 : -1,\n      role: \"dialog\",\n      \"aria-labelledby\": c ? o : \"\",\n      \"aria-describedby\": r && !l ? n : \"\",\n      bind: this,\n      onkeyup: this._handleMainKeyup,\n      afterCreate: this._mainContainerNodeUpdated,\n      afterUpdate: this._mainContainerNodeUpdated\n    }, d ? this.renderFooter() : null, d ? this.renderFeatureMenuContainer() : null, this.renderHeader(), this.renderContentContainer(), u ? this.renderFooter() : null, u ? this.renderFeatureMenuContainer() : null);\n  }\n\n  renderContent() {\n    const e = this.viewModel?.content;\n    return e ? \"string\" == typeof e ? x(\"div\", {\n      class: w.contentNode,\n      key: e,\n      innerHTML: e\n    }) : this.renderNodeContent(e) : null;\n  }\n\n  renderActionText(e) {\n    return x(\"span\", {\n      key: \"text\",\n      class: y.actionText\n    }, e);\n  }\n\n  renderActionIcon(e) {\n    const t = this._getActionClass(e),\n          i = this._getActionImage(e),\n          o = {\n      [y.iconLoading]: e.active,\n      [y.rotating]: e.active,\n      [y.icon]: !!t,\n      [y.actionImage]: !e.active && !!i\n    };\n\n    return t && (o[t] = !e.active), x(\"span\", {\n      key: \"icon\",\n      \"aria-hidden\": \"true\",\n      class: this.classes(y.icon, o),\n      styles: this._getIconStyles(i)\n    });\n  }\n\n  renderAction(e) {\n    const {\n      action: t,\n      type: i\n    } = e,\n          o = this._getActionTitle(t),\n          n = {\n      [y.action]: \"toggle\" !== t.type,\n      [y.actionToggle]: \"toggle\" === t.type,\n      [y.actionToggleOn]: \"toggle\" === t.type && t.value,\n      [y.buttonDisabled]: t.disabled\n    },\n          s = [this.renderActionIcon(t), this.renderActionText(o)],\n          r = \"menu-item\" === i ? x(\"li\", {\n      key: t.uid,\n      role: \"menuitem\",\n      tabIndex: 0,\n      title: o,\n      \"aria-label\": o,\n      class: this.classes(y.button, n),\n      onkeyup: this._handleActionMenuItemKeyup,\n      bind: this,\n      \"data-action-uid\": t.uid,\n      onclick: this._triggerAction,\n      onkeydown: this._triggerAction\n    }, s) : x(\"div\", {\n      key: t.uid,\n      role: \"button\",\n      tabIndex: 0,\n      title: o,\n      \"aria-label\": o,\n      class: this.classes(y.button, n),\n      onkeyup: this._handleActionMenuItemKeyup,\n      bind: this,\n      \"data-action-uid\": t.uid,\n      onclick: this._triggerAction,\n      onkeydown: this._triggerAction\n    }, s);\n\n    return t.visible ? r : null;\n  }\n\n  renderFeatureMenuItem(e, t) {\n    const {\n      messages: i,\n      messagesCommon: o\n    } = this,\n          {\n      selectedFeatureIndex: n,\n      selectedFeatureViewModel: s\n    } = this.viewModel,\n          r = e === s,\n          l = {\n      [y.featureMenuSelected]: r\n    },\n          a = r ? x(\"span\", {\n      key: V(`feature-menu-selected-feature-${n}`),\n      title: i.selectedFeature,\n      \"aria-label\": i.selectedFeature,\n      class: y.iconCheckMark\n    }) : null,\n          c = x(\"span\", {\n      innerHTML: e.title || o.untitled\n    });\n    return x(\"li\", {\n      role: \"menuitem\",\n      tabIndex: -1,\n      key: V(`feature-menu-feature-${n}`),\n      class: this.classes(l, y.featureMenuItem),\n      bind: this,\n      \"data-feature-index\": t,\n      onblur: this._removeActiveFeature,\n      onfocus: this._setActiveFeature,\n      onkeyup: this._handleFeatureMenuItemKeyup,\n      onclick: this._selectFeature,\n      onkeydown: this._selectFeature,\n      onmouseover: this._setActiveFeature,\n      onmouseleave: this._removeActiveFeature\n    }, x(\"span\", {\n      class: y.featureMenuTitle\n    }, c, a));\n  }\n\n  renderFeatureMenu() {\n    const {\n      featureMenuId: e\n    } = this,\n          {\n      featureViewModels: t\n    } = this.viewModel;\n    return t.length > 1 ? x(\"ol\", {\n      class: y.featureMenuList,\n      id: e,\n      bind: this,\n      afterCreate: this._featureMenuNodeUpdated,\n      afterUpdate: this._featureMenuNodeUpdated,\n      onkeyup: this._handleFeatureMenuKeyup,\n      role: \"menu\"\n    }, t.filter(e => !!e.graphic).map((e, t) => this.renderFeatureMenuItem(e, t))) : null;\n  }\n\n  _storeFeatureSelectionAction(e, t) {\n    this._featureSelectionActions.set(e, t), this.scheduleRender();\n  }\n\n  _storeExitRelatedRecordsAction(e, t) {\n    this._exitRelatedRecordsActions.set(e, t), this.scheduleRender();\n  }\n\n  _getFlowItemDescription(e) {\n    return \"featureCountDescription\" in e ? e.featureCountDescription : e.viewModel.description ?? \"\";\n  }\n\n  _openRelatedFeature(e) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield e.viewModel.updateGeometry();\n      const t = e.graphic,\n            i = t?.geometry;\n      if (s(i) || s(t)) return;\n      _this._destroyFlowItemWidgets(), yield _this.viewModel.zoomTo({\n        target: i\n      });\n      const o = M(i);\n\n      _this.open({\n        features: [t],\n        location: r(o) ? o : void 0\n      });\n    })();\n  }\n\n  _destroyFlowItemWidgets() {\n    this._flowItems.removeAll().forEach(e => {\n      \"showAllEnabled\" in e.viewModel && (e.viewModel.showAllEnabled = !1), e.viewModel = null, e.destroy();\n    });\n  }\n\n  _handleBackClick() {\n    const e = this._flowItems.pop();\n\n    e && (this._exitRelatedRecordsActions.delete(e), this._featureSelectionActions.delete(e), \"showAllEnabled\" in e.viewModel && (e.viewModel.showAllEnabled = !1), e && (e.viewModel = null, e.destroy()));\n  }\n\n  _getActionTitle(e) {\n    const {\n      messages: t,\n      selectedFeature: i,\n      messagesCommon: o\n    } = this,\n          {\n      id: n\n    } = e,\n          s = i?.attributes,\n          r = e.title ?? \"\",\n          l = \"zoom-to-feature\" === n ? T(r, {\n      messages: t\n    }) : \"remove-selected-feature\" === n ? T(r, {\n      messages: o\n    }) : \"zoom-to-clustered-features\" === n || \"browse-clustered-features\" === n ? T(r, {\n      messages: t\n    }) : e.title;\n    return l && s ? T(l, s) : l ?? \"\";\n  }\n\n  _getActionClass(e) {\n    const {\n      selectedFeature: t\n    } = this,\n          i = t?.attributes,\n          {\n      className: o,\n      image: n\n    } = e,\n          s = n || o ? o : y.iconDefaultAction;\n    return s && i ? T(s, i) : s ?? \"\";\n  }\n\n  _getActionImage(e) {\n    const {\n      selectedFeature: t\n    } = this,\n          i = t?.attributes,\n          {\n      image: o\n    } = e;\n    return o && i ? T(o, i) : o ?? \"\";\n  }\n\n  _createFeatureUpdatedAnimation() {\n    return N(\"enter\", y.hasFeatureUpdated);\n  }\n\n  _getInlineActionCount() {\n    const {\n      maxInlineActions: e,\n      featureNavigationVisible: t\n    } = this;\n    if (\"number\" != typeof e) return null;\n    const i = Math.round(e);\n    return Math.max(t ? i - 1 : i, 0);\n  }\n\n  _watchActions() {\n    const {\n      allActions: e\n    } = this.viewModel;\n    this.notifyChange(\"dividedActions\");\n    const t = \"actions\";\n    this._handles.remove(t), e && e.forEach(e => {\n      this._handles.add(l(() => [e.uid, e.active, e.className, e.disabled, e.id, e.title, e.image, e.visible], () => this.scheduleRender()), t);\n    });\n  }\n\n  _divideActions() {\n    const {\n      allActions: e\n    } = this.viewModel,\n          i = e.filter(e => e.visible),\n          o = this._getInlineActionCount(),\n          n = null === o,\n          s = 0 === o;\n\n    return {\n      inlineActions: n ? i.slice(0) : s ? new t() : i.slice(0, o),\n      menuActions: n ? new t() : s ? i.slice(0) : i.slice(o)\n    };\n  }\n\n  _featureMenuOpenChanged(e) {\n    e ? this._focusFirstFeature = !0 : this._focusFeatureMenuButton = !0;\n  }\n\n  _actionsMenuOpenChanged(e) {\n    e ? this._focusFirstAction = !0 : this._focusActionsMenuButton = !0;\n  }\n\n  _setTitleFromFeatureWidget() {\n    const {\n      selectedFeatureWidget: e,\n      messagesCommon: t\n    } = this;\n    e && (this.viewModel.title = \"error\" === e.viewModel?.state ? t.errorMessage : e.viewModel?.title || \"\");\n  }\n\n  _setContentFromFeatureWidget() {\n    const {\n      selectedFeatureWidget: e\n    } = this;\n    e && (this.viewModel.content = e);\n  }\n\n  _unobserveFeatureMenuObserver() {\n    this._featureMenuIntersectionObserverNode && this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode);\n  }\n\n  _featureMenuIntersectionObserverCreated(e) {\n    this._unobserveFeatureMenuObserver(), this._featureMenuIntersectionObserver.observe(e), this._featureMenuIntersectionObserverNode = e;\n  }\n\n  _handleFeatureMenuKeyup(e) {\n    \"Escape\" === i(e) && (e.stopPropagation(), this._focusFeatureMenuButton = !0, this.featureMenuOpen = !1, this.scheduleRender());\n  }\n\n  _handleActionMenuKeyup(e) {\n    \"Escape\" === i(e) && (e.stopPropagation(), this._focusActionsMenuButton = !0, this.actionsMenuOpen = !1, this.scheduleRender());\n  }\n\n  _setActiveFeature(e) {\n    const {\n      viewModel: t\n    } = this,\n          i = e.currentTarget[\"data-feature-index\"];\n    t.activeFeature = t.features[i] || null;\n  }\n\n  _removeActiveFeature() {\n    this.viewModel.activeFeature = null;\n  }\n\n  _handleFeatureMenuItemKeyup(e) {\n    const t = i(e),\n          {\n      _featureMenuNode: o\n    } = this,\n          n = e.currentTarget[\"data-feature-index\"];\n    if (!o) return;\n    const s = o.querySelectorAll(\"li\"),\n          r = s.length;\n    if (\"ArrowUp\" !== t) {\n      if (\"ArrowDown\" !== t) {\n        if (\"Home\" !== t) {\n          if (\"End\" !== t) ;else {\n            e.stopPropagation();\n            s[s.length - 1].focus();\n          }\n        } else {\n          e.stopPropagation();\n          s[0].focus();\n        }\n      } else {\n        e.stopPropagation();\n        s[(n + 1 + r) % r].focus();\n      }\n    } else {\n      e.stopPropagation();\n      s[(n - 1 + r) % r].focus();\n    }\n  }\n\n  _handleActionMenuItemKeyup(e) {\n    const t = i(e),\n          {\n      _actionsMenuNode: o\n    } = this,\n          n = e.currentTarget.dataset.actionUid,\n          {\n      menuActions: s\n    } = this.dividedActions,\n          r = s.findIndex(e => e.uid === n);\n    if (!o) return;\n    const l = o.querySelectorAll(\"li\"),\n          a = l.length;\n    if (\"ArrowUp\" !== t) {\n      if (\"ArrowDown\" !== t) {\n        if (\"Home\" !== t) {\n          if (\"End\" !== t) ;else {\n            e.stopPropagation();\n            l[l.length - 1].focus();\n          }\n        } else {\n          e.stopPropagation();\n          l[0].focus();\n        }\n      } else {\n        e.stopPropagation();\n        l[(r + 1 + a) % a].focus();\n      }\n    } else {\n      e.stopPropagation();\n      l[(r - 1 + a) % a].focus();\n    }\n  }\n\n  _handleMainKeyup(e) {\n    const t = i(e);\n    \"ArrowLeft\" === t && (e.stopPropagation(), this.previous()), \"ArrowRight\" === t && (e.stopPropagation(), this.next());\n  }\n\n  _spinnerEnabledChange(e) {\n    if (this._destroySpinner(), !e) return;\n    const t = this.get(\"viewModel.view\");\n\n    this._createSpinner(t);\n  }\n\n  _hideSpinner() {\n    const {\n      _spinner: e\n    } = this;\n    e && (e.location = null, e.hide());\n  }\n\n  _displaySpinner() {\n    const {\n      _spinner: e\n    } = this;\n    if (!e) return;\n    const {\n      location: t,\n      waitingForResult: i\n    } = this.viewModel;\n    i && t ? e.show({\n      location: t\n    }) : e.hide();\n  }\n\n  _getIconStyles(e) {\n    return {\n      \"background-image\": e ? `url(${e})` : \"\"\n    };\n  }\n\n  _shouldFocus(e) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      e?.shouldFocus && (yield d(() => !0 === _this2.viewModel?.active), _this2.focus());\n    })();\n  }\n\n  _addSelectedFeatureIndexHandle() {\n    const e = l(() => this.viewModel?.selectedFeatureIndex, (e, t) => this._selectedFeatureIndexUpdated(e, t));\n\n    this._handles.add(e, B);\n  }\n\n  _selectedFeatureIndexUpdated(e, t) {\n    const {\n      featureCount: i\n    } = this;\n    i && e !== t && -1 !== e && (this._destroyFlowItemWidgets(), this.actionsMenuOpen = !1, this.featureMenuOpen = !1, this._mainContainerNode && (this._mainContainerNode.scrollTop = 0), this._rootFlowItemNode && this._rootFlowItemNode.scrollContentTo({\n      top: 0\n    }));\n  }\n\n  _destroySelectedFeatureWidget() {\n    const {\n      _feature: e\n    } = this;\n    e && (e.viewModel = null, e && !e.destroyed && e.destroy()), this._feature = null;\n  }\n\n  _isScreenLocationWithinView(e, t) {\n    return e.x > -1 && e.y > -1 && e.x <= t.width && e.y <= t.height;\n  }\n\n  _isOutsideView(e) {\n    const {\n      popupHeight: t,\n      popupWidth: i,\n      screenLocation: o,\n      side: n,\n      view: s\n    } = e;\n    if (isNaN(i) || isNaN(t) || !s || !o) return !1;\n    const r = s.padding;\n    return \"right\" === n && o.x + i / 2 > s.width - r.right || \"left\" === n && o.x - i / 2 < r.left || \"top\" === n && o.y - t < r.top || \"bottom\" === n && o.y + t > s.height - r.bottom;\n  }\n\n  _calculateAutoAlignment(e) {\n    if (\"auto\" !== e) return e;\n    const {\n      _pointerOffsetInPx: t,\n      _containerNode: i,\n      _mainContainerNode: o,\n      viewModel: n\n    } = this,\n          {\n      screenLocation: r,\n      view: l\n    } = n;\n    if (s(r) || !l || !i) return \"top-center\";\n    if (!this._isScreenLocationWithinView(r, l)) return this._get(\"currentAlignment\") || \"top-center\";\n\n    function a(e) {\n      return parseInt(e.replace(/[^-\\d\\.]/g, \"\"), 10);\n    }\n\n    const c = o ? window.getComputedStyle(o, null) : null,\n          d = c ? a(c.getPropertyValue(\"max-height\")) : 0,\n          u = c ? a(c.getPropertyValue(\"height\")) : 0,\n          {\n      height: h,\n      width: p\n    } = i.getBoundingClientRect(),\n          g = p + t,\n          m = Math.max(h, d, u) + t,\n          v = this._isOutsideView({\n      popupHeight: m,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"right\",\n      view: l\n    }),\n          f = this._isOutsideView({\n      popupHeight: m,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"left\",\n      view: l\n    }),\n          _ = this._isOutsideView({\n      popupHeight: m,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"top\",\n      view: l\n    }),\n          w = this._isOutsideView({\n      popupHeight: m,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"bottom\",\n      view: l\n    });\n\n    return f ? _ ? \"bottom-right\" : \"top-right\" : v ? _ ? \"bottom-left\" : \"top-left\" : _ ? w ? \"top-center\" : \"bottom-center\" : \"top-center\";\n  }\n\n  _callCurrentAlignment(e) {\n    return \"function\" == typeof e ? e.call(this) : e;\n  }\n\n  _getCurrentAlignment() {\n    const {\n      alignment: e,\n      dockEnabled: t\n    } = this;\n    return t || !this.viewModel.active ? null : this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)));\n  }\n\n  _setCurrentAlignment() {\n    this._set(\"currentAlignment\", this._getCurrentAlignment());\n  }\n\n  _setCurrentDockPosition() {\n    this._set(\"currentDockPosition\", this._getCurrentDockPosition());\n  }\n\n  _calculatePositionResult(e) {\n    const t = [\"left\", \"right\"];\n    return O(this.container) && t.reverse(), e.replace(/leading/gi, t[0]).replace(/trailing/gi, t[1]);\n  }\n\n  _callDockPosition(e) {\n    return \"function\" == typeof e ? e.call(this) : e;\n  }\n\n  _getDockPosition() {\n    return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(this.dockOptions?.position)));\n  }\n\n  _getCurrentDockPosition() {\n    return this.dockEnabled && this.viewModel.active ? this._getDockPosition() : null;\n  }\n\n  _wouldDockTo() {\n    return this.dockEnabled ? null : this._getDockPosition();\n  }\n\n  _calculateAutoDockPosition(e) {\n    if (\"auto\" !== e) return e;\n    const t = this.viewModel?.view,\n          i = O(this.container) ? \"top-left\" : \"top-right\";\n    if (!t) return i;\n    const o = t.padding || {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    },\n          n = t.width - o.left - o.right,\n          {\n      breakpoints: s\n    } = t;\n    return s && n <= s.xsmall ? \"bottom-center\" : i;\n  }\n\n  _positionContainer(e = this._containerNode) {\n    if (e && (this._containerNode = e), !this._containerNode) return;\n\n    const {\n      screenLocation: t\n    } = this.viewModel,\n          {\n      width: i\n    } = this._containerNode.getBoundingClientRect(),\n          o = this._calculatePositionStyle(t, i);\n\n    o && Object.assign(this._containerNode.style, o);\n  }\n\n  _calculateFullWidth(e) {\n    const {\n      currentAlignment: t,\n      _pointerOffsetInPx: i\n    } = this;\n    return \"top-left\" === t || \"bottom-left\" === t || \"top-right\" === t || \"bottom-right\" === t ? e + i : e;\n  }\n\n  _calculateAlignmentPosition(e, t, i, o) {\n    const {\n      currentAlignment: n,\n      _pointerOffsetInPx: s\n    } = this;\n    if (!i) return;\n    const {\n      padding: r\n    } = i,\n          l = o / 2,\n          a = i.height - t,\n          c = i.width - e;\n    return \"bottom-center\" === n ? {\n      top: t + s - r.top,\n      left: e - l - r.left\n    } : \"top-left\" === n ? {\n      bottom: a + s - r.bottom,\n      right: c + s - r.right\n    } : \"bottom-left\" === n ? {\n      top: t + s - r.top,\n      right: c + s - r.right\n    } : \"top-right\" === n ? {\n      bottom: a + s - r.bottom,\n      left: e + s - r.left\n    } : \"bottom-right\" === n ? {\n      top: t + s - r.top,\n      left: e + s - r.left\n    } : \"top-center\" === n ? {\n      bottom: a + s - r.bottom,\n      left: e - l - r.left\n    } : void 0;\n  }\n\n  _calculatePositionStyle(e, t) {\n    const {\n      dockEnabled: i,\n      view: o\n    } = this;\n    if (!o) return;\n    if (i) return {\n      left: \"\",\n      top: \"\",\n      right: \"\",\n      bottom: \"\"\n    };\n    if (s(e) || !t) return;\n\n    const n = this._calculateFullWidth(t),\n          r = this._calculateAlignmentPosition(e.x, e.y, o, n);\n\n    return r ? {\n      top: void 0 !== r.top ? `${r.top}px` : \"auto\",\n      left: void 0 !== r.left ? `${r.left}px` : \"auto\",\n      bottom: void 0 !== r.bottom ? `${r.bottom}px` : \"auto\",\n      right: void 0 !== r.right ? `${r.right}px` : \"auto\"\n    } : void 0;\n  }\n\n  _viewChange(e, t) {\n    e && t && (this.close(), this.clear());\n  }\n\n  _viewReadyChange(e, t) {\n    if (e) {\n      const e = this.get(\"viewModel.view\");\n\n      this._wireUpView(e);\n    } else t && (this.close(), this.clear());\n  }\n\n  _wireUpView(e) {\n    if (this._destroySpinner(), !e) return;\n    const {\n      spinnerEnabled: t\n    } = this;\n    t && this._createSpinner(e), this._setDockEnabledForViewSize(this.dockOptions);\n  }\n\n  _dockingThresholdCrossed(e, t, i) {\n    const [o, n] = e,\n          [s, r] = t,\n          {\n      width: l = 0,\n      height: a = 0\n    } = i ?? {};\n    return o <= l && s > l || o > l && s <= l || n <= a && r > a || n > a && r <= a;\n  }\n\n  _updateDockEnabledForViewSize(e, t) {\n    if (!e || !t) return;\n    const i = this.get(\"viewModel.view.padding\") || {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    },\n          o = i.left + i.right,\n          n = i.top + i.bottom,\n          s = [],\n          r = [];\n    s[0] = e[0] - o, s[1] = e[1] - n, r[0] = t[0] - o, r[1] = t[1] - n;\n    const {\n      dockOptions: l\n    } = this,\n          a = l.breakpoint;\n    this._dockingThresholdCrossed(s, r, a) && this._setDockEnabledForViewSize(l), this._setCurrentDockPosition();\n  }\n\n  _focusDockButtonNode(e) {\n    this._focusDockButton && (this._focusDockButton = !1, e.focus());\n  }\n\n  _closeButtonNodeUpdated(e) {\n    return this._focusClose ? (this._focusClose = !1, void e.focus()) : this._blurClose ? (this._blurClose = !1, void e.blur()) : void 0;\n  }\n\n  _mainContainerNodeUpdated(e) {\n    return this._mainContainerNode = e, this._focusContainer ? (this._focusContainer = !1, void e.focus()) : this._blurContainer ? (this._blurContainer = !1, void e.blur()) : void 0;\n  }\n\n  _featureMenuNodeUpdated(e) {\n    if (this._featureMenuNode = e, !e || !this._focusFirstFeature) return;\n    this._focusFirstFeature = !1;\n    const t = e.querySelectorAll(\"li\");\n\n    if (t.length) {\n      t[0].focus();\n    }\n  }\n\n  _actionsMenuNodeUpdated(e) {\n    if (this._actionsMenuNode = e, !e || !this._focusFirstAction) return;\n    this._focusFirstAction = !1;\n    const t = e.querySelectorAll(\"li\");\n\n    if (t.length) {\n      t[0].focus();\n    }\n  }\n\n  _focusFeatureMenuButtonNode(e) {\n    this._focusFeatureMenuButton && (this._focusFeatureMenuButton = !1, e.focus());\n  }\n\n  _focusActionsMenuButtonNode(e) {\n    this._focusActionsMenuButton && (this._focusActionsMenuButton = !1, e.focus());\n  }\n\n  _featureMenuViewportScrollTop() {\n    this._featureMenuViewportNode && (this._featureMenuViewportNode.scrollTop = 0);\n  }\n\n  _toggleScreenLocationEnabled() {\n    const {\n      dockEnabled: e,\n      viewModel: t\n    } = this;\n    if (!t) return;\n    const i = t.active && !e;\n    t.screenLocationEnabled = i;\n  }\n\n  _shouldDockAtCurrentViewSize(e) {\n    const t = e.breakpoint,\n          i = this.viewModel?.view?.ui;\n    if (!i) return !1;\n    const {\n      width: o,\n      height: n\n    } = i;\n    if (isNaN(o) || isNaN(n)) return !1;\n    if (!t) return !1;\n    const s = t.hasOwnProperty(\"width\") && o <= (t.width ?? 0),\n          r = t.hasOwnProperty(\"height\") && n <= (t.height ?? 0);\n    return s || r;\n  }\n\n  _setDockEnabledForViewSize(e) {\n    e.breakpoint && (this.dockEnabled = this._shouldDockAtCurrentViewSize(e));\n  }\n\n  _getPageText(e, t) {\n    return this.featureNavigationVisible ? T(this.messages.pageText, {\n      index: t + 1,\n      total: e\n    }) : null;\n  }\n\n  _destroySpinner() {\n    const {\n      _spinner: e,\n      view: t\n    } = this;\n    e && (t && t.ui && t.ui.remove(e, L), e.destroy(), this._spinner = null);\n  }\n\n  _createSpinner(e) {\n    e && (this._spinner = new f({\n      view: e\n    }), e.ui.add(this._spinner, {\n      key: L,\n      position: \"manual\"\n    }));\n  }\n\n  _toggleCollapsed() {\n    this.collapsed = !this.collapsed;\n  }\n\n  _close() {\n    this.close(), this.view && this.view.focus();\n  }\n\n  _toggleDockEnabled() {\n    this.dockEnabled = !this.dockEnabled, this._focusDockButton = !0, this.scheduleRender();\n  }\n\n  _toggleFeatureMenu() {\n    const e = !this.featureMenuOpen;\n    this._featureMenuOpenChanged(e), this.actionsMenuOpen = !1, this.featureMenuOpen = e;\n  }\n\n  _toggleActionsMenu() {\n    const e = !this.actionsMenuOpen;\n    this._actionsMenuOpenChanged(e), this.featureMenuOpen = !1, this.actionsMenuOpen = e;\n  }\n\n  _triggerAction(e) {\n    const t = e.currentTarget.dataset.actionUid,\n          {\n      allActions: i\n    } = this.viewModel,\n          o = i.findIndex(e => e.uid === t),\n          n = i.getItemAt(o);\n    n && \"toggle\" === n.type && (n.value = !n.value), this.actionsMenuOpen = !1, this.viewModel.triggerAction(o);\n  }\n\n  _selectFeature(e) {\n    const t = e.currentTarget[\"data-feature-index\"];\n    isNaN(t) || (this.viewModel.selectedFeatureIndex = t), this.featureMenuOpen = !1, this._focusFeatureMenuButton = !0, this.scheduleRender();\n  }\n\n  _next() {\n    this.next();\n  }\n\n  _previous() {\n    this.previous();\n  }\n\n};\ne([p({\n  readOnly: !0\n})], W.prototype, \"actionsMenuId\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"actionsMenuButtonId\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"featureMenuId\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"titleId\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"contentId\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"hasContent\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"featureNavigationVisible\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"collapsible\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"featureMenuVisible\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"contentCollapsed\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"dividedActions\", null), e([p({\n  readOnly: !0,\n  dependsOn: [\"_flowItems.length\"]\n})], W.prototype, \"_activeFlowItemWidget\", null), e([p()], W.prototype, \"actions\", null), e([p()], W.prototype, \"actionsMenuOpen\", null), e([p()], W.prototype, \"alignment\", void 0), e([p()], W.prototype, \"autoCloseEnabled\", null), e([p()], W.prototype, \"autoOpenEnabled\", null), e([p()], W.prototype, \"defaultPopupTemplateEnabled\", null), e([p()], W.prototype, \"content\", null), e([p()], W.prototype, \"collapsed\", void 0), e([p()], W.prototype, \"collapseEnabled\", void 0), e([p({\n  readOnly: !0\n})], W.prototype, \"currentAlignment\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"currentDockPosition\", null), e([p()], W.prototype, \"dockOptions\", null), e([p()], W.prototype, \"dockEnabled\", void 0), e([p({\n  readOnly: !0\n})], W.prototype, \"featureCount\", null), e([p()], W.prototype, \"featureMenuOpen\", void 0), e([p()], W.prototype, \"features\", null), e([p()], W.prototype, \"goToOverride\", null), e([p()], W.prototype, \"headingLevel\", void 0), e([p()], W.prototype, \"highlightEnabled\", null), e([p()], W.prototype, \"location\", null), e([p()], W.prototype, \"label\", null), e([p()], W.prototype, \"maxInlineActions\", void 0), e([p(), C(\"esri/widgets/Popup/t9n/Popup\")], W.prototype, \"messages\", void 0), e([p(), C(\"esri/t9n/common\")], W.prototype, \"messagesCommon\", void 0), e([p()], W.prototype, \"promises\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"selectedFeature\", null), e([p()], W.prototype, \"selectedFeatureIndex\", null), e([p({\n  readOnly: !0\n})], W.prototype, \"selectedFeatureWidget\", null), e([p()], W.prototype, \"spinnerEnabled\", void 0), e([p()], W.prototype, \"title\", null), e([p()], W.prototype, \"updateLocationEnabled\", null), e([p()], W.prototype, \"view\", null), e([p({\n  type: A\n}), I([\"triggerAction\", \"trigger-action\"])], W.prototype, \"viewModel\", void 0), e([p()], W.prototype, \"visible\", null), e([p()], W.prototype, \"visibleElements\", void 0), e([g(\"visibleElements\")], W.prototype, \"castVisibleElements\", null), e([F()], W.prototype, \"_close\", null), e([F()], W.prototype, \"_toggleDockEnabled\", null), e([F()], W.prototype, \"_toggleFeatureMenu\", null), e([F()], W.prototype, \"_toggleActionsMenu\", null), e([F()], W.prototype, \"_triggerAction\", null), e([F()], W.prototype, \"_selectFeature\", null), e([F()], W.prototype, \"_next\", null), e([F()], W.prototype, \"_previous\", null), W = e([m(\"esri.widgets.Popup\")], W);\nconst j = W;\nexport { j as default };","map":{"version":3,"names":["_","e","t","eventKey","i","o","n","isNone","s","isSome","r","watch","l","when","a","on","c","whenOnce","d","initial","u","throttle","h","property","p","cast","g","subclass","m","v","f","CSS","w","FeatureContentMixin","b","getPointFromGeometry","M","y","A","Heading","k","accessibleHandler","F","messageBundle","C","vmEvent","I","tsx","x","isRTL","O","storeNode","E","cssTransition","N","isDarkTheme","P","substitute","T","B","D","L","S","buttonEnabled","position","breakpoint","width","R","V","U","closeButton","featureNavigation","W","constructor","_blurClose","_blurContainer","_containerNode","_mainContainerNode","_featureMenuNode","_actionsMenuNode","_focusClose","_focusContainer","_focusDockButton","_focusFeatureMenuButton","_focusActionsMenuButton","_focusFirstFeature","_focusFirstAction","_handles","_pointerOffsetInPx","_spinner","_feature","_featureMenuIntersectionObserverNode","_featureMenuViewportNode","_rootFlowItemNode","_featureMenuIntersectionObserverCallback","isIntersecting","viewModel","featurePage","_featureMenuIntersectionObserver","IntersectionObserver","root","window","document","_displaySpinnerThrottled","_displaySpinner","_exitRelatedRecordsActions","WeakMap","_featureSelectionActions","_flowItems","alignment","collapsed","collapseEnabled","dockEnabled","featureMenuOpen","headingLevel","maxInlineActions","messages","messagesCommon","spinnerEnabled","visibleElements","_handleOpenRelatedFeature","_openRelatedFeature","_addSelectedFeatureIndexHandle","addHandles","screenLocation","_positionContainer","active","_toggleScreenLocationEnabled","reposition","view","padding","size","location","_spinnerEnabledChange","_updateDockEnabledForViewSize","_viewChange","ready","_viewReadyChange","waitingForResult","_hideSpinner","selectedFeatureWidget","_destroyFlowItemWidgets","title","state","_setTitleFromFeatureWidget","content","_setContentFromFeatureWidget","widthBreakpoint","centerAtLocation","allActions","_watchActions","featureViewModels","_featureMenuViewportScrollTop","notifyChange","scheduleRender","_activeFlowItemWidget","loadDependencies","Promise","all","destroy","_destroySelectedFeatureWidget","_destroySpinner","_unobserveFeatureMenuObserver","disconnect","actionsMenuId","id","actionsMenuButtonId","featureMenuId","titleId","contentId","hasContent","waitingForContent","Array","isArray","length","featureNavigationVisible","featureCount","collapsible","featureMenuVisible","contentCollapsed","dividedActions","_divideActions","getItemAt","actions","actionsMenuOpen","_set","_get","autoCloseEnabled","autoOpenEnabled","defaultPopupTemplateEnabled","currentAlignment","_getCurrentAlignment","currentDockPosition","_getCurrentDockPosition","dockOptions","breakpoints","xsmall","height","_setCurrentDockPosition","features","goToOverride","highlightEnabled","label","widgetLabel","_overrideIfSome","promises","selectedFeature","selectedFeatureIndex","selectedFeatureViewModel","flowItems","updateLocationEnabled","visible","castVisibleElements","blur","getLogger","declaredClass","warn","clear","close","fetchFeatures","focus","next","open","remove","set","_shouldFocus","previous","renderNow","_setCurrentAlignment","triggerAction","render","menuActions","layer","alignTopCenter","alignBottomCenter","alignTopLeft","alignBottomLeft","alignTopRight","alignBottomRight","isDocked","shadow","isDockedTopLeft","isDockedTopCenter","isDockedTopRight","isDockedBottomLeft","isDockedBottomCenter","isDockedBottomRight","isFeatureMenuOpen","isActionsMenuOpen","class","classes","base","role","bind","afterCreate","afterUpdate","renderMainContainer","renderPointer","renderLoadingIcon","icon","iconLoading","rotating","renderNavigationLoading","pendingPromisesCount","key","loadingContainer","loading","renderPreviousIcon","container","iconRightTriangleArrow","paginationPreviousIconRTL","iconLeftTriangleArrow","paginationPreviousIconLTR","renderPreviousButton","tabIndex","onclick","_previous","onkeydown","button","paginationPrevious","renderNextIcon","paginationNextIconRTL","paginationNextIconLTR","renderNextButton","_next","paginationNext","renderFeatureMenuButton","_toggleFeatureMenu","_focusFeatureMenuButtonNode","featureMenuButton","toString","menu","_getPageText","renderNavigationButtons","renderDockIcon","_wouldDockTo","iconUndock","iconDock","iconDockToRight","iconDockToLeft","iconDockToTop","iconDockToBottom","renderDockButton","undock","dock","_toggleDockEnabled","_focusDockButtonNode","buttonDock","renderTitle","headerContainerButton","level","headerTitle","innerHTML","expand","collapse","enterAnimation","_createFeatureUpdatedAnimation","headerContainer","_toggleCollapsed","type","collapseIcon","scale","renderCloseIcon","iconClose","renderCloseButton","_close","_closeButtonNodeUpdated","renderHeader","header","headerButtons","renderContentContainer","toArray","contentHasFlows","onCalciteFlowItemBack","_handleBackClick","renderContent","map","renderFlowItem","renderFlowItemTooltips","isTable","calciteThemeDark","calciteThemeLight","heading","description","_getFlowItemDescription","uid","actionExit","exitRelatedRecords","text","slot","_storeExitRelatedRecordsAction","actionSelectFeature","selectFeature","_storeFeatureSelectionAction","contentFlowItem","get","overlayPositioning","referenceElement","placement","renderActionsMenuButton","actionsMenuButton","_toggleActionsMenu","_focusActionsMenuButtonNode","iconActionsMenu","renderMenuActions","onkeyup","_handleActionMenuKeyup","_actionsMenuNodeUpdated","renderAction","action","renderInlineActions","inlineActions","renderInlineActionsContainer","inlineActionsContainer","renderNavigation","navigation","renderFooter","footerHasPagination","footerHasActions","footerHasActionsMenu","footer","renderFeatureMenuContainer","isLoadingFeature","selectedFeatures","total","featureMenu","featureMenuHeader","featureMenuViewport","renderFeatureMenu","featureMenuObserver","_featureMenuIntersectionObserverCreated","featureMenuLoader","pointer","pointerDirection","isCollapsible","isCollapsed","main","widget","_handleMainKeyup","_mainContainerNodeUpdated","contentNode","renderNodeContent","renderActionText","actionText","renderActionIcon","_getActionClass","_getActionImage","actionImage","styles","_getIconStyles","_getActionTitle","actionToggle","actionToggleOn","value","buttonDisabled","disabled","_handleActionMenuItemKeyup","_triggerAction","renderFeatureMenuItem","featureMenuSelected","iconCheckMark","untitled","featureMenuItem","onblur","_removeActiveFeature","onfocus","_setActiveFeature","_handleFeatureMenuItemKeyup","_selectFeature","onmouseover","onmouseleave","featureMenuTitle","featureMenuList","_featureMenuNodeUpdated","_handleFeatureMenuKeyup","filter","graphic","featureCountDescription","updateGeometry","geometry","zoomTo","target","removeAll","forEach","showAllEnabled","pop","delete","attributes","className","image","iconDefaultAction","hasFeatureUpdated","_getInlineActionCount","Math","round","max","add","slice","_featureMenuOpenChanged","_actionsMenuOpenChanged","errorMessage","unobserve","observe","stopPropagation","currentTarget","activeFeature","querySelectorAll","dataset","actionUid","findIndex","_createSpinner","hide","show","shouldFocus","_selectedFeatureIndexUpdated","scrollTop","scrollContentTo","top","destroyed","_isScreenLocationWithinView","_isOutsideView","popupHeight","popupWidth","side","isNaN","right","left","bottom","_calculateAutoAlignment","parseInt","replace","getComputedStyle","getPropertyValue","getBoundingClientRect","_callCurrentAlignment","call","_calculatePositionResult","reverse","_callDockPosition","_getDockPosition","_calculateAutoDockPosition","_calculatePositionStyle","Object","assign","style","_calculateFullWidth","_calculateAlignmentPosition","_wireUpView","_setDockEnabledForViewSize","_dockingThresholdCrossed","screenLocationEnabled","_shouldDockAtCurrentViewSize","ui","hasOwnProperty","pageText","index","readOnly","prototype","dependsOn","j","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/widgets/Popup.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../intl.js\";import t from\"../core/Collection.js\";import{eventKey as i}from\"../core/events.js\";import o from\"../core/Handles.js\";import n from\"../core/Logger.js\";import{isNone as s,isSome as r}from\"../core/maybe.js\";import{watch as l,when as a,on as c,whenOnce as d,initial as u}from\"../core/reactiveUtils.js\";import{throttle as h}from\"../core/throttle.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import{cast as g}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import v from\"./Feature.js\";import f from\"./Spinner.js\";import _ from\"./Widget.js\";import{CSS as w}from\"./Feature/resources.js\";import{FeatureContentMixin as b}from\"./Feature/support/FeatureContentMixin.js\";import{getPointFromGeometry as M}from\"./Popup/actionUtils.js\";import{CSS as y}from\"./Popup/css.js\";import A from\"./Popup/PopupViewModel.js\";import{Heading as k}from\"./support/Heading.js\";import{accessibleHandler as F}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as C}from\"./support/decorators/messageBundle.js\";import{vmEvent as I}from\"./support/decorators/vmEvent.js\";import{tsx as x}from\"./support/jsxFactory.js\";import{isRTL as O,storeNode as E,cssTransition as N}from\"./support/widgetUtils.js\";import{isDarkTheme as P}from\"../support/themeUtils.js\";import{substitute as T}from\"../intl/substitute.js\";const B=\"selected-index\",D=0,L=\"popup-spinner\",S={buttonEnabled:!0,position:\"auto\",breakpoint:{width:544}},R=\"esri-popup\";function V(e,t){return void 0===t?`${R}__${e}`:`${R}__${e}-${t}`}const U={closeButton:!0,featureNavigation:!0};let W=class extends(b(_)){constructor(e,i){super(e,i),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new o,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverNode=null,this._featureMenuViewportNode=null,this._rootFlowItemNode=null,this._featureMenuIntersectionObserverCallback=([e])=>{e?.isIntersecting&&null!=this.viewModel.featurePage&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=h((()=>this._displaySpinner()),D),this._exitRelatedRecordsActions=new WeakMap,this._featureSelectionActions=new WeakMap,this._flowItems=new t,this.alignment=\"auto\",this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureMenuOpen=!1,this.headingLevel=2,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.spinnerEnabled=!0,this.viewModel=new A,this.visibleElements={...U},this._handleOpenRelatedFeature=e=>{this._openRelatedFeature(e)},this._addSelectedFeatureIndexHandle(),this.addHandles([l((()=>this.viewModel?.screenLocation),(()=>this._positionContainer())),l((()=>[this.viewModel?.active,this.dockEnabled]),(()=>this._toggleScreenLocationEnabled())),l((()=>this.viewModel?.screenLocation),((e,t)=>{!!e!=!!t&&this.reposition()})),l((()=>[this.viewModel?.view?.padding,this.viewModel?.view?.size,this.viewModel?.active,this.viewModel?.location,this.alignment]),(()=>this.reposition())),l((()=>this.spinnerEnabled),(e=>this._spinnerEnabledChange(e))),l((()=>this.viewModel?.view?.size),((e,t)=>this._updateDockEnabledForViewSize(e,t))),l((()=>this.viewModel?.view),((e,t)=>this._viewChange(e,t))),l((()=>this.viewModel?.view?.ready),((e,t)=>this._viewReadyChange(e??!1,t??!1))),l((()=>[this.viewModel?.waitingForResult,this.viewModel?.location]),(()=>{this._hideSpinner(),this._displaySpinnerThrottled()})),l((()=>this.selectedFeatureWidget),(()=>this._destroyFlowItemWidgets())),l((()=>[this.selectedFeatureWidget?.viewModel?.title,this.selectedFeatureWidget?.viewModel?.state]),(()=>this._setTitleFromFeatureWidget())),l((()=>[this.selectedFeatureWidget?.viewModel?.content,this.selectedFeatureWidget?.viewModel?.state]),(()=>this._setContentFromFeatureWidget())),a((()=>!this.collapsed),(()=>{\"xsmall\"===this.viewModel?.view?.widthBreakpoint&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()})),c((()=>this.viewModel?.allActions),\"change\",(()=>this._watchActions())),l((()=>this.viewModel?.allActions),(()=>this._watchActions()),u),l((()=>this.viewModel?.featureViewModels),(()=>this._featureMenuViewportScrollTop())),c((()=>this._flowItems),\"change\",(()=>{this.notifyChange(\"_activeFlowItemWidget\"),this.scheduleRender()})),l((()=>[this._activeFlowItemWidget?.viewModel?.state,this._activeFlowItemWidget?.viewModel?.title]),(()=>this.scheduleRender()))])}loadDependencies(){return Promise.all([import(\"@esri/calcite-components/dist/components/calcite-flow.js\"),import(\"@esri/calcite-components/dist/components/calcite-flow-item.js\"),import(\"@esri/calcite-components/dist/components/calcite-action.js\"),import(\"@esri/calcite-components/dist/components/calcite-tooltip.js\"),import(\"@esri/calcite-components/dist/components/calcite-icon.js\")])}destroy(){this._destroyFlowItemWidgets(),this._destroySelectedFeatureWidget(),this._destroySpinner(),this._handles?.destroy(),this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver?.disconnect()}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){const{selectedFeatureWidget:e,viewModel:t}=this;if(!e)return!!t?.content;const i=e.viewModel;if(i?.waitingForContent||\"error\"===i?.state)return!0;const o=i?.content;return Array.isArray(o)?!!o.length:!!o}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&null!=this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}get _activeFlowItemWidget(){const{_flowItems:e}=this;return e.getItemAt(e.length-1)||null}get actions(){return this.viewModel.actions}set actions(e){this.viewModel.actions=e}set actionsMenuOpen(e){this._set(\"actionsMenuOpen\",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get(\"actionsMenuOpen\")}get autoCloseEnabled(){return this.viewModel.autoCloseEnabled}set autoCloseEnabled(e){this.viewModel.autoCloseEnabled=e}get autoOpenEnabled(){return this.viewModel.autoOpenEnabled}set autoOpenEnabled(e){this.viewModel.autoOpenEnabled=e}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(e){this.viewModel.defaultPopupTemplateEnabled=e}get content(){return this.viewModel.content}set content(e){this.viewModel.content=e}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get(\"dockOptions\")||S}set dockOptions(e){const t={...S},i=this.viewModel?.view?.breakpoints,o={};i&&(o.width=i.xsmall,o.height=i.xsmall);const n={...t,...e},s={...t.breakpoint,...o},{breakpoint:r}=n;\"object\"==typeof r?n.breakpoint={...s,...r}:r&&(n.breakpoint=s),this._set(\"dockOptions\",n),this._setCurrentDockPosition(),this.reposition()}get featureCount(){return this.viewModel.featureCount}get features(){return this.viewModel.features}set features(e){this.viewModel.features=e}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(e){this.viewModel.highlightEnabled=e}get location(){return this.viewModel.location}set location(e){this.viewModel.location=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get promises(){return this.viewModel.promises}set promises(e){this.viewModel.promises=e}get selectedFeature(){return this.viewModel.selectedFeature}get selectedFeatureIndex(){return this.viewModel.selectedFeatureIndex}set selectedFeatureIndex(e){this.viewModel.selectedFeatureIndex=e}get selectedFeatureWidget(){const{_feature:e,visibleElements:t,headingLevel:i,_flowItems:o}=this,{selectedFeatureViewModel:n}=this.viewModel,s={...t,title:!1};return n?(e?(e.viewModel=n,e.visibleElements=s):this._feature=new v({flowItems:o,headingLevel:i+1,viewModel:n,visibleElements:s}),this._feature):null}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}get updateLocationEnabled(){return this.viewModel.updateLocationEnabled}set updateLocationEnabled(e){this.viewModel.updateLocationEnabled=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}castVisibleElements(e){return{...U,...e}}blur(){const{active:e}=this.viewModel;e||n.getLogger(this.declaredClass).warn(\"Popup can only be blurred when currently active.\"),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){return this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||n.getLogger(this.declaredClass).warn(\"Popup can only be focused when currently active.\"),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){this._handles.remove(B);const t=!!e&&!!e.featureMenuOpen,i=!!e&&!!e.actionsMenuOpen,o={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:i,featureMenuOpen:t};\"xsmall\"===this.viewModel?.view?.widthBreakpoint&&(o.collapsed=!0),this.set(o),this.viewModel.open(e),this._shouldFocus(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){return this.viewModel.triggerAction(e)}render(){const{actionsMenuOpen:e,dockEnabled:t,featureMenuVisible:i,dividedActions:o,currentAlignment:n,currentDockPosition:s}=this,{active:r}=this.viewModel,{menuActions:l}=o,a=r&&l.length>1&&e,c=r&&t,d=r&&!t,u=this.selectedFeature?.layer?.title,h=this.selectedFeature?.layer?.id,p={[y.alignTopCenter]:\"top-center\"===n,[y.alignBottomCenter]:\"bottom-center\"===n,[y.alignTopLeft]:\"top-left\"===n,[y.alignBottomLeft]:\"bottom-left\"===n,[y.alignTopRight]:\"top-right\"===n,[y.alignBottomRight]:\"bottom-right\"===n,[y.isDocked]:c,[y.shadow]:d,[y.isDockedTopLeft]:\"top-left\"===s,[y.isDockedTopCenter]:\"top-center\"===s,[y.isDockedTopRight]:\"top-right\"===s,[y.isDockedBottomLeft]:\"bottom-left\"===s,[y.isDockedBottomCenter]:\"bottom-center\"===s,[y.isDockedBottomRight]:\"bottom-right\"===s,[y.isFeatureMenuOpen]:i,[y.isActionsMenuOpen]:a};return x(\"div\",{class:this.classes(y.base,p),role:\"presentation\",\"data-layer-title\":u,\"data-layer-id\":h,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},r?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return x(\"span\",{\"aria-hidden\":\"true\",class:this.classes(y.icon,y.iconLoading,y.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?x(\"div\",{key:V(\"loading-container\"),role:\"presentation\",class:y.loadingContainer,\"aria-label\":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=O(this.container),t={[y.iconRightTriangleArrow]:e,[y.paginationPreviousIconRTL]:e,[y.iconLeftTriangleArrow]:!e,[y.paginationPreviousIconLTR]:!e};return x(\"span\",{\"aria-hidden\":\"true\",class:this.classes(y.icon,t)})}renderPreviousButton(){const{messages:e}=this;return x(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(y.button,y.paginationPrevious),\"aria-label\":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=O(this.container),t={[y.iconLeftTriangleArrow]:e,[y.paginationNextIconRTL]:e,[y.iconRightTriangleArrow]:!e,[y.paginationNextIconLTR]:!e};return x(\"span\",{\"aria-hidden\":\"true\",class:this.classes(y.icon,t)})}renderNextButton(){const{messages:e}=this;return x(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(y.button,y.paginationNext),\"aria-label\":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:i}=this,{featureCount:o,selectedFeatureIndex:n}=this.viewModel;return x(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(y.button,y.featureMenuButton),\"aria-haspopup\":\"true\",\"aria-controls\":t,\"aria-expanded\":e.toString(),\"aria-label\":i.menu,title:i.menu},this._getPageText(o,n))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:[]}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),i={[y.iconUndock]:e,[y.iconDock]:!e,[y.iconDockToRight]:!e&&(\"top-right\"===t||\"bottom-right\"===t),[y.iconDockToLeft]:!e&&(\"top-left\"===t||\"bottom-left\"===t),[y.iconDockToTop]:!e&&\"top-center\"===t,[y.iconDockToBottom]:!e&&\"bottom-center\"===t};return x(\"span\",{\"aria-hidden\":\"true\",class:this.classes(i,y.icon)})}renderDockButton(){const{dockEnabled:e,messages:t}=this,i=this.viewModel?.view?.widthBreakpoint,o=e?t.undock:t.dock;return\"xsmall\"!==i&&this.dockOptions?.buttonEnabled?x(\"div\",{role:\"button\",\"aria-label\":o,title:o,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(y.button,y.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:i,contentCollapsed:o,messagesCommon:n}=this,s={[y.headerContainerButton]:i},r=x(k,{level:this.headingLevel,class:y.headerTitle,innerHTML:e??\"\"}),l=i?x(\"button\",{key:`${e}--collapsible`,id:t,title:o?n.expand:n.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(y.headerContainer,s),\"aria-expanded\":o?\"false\":\"true\",onclick:this._toggleCollapsed,type:\"button\"},r,x(\"calcite-icon\",{class:y.collapseIcon,key:\"collapse-icon\",icon:o?\"chevron-down\":\"chevron-up\",scale:\"m\"})):x(\"div\",{key:e??\"title\",id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(y.headerContainer,s)},r);return e?l:null}renderCloseIcon(){return x(\"span\",{\"aria-hidden\":\"true\",class:this.classes(y.icon,y.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?x(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:y.button,\"aria-label\":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return x(\"header\",{class:y.header},this.renderTitle(),x(\"div\",{class:y.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:i,_flowItems:o}=this,{content:n}=this.viewModel,s=o.toArray(),r={[y.contentHasFlows]:!!s.length};return t&&!i?x(\"div\",{key:n??\"content\",enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:this.classes(y.content,r)},x(\"calcite-flow\",{bind:this},x(\"calcite-flow-item\",{bind:this,\"data-node-ref\":\"_rootFlowItemNode\",afterCreate:E,key:\"root-flow-item\",onCalciteFlowItemBack:this._handleBackClick},this.renderContent()),s.map((e=>this.renderFlowItem(e)))),s.map((e=>this.renderFlowItemTooltips(e)))):null}renderFlowItem(e){const{messages:t}=this,i=P(),o=\"graphic\"in e&&!e.isTable;return x(\"calcite-flow-item\",{bind:this,class:this.classes({[y.calciteThemeDark]:!i,[y.calciteThemeLight]:i}),heading:e.title??\"\",description:this._getFlowItemDescription(e),onCalciteFlowItemBack:this._handleBackClick,key:`flow-item-${e.viewModel.uid}`},x(\"calcite-action\",{class:y.actionExit,icon:\"move-up\",label:t?.exitRelatedRecords,text:t?.exitRelatedRecords,slot:\"header-actions-start\",bind:this,afterCreate:t=>this._storeExitRelatedRecordsAction(e,t),onclick:this._destroyFlowItemWidgets}),o?x(\"calcite-action\",{class:y.actionSelectFeature,icon:\"zoom-to-object\",label:t?.selectFeature,text:t?.selectFeature,slot:\"header-actions-end\",bind:this,afterCreate:t=>this._storeFeatureSelectionAction(e,t),onclick:()=>this._handleOpenRelatedFeature(e)}):null,x(\"div\",{class:this.classes(y.contentFlowItem,{[y.calciteThemeDark]:i,[y.calciteThemeLight]:!i})},e.render()))}renderFlowItemTooltips(e){const{messages:t,_exitRelatedRecordsActions:i,_featureSelectionActions:o}=this,n=P(),s=o.get(e);return[x(\"calcite-tooltip\",{class:this.classes({[y.calciteThemeDark]:!n,[y.calciteThemeLight]:n}),key:`exit-related-records-tooltip-${e.viewModel.uid}`,label:t?.exitRelatedRecords,overlayPositioning:\"fixed\",referenceElement:i.get(e),placement:\"top\"},t?.exitRelatedRecords),s?x(\"calcite-tooltip\",{class:this.classes({[y.calciteThemeDark]:!n,[y.calciteThemeLight]:n}),key:`select-related-record-tooltip-${e.viewModel.uid}`,label:t?.selectFeature,overlayPositioning:\"fixed\",referenceElement:s,placement:\"top\"},t?.selectFeature):null]}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o,messagesCommon:n}=this,s=i?n.close:n.open,{menuActions:r}=o;return r.length?x(\"div\",{key:V(\"actions-menu-button\"),class:this.classes(y.button,y.actionsMenuButton),role:\"button\",id:t,\"aria-haspopup\":\"true\",\"aria-controls\":i?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,\"aria-label\":s,title:s},x(\"span\",{\"aria-hidden\":\"true\",class:y.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o}=this,{menuActions:n}=o;return n.length&&i?x(\"ul\",{id:e,role:\"menu\",\"aria-labelledby\":t,key:V(\"actions\"),class:y.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},n.toArray().map((e=>this.renderAction({action:e,type:\"menu-item\"})))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return e.length?e.toArray().map((e=>this.renderAction({action:e,type:\"inline\"}))):[]}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,i=!!e.length,o=!!t.length;return i||o?x(\"div\",{key:\"inline-actions-container\",\"data-inline-actions\":i.toString(),\"data-menu-actions\":o.toString(),class:y.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?x(\"section\",{key:V(\"navigation\"),class:this.classes(y.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:i,menuActions:o}=t,n=!!i.length,s=!!o.length,r={[y.footerHasPagination]:e,[y.footerHasActions]:n,[y.footerHasActionsMenu]:s};return e||n?x(\"div\",{key:V(\"feature-buttons\"),class:this.classes(y.footer,r)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t,isLoadingFeature:i}=this.viewModel,o=T(e.selectedFeatures,{total:t.length});return x(\"section\",{key:V(\"menu\"),class:y.featureMenu},x(\"strong\",{class:y.featureMenuHeader},o),x(\"nav\",{bind:this,class:y.featureMenuViewport,\"data-node-ref\":\"_featureMenuViewportNode\",afterCreate:E},this.renderFeatureMenu(),x(\"div\",{class:y.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),i?x(\"div\",{class:y.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:x(\"div\",{key:V(\"pointer\"),class:y.pointer,role:\"presentation\"},x(\"div\",{class:this.classes(y.pointerDirection,y.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:i,titleId:o,contentId:n,collapsible:s,hasContent:r,contentCollapsed:l,visibleElements:a}=this,{title:c}=this.viewModel,d=\"bottom-left\"===t||\"bottom-center\"===t||\"bottom-right\"===t||\"top-left\"===i||\"top-center\"===i||\"top-right\"===i,u=\"top-left\"===t||\"top-center\"===t||\"top-right\"===t||\"bottom-left\"===i||\"bottom-center\"===i||\"bottom-right\"===i,h={[y.shadow]:e,[y.isCollapsible]:s,[y.isCollapsed]:l};return x(\"div\",{class:this.classes(y.main,y.widget,h),tabIndex:a.closeButton?void 0:-1,role:\"dialog\",\"aria-labelledby\":c?o:\"\",\"aria-describedby\":r&&!l?n:\"\",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),u?this.renderFooter():null,u?this.renderFeatureMenuContainer():null)}renderContent(){const e=this.viewModel?.content;return e?\"string\"==typeof e?x(\"div\",{class:w.contentNode,key:e,innerHTML:e}):this.renderNodeContent(e):null}renderActionText(e){return x(\"span\",{key:\"text\",class:y.actionText},e)}renderActionIcon(e){const t=this._getActionClass(e),i=this._getActionImage(e),o={[y.iconLoading]:e.active,[y.rotating]:e.active,[y.icon]:!!t,[y.actionImage]:!e.active&&!!i};return t&&(o[t]=!e.active),x(\"span\",{key:\"icon\",\"aria-hidden\":\"true\",class:this.classes(y.icon,o),styles:this._getIconStyles(i)})}renderAction(e){const{action:t,type:i}=e,o=this._getActionTitle(t),n={[y.action]:\"toggle\"!==t.type,[y.actionToggle]:\"toggle\"===t.type,[y.actionToggleOn]:\"toggle\"===t.type&&t.value,[y.buttonDisabled]:t.disabled},s=[this.renderActionIcon(t),this.renderActionText(o)],r=\"menu-item\"===i?x(\"li\",{key:t.uid,role:\"menuitem\",tabIndex:0,title:o,\"aria-label\":o,class:this.classes(y.button,n),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-uid\":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s):x(\"div\",{key:t.uid,role:\"button\",tabIndex:0,title:o,\"aria-label\":o,class:this.classes(y.button,n),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-uid\":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s);return t.visible?r:null}renderFeatureMenuItem(e,t){const{messages:i,messagesCommon:o}=this,{selectedFeatureIndex:n,selectedFeatureViewModel:s}=this.viewModel,r=e===s,l={[y.featureMenuSelected]:r},a=r?x(\"span\",{key:V(`feature-menu-selected-feature-${n}`),title:i.selectedFeature,\"aria-label\":i.selectedFeature,class:y.iconCheckMark}):null,c=x(\"span\",{innerHTML:e.title||o.untitled});return x(\"li\",{role:\"menuitem\",tabIndex:-1,key:V(`feature-menu-feature-${n}`),class:this.classes(l,y.featureMenuItem),bind:this,\"data-feature-index\":t,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},x(\"span\",{class:y.featureMenuTitle},c,a))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?x(\"ol\",{class:y.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:\"menu\"},t.filter((e=>!!e.graphic)).map(((e,t)=>this.renderFeatureMenuItem(e,t)))):null}_storeFeatureSelectionAction(e,t){this._featureSelectionActions.set(e,t),this.scheduleRender()}_storeExitRelatedRecordsAction(e,t){this._exitRelatedRecordsActions.set(e,t),this.scheduleRender()}_getFlowItemDescription(e){return\"featureCountDescription\"in e?e.featureCountDescription:e.viewModel.description??\"\"}async _openRelatedFeature(e){await e.viewModel.updateGeometry();const t=e.graphic,i=t?.geometry;if(s(i)||s(t))return;this._destroyFlowItemWidgets(),await this.viewModel.zoomTo({target:i});const o=M(i);this.open({features:[t],location:r(o)?o:void 0})}_destroyFlowItemWidgets(){this._flowItems.removeAll().forEach((e=>{\"showAllEnabled\"in e.viewModel&&(e.viewModel.showAllEnabled=!1),e.viewModel=null,e.destroy()}))}_handleBackClick(){const e=this._flowItems.pop();e&&(this._exitRelatedRecordsActions.delete(e),this._featureSelectionActions.delete(e),\"showAllEnabled\"in e.viewModel&&(e.viewModel.showAllEnabled=!1),e&&(e.viewModel=null,e.destroy()))}_getActionTitle(e){const{messages:t,selectedFeature:i,messagesCommon:o}=this,{id:n}=e,s=i?.attributes,r=e.title??\"\",l=\"zoom-to-feature\"===n?T(r,{messages:t}):\"remove-selected-feature\"===n?T(r,{messages:o}):\"zoom-to-clustered-features\"===n||\"browse-clustered-features\"===n?T(r,{messages:t}):e.title;return l&&s?T(l,s):l??\"\"}_getActionClass(e){const{selectedFeature:t}=this,i=t?.attributes,{className:o,image:n}=e,s=n||o?o:y.iconDefaultAction;return s&&i?T(s,i):s??\"\"}_getActionImage(e){const{selectedFeature:t}=this,i=t?.attributes,{image:o}=e;return o&&i?T(o,i):o??\"\"}_createFeatureUpdatedAnimation(){return N(\"enter\",y.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(\"number\"!=typeof e)return null;const i=Math.round(e);return Math.max(t?i-1:i,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange(\"dividedActions\");const t=\"actions\";this._handles.remove(t),e&&e.forEach((e=>{this._handles.add(l((()=>[e.uid,e.active,e.className,e.disabled,e.id,e.title,e.image,e.visible]),(()=>this.scheduleRender())),t)}))}_divideActions(){const{allActions:e}=this.viewModel,i=e.filter((e=>e.visible)),o=this._getInlineActionCount(),n=null===o,s=0===o;return{inlineActions:n?i.slice(0):s?new t:i.slice(0,o),menuActions:n?new t:s?i.slice(0):i.slice(o)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:e,messagesCommon:t}=this;e&&(this.viewModel.title=\"error\"===e.viewModel?.state?t.errorMessage:e.viewModel?.title||\"\")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}_handleFeatureMenuKeyup(e){\"Escape\"===i(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){\"Escape\"===i(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(e){const{viewModel:t}=this,i=e.currentTarget[\"data-feature-index\"];t.activeFeature=t.features[i]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(e){const t=i(e),{_featureMenuNode:o}=this,n=e.currentTarget[\"data-feature-index\"];if(!o)return;const s=o.querySelectorAll(\"li\"),r=s.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();s[s.length-1].focus()}else{e.stopPropagation();s[0].focus()}else{e.stopPropagation();s[(n+1+r)%r].focus()}else{e.stopPropagation();s[(n-1+r)%r].focus()}}_handleActionMenuItemKeyup(e){const t=i(e),{_actionsMenuNode:o}=this,n=e.currentTarget.dataset.actionUid,{menuActions:s}=this.dividedActions,r=s.findIndex((e=>e.uid===n));if(!o)return;const l=o.querySelectorAll(\"li\"),a=l.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();l[l.length-1].focus()}else{e.stopPropagation();l[0].focus()}else{e.stopPropagation();l[(r+1+a)%a].focus()}else{e.stopPropagation();l[(r-1+a)%a].focus()}}_handleMainKeyup(e){const t=i(e);\"ArrowLeft\"===t&&(e.stopPropagation(),this.previous()),\"ArrowRight\"===t&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get(\"viewModel.view\");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:i}=this.viewModel;i&&t?e.show({location:t}):e.hide()}_getIconStyles(e){return{\"background-image\":e?`url(${e})`:\"\"}}async _shouldFocus(e){e?.shouldFocus&&(await d((()=>!0===this.viewModel?.active)),this.focus())}_addSelectedFeatureIndexHandle(){const e=l((()=>this.viewModel?.selectedFeatureIndex),((e,t)=>this._selectedFeatureIndexUpdated(e,t)));this._handles.add(e,B)}_selectedFeatureIndexUpdated(e,t){const{featureCount:i}=this;i&&e!==t&&-1!==e&&(this._destroyFlowItemWidgets(),this.actionsMenuOpen=!1,this.featureMenuOpen=!1,this._mainContainerNode&&(this._mainContainerNode.scrollTop=0),this._rootFlowItemNode&&this._rootFlowItemNode.scrollContentTo({top:0}))}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:i,screenLocation:o,side:n,view:s}=e;if(isNaN(i)||isNaN(t)||!s||!o)return!1;const r=s.padding;return\"right\"===n&&o.x+i/2>s.width-r.right||(\"left\"===n&&o.x-i/2<r.left||(\"top\"===n&&o.y-t<r.top||\"bottom\"===n&&o.y+t>s.height-r.bottom))}_calculateAutoAlignment(e){if(\"auto\"!==e)return e;const{_pointerOffsetInPx:t,_containerNode:i,_mainContainerNode:o,viewModel:n}=this,{screenLocation:r,view:l}=n;if(s(r)||!l||!i)return\"top-center\";if(!this._isScreenLocationWithinView(r,l))return this._get(\"currentAlignment\")||\"top-center\";function a(e){return parseInt(e.replace(/[^-\\d\\.]/g,\"\"),10)}const c=o?window.getComputedStyle(o,null):null,d=c?a(c.getPropertyValue(\"max-height\")):0,u=c?a(c.getPropertyValue(\"height\")):0,{height:h,width:p}=i.getBoundingClientRect(),g=p+t,m=Math.max(h,d,u)+t,v=this._isOutsideView({popupHeight:m,popupWidth:g,screenLocation:r,side:\"right\",view:l}),f=this._isOutsideView({popupHeight:m,popupWidth:g,screenLocation:r,side:\"left\",view:l}),_=this._isOutsideView({popupHeight:m,popupWidth:g,screenLocation:r,side:\"top\",view:l}),w=this._isOutsideView({popupHeight:m,popupWidth:g,screenLocation:r,side:\"bottom\",view:l});return f?_?\"bottom-right\":\"top-right\":v?_?\"bottom-left\":\"top-left\":_?w?\"top-center\":\"bottom-center\":\"top-center\"}_callCurrentAlignment(e){return\"function\"==typeof e?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set(\"currentAlignment\",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set(\"currentDockPosition\",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=[\"left\",\"right\"];return O(this.container)&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return\"function\"==typeof e?e.call(this):e}_getDockPosition(){return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(this.dockOptions?.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){if(\"auto\"!==e)return e;const t=this.viewModel?.view,i=O(this.container)?\"top-left\":\"top-right\";if(!t)return i;const o=t.padding||{left:0,right:0,top:0,bottom:0},n=t.width-o.left-o.right,{breakpoints:s}=t;return s&&n<=s.xsmall?\"bottom-center\":i}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!this._containerNode)return;const{screenLocation:t}=this.viewModel,{width:i}=this._containerNode.getBoundingClientRect(),o=this._calculatePositionStyle(t,i);o&&Object.assign(this._containerNode.style,o)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:i}=this;return\"top-left\"===t||\"bottom-left\"===t||\"top-right\"===t||\"bottom-right\"===t?e+i:e}_calculateAlignmentPosition(e,t,i,o){const{currentAlignment:n,_pointerOffsetInPx:s}=this;if(!i)return;const{padding:r}=i,l=o/2,a=i.height-t,c=i.width-e;return\"bottom-center\"===n?{top:t+s-r.top,left:e-l-r.left}:\"top-left\"===n?{bottom:a+s-r.bottom,right:c+s-r.right}:\"bottom-left\"===n?{top:t+s-r.top,right:c+s-r.right}:\"top-right\"===n?{bottom:a+s-r.bottom,left:e+s-r.left}:\"bottom-right\"===n?{top:t+s-r.top,left:e+s-r.left}:\"top-center\"===n?{bottom:a+s-r.bottom,left:e-l-r.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:i,view:o}=this;if(!o)return;if(i)return{left:\"\",top:\"\",right:\"\",bottom:\"\"};if(s(e)||!t)return;const n=this._calculateFullWidth(t),r=this._calculateAlignmentPosition(e.x,e.y,o,n);return r?{top:void 0!==r.top?`${r.top}px`:\"auto\",left:void 0!==r.left?`${r.left}px`:\"auto\",bottom:void 0!==r.bottom?`${r.bottom}px`:\"auto\",right:void 0!==r.right?`${r.right}px`:\"auto\"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const e=this.get(\"viewModel.view\");this._wireUpView(e)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,i){const[o,n]=e,[s,r]=t,{width:l=0,height:a=0}=i??{};return o<=l&&s>l||o>l&&s<=l||n<=a&&r>a||n>a&&r<=a}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const i=this.get(\"viewModel.view.padding\")||{left:0,right:0,top:0,bottom:0},o=i.left+i.right,n=i.top+i.bottom,s=[],r=[];s[0]=e[0]-o,s[1]=e[1]-n,r[0]=t[0]-o,r[1]=t[1]-n;const{dockOptions:l}=this,a=l.breakpoint;this._dockingThresholdCrossed(s,r,a)&&this._setDockEnabledForViewSize(l),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const i=t.active&&!e;t.screenLocationEnabled=i}_shouldDockAtCurrentViewSize(e){const t=e.breakpoint,i=this.viewModel?.view?.ui;if(!i)return!1;const{width:o,height:n}=i;if(isNaN(o)||isNaN(n))return!1;if(!t)return!1;const s=t.hasOwnProperty(\"width\")&&o<=(t.width??0),r=t.hasOwnProperty(\"height\")&&n<=(t.height??0);return s||r}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?T(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(e,L),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new f({view:e}),e.ui.add(this._spinner,{key:L,position:\"manual\"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget.dataset.actionUid,{allActions:i}=this.viewModel,o=i.findIndex((e=>e.uid===t)),n=i.getItemAt(o);n&&\"toggle\"===n.type&&(n.value=!n.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(o)}_selectFeature(e){const t=e.currentTarget[\"data-feature-index\"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};e([p({readOnly:!0})],W.prototype,\"actionsMenuId\",null),e([p({readOnly:!0})],W.prototype,\"actionsMenuButtonId\",null),e([p({readOnly:!0})],W.prototype,\"featureMenuId\",null),e([p({readOnly:!0})],W.prototype,\"titleId\",null),e([p({readOnly:!0})],W.prototype,\"contentId\",null),e([p({readOnly:!0})],W.prototype,\"hasContent\",null),e([p({readOnly:!0})],W.prototype,\"featureNavigationVisible\",null),e([p({readOnly:!0})],W.prototype,\"collapsible\",null),e([p({readOnly:!0})],W.prototype,\"featureMenuVisible\",null),e([p({readOnly:!0})],W.prototype,\"contentCollapsed\",null),e([p({readOnly:!0})],W.prototype,\"dividedActions\",null),e([p({readOnly:!0,dependsOn:[\"_flowItems.length\"]})],W.prototype,\"_activeFlowItemWidget\",null),e([p()],W.prototype,\"actions\",null),e([p()],W.prototype,\"actionsMenuOpen\",null),e([p()],W.prototype,\"alignment\",void 0),e([p()],W.prototype,\"autoCloseEnabled\",null),e([p()],W.prototype,\"autoOpenEnabled\",null),e([p()],W.prototype,\"defaultPopupTemplateEnabled\",null),e([p()],W.prototype,\"content\",null),e([p()],W.prototype,\"collapsed\",void 0),e([p()],W.prototype,\"collapseEnabled\",void 0),e([p({readOnly:!0})],W.prototype,\"currentAlignment\",null),e([p({readOnly:!0})],W.prototype,\"currentDockPosition\",null),e([p()],W.prototype,\"dockOptions\",null),e([p()],W.prototype,\"dockEnabled\",void 0),e([p({readOnly:!0})],W.prototype,\"featureCount\",null),e([p()],W.prototype,\"featureMenuOpen\",void 0),e([p()],W.prototype,\"features\",null),e([p()],W.prototype,\"goToOverride\",null),e([p()],W.prototype,\"headingLevel\",void 0),e([p()],W.prototype,\"highlightEnabled\",null),e([p()],W.prototype,\"location\",null),e([p()],W.prototype,\"label\",null),e([p()],W.prototype,\"maxInlineActions\",void 0),e([p(),C(\"esri/widgets/Popup/t9n/Popup\")],W.prototype,\"messages\",void 0),e([p(),C(\"esri/t9n/common\")],W.prototype,\"messagesCommon\",void 0),e([p()],W.prototype,\"promises\",null),e([p({readOnly:!0})],W.prototype,\"selectedFeature\",null),e([p()],W.prototype,\"selectedFeatureIndex\",null),e([p({readOnly:!0})],W.prototype,\"selectedFeatureWidget\",null),e([p()],W.prototype,\"spinnerEnabled\",void 0),e([p()],W.prototype,\"title\",null),e([p()],W.prototype,\"updateLocationEnabled\",null),e([p()],W.prototype,\"view\",null),e([p({type:A}),I([\"triggerAction\",\"trigger-action\"])],W.prototype,\"viewModel\",void 0),e([p()],W.prototype,\"visible\",null),e([p()],W.prototype,\"visibleElements\",void 0),e([g(\"visibleElements\")],W.prototype,\"castVisibleElements\",null),e([F()],W.prototype,\"_close\",null),e([F()],W.prototype,\"_toggleDockEnabled\",null),e([F()],W.prototype,\"_toggleFeatureMenu\",null),e([F()],W.prototype,\"_toggleActionsMenu\",null),e([F()],W.prototype,\"_triggerAction\",null),e([F()],W.prototype,\"_selectFeature\",null),e([F()],W.prototype,\"_next\",null),e([F()],W.prototype,\"_previous\",null),W=e([m(\"esri.widgets.Popup\")],W);const j=W;export{j as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}