{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { bytesToUTF8 as e } from \"../rasterDatasets/byteStreamUtils.js\";\nimport { J as t } from \"../../../chunks/Jpg.js\";\nimport { load as n, decode as a } from \"./Lerc.js\";\nimport { decode as i } from \"./Lzw.js\";\nimport { convertNoDataToMask as s } from \"./pixelRangeUtils.js\";\nimport r from \"./TiffTags.js\";\nimport { isPlatformLittleEndian as l } from \"./utils.js\";\nimport { Z as o } from \"../../../chunks/Zlib.js\";\nconst f = [0, 1, 1, 2, 4, 8, 1, 1, 2, 4, 8, 4, 8, -1, -1, -1, 8, 8, 8],\n      u = 4294967296,\n      c = new Set([1, 5, 6, 7, 8, 34712, 34887]);\n\nfunction h(e, t) {\n  let n = \"unknown\";\n  return 3 === e ? n = 64 === t ? \"f64\" : \"f32\" : 1 === e ? 1 === t ? n = \"u1\" : 2 === t ? n = \"u2\" : 4 === t ? n = \"u4\" : t <= 8 ? n = \"u8\" : t <= 16 ? n = \"u16\" : t <= 32 && (n = \"u32\") : 2 === e && (t <= 8 ? n = \"s8\" : t <= 16 ? n = \"s16\" : t <= 32 && (n = \"s32\")), n;\n}\n\nfunction g(e) {\n  let t = null;\n\n  switch (e ? e.toLowerCase() : \"f32\") {\n    case \"u1\":\n    case \"u2\":\n    case \"u4\":\n    case \"u8\":\n      t = Uint8Array;\n      break;\n\n    case \"u16\":\n      t = Uint16Array;\n      break;\n\n    case \"u32\":\n      t = Uint32Array;\n      break;\n\n    case \"s8\":\n      t = Int8Array;\n      break;\n\n    case \"s16\":\n      t = Int16Array;\n      break;\n\n    case \"s32\":\n      t = Int32Array;\n      break;\n\n    case \"f64\":\n      t = Float64Array;\n      break;\n\n    default:\n      t = Float32Array;\n  }\n\n  return t;\n}\n\nfunction E(e, t) {\n  return {\n    x: t[0] * e.x + t[1] * e.y + t[2],\n    y: t[3] * e.x + t[4] * e.y + t[5]\n  };\n}\n\nfunction I(e, t) {\n  return e.get(t)?.values;\n}\n\nfunction T(e, t) {\n  return e.get(t)?.values;\n}\n\nfunction p(e, t) {\n  return e.get(t)?.values?.[0];\n}\n\nfunction d(e, t) {\n  return e.get(t)?.values?.[0];\n}\n\nfunction w(e, t, n, a = 0, i = r.TIFF_TAGS, s = 4) {\n  const l = 8 === s,\n        o = l ? G(new DataView(e, n, 8), 0, t) : new DataView(e, n, 2).getUint16(0, t),\n        f = 4 + 2 * s,\n        u = l ? 8 : 2,\n        c = u + o * f;\n  if (n + c > e.byteLength) return {\n    success: !1,\n    ifd: null,\n    nextIFD: null,\n    requiredBufferSize: c\n  };\n  const h = n + c + 4 <= e.byteLength ? C(new DataView(e, n + c, 8 === s ? 8 : 4), 0, t, 8 === s) : null,\n        g = n + u,\n        E = new Map();\n  let I,\n      T,\n      p,\n      d,\n      w,\n      m = 0,\n      S = 0;\n\n  for (let y = 0; y < o; y++) {\n    T = new DataView(e, g + f * y, f), p = T.getUint16(0, t), w = T.getUint16(2, t), d = r.getTagName(p, i);\n    const n = [];\n    2 === s ? (m = T.getUint16(4, t), S = T.getUint16(6, t)) : 4 === s ? (m = T.getUint32(4, t), S = T.getUint32(8, t)) : 8 === s && (m = C(T, 4, t, !0), S = C(T, 12, t, !0), n.push(T.getUint32(12, t)), n.push(T.getUint32(16, t))), I = {\n      id: p,\n      type: w,\n      valueCount: m,\n      valueOffset: S,\n      valueOffsets: n,\n      values: null\n    }, L(e, t, I, a, !1, s), E.set(d, I);\n  }\n\n  return {\n    success: !0,\n    ifd: E,\n    nextIFD: h,\n    requiredBufferSize: c\n  };\n}\n\nconst m = (e, t) => a(e, {\n  inputOffset: t\n}).pixels[0];\n\nfunction S(e, t) {\n  if (1 !== t && 2 !== t && 4 !== t) return e;\n  const n = new Uint8Array(e),\n        a = 8 / t,\n        i = new Uint8Array(e.byteLength * a);\n  let s = 0;\n  const r = 2 ** t - 1;\n\n  for (let l = 0; l < n.length; l++) {\n    const e = n[l];\n\n    for (let n = 0; n < a; n++) i[s++] = e << t * n >>> 8 - t & r;\n  }\n\n  return i.buffer;\n}\n\nfunction y(e, n, a) {\n  const i = new t();\n  i.parse(e), i.colorTransform = 6 === a ? -1 : 0;\n  const s = i.getData(i.width, i.height, 1 !== n);\n  return new Uint8Array(s.buffer);\n}\n\nfunction A(e) {\n  const t = new o(e).getBytes(),\n        n = new ArrayBuffer(t.length),\n        a = new Uint8Array(n);\n  return a.set(t), a;\n}\n\nfunction M(_x, _x2, _x3, _x4, _x5) {\n  return _M.apply(this, arguments);\n}\n\nfunction _M() {\n  _M = _asyncToGenerator(function* (e, t, a, s, r) {\n    const o = l === t,\n          f = d(a, \"BITSPERSAMPLE\"),\n          u = d(a, \"SAMPLESPERPIXEL\"),\n          c = d(a, \"PHOTOMETRICINTERPRETATION\"),\n          E = h(d(a, \"SAMPLEFORMAT\") ?? 1, f),\n          I = d(a, \"COMPRESSION\") ?? 1,\n          T = g(E);\n    let p, w, M;\n    if (34887 === I) return yield n(), m(e, s);\n    if (1 === I) p = e.slice(s, s + r), w = new Uint8Array(p);else if (8 === I || 32946 === I) w = new Uint8Array(e, s, r), w = A(w), p = w.buffer;else if (6 === I) w = new Uint8Array(e, s, r), w = y(w, u, c), p = w.buffer;else if (7 === I) {\n      const t = a.get(\"JPEGTABLES\").values,\n            n = t.length - 2;\n      w = new Uint8Array(n + r - 2);\n\n      for (let e = 0; e < n; e++) w[e] = t[e];\n\n      const i = new Uint8Array(e, s + 2, r - 2);\n\n      for (let e = 0; e < i.length; e++) w[n + e] = i[e];\n\n      w = y(w, u, c), p = w.buffer;\n    } else {\n      if (5 !== I) throw new Error(\"tiff-decode: unsupport compression \" + I);\n      w = i(e, s, r, t), p = w.buffer;\n    }\n    if (p = S(p, f), \"u8\" === E || \"s8\" === E || o) M = new T(p);else {\n      p = new ArrayBuffer(w.length);\n      const e = new Uint8Array(p);\n\n      switch (E) {\n        case \"u16\":\n        case \"s16\":\n          for (let t = 0; t < w.length; t += 2) e[t] = w[t + 1], e[t + 1] = w[t];\n\n          break;\n\n        case \"u32\":\n        case \"s32\":\n        case \"f32\":\n          for (let t = 0; t < w.length; t += 4) e[t] = w[t + 3], e[t + 1] = w[t + 2], e[t + 2] = w[t + 1], e[t + 3] = w[t];\n\n      }\n\n      M = new T(p);\n    }\n    return M;\n  });\n  return _M.apply(this, arguments);\n}\n\nfunction P(_x6, _x7, _x8) {\n  return _P.apply(this, arguments);\n}\n\nfunction _P() {\n  _P = _asyncToGenerator(function* (e, t, n) {\n    const a = T(n, \"TILEOFFSETS\");\n    if (void 0 === a) return null;\n    const i = T(n, \"TILEBYTECOUNTS\"),\n          {\n      width: s,\n      height: r,\n      pixelType: l,\n      tileWidth: o,\n      tileHeight: f\n    } = R([n]),\n          u = D(n, t),\n          c = d(n, \"SAMPLESPERPIXEL\") || t.planes,\n          h = s * r,\n          E = d(n, \"BITSPERSAMPLE\"),\n          I = 34887 === (d(n, \"COMPRESSION\") ?? 1),\n          p = g(l),\n          w = [];\n\n    for (let g = 0; g < c; g++) w.push(new p(h));\n\n    let m, S, y, A, P, O, b, x, L, N, U, k, G;\n    const F = Math.ceil(s / o);\n    if (E % 8 == 0) if (I && u && c > 1) {\n      const l = Math.round(a.length / c);\n\n      for (m = 0; m < l; m++) {\n        O = Math.floor(m / F) * f, b = m % F * o, x = O * s + b;\n\n        for (let l = 0; l < c; l++) {\n          const u = m * c + l;\n          if (0 !== i[u]) for (y = yield M(e, t.littleEndian, n, a[u], i[u]), N = 0, L = x, k = Math.min(o, s - b), U = Math.min(f, r - O), G = w[l], A = 0; A < U; A++) for (L = x + A * s, N = A * o, P = 0; P < k; P++, L++, N++) G[L] = y[N];\n        }\n      }\n    } else for (m = 0; m < a.length; m++) if (0 !== i[m]) for (O = Math.floor(m / F) * f, b = m % F * o, x = O * s + b, y = yield M(e, t.littleEndian, n, a[m], i[m]), N = 0, L = x, k = Math.min(o, s - b), U = Math.min(f, r - O), S = 0; S < c; S++) if (G = w[S], u || I) for (A = 0; A < U; A++) for (L = x + A * s, N = o * f * S + A * o, P = 0; P < k; P++, L++, N++) G[L] = y[N];else for (A = 0; A < U; A++) for (L = x + A * s, N = A * o * c + S, P = 0; P < k; P++, L++, N += c) G[L] = y[N];\n    return {\n      width: s,\n      height: r,\n      pixelType: l,\n      pixels: w\n    };\n  });\n  return _P.apply(this, arguments);\n}\n\nconst O = (e, t, n) => {\n  const a = l === t.littleEndian,\n        s = T(n, \"STRIPOFFSETS\");\n  if (void 0 === s) return null;\n  const {\n    width: r,\n    height: o,\n    pixelType: f\n  } = R([n]),\n        u = d(n, \"SAMPLESPERPIXEL\") || t.planes,\n        c = d(n, \"PHOTOMETRICINTERPRETATION\"),\n        h = r * o,\n        E = d(n, \"BITSPERSAMPLE\"),\n        I = g(f),\n        p = new I(h * u),\n        w = T(n, \"STRIPBYTECOUNTS\"),\n        m = d(n, \"ROWSPERSTRIP\"),\n        M = d(n, \"COMPRESSION\") ?? 1;\n  let P,\n      O,\n      b,\n      x,\n      L,\n      D,\n      N,\n      U,\n      k,\n      G = m;\n  if (E % 8 == 0) for (P = 0; P < s.length; P++) {\n    if (L = P * (m * r) * u, G = (P + 1) * m > o ? o - P * m : m, \"u8\" === f || \"s8\" === f || a) 8 === M || 32946 === M ? (N = new Uint8Array(e, s[P], w[P]), N = A(N), D = N.buffer) : 6 === M ? (N = new Uint8Array(e, s[P], w[P]), N = y(N, u, c), D = N.buffer) : 5 === M ? (N = i(e, s[P], w[P], t.littleEndian), D = N.buffer) : (w[P] !== G * r * u * E / 8 && console.log(\"strip byte counts is different than expected\"), D = e.slice(s[P], s[P] + w[P])), D = S(D, E), x = new I(D);else {\n      switch (6 === M || 8 === M || 32946 === M ? (N = new Uint8Array(e, s[P], w[P]), U = A(N), D = U.buffer) : (w[P] !== G * r * u * E / 8 && console.log(\"strip byte counts is different than expected\"), D = new ArrayBuffer(w[P]), N = new Uint8Array(e, s[P], w[P]), U = new Uint8Array(D)), f) {\n        case \"u16\":\n        case \"s16\":\n          for (b = 0; b < N.length; b += 2) U[b] = N[b + 1], U[b + 1] = N[b];\n\n          break;\n\n        case \"u32\":\n        case \"s32\":\n        case \"f32\":\n          for (b = 0; b < N.length; b += 4) U[b] = N[b + 3], U[b + 1] = N[b + 2], U[b + 2] = N[b + 1], U[b + 3] = N[b];\n\n      }\n\n      D = S(D, E), x = new I(D);\n    }\n    p.set(x, L);\n  }\n  const F = [];\n  if (1 === u) F.push(p);else for (P = 0; P < u; P++) {\n    for (k = new I(h), O = 0; O < h; O++) k[O] = p[O * u + P];\n\n    F.push(k);\n  }\n  return {\n    width: r,\n    height: o,\n    pixelType: f,\n    pixels: F\n  };\n},\n      b = (e, t, n) => {\n  if (!(e && e.length > 0 && t && n)) return null;\n  let a, i, s;\n  const r = e[0].length,\n        l = e.length,\n        o = new Uint8Array(r);\n\n  for (let f = 0; f < l; f++) if (a = e[f], i = t[f], s = n[f], 0 === f) for (let e = 0; e < r; e++) o[e] = a[e] < i || a[e] > s ? 0 : 1;else for (let e = 0; e < r; e++) o[e] && (o[e] = a[e] < i || a[e] > s ? 0 : 1);\n\n  return o;\n},\n      x = e => {\n  if (!e) return null;\n  const t = e.match(/<Item(.*?)Item>/gi);\n  if (!t || 0 === t.length) return null;\n  const n = new Map();\n  let a, i, s, r, l;\n\n  for (let p = 0; p < t.length; p++) a = t[p], i = a.slice(\"<Item \".length, a.indexOf(\">\")), r = a.indexOf(\"sample=\"), r > -1 && (l = a.slice(r + 'sample=\"'.length, a.indexOf('\"', r + 'sample=\"'.length))), r = a.indexOf(\"name=\"), r > -1 && (i = a.slice(r + 'name=\"'.length, a.indexOf('\"', r + 'name=\"'.length))), i && (s = a.slice(a.indexOf(\">\") + 1, a.indexOf(\"</Item>\")).trim(), null != l ? n.has(i) ? n.get(i)[l] = s : n.set(i, [s]) : n.set(i, s)), l = null;\n\n  const o = n.get(\"STATISTICS_MINIMUM\"),\n        f = n.get(\"STATISTICS_MAXIMUM\"),\n        u = n.get(\"STATISTICS_MEAN\"),\n        c = n.get(\"STATISTICS_STDDEV\");\n  let h = null;\n\n  if (o && f) {\n    h = [];\n\n    for (let e = 0; e < o.length; e++) h.push({\n      min: parseFloat(o[e]),\n      max: parseFloat(f[e]),\n      avg: u && parseFloat(u[e]),\n      stddev: c && parseFloat(c[e])\n    });\n  }\n\n  const g = n.get(\"BandName\"),\n        E = n.get(\"WavelengthMin\"),\n        I = n.get(\"WavelengthMax\");\n  let T = null;\n\n  if (g) {\n    T = [];\n\n    for (let e = 0; e < g.length; e++) T.push({\n      BandName: g[e],\n      WavelengthMin: E && parseFloat(E[e]),\n      WavelengthMax: I && parseFloat(I[e])\n    });\n  }\n\n  return {\n    statistics: h,\n    bandProperties: T,\n    dataType: n.get(\"DataType\"),\n    rawMetadata: n\n  };\n};\n\nfunction L(e, t, n, a = 0, i = !1, s = 4) {\n  if (n.values) return !0;\n  const r = n.type,\n        l = n.valueCount;\n  let o = n.valueOffset,\n      c = [];\n  const h = f[r],\n        g = 8 * h,\n        E = l * h,\n        I = l * f[r] * 8;\n  let T, p;\n  const d = 8 === s ? 64 : 32,\n        w = n.valueOffsets;\n\n  if (I > d) {\n    if (E > (i ? e.byteLength : e ? e.byteLength - o + a : 0)) return n.offlineOffsetSize = [o, E], n.values = null, !1;\n  }\n\n  if (I <= d) {\n    if (!t) if (d <= 32) o >>>= 32 - I;else {\n      const e = w?.length ? w[0] : o >>> 0,\n            t = w?.length ? w[1] : Math.round((o - e) / u);\n      I <= 32 ? (o = e >>> 32 - I, w[0] = o) : (o = e * 2 ** (32 - I) + (t >>> 32 - I), w[0] = e, w[1] = t >>> 32 - I);\n    }\n    if (1 === l && g === d) c = [o];else if (64 === d) {\n      const e = w?.length ? w[0] : o >>> 0,\n            t = w?.length ? w[1] : Math.round((o - e) / u);\n      let n = e,\n          a = 32;\n\n      for (p = 1; p <= l; p++) {\n        const e = 32 - g * p % 32;\n\n        if (a < g) {\n          const i = n << e >>> 32 - a,\n                s = t << 32 - a >>> 32 - a;\n          n = t, c.push(i + s * 2 ** (g - a)), a -= 32 - (g - a);\n        } else c.push(n << e >>> 32 - g), a -= g;\n\n        0 === a && (a = 32, n = t);\n      }\n    } else for (p = 1; p <= l; p++) {\n      const e = 32 - g * p;\n      c.push(o << e >>> 32 - g);\n    }\n  } else {\n    o -= a, i && (o = 0);\n\n    for (let n = o; n < o + E; n += h) {\n      switch (r) {\n        case 1:\n        case 2:\n        case 7:\n          T = new DataView(e, n, 1).getUint8(0);\n          break;\n\n        case 3:\n          T = new DataView(e, n, 2).getUint16(0, t);\n          break;\n\n        case 4:\n        case 13:\n          T = new DataView(e, n, 4).getUint32(0, t);\n          break;\n\n        case 5:\n          T = new DataView(e, n, 4).getUint32(0, t) / new DataView(e, n + 4, 4).getUint32(0, t);\n          break;\n\n        case 6:\n          T = new DataView(e, n, 1).getInt8(0);\n          break;\n\n        case 8:\n          T = new DataView(e, n, 2).getInt16(0, t);\n          break;\n\n        case 9:\n          T = new DataView(e, n, 4).getInt32(0, t);\n          break;\n\n        case 10:\n          T = new DataView(e, n, 4).getInt32(0, t) / new DataView(e, n + 4, 4).getInt32(0, t);\n          break;\n\n        case 11:\n          T = new DataView(e, n, 4).getFloat32(0, t);\n          break;\n\n        case 12:\n          T = new DataView(e, n, 8).getFloat64(0, t);\n          break;\n\n        case 16:\n        case 18:\n          T = G(new DataView(e, n, 8), 0, t);\n          break;\n\n        case 17:\n          T = F(new DataView(e, n, 8), 0, t);\n          break;\n\n        default:\n          T = null;\n      }\n\n      c.push(T);\n    }\n  }\n\n  if (2 === r) {\n    let e = \"\";\n    const t = c;\n\n    for (c = [], p = 0; p < t.length; p++) 0 === t[p] && \"\" !== e ? (c.push(e), e = \"\") : e += String.fromCharCode(t[p]);\n\n    \"\" === e && 0 !== c.length || c.push(e);\n  }\n\n  return n.values = c, !0;\n}\n\nfunction R(e) {\n  const t = e[0],\n        n = d(t, \"TILEWIDTH\"),\n        a = d(t, \"TILELENGTH\"),\n        i = d(t, \"IMAGEWIDTH\"),\n        s = d(t, \"IMAGELENGTH\"),\n        r = d(t, \"BITSPERSAMPLE\"),\n        l = d(t, \"SAMPLESPERPIXEL\"),\n        o = d(t, \"SAMPLEFORMAT\") ?? 1,\n        f = h(o, r),\n        u = D(t),\n        g = I(t, \"GDAL_NODATA\");\n  let w = null;\n  g?.length && (w = g.map(e => parseFloat(e)), w.some(e => isNaN(e)) && (w = null));\n  const m = d(t, \"COMPRESSION\") ?? 1;\n  let S;\n\n  switch (m) {\n    case 1:\n      S = \"NONE\";\n      break;\n\n    case 2:\n    case 3:\n    case 4:\n    case 32771:\n      S = \"CCITT\";\n      break;\n\n    case 5:\n      S = \"LZW\";\n      break;\n\n    case 6:\n    case 7:\n      S = \"JPEG\";\n      break;\n\n    case 32773:\n      S = \"PACKBITS\";\n      break;\n\n    case 8:\n    case 32946:\n      S = \"DEFLATE\";\n      break;\n\n    case 34712:\n      S = \"JPEG2000\";\n      break;\n\n    case 34887:\n      S = \"LERC\";\n      break;\n\n    default:\n      S = String(m);\n  }\n\n  let y = !0,\n      A = \"\";\n  c.has(m) || (y = !1, A += \"unsupported tag compression \" + m), o > 3 && (y = !1, A += \"unsupported tag sampleFormat \" + o), 1 !== r && 2 !== r && 4 !== r && r % 8 != 0 && (y = !1, A += \"unsupported tag bitsPerSample \" + r);\n  const M = p(t, \"GEOASCIIPARAMS\");\n  let P;\n\n  if (M) {\n    const e = M.split(\"|\").find(e => e.includes(\"ESRI PE String = \")),\n          t = e ? e.replace(\"ESRI PE String = \", \"\") : \"\";\n    P = t.startsWith(\"COMPD_CS\") || t.startsWith(\"PROJCS\") || t.startsWith(\"GEOGCS\") ? {\n      wkid: null,\n      wkt: t\n    } : null;\n  }\n\n  const O = T(t, \"GEOTIEPOINTS\"),\n        b = T(t, \"GEOPIXELSCALE\"),\n        L = T(t, \"GEOTRANSMATRIX\"),\n        R = t.has(\"GEOKEYDIRECTORY\") ? t.get(\"GEOKEYDIRECTORY\").data : null;\n  let k,\n      G,\n      F = !1,\n      C = !1;\n\n  if (R) {\n    F = 2 === d(R, \"GTRasterTypeGeoKey\");\n    const e = d(R, \"GTModelTypeGeoKey\");\n\n    if (2 === e) {\n      const e = d(R, \"GeographicTypeGeoKey\");\n      e >= 1024 && e <= 32766 && (P = {\n        wkid: e\n      }), P || 32767 !== e || (C = !0, P = {\n        wkid: 4326\n      });\n    } else if (1 === e) {\n      const e = d(R, \"ProjectedCSTypeGeoKey\");\n      e >= 1024 && e <= 32766 && (P = {\n        wkid: e\n      });\n    }\n  }\n\n  if (b && O && O.length >= 6 ? (k = [b[0], 0, O[3] - O[0] * b[0], 0, -Math.abs(b[1]), O[4] - O[1] * b[1]], F && (k[2] -= .5 * k[0] + .5 * k[1], k[5] -= .5 * k[3] + .5 * k[4])) : L && 16 === L.length && (k = F ? [L[0], L[1], L[3] - .5 * L[0], L[4], L[5], L[7] - .5 * L[5]] : [L[0], L[1], L[3], L[4], L[5], L[7]]), k) {\n    const e = [{\n      x: 0,\n      y: s\n    }, {\n      x: 0,\n      y: 0\n    }, {\n      x: i,\n      y: s\n    }, {\n      x: i,\n      y: 0\n    }];\n    let t,\n        n = Number.POSITIVE_INFINITY,\n        a = Number.POSITIVE_INFINITY,\n        r = Number.NEGATIVE_INFINITY,\n        l = Number.NEGATIVE_INFINITY;\n\n    for (let i = 0; i < e.length; i++) t = E(e[i], k), n = t.x > n ? n : t.x, r = t.x < r ? r : t.x, a = t.y > a ? a : t.y, l = t.y < l ? l : t.y;\n\n    G = {\n      xmin: n,\n      xmax: r,\n      ymin: a,\n      ymax: l,\n      spatialReference: P\n    };\n  } else G = {\n    xmin: -.5,\n    ymin: .5 - s,\n    xmax: i - .5,\n    ymax: .5,\n    spatialReference: P\n  };\n\n  C && (G.xmax - G.xmin > 400 || Math.max(Math.abs(G.xmin), Math.abs(G.xmax)) > 361) && (P = null, G.spatialReference = null);\n  const v = N(e);\n\n  let B, W, H, Y, _;\n\n  if (v.length > 0) {\n    H = Math.round(Math.log(i / d(v[0], \"IMAGEWIDTH\")) / Math.LN2);\n    const e = v[v.length - 1];\n    Y = Math.round(Math.log(i / d(e, \"IMAGEWIDTH\")) / Math.LN2), B = d(e, \"TILEWIDTH\"), W = d(e, \"TILELENGTH\");\n  }\n\n  B = null != Y && Y > 0 ? B || n : null, W = null != Y && Y > 0 ? W || a : null, n && (_ = [{\n    maxCol: Math.ceil(i / n) - 1,\n    maxRow: Math.ceil(s / a) - 1,\n    minRow: 0,\n    minCol: 0\n  }], v.forEach(e => {\n    _.push({\n      maxCol: Math.ceil(d(e, \"IMAGEWIDTH\") / d(e, \"TILEWIDTH\")) - 1,\n      maxRow: Math.ceil(d(e, \"IMAGELENGTH\") / d(e, \"TILELENGTH\")) - 1,\n      minRow: 0,\n      minCol: 0\n    });\n  }));\n  const K = p(e[0], \"GDAL_METADATA\"),\n        X = x(K);\n  A += \" \" + V({\n    width: i,\n    height: s,\n    tileWidth: n,\n    tileHeight: a,\n    planes: l,\n    ifds: e\n  });\n  return {\n    width: i,\n    height: s,\n    tileWidth: n,\n    tileHeight: a,\n    planes: l,\n    isBSQ: u,\n    pixelType: f,\n    compression: S,\n    noData: w,\n    hasMaskBand: U(e).length === v.length + 1,\n    isSupported: y,\n    message: A,\n    extent: G,\n    isPseudoGeographic: C,\n    affine: b ? null : k,\n    firstPyramidLevel: H,\n    maximumPyramidLevel: Y,\n    pyramidBlockWidth: B,\n    pyramidBlockHeight: W,\n    tileBoundary: _,\n    metadata: X\n  };\n}\n\nfunction D(e, t) {\n  const n = I(e, \"PLANARCONFIGURATION\");\n  return n ? 2 === n[0] : !!t && t.isBSQ;\n}\n\nfunction N(e) {\n  return e.filter(e => 1 === d(e, \"NEWSUBFILETYPE\"));\n}\n\nfunction U(e) {\n  return e.filter(e => {\n    const t = 4 == (4 & (d(e, \"NEWSUBFILETYPE\") ?? 0)),\n          n = 4 === d(e, \"PHOTOMETRICINTERPRETATION\");\n    return t && n;\n  });\n}\n\nfunction k(e) {\n  const {\n    littleEndian: t,\n    isBigTiff: n,\n    firstIFDPos: a\n  } = v(e);\n  let i = a;\n  const s = [];\n\n  do {\n    const a = B(e, t, i, 0, r.TIFF_TAGS, n ? 8 : 4);\n    if (!a.success) break;\n    s.push(a.ifd), i = a.nextIFD;\n  } while (i > 0);\n\n  return { ...R(s),\n    littleEndian: t,\n    isBigTiff: n,\n    ifds: s,\n    pyramidIFDs: N(s),\n    maskIFDs: U(s)\n  };\n}\n\nfunction G(e, t, n) {\n  const a = e.getUint32(t, n),\n        i = e.getUint32(t + 4, n);\n  return n ? i * u + a : a * u + i;\n}\n\nfunction F(e, t, n) {\n  let a = n ? e.getInt32(t, n) : e.getUint32(t, n),\n      i = n ? e.getUint32(t + 4, n) : e.getInt32(t + 4, n);\n  const s = (n ? a : i) >= 0 ? 1 : -1;\n  n ? a *= s : i *= s;\n  return s * (n ? i * u + a : a * u + i);\n}\n\nfunction C(e, t, n, a) {\n  return a ? G(e, t, n) : e.getUint32(t, n);\n}\n\nfunction v(e) {\n  const t = new DataView(e, 0, 16),\n        n = t.getUint16(0, !1);\n  let a = null;\n  if (18761 === n) a = !0;else {\n    if (19789 !== n) throw new Error(\"unexpected endianess byte\");\n    a = !1;\n  }\n  const i = t.getUint16(2, a);\n  if (42 !== i && 43 !== i) throw new Error(\"unexpected tiff identifier\");\n  let s = 4;\n  const r = 43 === i;\n\n  if (r) {\n    const e = t.getUint16(s, a);\n    if (s += 2, 8 !== e) throw new Error(\"unsupported bigtiff version\");\n    if (0 !== t.getUint16(s, a)) throw new Error(\"unsupported bigtiff version\");\n    s += 2;\n  }\n\n  return {\n    littleEndian: a,\n    isBigTiff: r,\n    firstIFDPos: C(t, s, a, r)\n  };\n}\n\nfunction B(t, n, a, i = 0, s = r.TIFF_TAGS, l = 4) {\n  const o = w(t, n, a, i, s, l);\n  let f;\n  const u = o.ifd;\n\n  if (u) {\n    if (r.ifdTags.forEach((e, a) => {\n      u.has(a) && (f = u.get(a), f.data = w(t, n, f.valueOffset - i, i, e).ifd);\n    }), u.has(\"GEOKEYDIRECTORY\")) {\n      f = u.get(\"GEOKEYDIRECTORY\");\n      const e = f.values;\n\n      if (e && e.length > 4) {\n        const a = e[0] + \".\" + e[1] + \".\" + e[2];\n        f.data = w(t, n, f.valueOffset + 6 - i, i, r.GEO_KEYS, 2).ifd, f.data && f.data.set(\"GEOTIFFVersion\", {\n          id: 0,\n          type: 2,\n          valueCount: 1,\n          valueOffset: null,\n          values: [a]\n        });\n      }\n    }\n\n    if (u.has(\"XMP\")) {\n      f = u.get(\"XMP\");\n      const t = f.values;\n      \"number\" == typeof t[0] && 7 === f.type && (f.values = [e(new Uint8Array(t))]);\n    }\n  }\n\n  return o;\n}\n\nfunction V(e) {\n  const {\n    width: t,\n    height: n,\n    tileHeight: a,\n    tileWidth: i\n  } = e,\n        s = e.planes,\n        r = i ? i * a : t * n,\n        l = d(e.ifds[0], \"BITSPERSAMPLE\");\n  let o = \"\";\n  return r * s > 2 ** 30 / (l > 8 ? l / 8 : 1) && (o = i ? \"tiled tiff exceeding 1 gigabits per tile is not supported\" : \"scanline tiff exceeding 1 gigabits is not supported\"), o;\n}\n\nfunction W(_x9, _x10) {\n  return _W.apply(this, arguments);\n}\n\nfunction _W() {\n  _W = _asyncToGenerator(function* (e, t) {\n    const {\n      headerInfo: n,\n      ifd: a,\n      offsets: i,\n      sizes: r\n    } = t,\n          l = [];\n\n    for (let s = 0; s < i.length; s++) {\n      const t = yield M(e, n.littleEndian, a, i[s], r[s] || e.byteLength);\n      l.push(t);\n    }\n\n    const o = D(a, n),\n          f = d(a, \"BITSPERSAMPLE\"),\n          u = h(d(a, \"SAMPLEFORMAT\") ?? 1, f),\n          c = d(a, \"SAMPLESPERPIXEL\") || n.planes,\n          E = g(u),\n          I = d(a, \"TILEWIDTH\"),\n          T = d(a, \"TILELENGTH\"),\n          p = d(a, \"COMPRESSION\") ?? 1,\n          w = I * T;\n    let m;\n    const S = [];\n    let y = l[0];\n    const A = 34887 === p;\n\n    for (let s = 0; s < c; s++) {\n      if (m = new E(w), o && A) {\n        if (y = l[s], y.length) for (let e = 0; e < w; e++) m[e] = y[s][e + s];\n      } else if (y.length) if (o || A && !o) m = y.slice(w * s, w * (s + 1));else for (let e = 0; e < w; e++) m[e] = y[e * c + s];\n\n      S.push(m);\n    }\n\n    const P = n.noData ? n.noData[0] : t.noDataValue,\n          O = n.metadata ? n.metadata.statistics : null,\n          x = O ? O.map(e => e.min) : null,\n          L = O ? O.map(e => e.max) : null,\n          R = {\n      pixelType: u,\n      width: I,\n      height: T,\n      pixels: S,\n      noDataValue: P\n    };\n    return null != P ? s(R, P) : x && L && t.applyMinMaxConstraint && (R.mask = b(S, x, L)), R;\n  });\n  return _W.apply(this, arguments);\n}\n\nfunction H(_x11) {\n  return _H.apply(this, arguments);\n}\n\nfunction _H() {\n  _H = _asyncToGenerator(function* (e, t = {}) {\n    const n = t.pyramidLevel || 0,\n          a = t.headerInfo || k(e),\n          {\n      ifds: i,\n      noData: r\n    } = a;\n    if (0 === i.length) throw new Error(\"no valid image file directory\");\n    const l = V(a);\n    if (l) throw l;\n    let o = null;\n    const f = -1 === n ? i[i.length - 1] : i[n],\n          u = r ?? t.noDataValue;\n    return o = a.tileWidth ? yield P(e, a, f) : yield O(e, a, f), o ? (null != u && s(o, u), o) : o;\n  });\n  return _H.apply(this, arguments);\n}\n\nexport { H as decode, W as decodeTileOrStrip, R as getImageInfo, U as getMaskIFDs, N as getPyramidIFDs, D as isBSQConfig, L as parseFieldValues, k as parseHeader, B as parseIFD, v as parseSignature };","map":{"version":3,"names":["bytesToUTF8","e","J","t","load","n","decode","a","i","convertNoDataToMask","s","r","isPlatformLittleEndian","l","Z","o","f","u","c","Set","h","g","toLowerCase","Uint8Array","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float64Array","Float32Array","E","x","y","I","get","values","T","p","d","w","TIFF_TAGS","G","DataView","getUint16","byteLength","success","ifd","nextIFD","requiredBufferSize","C","Map","m","S","getTagName","getUint32","push","id","type","valueCount","valueOffset","valueOffsets","L","set","inputOffset","pixels","length","buffer","parse","colorTransform","getData","width","height","A","getBytes","ArrayBuffer","M","slice","Error","P","pixelType","tileWidth","tileHeight","R","D","planes","O","b","N","U","k","F","Math","ceil","round","floor","littleEndian","min","console","log","match","indexOf","trim","has","parseFloat","max","avg","stddev","BandName","WavelengthMin","WavelengthMax","statistics","bandProperties","dataType","rawMetadata","offlineOffsetSize","getUint8","getInt8","getInt16","getInt32","getFloat32","getFloat64","String","fromCharCode","map","some","isNaN","split","find","includes","replace","startsWith","wkid","wkt","data","abs","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","xmin","xmax","ymin","ymax","spatialReference","v","B","W","H","Y","_","LN2","maxCol","maxRow","minRow","minCol","forEach","K","X","V","ifds","isBSQ","compression","noData","hasMaskBand","isSupported","message","extent","isPseudoGeographic","affine","firstPyramidLevel","maximumPyramidLevel","pyramidBlockWidth","pyramidBlockHeight","tileBoundary","metadata","filter","isBigTiff","firstIFDPos","pyramidIFDs","maskIFDs","ifdTags","GEO_KEYS","headerInfo","offsets","sizes","noDataValue","applyMinMaxConstraint","mask","pyramidLevel","decodeTileOrStrip","getImageInfo","getMaskIFDs","getPyramidIFDs","isBSQConfig","parseFieldValues","parseHeader","parseIFD","parseSignature"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/rasterFormats/TiffDecoder.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{bytesToUTF8 as e}from\"../rasterDatasets/byteStreamUtils.js\";import{J as t}from\"../../../chunks/Jpg.js\";import{load as n,decode as a}from\"./Lerc.js\";import{decode as i}from\"./Lzw.js\";import{convertNoDataToMask as s}from\"./pixelRangeUtils.js\";import r from\"./TiffTags.js\";import{isPlatformLittleEndian as l}from\"./utils.js\";import{Z as o}from\"../../../chunks/Zlib.js\";const f=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],u=4294967296,c=new Set([1,5,6,7,8,34712,34887]);function h(e,t){let n=\"unknown\";return 3===e?n=64===t?\"f64\":\"f32\":1===e?1===t?n=\"u1\":2===t?n=\"u2\":4===t?n=\"u4\":t<=8?n=\"u8\":t<=16?n=\"u16\":t<=32&&(n=\"u32\"):2===e&&(t<=8?n=\"s8\":t<=16?n=\"s16\":t<=32&&(n=\"s32\")),n}function g(e){let t=null;switch(e?e.toLowerCase():\"f32\"){case\"u1\":case\"u2\":case\"u4\":case\"u8\":t=Uint8Array;break;case\"u16\":t=Uint16Array;break;case\"u32\":t=Uint32Array;break;case\"s8\":t=Int8Array;break;case\"s16\":t=Int16Array;break;case\"s32\":t=Int32Array;break;case\"f64\":t=Float64Array;break;default:t=Float32Array}return t}function E(e,t){return{x:t[0]*e.x+t[1]*e.y+t[2],y:t[3]*e.x+t[4]*e.y+t[5]}}function I(e,t){return e.get(t)?.values}function T(e,t){return e.get(t)?.values}function p(e,t){return e.get(t)?.values?.[0]}function d(e,t){return e.get(t)?.values?.[0]}function w(e,t,n,a=0,i=r.TIFF_TAGS,s=4){const l=8===s,o=l?G(new DataView(e,n,8),0,t):new DataView(e,n,2).getUint16(0,t),f=4+2*s,u=l?8:2,c=u+o*f;if(n+c>e.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:c};const h=n+c+4<=e.byteLength?C(new DataView(e,n+c,8===s?8:4),0,t,8===s):null,g=n+u,E=new Map;let I,T,p,d,w,m=0,S=0;for(let y=0;y<o;y++){T=new DataView(e,g+f*y,f),p=T.getUint16(0,t),w=T.getUint16(2,t),d=r.getTagName(p,i);const n=[];2===s?(m=T.getUint16(4,t),S=T.getUint16(6,t)):4===s?(m=T.getUint32(4,t),S=T.getUint32(8,t)):8===s&&(m=C(T,4,t,!0),S=C(T,12,t,!0),n.push(T.getUint32(12,t)),n.push(T.getUint32(16,t))),I={id:p,type:w,valueCount:m,valueOffset:S,valueOffsets:n,values:null},L(e,t,I,a,!1,s),E.set(d,I)}return{success:!0,ifd:E,nextIFD:h,requiredBufferSize:c}}const m=(e,t)=>a(e,{inputOffset:t}).pixels[0];function S(e,t){if(1!==t&&2!==t&&4!==t)return e;const n=new Uint8Array(e),a=8/t,i=new Uint8Array(e.byteLength*a);let s=0;const r=2**t-1;for(let l=0;l<n.length;l++){const e=n[l];for(let n=0;n<a;n++)i[s++]=e<<t*n>>>8-t&r}return i.buffer}function y(e,n,a){const i=new t;i.parse(e),i.colorTransform=6===a?-1:0;const s=i.getData(i.width,i.height,1!==n);return new Uint8Array(s.buffer)}function A(e){const t=new o(e).getBytes(),n=new ArrayBuffer(t.length),a=new Uint8Array(n);return a.set(t),a}async function M(e,t,a,s,r){const o=l===t,f=d(a,\"BITSPERSAMPLE\"),u=d(a,\"SAMPLESPERPIXEL\"),c=d(a,\"PHOTOMETRICINTERPRETATION\"),E=h(d(a,\"SAMPLEFORMAT\")??1,f),I=d(a,\"COMPRESSION\")??1,T=g(E);let p,w,M;if(34887===I)return await n(),m(e,s);if(1===I)p=e.slice(s,s+r),w=new Uint8Array(p);else if(8===I||32946===I)w=new Uint8Array(e,s,r),w=A(w),p=w.buffer;else if(6===I)w=new Uint8Array(e,s,r),w=y(w,u,c),p=w.buffer;else if(7===I){const t=a.get(\"JPEGTABLES\").values,n=t.length-2;w=new Uint8Array(n+r-2);for(let e=0;e<n;e++)w[e]=t[e];const i=new Uint8Array(e,s+2,r-2);for(let e=0;e<i.length;e++)w[n+e]=i[e];w=y(w,u,c),p=w.buffer}else{if(5!==I)throw new Error(\"tiff-decode: unsupport compression \"+I);w=i(e,s,r,t),p=w.buffer}if(p=S(p,f),\"u8\"===E||\"s8\"===E||o)M=new T(p);else{p=new ArrayBuffer(w.length);const e=new Uint8Array(p);switch(E){case\"u16\":case\"s16\":for(let t=0;t<w.length;t+=2)e[t]=w[t+1],e[t+1]=w[t];break;case\"u32\":case\"s32\":case\"f32\":for(let t=0;t<w.length;t+=4)e[t]=w[t+3],e[t+1]=w[t+2],e[t+2]=w[t+1],e[t+3]=w[t]}M=new T(p)}return M}async function P(e,t,n){const a=T(n,\"TILEOFFSETS\");if(void 0===a)return null;const i=T(n,\"TILEBYTECOUNTS\"),{width:s,height:r,pixelType:l,tileWidth:o,tileHeight:f}=R([n]),u=D(n,t),c=d(n,\"SAMPLESPERPIXEL\")||t.planes,h=s*r,E=d(n,\"BITSPERSAMPLE\"),I=34887===(d(n,\"COMPRESSION\")??1),p=g(l),w=[];for(let g=0;g<c;g++)w.push(new p(h));let m,S,y,A,P,O,b,x,L,N,U,k,G;const F=Math.ceil(s/o);if(E%8==0)if(I&&u&&c>1){const l=Math.round(a.length/c);for(m=0;m<l;m++){O=Math.floor(m/F)*f,b=m%F*o,x=O*s+b;for(let l=0;l<c;l++){const u=m*c+l;if(0!==i[u])for(y=await M(e,t.littleEndian,n,a[u],i[u]),N=0,L=x,k=Math.min(o,s-b),U=Math.min(f,r-O),G=w[l],A=0;A<U;A++)for(L=x+A*s,N=A*o,P=0;P<k;P++,L++,N++)G[L]=y[N]}}}else for(m=0;m<a.length;m++)if(0!==i[m])for(O=Math.floor(m/F)*f,b=m%F*o,x=O*s+b,y=await M(e,t.littleEndian,n,a[m],i[m]),N=0,L=x,k=Math.min(o,s-b),U=Math.min(f,r-O),S=0;S<c;S++)if(G=w[S],u||I)for(A=0;A<U;A++)for(L=x+A*s,N=o*f*S+A*o,P=0;P<k;P++,L++,N++)G[L]=y[N];else for(A=0;A<U;A++)for(L=x+A*s,N=A*o*c+S,P=0;P<k;P++,L++,N+=c)G[L]=y[N];return{width:s,height:r,pixelType:l,pixels:w}}const O=(e,t,n)=>{const a=l===t.littleEndian,s=T(n,\"STRIPOFFSETS\");if(void 0===s)return null;const{width:r,height:o,pixelType:f}=R([n]),u=d(n,\"SAMPLESPERPIXEL\")||t.planes,c=d(n,\"PHOTOMETRICINTERPRETATION\"),h=r*o,E=d(n,\"BITSPERSAMPLE\"),I=g(f),p=new I(h*u),w=T(n,\"STRIPBYTECOUNTS\"),m=d(n,\"ROWSPERSTRIP\"),M=d(n,\"COMPRESSION\")??1;let P,O,b,x,L,D,N,U,k,G=m;if(E%8==0)for(P=0;P<s.length;P++){if(L=P*(m*r)*u,G=(P+1)*m>o?o-P*m:m,\"u8\"===f||\"s8\"===f||a)8===M||32946===M?(N=new Uint8Array(e,s[P],w[P]),N=A(N),D=N.buffer):6===M?(N=new Uint8Array(e,s[P],w[P]),N=y(N,u,c),D=N.buffer):5===M?(N=i(e,s[P],w[P],t.littleEndian),D=N.buffer):(w[P]!==G*r*u*E/8&&console.log(\"strip byte counts is different than expected\"),D=e.slice(s[P],s[P]+w[P])),D=S(D,E),x=new I(D);else{switch(6===M||8===M||32946===M?(N=new Uint8Array(e,s[P],w[P]),U=A(N),D=U.buffer):(w[P]!==G*r*u*E/8&&console.log(\"strip byte counts is different than expected\"),D=new ArrayBuffer(w[P]),N=new Uint8Array(e,s[P],w[P]),U=new Uint8Array(D)),f){case\"u16\":case\"s16\":for(b=0;b<N.length;b+=2)U[b]=N[b+1],U[b+1]=N[b];break;case\"u32\":case\"s32\":case\"f32\":for(b=0;b<N.length;b+=4)U[b]=N[b+3],U[b+1]=N[b+2],U[b+2]=N[b+1],U[b+3]=N[b]}D=S(D,E),x=new I(D)}p.set(x,L)}const F=[];if(1===u)F.push(p);else for(P=0;P<u;P++){for(k=new I(h),O=0;O<h;O++)k[O]=p[O*u+P];F.push(k)}return{width:r,height:o,pixelType:f,pixels:F}},b=(e,t,n)=>{if(!(e&&e.length>0&&t&&n))return null;let a,i,s;const r=e[0].length,l=e.length,o=new Uint8Array(r);for(let f=0;f<l;f++)if(a=e[f],i=t[f],s=n[f],0===f)for(let e=0;e<r;e++)o[e]=a[e]<i||a[e]>s?0:1;else for(let e=0;e<r;e++)o[e]&&(o[e]=a[e]<i||a[e]>s?0:1);return o},x=e=>{if(!e)return null;const t=e.match(/<Item(.*?)Item>/gi);if(!t||0===t.length)return null;const n=new Map;let a,i,s,r,l;for(let p=0;p<t.length;p++)a=t[p],i=a.slice(\"<Item \".length,a.indexOf(\">\")),r=a.indexOf(\"sample=\"),r>-1&&(l=a.slice(r+'sample=\"'.length,a.indexOf('\"',r+'sample=\"'.length))),r=a.indexOf(\"name=\"),r>-1&&(i=a.slice(r+'name=\"'.length,a.indexOf('\"',r+'name=\"'.length))),i&&(s=a.slice(a.indexOf(\">\")+1,a.indexOf(\"</Item>\")).trim(),null!=l?n.has(i)?n.get(i)[l]=s:n.set(i,[s]):n.set(i,s)),l=null;const o=n.get(\"STATISTICS_MINIMUM\"),f=n.get(\"STATISTICS_MAXIMUM\"),u=n.get(\"STATISTICS_MEAN\"),c=n.get(\"STATISTICS_STDDEV\");let h=null;if(o&&f){h=[];for(let e=0;e<o.length;e++)h.push({min:parseFloat(o[e]),max:parseFloat(f[e]),avg:u&&parseFloat(u[e]),stddev:c&&parseFloat(c[e])})}const g=n.get(\"BandName\"),E=n.get(\"WavelengthMin\"),I=n.get(\"WavelengthMax\");let T=null;if(g){T=[];for(let e=0;e<g.length;e++)T.push({BandName:g[e],WavelengthMin:E&&parseFloat(E[e]),WavelengthMax:I&&parseFloat(I[e])})}return{statistics:h,bandProperties:T,dataType:n.get(\"DataType\"),rawMetadata:n}};function L(e,t,n,a=0,i=!1,s=4){if(n.values)return!0;const r=n.type,l=n.valueCount;let o=n.valueOffset,c=[];const h=f[r],g=8*h,E=l*h,I=l*f[r]*8;let T,p;const d=8===s?64:32,w=n.valueOffsets;if(I>d){if(E>(i?e.byteLength:e?e.byteLength-o+a:0))return n.offlineOffsetSize=[o,E],n.values=null,!1}if(I<=d){if(!t)if(d<=32)o>>>=32-I;else{const e=w?.length?w[0]:o>>>0,t=w?.length?w[1]:Math.round((o-e)/u);I<=32?(o=e>>>32-I,w[0]=o):(o=e*2**(32-I)+(t>>>32-I),w[0]=e,w[1]=t>>>32-I)}if(1===l&&g===d)c=[o];else if(64===d){const e=w?.length?w[0]:o>>>0,t=w?.length?w[1]:Math.round((o-e)/u);let n=e,a=32;for(p=1;p<=l;p++){const e=32-g*p%32;if(a<g){const i=n<<e>>>32-a,s=t<<32-a>>>32-a;n=t,c.push(i+s*2**(g-a)),a-=32-(g-a)}else c.push(n<<e>>>32-g),a-=g;0===a&&(a=32,n=t)}}else for(p=1;p<=l;p++){const e=32-g*p;c.push(o<<e>>>32-g)}}else{o-=a,i&&(o=0);for(let n=o;n<o+E;n+=h){switch(r){case 1:case 2:case 7:T=new DataView(e,n,1).getUint8(0);break;case 3:T=new DataView(e,n,2).getUint16(0,t);break;case 4:case 13:T=new DataView(e,n,4).getUint32(0,t);break;case 5:T=new DataView(e,n,4).getUint32(0,t)/new DataView(e,n+4,4).getUint32(0,t);break;case 6:T=new DataView(e,n,1).getInt8(0);break;case 8:T=new DataView(e,n,2).getInt16(0,t);break;case 9:T=new DataView(e,n,4).getInt32(0,t);break;case 10:T=new DataView(e,n,4).getInt32(0,t)/new DataView(e,n+4,4).getInt32(0,t);break;case 11:T=new DataView(e,n,4).getFloat32(0,t);break;case 12:T=new DataView(e,n,8).getFloat64(0,t);break;case 16:case 18:T=G(new DataView(e,n,8),0,t);break;case 17:T=F(new DataView(e,n,8),0,t);break;default:T=null}c.push(T)}}if(2===r){let e=\"\";const t=c;for(c=[],p=0;p<t.length;p++)0===t[p]&&\"\"!==e?(c.push(e),e=\"\"):e+=String.fromCharCode(t[p]);\"\"===e&&0!==c.length||c.push(e)}return n.values=c,!0}function R(e){const t=e[0],n=d(t,\"TILEWIDTH\"),a=d(t,\"TILELENGTH\"),i=d(t,\"IMAGEWIDTH\"),s=d(t,\"IMAGELENGTH\"),r=d(t,\"BITSPERSAMPLE\"),l=d(t,\"SAMPLESPERPIXEL\"),o=d(t,\"SAMPLEFORMAT\")??1,f=h(o,r),u=D(t),g=I(t,\"GDAL_NODATA\");let w=null;g?.length&&(w=g.map((e=>parseFloat(e))),w.some((e=>isNaN(e)))&&(w=null));const m=d(t,\"COMPRESSION\")??1;let S;switch(m){case 1:S=\"NONE\";break;case 2:case 3:case 4:case 32771:S=\"CCITT\";break;case 5:S=\"LZW\";break;case 6:case 7:S=\"JPEG\";break;case 32773:S=\"PACKBITS\";break;case 8:case 32946:S=\"DEFLATE\";break;case 34712:S=\"JPEG2000\";break;case 34887:S=\"LERC\";break;default:S=String(m)}let y=!0,A=\"\";c.has(m)||(y=!1,A+=\"unsupported tag compression \"+m),o>3&&(y=!1,A+=\"unsupported tag sampleFormat \"+o),1!==r&&2!==r&&4!==r&&r%8!=0&&(y=!1,A+=\"unsupported tag bitsPerSample \"+r);const M=p(t,\"GEOASCIIPARAMS\");let P;if(M){const e=M.split(\"|\").find((e=>e.includes(\"ESRI PE String = \"))),t=e?e.replace(\"ESRI PE String = \",\"\"):\"\";P=t.startsWith(\"COMPD_CS\")||t.startsWith(\"PROJCS\")||t.startsWith(\"GEOGCS\")?{wkid:null,wkt:t}:null}const O=T(t,\"GEOTIEPOINTS\"),b=T(t,\"GEOPIXELSCALE\"),L=T(t,\"GEOTRANSMATRIX\"),R=t.has(\"GEOKEYDIRECTORY\")?t.get(\"GEOKEYDIRECTORY\").data:null;let k,G,F=!1,C=!1;if(R){F=2===d(R,\"GTRasterTypeGeoKey\");const e=d(R,\"GTModelTypeGeoKey\");if(2===e){const e=d(R,\"GeographicTypeGeoKey\");e>=1024&&e<=32766&&(P={wkid:e}),P||32767!==e||(C=!0,P={wkid:4326})}else if(1===e){const e=d(R,\"ProjectedCSTypeGeoKey\");e>=1024&&e<=32766&&(P={wkid:e})}}if(b&&O&&O.length>=6?(k=[b[0],0,O[3]-O[0]*b[0],0,-Math.abs(b[1]),O[4]-O[1]*b[1]],F&&(k[2]-=.5*k[0]+.5*k[1],k[5]-=.5*k[3]+.5*k[4])):L&&16===L.length&&(k=F?[L[0],L[1],L[3]-.5*L[0],L[4],L[5],L[7]-.5*L[5]]:[L[0],L[1],L[3],L[4],L[5],L[7]]),k){const e=[{x:0,y:s},{x:0,y:0},{x:i,y:s},{x:i,y:0}];let t,n=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let i=0;i<e.length;i++)t=E(e[i],k),n=t.x>n?n:t.x,r=t.x<r?r:t.x,a=t.y>a?a:t.y,l=t.y<l?l:t.y;G={xmin:n,xmax:r,ymin:a,ymax:l,spatialReference:P}}else G={xmin:-.5,ymin:.5-s,xmax:i-.5,ymax:.5,spatialReference:P};C&&(G.xmax-G.xmin>400||Math.max(Math.abs(G.xmin),Math.abs(G.xmax))>361)&&(P=null,G.spatialReference=null);const v=N(e);let B,W,H,Y,_;if(v.length>0){H=Math.round(Math.log(i/d(v[0],\"IMAGEWIDTH\"))/Math.LN2);const e=v[v.length-1];Y=Math.round(Math.log(i/d(e,\"IMAGEWIDTH\"))/Math.LN2),B=d(e,\"TILEWIDTH\"),W=d(e,\"TILELENGTH\")}B=null!=Y&&Y>0?B||n:null,W=null!=Y&&Y>0?W||a:null,n&&(_=[{maxCol:Math.ceil(i/n)-1,maxRow:Math.ceil(s/a)-1,minRow:0,minCol:0}],v.forEach((e=>{_.push({maxCol:Math.ceil(d(e,\"IMAGEWIDTH\")/d(e,\"TILEWIDTH\"))-1,maxRow:Math.ceil(d(e,\"IMAGELENGTH\")/d(e,\"TILELENGTH\"))-1,minRow:0,minCol:0})})));const K=p(e[0],\"GDAL_METADATA\"),X=x(K);A+=\" \"+V({width:i,height:s,tileWidth:n,tileHeight:a,planes:l,ifds:e});return{width:i,height:s,tileWidth:n,tileHeight:a,planes:l,isBSQ:u,pixelType:f,compression:S,noData:w,hasMaskBand:U(e).length===v.length+1,isSupported:y,message:A,extent:G,isPseudoGeographic:C,affine:b?null:k,firstPyramidLevel:H,maximumPyramidLevel:Y,pyramidBlockWidth:B,pyramidBlockHeight:W,tileBoundary:_,metadata:X}}function D(e,t){const n=I(e,\"PLANARCONFIGURATION\");return n?2===n[0]:!!t&&t.isBSQ}function N(e){return e.filter((e=>1===d(e,\"NEWSUBFILETYPE\")))}function U(e){return e.filter((e=>{const t=4==(4&(d(e,\"NEWSUBFILETYPE\")??0)),n=4===d(e,\"PHOTOMETRICINTERPRETATION\");return t&&n}))}function k(e){const{littleEndian:t,isBigTiff:n,firstIFDPos:a}=v(e);let i=a;const s=[];do{const a=B(e,t,i,0,r.TIFF_TAGS,n?8:4);if(!a.success)break;s.push(a.ifd),i=a.nextIFD}while(i>0);return{...R(s),littleEndian:t,isBigTiff:n,ifds:s,pyramidIFDs:N(s),maskIFDs:U(s)}}function G(e,t,n){const a=e.getUint32(t,n),i=e.getUint32(t+4,n);return n?i*u+a:a*u+i}function F(e,t,n){let a=n?e.getInt32(t,n):e.getUint32(t,n),i=n?e.getUint32(t+4,n):e.getInt32(t+4,n);const s=(n?a:i)>=0?1:-1;n?a*=s:i*=s;return s*(n?i*u+a:a*u+i)}function C(e,t,n,a){return a?G(e,t,n):e.getUint32(t,n)}function v(e){const t=new DataView(e,0,16),n=t.getUint16(0,!1);let a=null;if(18761===n)a=!0;else{if(19789!==n)throw new Error(\"unexpected endianess byte\");a=!1}const i=t.getUint16(2,a);if(42!==i&&43!==i)throw new Error(\"unexpected tiff identifier\");let s=4;const r=43===i;if(r){const e=t.getUint16(s,a);if(s+=2,8!==e)throw new Error(\"unsupported bigtiff version\");if(0!==t.getUint16(s,a))throw new Error(\"unsupported bigtiff version\");s+=2}return{littleEndian:a,isBigTiff:r,firstIFDPos:C(t,s,a,r)}}function B(t,n,a,i=0,s=r.TIFF_TAGS,l=4){const o=w(t,n,a,i,s,l);let f;const u=o.ifd;if(u){if(r.ifdTags.forEach(((e,a)=>{u.has(a)&&(f=u.get(a),f.data=w(t,n,f.valueOffset-i,i,e).ifd)})),u.has(\"GEOKEYDIRECTORY\")){f=u.get(\"GEOKEYDIRECTORY\");const e=f.values;if(e&&e.length>4){const a=e[0]+\".\"+e[1]+\".\"+e[2];f.data=w(t,n,f.valueOffset+6-i,i,r.GEO_KEYS,2).ifd,f.data&&f.data.set(\"GEOTIFFVersion\",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}if(u.has(\"XMP\")){f=u.get(\"XMP\");const t=f.values;\"number\"==typeof t[0]&&7===f.type&&(f.values=[e(new Uint8Array(t))])}}return o}function V(e){const{width:t,height:n,tileHeight:a,tileWidth:i}=e,s=e.planes,r=i?i*a:t*n,l=d(e.ifds[0],\"BITSPERSAMPLE\");let o=\"\";return r*s>2**30/(l>8?l/8:1)&&(o=i?\"tiled tiff exceeding 1 gigabits per tile is not supported\":\"scanline tiff exceeding 1 gigabits is not supported\"),o}async function W(e,t){const{headerInfo:n,ifd:a,offsets:i,sizes:r}=t,l=[];for(let s=0;s<i.length;s++){const t=await M(e,n.littleEndian,a,i[s],r[s]||e.byteLength);l.push(t)}const o=D(a,n),f=d(a,\"BITSPERSAMPLE\"),u=h(d(a,\"SAMPLEFORMAT\")??1,f),c=d(a,\"SAMPLESPERPIXEL\")||n.planes,E=g(u),I=d(a,\"TILEWIDTH\"),T=d(a,\"TILELENGTH\"),p=d(a,\"COMPRESSION\")??1,w=I*T;let m;const S=[];let y=l[0];const A=34887===p;for(let s=0;s<c;s++){if(m=new E(w),o&&A){if(y=l[s],y.length)for(let e=0;e<w;e++)m[e]=y[s][e+s]}else if(y.length)if(o||A&&!o)m=y.slice(w*s,w*(s+1));else for(let e=0;e<w;e++)m[e]=y[e*c+s];S.push(m)}const P=n.noData?n.noData[0]:t.noDataValue,O=n.metadata?n.metadata.statistics:null,x=O?O.map((e=>e.min)):null,L=O?O.map((e=>e.max)):null,R={pixelType:u,width:I,height:T,pixels:S,noDataValue:P};return null!=P?s(R,P):x&&L&&t.applyMinMaxConstraint&&(R.mask=b(S,x,L)),R}async function H(e,t={}){const n=t.pyramidLevel||0,a=t.headerInfo||k(e),{ifds:i,noData:r}=a;if(0===i.length)throw new Error(\"no valid image file directory\");const l=V(a);if(l)throw l;let o=null;const f=-1===n?i[i.length-1]:i[n],u=r??t.noDataValue;return o=a.tileWidth?await P(e,a,f):await O(e,a,f),o?(null!=u&&s(o,u),o):o}export{H as decode,W as decodeTileOrStrip,R as getImageInfo,U as getMaskIFDs,N as getPyramidIFDs,D as isBSQConfig,L as parseFieldValues,k as parseHeader,B as parseIFD,v as parseSignature};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}