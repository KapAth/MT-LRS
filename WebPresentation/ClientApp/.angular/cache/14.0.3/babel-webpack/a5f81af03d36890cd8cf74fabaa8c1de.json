{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport o from \"../../core/Error.js\";\nimport { isSome as r } from \"../../core/maybe.js\";\n\nfunction n(_x, _x2, _x3, _x4, _x5, _x6) {\n  return _n.apply(this, arguments);\n}\n\nfunction _n() {\n  _n = _asyncToGenerator(function* (n, t, s, a, i, d) {\n    let l = null;\n\n    if (r(s)) {\n      const o = `${n}/nodepages/`,\n            t = o + Math.floor(s.rootIndex / s.nodesPerPage);\n\n      try {\n        return {\n          type: \"page\",\n          rootPage: (yield e(t, {\n            query: {\n              f: \"json\",\n              token: a\n            },\n            responseType: \"json\",\n            signal: d\n          })).data,\n          rootIndex: s.rootIndex,\n          pageSize: s.nodesPerPage,\n          lodMetric: s.lodSelectionMetricType,\n          urlPrefix: o\n        };\n      } catch (f) {\n        r(i) && i.warn(\"#fetchIndexInfo()\", \"Failed to load root node page. Falling back to node documents.\", t, f), l = f;\n      }\n    }\n\n    if (!t) return null;\n    const p = `${n}/nodes/`,\n          c = p + (t && t.split(\"/\").pop());\n\n    try {\n      return {\n        type: \"node\",\n        rootNode: (yield e(c, {\n          query: {\n            f: \"json\",\n            token: a\n          },\n          responseType: \"json\",\n          signal: d\n        })).data,\n        urlPrefix: p\n      };\n    } catch (f) {\n      throw new o(\"sceneservice:root-node-missing\", \"Root node missing.\", {\n        pageError: l,\n        nodeError: f,\n        url: c\n      });\n    }\n  });\n  return _n.apply(this, arguments);\n}\n\nexport { n as fetchIndexInfo };","map":{"version":3,"names":["e","o","isSome","r","n","t","s","a","i","d","l","Math","floor","rootIndex","nodesPerPage","type","rootPage","query","f","token","responseType","signal","data","pageSize","lodMetric","lodSelectionMetricType","urlPrefix","warn","p","c","split","pop","rootNode","pageError","nodeError","url","fetchIndexInfo"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/I3SIndexInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,kBAAb;AAAgC,OAAOC,CAAP,MAAa,qBAAb;AAAmC,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,qBAAvB;;SAA4DC,C;;;;;yBAAf,WAAiBA,CAAjB,EAAmBC,CAAnB,EAAqBC,CAArB,EAAuBC,CAAvB,EAAyBC,CAAzB,EAA2BC,CAA3B,EAA6B;IAAC,IAAIC,CAAC,GAAC,IAAN;;IAAW,IAAGP,CAAC,CAACG,CAAD,CAAJ,EAAQ;MAAC,MAAML,CAAC,GAAE,GAAEG,CAAE,aAAb;MAAA,MAA0BC,CAAC,GAACJ,CAAC,GAACU,IAAI,CAACC,KAAL,CAAWN,CAAC,CAACO,SAAF,GAAYP,CAAC,CAACQ,YAAzB,CAA9B;;MAAqE,IAAG;QAAC,OAAM;UAACC,IAAI,EAAC,MAAN;UAAaC,QAAQ,EAAC,OAAOhB,CAAC,CAACK,CAAD,EAAG;YAACY,KAAK,EAAC;cAACC,CAAC,EAAC,MAAH;cAAUC,KAAK,EAACZ;YAAhB,CAAP;YAA0Ba,YAAY,EAAC,MAAvC;YAA8CC,MAAM,EAACZ;UAArD,CAAH,CAAR,EAAqEa,IAA3F;UAAgGT,SAAS,EAACP,CAAC,CAACO,SAA5G;UAAsHU,QAAQ,EAACjB,CAAC,CAACQ,YAAjI;UAA8IU,SAAS,EAAClB,CAAC,CAACmB,sBAA1J;UAAiLC,SAAS,EAACzB;QAA3L,CAAN;MAAoM,CAAxM,CAAwM,OAAMiB,CAAN,EAAQ;QAACf,CAAC,CAACK,CAAD,CAAD,IAAMA,CAAC,CAACmB,IAAF,CAAO,mBAAP,EAA2B,gEAA3B,EAA4FtB,CAA5F,EAA8Fa,CAA9F,CAAN,EAAuGR,CAAC,GAACQ,CAAzG;MAA2G;IAAC;;IAAA,IAAG,CAACb,CAAJ,EAAM,OAAO,IAAP;IAAY,MAAMuB,CAAC,GAAE,GAAExB,CAAE,SAAb;IAAA,MAAsByB,CAAC,GAACD,CAAC,IAAEvB,CAAC,IAAEA,CAAC,CAACyB,KAAF,CAAQ,GAAR,EAAaC,GAAb,EAAL,CAAzB;;IAAkD,IAAG;MAAC,OAAM;QAAChB,IAAI,EAAC,MAAN;QAAaiB,QAAQ,EAAC,OAAOhC,CAAC,CAAC6B,CAAD,EAAG;UAACZ,KAAK,EAAC;YAACC,CAAC,EAAC,MAAH;YAAUC,KAAK,EAACZ;UAAhB,CAAP;UAA0Ba,YAAY,EAAC,MAAvC;UAA8CC,MAAM,EAACZ;QAArD,CAAH,CAAR,EAAqEa,IAA3F;QAAgGI,SAAS,EAACE;MAA1G,CAAN;IAAmH,CAAvH,CAAuH,OAAMV,CAAN,EAAQ;MAAC,MAAM,IAAIjB,CAAJ,CAAM,gCAAN,EAAuC,oBAAvC,EAA4D;QAACgC,SAAS,EAACvB,CAAX;QAAawB,SAAS,EAAChB,CAAvB;QAAyBiB,GAAG,EAACN;MAA7B,CAA5D,CAAN;IAAmG;EAAC,C;;;;AAAA,SAAOzB,CAAC,IAAIgC,cAAZ"},"metadata":{},"sourceType":"module"}