{"ast":null,"code":"/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.7\n */\nimport { u as queryElementRoots, r as closestElementCrossShadowBoundary } from './dom.js';\n/**\n * Exported for testing purposes only\n *\n * @internal\n */\n\nconst labelClickEvent = \"calciteInternalLabelClick\";\nconst labelConnectedEvent = \"calciteInternalLabelConnected\";\nconst labelDisconnectedEvent = \"calciteInternaLabelDisconnected\";\nconst labelTagName = \"calcite-label\";\nconst onLabelClickMap = new WeakMap();\nconst onLabelConnectedMap = new WeakMap();\nconst onLabelDisconnectedMap = new WeakMap();\nconst unlabeledComponents = new Set();\n\nconst findLabelForComponent = componentEl => {\n  const {\n    id\n  } = componentEl;\n  const forLabel = id && queryElementRoots(componentEl, {\n    selector: `${labelTagName}[for=\"${id}\"]`\n  });\n\n  if (forLabel) {\n    return forLabel;\n  }\n\n  const parentLabel = closestElementCrossShadowBoundary(componentEl, labelTagName);\n\n  if (!parentLabel || // labelable components within other custom elements are not considered labelable\n  hasAncestorCustomElements(parentLabel, componentEl)) {\n    return null;\n  }\n\n  return parentLabel;\n};\n\nfunction hasAncestorCustomElements(label, componentEl) {\n  let traversedElements;\n  const customElementAncestorCheckEventType = \"custom-element-ancestor-check\";\n\n  const listener = event => {\n    event.stopImmediatePropagation();\n    const composedPath = event.composedPath();\n    traversedElements = composedPath.slice(composedPath.indexOf(componentEl), composedPath.indexOf(label));\n  };\n\n  label.addEventListener(customElementAncestorCheckEventType, listener, {\n    once: true\n  });\n  componentEl.dispatchEvent(new CustomEvent(customElementAncestorCheckEventType, {\n    composed: true,\n    bubbles: true\n  }));\n  label.removeEventListener(customElementAncestorCheckEventType, listener);\n  const ancestorCustomElements = traversedElements.filter(el => el !== componentEl && el !== label).filter(el => el.tagName?.includes(\"-\"));\n  return ancestorCustomElements.length > 0;\n}\n/**\n * Helper to set up label interactions on connectedCallback.\n *\n * @param component\n */\n\n\nfunction connectLabel(component) {\n  const labelEl = findLabelForComponent(component.el);\n\n  if (onLabelClickMap.has(labelEl) || !labelEl && unlabeledComponents.has(component)) {\n    return;\n  }\n\n  const boundOnLabelDisconnected = onLabelDisconnected.bind(component);\n\n  if (labelEl) {\n    component.labelEl = labelEl;\n    const boundOnLabelClick = onLabelClick.bind(component);\n    onLabelClickMap.set(component.labelEl, boundOnLabelClick);\n    component.labelEl.addEventListener(labelClickEvent, boundOnLabelClick);\n    unlabeledComponents.delete(component);\n    document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n    onLabelDisconnectedMap.set(component, boundOnLabelDisconnected);\n    document.addEventListener(labelDisconnectedEvent, boundOnLabelDisconnected);\n  } else if (!unlabeledComponents.has(component)) {\n    boundOnLabelDisconnected();\n    document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  }\n}\n/**\n * Helper to tear down label interactions on disconnectedCallback on labelable components.\n *\n * @param component\n */\n\n\nfunction disconnectLabel(component) {\n  unlabeledComponents.delete(component);\n  document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n  document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  onLabelConnectedMap.delete(component);\n  onLabelDisconnectedMap.delete(component);\n\n  if (!component.labelEl) {\n    return;\n  }\n\n  const boundOnLabelClick = onLabelClickMap.get(component.labelEl);\n  component.labelEl.removeEventListener(labelClickEvent, boundOnLabelClick);\n  onLabelClickMap.delete(component.labelEl);\n}\n/**\n * Helper to get the label text from a component.\n *\n * @param component\n */\n\n\nfunction getLabelText(component) {\n  return component.label || component.labelEl?.textContent?.trim() || \"\";\n}\n\nfunction onLabelClick(event) {\n  if (this.disabled) {\n    return;\n  }\n\n  const containedLabelableChildClicked = this.el.contains(event.detail.sourceEvent.target);\n\n  if (containedLabelableChildClicked) {\n    return;\n  }\n\n  this.onLabelClick(event);\n}\n\nfunction onLabelConnected() {\n  if (unlabeledComponents.has(this)) {\n    connectLabel(this);\n  }\n}\n\nfunction onLabelDisconnected() {\n  unlabeledComponents.add(this);\n  const boundOnLabelConnected = onLabelConnectedMap.get(this) || onLabelConnected.bind(this);\n  onLabelConnectedMap.set(this, boundOnLabelConnected);\n  document.addEventListener(labelConnectedEvent, boundOnLabelConnected);\n}\n\nexport { labelDisconnectedEvent as a, connectLabel as c, disconnectLabel as d, getLabelText as g, labelConnectedEvent as l };","map":{"version":3,"names":["u","queryElementRoots","r","closestElementCrossShadowBoundary","labelClickEvent","labelConnectedEvent","labelDisconnectedEvent","labelTagName","onLabelClickMap","WeakMap","onLabelConnectedMap","onLabelDisconnectedMap","unlabeledComponents","Set","findLabelForComponent","componentEl","id","forLabel","selector","parentLabel","hasAncestorCustomElements","label","traversedElements","customElementAncestorCheckEventType","listener","event","stopImmediatePropagation","composedPath","slice","indexOf","addEventListener","once","dispatchEvent","CustomEvent","composed","bubbles","removeEventListener","ancestorCustomElements","filter","el","tagName","includes","length","connectLabel","component","labelEl","has","boundOnLabelDisconnected","onLabelDisconnected","bind","boundOnLabelClick","onLabelClick","set","delete","document","get","disconnectLabel","getLabelText","textContent","trim","disabled","containedLabelableChildClicked","contains","detail","sourceEvent","target","onLabelConnected","add","boundOnLabelConnected","a","c","d","g","l"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@esri/calcite-components/dist/components/label2.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.7\n */\nimport { u as queryElementRoots, r as closestElementCrossShadowBoundary } from './dom.js';\n\n/**\n * Exported for testing purposes only\n *\n * @internal\n */\nconst labelClickEvent = \"calciteInternalLabelClick\";\nconst labelConnectedEvent = \"calciteInternalLabelConnected\";\nconst labelDisconnectedEvent = \"calciteInternaLabelDisconnected\";\nconst labelTagName = \"calcite-label\";\nconst onLabelClickMap = new WeakMap();\nconst onLabelConnectedMap = new WeakMap();\nconst onLabelDisconnectedMap = new WeakMap();\nconst unlabeledComponents = new Set();\nconst findLabelForComponent = (componentEl) => {\n  const { id } = componentEl;\n  const forLabel = id && queryElementRoots(componentEl, { selector: `${labelTagName}[for=\"${id}\"]` });\n  if (forLabel) {\n    return forLabel;\n  }\n  const parentLabel = closestElementCrossShadowBoundary(componentEl, labelTagName);\n  if (!parentLabel ||\n    // labelable components within other custom elements are not considered labelable\n    hasAncestorCustomElements(parentLabel, componentEl)) {\n    return null;\n  }\n  return parentLabel;\n};\nfunction hasAncestorCustomElements(label, componentEl) {\n  let traversedElements;\n  const customElementAncestorCheckEventType = \"custom-element-ancestor-check\";\n  const listener = (event) => {\n    event.stopImmediatePropagation();\n    const composedPath = event.composedPath();\n    traversedElements = composedPath.slice(composedPath.indexOf(componentEl), composedPath.indexOf(label));\n  };\n  label.addEventListener(customElementAncestorCheckEventType, listener, { once: true });\n  componentEl.dispatchEvent(new CustomEvent(customElementAncestorCheckEventType, { composed: true, bubbles: true }));\n  label.removeEventListener(customElementAncestorCheckEventType, listener);\n  const ancestorCustomElements = traversedElements\n    .filter((el) => el !== componentEl && el !== label)\n    .filter((el) => el.tagName?.includes(\"-\"));\n  return ancestorCustomElements.length > 0;\n}\n/**\n * Helper to set up label interactions on connectedCallback.\n *\n * @param component\n */\nfunction connectLabel(component) {\n  const labelEl = findLabelForComponent(component.el);\n  if (onLabelClickMap.has(labelEl) || (!labelEl && unlabeledComponents.has(component))) {\n    return;\n  }\n  const boundOnLabelDisconnected = onLabelDisconnected.bind(component);\n  if (labelEl) {\n    component.labelEl = labelEl;\n    const boundOnLabelClick = onLabelClick.bind(component);\n    onLabelClickMap.set(component.labelEl, boundOnLabelClick);\n    component.labelEl.addEventListener(labelClickEvent, boundOnLabelClick);\n    unlabeledComponents.delete(component);\n    document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n    onLabelDisconnectedMap.set(component, boundOnLabelDisconnected);\n    document.addEventListener(labelDisconnectedEvent, boundOnLabelDisconnected);\n  }\n  else if (!unlabeledComponents.has(component)) {\n    boundOnLabelDisconnected();\n    document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  }\n}\n/**\n * Helper to tear down label interactions on disconnectedCallback on labelable components.\n *\n * @param component\n */\nfunction disconnectLabel(component) {\n  unlabeledComponents.delete(component);\n  document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n  document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  onLabelConnectedMap.delete(component);\n  onLabelDisconnectedMap.delete(component);\n  if (!component.labelEl) {\n    return;\n  }\n  const boundOnLabelClick = onLabelClickMap.get(component.labelEl);\n  component.labelEl.removeEventListener(labelClickEvent, boundOnLabelClick);\n  onLabelClickMap.delete(component.labelEl);\n}\n/**\n * Helper to get the label text from a component.\n *\n * @param component\n */\nfunction getLabelText(component) {\n  return component.label || component.labelEl?.textContent?.trim() || \"\";\n}\nfunction onLabelClick(event) {\n  if (this.disabled) {\n    return;\n  }\n  const containedLabelableChildClicked = this.el.contains(event.detail.sourceEvent.target);\n  if (containedLabelableChildClicked) {\n    return;\n  }\n  this.onLabelClick(event);\n}\nfunction onLabelConnected() {\n  if (unlabeledComponents.has(this)) {\n    connectLabel(this);\n  }\n}\nfunction onLabelDisconnected() {\n  unlabeledComponents.add(this);\n  const boundOnLabelConnected = onLabelConnectedMap.get(this) || onLabelConnected.bind(this);\n  onLabelConnectedMap.set(this, boundOnLabelConnected);\n  document.addEventListener(labelConnectedEvent, boundOnLabelConnected);\n}\n\nexport { labelDisconnectedEvent as a, connectLabel as c, disconnectLabel as d, getLabelText as g, labelConnectedEvent as l };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}