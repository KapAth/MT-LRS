{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport \"../geometry.js\";\nimport t from \"../PopupTemplate.js\";\nimport \"../renderers/ClassBreaksRenderer.js\";\nimport \"../renderers/DictionaryRenderer.js\";\nimport \"../renderers/DotDensityRenderer.js\";\nimport \"../renderers/HeatmapRenderer.js\";\nimport \"../renderers/PieChartRenderer.js\";\nimport \"../renderers/Renderer.js\";\nimport r from \"../renderers/SimpleRenderer.js\";\nimport o from \"../renderers/UniqueValueRenderer.js\";\nimport { read as i } from \"../renderers/support/jsonUtils.js\";\nimport { rendererTypes as s, webSceneRendererTypes as n } from \"../renderers/support/types.js\";\nimport p from \"../request.js\";\nimport { symbolTypesRenderer as a } from \"../symbols.js\";\nimport l from \"../core/Error.js\";\nimport { handlesGroup as m } from \"../core/handleUtils.js\";\nimport d from \"../core/Logger.js\";\nimport { isSome as c } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as y } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as u } from \"../core/promiseUtils.js\";\nimport { property as f } from \"../core/accessorSupport/decorators/property.js\";\nimport { Integer as h } from \"../core/accessorSupport/ensureType.js\";\nimport \"../core/arrayUtils.js\";\nimport { reader as g } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as j } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { createTypeReader as b } from \"../core/accessorSupport/extensions/serializableProperty/reader.js\";\nimport { featureGeometryTypeKebabDictionary as v } from \"../geometry/support/typeUtils.js\";\nimport S from \"./Layer.js\";\nimport { ArcGISService as w } from \"./mixins/ArcGISService.js\";\nimport { BlendLayer as I } from \"./mixins/BlendLayer.js\";\nimport { CustomParametersMixin as x } from \"./mixins/CustomParametersMixin.js\";\nimport { FeatureEffectLayer as R } from \"./mixins/FeatureEffectLayer.js\";\nimport { FeatureReductionLayer as T } from \"./mixins/FeatureReductionLayer.js\";\nimport { OperationalLayer as P } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as F } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as U } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as L } from \"./mixins/ScaleRangeLayer.js\";\nimport { TemporalLayer as k } from \"./mixins/TemporalLayer.js\";\nimport { labelsVisible as D, legendEnabled as E, maxScale as C, minScale as O, popupEnabled as A, screenSizePerspectiveEnabled as _, url as N } from \"./support/commonProperties.js\";\nimport J from \"./support/Field.js\";\nimport { defineFieldProperties as M } from \"./support/fieldProperties.js\";\nimport { fixRendererFields as G, fixTimeInfoFields as q } from \"./support/fieldUtils.js\";\nimport V from \"./support/LabelClass.js\";\nimport { reader as z } from \"./support/labelingInfo.js\";\nimport $ from \"./support/PurgeOptions.js\";\nimport { loadStyleRenderer as W } from \"../renderers/support/styleUtils.js\";\nimport B from \"../rest/support/Query.js\";\nimport { createPopupTemplate as Q } from \"../support/popupUtils.js\";\nimport H from \"../symbols/support/ElevationInfo.js\";\nimport K from \"../geometry/SpatialReference.js\";\nimport X from \"../geometry/Extent.js\";\nconst Y = M();\n\nfunction Z(e, t) {\n  return new l(\"layer:unsupported\", `Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`, {\n    layer: e\n  });\n}\n\nlet ee = class extends T(R(I(k(L(U(w(P(F(y(x(S))))))))))) {\n  constructor(...e) {\n    super(...e), this.copyright = null, this.definitionExpression = null, this.displayField = null, this.elevationInfo = null, this.fields = null, this.fieldsIndex = null, this.geometryDefinition = null, this.geometryType = null, this.labelsVisible = !0, this.labelingInfo = null, this.legendEnabled = !0, this.maxReconnectionAttempts = 0, this.maxReconnectionInterval = 20, this.maxScale = 0, this.minScale = 0, this.objectIdField = null, this.operationalLayerType = \"ArcGISStreamLayer\", this.popupEnabled = !0, this.popupTemplate = null, this.purgeOptions = new $(), this.screenSizePerspectiveEnabled = !0, this.sourceJSON = null, this.spatialReference = K.WGS84, this.type = \"stream\", this.url = null, this.updateInterval = 300, this.webSocketUrl = null;\n  }\n\n  normalizeCtorArgs(e, t) {\n    return \"string\" == typeof e ? {\n      url: e,\n      ...t\n    } : e;\n  }\n\n  load(e) {\n    if (!(\"WebSocket\" in globalThis)) return this.addResolvingPromise(Promise.reject(new l(\"stream-layer:websocket-unsupported\", \"WebSocket is not supported in this browser. StreamLayer will not have real-time connection with the stream service.\"))), Promise.resolve(this);\n    const t = c(e) ? e.signal : null;\n    return this.addResolvingPromise(this.loadFromPortal({\n      supportedTypes: [\"Stream Service\", \"Feed\"]\n    }, e).catch(u).then(() => this._fetchService(t))), Promise.resolve(this);\n  }\n\n  get defaultPopupTemplate() {\n    return this.createPopupTemplate();\n  }\n\n  set renderer(e) {\n    G(e, this.fieldsIndex), this._set(\"renderer\", e);\n  }\n\n  readRenderer(e, t, s) {\n    const n = (t = t.layerDefinition || t).drawingInfo && t.drawingInfo.renderer || void 0;\n\n    if (n) {\n      const e = i(n, t, s) || void 0;\n      return e || d.getLogger(this.declaredClass).error(\"Failed to create renderer\", {\n        rendererDefinition: t.drawingInfo.renderer,\n        layer: this,\n        context: s\n      }), e;\n    }\n\n    if (t.defaultSymbol) return t.types && t.types.length ? new o({\n      defaultSymbol: te(t.defaultSymbol, t, s),\n      field: t.typeIdField,\n      uniqueValueInfos: t.types.map(e => ({\n        id: e.id,\n        symbol: te(e.symbol, e, s)\n      }))\n    }) : new r({\n      symbol: te(t.defaultSymbol, t, s)\n    });\n  }\n\n  connect(e) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const [{\n        createConnection: t\n      }] = yield Promise.all([import(\"./graphics/sources/connections/createConnection.js\"), _this.load()]),\n            r = _this.geometryType ? v.toJSON(_this.geometryType) : null,\n            {\n        customParameters: o = null,\n        definitionExpression: i = null,\n        geometryDefinition: s = null,\n        maxReconnectionAttempts: n = 0,\n        maxReconnectionInterval: p = 20,\n        spatialReference: a = _this.spatialReference\n      } = e || _this.createConnectionParameters(),\n            l = t(_this.parsedUrl, _this.spatialReference, a, r, {\n        geometry: s,\n        where: i\n      }, n, p, o ?? void 0),\n            d = m([_this.on(\"send-message-to-socket\", e => l.sendMessageToSocket(e)), _this.on(\"send-message-to-client\", e => l.sendMessageToClient(e))]);\n\n      return l.once(\"destroy\", d.remove), l;\n    })();\n  }\n\n  createConnectionParameters() {\n    return {\n      spatialReference: this.spatialReference,\n      customParameters: this.customParameters,\n      definitionExpression: this.definitionExpression,\n      geometryDefinition: this.geometryDefinition,\n      maxReconnectionAttempts: this.maxReconnectionAttempts,\n      maxReconnectionInterval: this.maxReconnectionInterval\n    };\n  }\n\n  createPopupTemplate(e) {\n    return Q(this, e);\n  }\n\n  createQuery() {\n    const e = new B();\n    return e.returnGeometry = !0, e.outFields = [\"*\"], e.where = this.definitionExpression || \"1=1\", e;\n  }\n\n  getFieldDomain(e, t) {\n    if (!this.fields) return null;\n    let r = null;\n    return this.fields.some(t => (t.name === e && (r = t.domain), !!r)), r;\n  }\n\n  getField(e) {\n    return this.fieldsIndex.get(e);\n  }\n\n  serviceSupportsSpatialReference(e) {\n    return !0;\n  }\n\n  sendMessageToSocket(e) {\n    this.emit(\"send-message-to-socket\", e);\n  }\n\n  sendMessageToClient(e) {\n    this.emit(\"send-message-to-client\", e);\n  }\n\n  write(e, t) {\n    const r = t?.messages;\n    return this.webSocketUrl ? (r?.push(Z(this, \"using a custom websocket connection cannot be written to web scenes and web maps\")), null) : this.parsedUrl ? super.write(e, t) : (r?.push(Z(this, \"using a client-side only connection without a url cannot be written to web scenes and web maps\")), null);\n  }\n\n  _fetchService(e) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!!!_this2.webSocketUrl && _this2.parsedUrl) {\n        if (!_this2.sourceJSON) {\n          const {\n            data: t\n          } = yield p(_this2.parsedUrl.path, {\n            query: {\n              f: \"json\",\n              ..._this2.customParameters,\n              ..._this2.parsedUrl.query\n            },\n            responseType: \"json\",\n            signal: e\n          });\n          _this2.sourceJSON = t;\n        }\n      } else {\n        if (!_this2.timeInfo?.trackIdField) throw new l(\"stream-layer:missing-metadata\", \"The stream layer trackIdField must be specified.\");\n\n        if (!_this2.objectIdField) {\n          const e = _this2.fields.find(e => \"oid\" === e.type)?.name;\n          if (!e) throw new l(\"stream-layer:missing-metadata\", \"The stream layer objectIdField must be specified.\");\n          _this2.objectIdField = e;\n        }\n\n        if (!_this2.fields) throw new l(\"stream-layer:missing-metadata\", \"The stream layer fields must be specified.\");\n        if (_this2.fields.some(e => e.name === _this2.objectIdField) || _this2.fields.push(new J({\n          name: _this2.objectIdField,\n          alias: _this2.objectIdField,\n          type: \"oid\"\n        })), !_this2.geometryType) throw new l(\"stream-layer:missing-metadata\", \"The stream layer geometryType must be specified.\");\n        _this2.webSocketUrl && (_this2.url = _this2.webSocketUrl);\n      }\n\n      return _this2.read(_this2.sourceJSON, {\n        origin: \"service\",\n        portalItem: _this2.portalItem,\n        portal: _this2.portalItem?.portal,\n        url: _this2.parsedUrl\n      }), G(_this2.renderer, _this2.fieldsIndex), q(_this2.timeInfo, _this2.fieldsIndex), _this2.objectIdField || (_this2.objectIdField = \"__esri_stream_id__\"), W(_this2, {\n        origin: \"service\"\n      });\n    })();\n  }\n\n};\ne([f({\n  type: String\n})], ee.prototype, \"copyright\", void 0), e([f({\n  readOnly: !0\n})], ee.prototype, \"defaultPopupTemplate\", null), e([f({\n  type: String,\n  json: {\n    name: \"layerDefinition.definitionExpression\",\n    write: {\n      enabled: !0,\n      allowNull: !0\n    }\n  }\n})], ee.prototype, \"definitionExpression\", void 0), e([f({\n  type: String\n})], ee.prototype, \"displayField\", void 0), e([f({\n  type: H\n})], ee.prototype, \"elevationInfo\", void 0), e([f(Y.fields)], ee.prototype, \"fields\", void 0), e([f(Y.fieldsIndex)], ee.prototype, \"fieldsIndex\", void 0), e([f({\n  type: X\n})], ee.prototype, \"geometryDefinition\", void 0), e([f({\n  type: v.apiValues,\n  json: {\n    read: {\n      reader: v.read\n    }\n  }\n})], ee.prototype, \"geometryType\", void 0), e([f(D)], ee.prototype, \"labelsVisible\", void 0), e([f({\n  type: [V],\n  json: {\n    read: {\n      source: \"layerDefinition.drawingInfo.labelingInfo\",\n      reader: z\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.labelingInfo\"\n    }\n  }\n})], ee.prototype, \"labelingInfo\", void 0), e([f(E)], ee.prototype, \"legendEnabled\", void 0), e([f({\n  type: [\"show\", \"hide\"]\n})], ee.prototype, \"listMode\", void 0), e([f({\n  type: h\n})], ee.prototype, \"maxReconnectionAttempts\", void 0), e([f({\n  type: h\n})], ee.prototype, \"maxReconnectionInterval\", void 0), e([f(C)], ee.prototype, \"maxScale\", void 0), e([f(O)], ee.prototype, \"minScale\", void 0), e([f({\n  type: String\n})], ee.prototype, \"objectIdField\", void 0), e([f({\n  value: \"ArcGISStreamLayer\",\n  type: [\"ArcGISStreamLayer\"]\n})], ee.prototype, \"operationalLayerType\", void 0), e([f(A)], ee.prototype, \"popupEnabled\", void 0), e([f({\n  type: t,\n  json: {\n    read: {\n      source: \"popupInfo\"\n    },\n    write: {\n      target: \"popupInfo\"\n    }\n  }\n})], ee.prototype, \"popupTemplate\", void 0), e([f({\n  type: $\n})], ee.prototype, \"purgeOptions\", void 0), e([f({\n  types: s,\n  json: {\n    origins: {\n      service: {\n        write: {\n          target: \"drawingInfo.renderer\",\n          enabled: !1\n        }\n      },\n      \"web-scene\": {\n        name: \"layerDefinition.drawingInfo.renderer\",\n        types: n,\n        write: !0\n      }\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.renderer\"\n    }\n  }\n})], ee.prototype, \"renderer\", null), e([g(\"service\", \"renderer\", [\"drawingInfo.renderer\", \"defaultSymbol\"]), g(\"renderer\", [\"layerDefinition.drawingInfo.renderer\", \"layerDefinition.defaultSymbol\"])], ee.prototype, \"readRenderer\", null), e([f(_)], ee.prototype, \"screenSizePerspectiveEnabled\", void 0), e([f()], ee.prototype, \"sourceJSON\", void 0), e([f({\n  type: K,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"spatialReference\"\n        }\n      }\n    }\n  }\n})], ee.prototype, \"spatialReference\", void 0), e([f({\n  json: {\n    read: !1\n  }\n})], ee.prototype, \"type\", void 0), e([f(N)], ee.prototype, \"url\", void 0), e([f({\n  type: Number\n})], ee.prototype, \"updateInterval\", void 0), e([f({\n  type: String\n})], ee.prototype, \"webSocketUrl\", void 0), ee = e([j(\"esri.layers.StreamLayer\")], ee);\nconst te = b({\n  types: a\n}),\n      re = ee;\nexport { re as default };","map":{"version":3,"names":["_","e","t","r","o","read","i","rendererTypes","s","webSceneRendererTypes","n","p","symbolTypesRenderer","a","l","handlesGroup","m","d","isSome","c","MultiOriginJSONMixin","y","throwIfAbortError","u","property","f","Integer","h","reader","g","subclass","j","createTypeReader","b","featureGeometryTypeKebabDictionary","v","S","ArcGISService","w","BlendLayer","I","CustomParametersMixin","x","FeatureEffectLayer","R","FeatureReductionLayer","T","OperationalLayer","P","PortalLayer","F","RefreshableLayer","U","ScaleRangeLayer","L","TemporalLayer","k","labelsVisible","D","legendEnabled","E","maxScale","C","minScale","O","popupEnabled","A","screenSizePerspectiveEnabled","url","N","J","defineFieldProperties","M","fixRendererFields","G","fixTimeInfoFields","q","V","z","$","loadStyleRenderer","W","B","createPopupTemplate","Q","H","K","X","Y","Z","title","id","declaredClass","layer","ee","constructor","copyright","definitionExpression","displayField","elevationInfo","fields","fieldsIndex","geometryDefinition","geometryType","labelingInfo","maxReconnectionAttempts","maxReconnectionInterval","objectIdField","operationalLayerType","popupTemplate","purgeOptions","sourceJSON","spatialReference","WGS84","type","updateInterval","webSocketUrl","normalizeCtorArgs","load","globalThis","addResolvingPromise","Promise","reject","resolve","signal","loadFromPortal","supportedTypes","catch","then","_fetchService","defaultPopupTemplate","renderer","_set","readRenderer","layerDefinition","drawingInfo","getLogger","error","rendererDefinition","context","defaultSymbol","types","length","te","field","typeIdField","uniqueValueInfos","map","symbol","connect","createConnection","all","toJSON","customParameters","createConnectionParameters","parsedUrl","geometry","where","on","sendMessageToSocket","sendMessageToClient","once","remove","createQuery","returnGeometry","outFields","getFieldDomain","some","name","domain","getField","get","serviceSupportsSpatialReference","emit","write","messages","push","data","path","query","responseType","timeInfo","trackIdField","find","alias","origin","portalItem","portal","String","prototype","readOnly","json","enabled","allowNull","apiValues","source","target","value","origins","service","Number","re","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/StreamLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import t from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import r from\"../renderers/SimpleRenderer.js\";import o from\"../renderers/UniqueValueRenderer.js\";import{read as i}from\"../renderers/support/jsonUtils.js\";import{rendererTypes as s,webSceneRendererTypes as n}from\"../renderers/support/types.js\";import p from\"../request.js\";import{symbolTypesRenderer as a}from\"../symbols.js\";import l from\"../core/Error.js\";import{handlesGroup as m}from\"../core/handleUtils.js\";import d from\"../core/Logger.js\";import{isSome as c}from\"../core/maybe.js\";import{MultiOriginJSONMixin as y}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as u}from\"../core/promiseUtils.js\";import{property as f}from\"../core/accessorSupport/decorators/property.js\";import{Integer as h}from\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import{reader as g}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as j}from\"../core/accessorSupport/decorators/subclass.js\";import{createTypeReader as b}from\"../core/accessorSupport/extensions/serializableProperty/reader.js\";import{featureGeometryTypeKebabDictionary as v}from\"../geometry/support/typeUtils.js\";import S from\"./Layer.js\";import{ArcGISService as w}from\"./mixins/ArcGISService.js\";import{BlendLayer as I}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as x}from\"./mixins/CustomParametersMixin.js\";import{FeatureEffectLayer as R}from\"./mixins/FeatureEffectLayer.js\";import{FeatureReductionLayer as T}from\"./mixins/FeatureReductionLayer.js\";import{OperationalLayer as P}from\"./mixins/OperationalLayer.js\";import{PortalLayer as F}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as U}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as L}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as k}from\"./mixins/TemporalLayer.js\";import{labelsVisible as D,legendEnabled as E,maxScale as C,minScale as O,popupEnabled as A,screenSizePerspectiveEnabled as _,url as N}from\"./support/commonProperties.js\";import J from\"./support/Field.js\";import{defineFieldProperties as M}from\"./support/fieldProperties.js\";import{fixRendererFields as G,fixTimeInfoFields as q}from\"./support/fieldUtils.js\";import V from\"./support/LabelClass.js\";import{reader as z}from\"./support/labelingInfo.js\";import $ from\"./support/PurgeOptions.js\";import{loadStyleRenderer as W}from\"../renderers/support/styleUtils.js\";import B from\"../rest/support/Query.js\";import{createPopupTemplate as Q}from\"../support/popupUtils.js\";import H from\"../symbols/support/ElevationInfo.js\";import K from\"../geometry/SpatialReference.js\";import X from\"../geometry/Extent.js\";const Y=M();function Z(e,t){return new l(\"layer:unsupported\",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}let ee=class extends(T(R(I(k(L(U(w(P(F(y(x(S)))))))))))){constructor(...e){super(...e),this.copyright=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.geometryDefinition=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.maxReconnectionAttempts=0,this.maxReconnectionInterval=20,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.operationalLayerType=\"ArcGISStreamLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.purgeOptions=new $,this.screenSizePerspectiveEnabled=!0,this.sourceJSON=null,this.spatialReference=K.WGS84,this.type=\"stream\",this.url=null,this.updateInterval=300,this.webSocketUrl=null}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}load(e){if(!(\"WebSocket\"in globalThis))return this.addResolvingPromise(Promise.reject(new l(\"stream-layer:websocket-unsupported\",\"WebSocket is not supported in this browser. StreamLayer will not have real-time connection with the stream service.\"))),Promise.resolve(this);const t=c(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Stream Service\",\"Feed\"]},e).catch(u).then((()=>this._fetchService(t)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){G(e,this.fieldsIndex),this._set(\"renderer\",e)}readRenderer(e,t,s){const n=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(n){const e=i(n,t,s)||void 0;return e||d.getLogger(this.declaredClass).error(\"Failed to create renderer\",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:s}),e}if(t.defaultSymbol)return t.types&&t.types.length?new o({defaultSymbol:te(t.defaultSymbol,t,s),field:t.typeIdField,uniqueValueInfos:t.types.map((e=>({id:e.id,symbol:te(e.symbol,e,s)})))}):new r({symbol:te(t.defaultSymbol,t,s)})}async connect(e){const[{createConnection:t}]=await Promise.all([import(\"./graphics/sources/connections/createConnection.js\"),this.load()]),r=this.geometryType?v.toJSON(this.geometryType):null,{customParameters:o=null,definitionExpression:i=null,geometryDefinition:s=null,maxReconnectionAttempts:n=0,maxReconnectionInterval:p=20,spatialReference:a=this.spatialReference}=e||this.createConnectionParameters(),l=t(this.parsedUrl,this.spatialReference,a,r,{geometry:s,where:i},n,p,o??void 0),d=m([this.on(\"send-message-to-socket\",(e=>l.sendMessageToSocket(e))),this.on(\"send-message-to-client\",(e=>l.sendMessageToClient(e)))]);return l.once(\"destroy\",d.remove),l}createConnectionParameters(){return{spatialReference:this.spatialReference,customParameters:this.customParameters,definitionExpression:this.definitionExpression,geometryDefinition:this.geometryDefinition,maxReconnectionAttempts:this.maxReconnectionAttempts,maxReconnectionInterval:this.maxReconnectionInterval}}createPopupTemplate(e){return Q(this,e)}createQuery(){const e=new B;return e.returnGeometry=!0,e.outFields=[\"*\"],e.where=this.definitionExpression||\"1=1\",e}getFieldDomain(e,t){if(!this.fields)return null;let r=null;return this.fields.some((t=>(t.name===e&&(r=t.domain),!!r))),r}getField(e){return this.fieldsIndex.get(e)}serviceSupportsSpatialReference(e){return!0}sendMessageToSocket(e){this.emit(\"send-message-to-socket\",e)}sendMessageToClient(e){this.emit(\"send-message-to-client\",e)}write(e,t){const r=t?.messages;return this.webSocketUrl?(r?.push(Z(this,\"using a custom websocket connection cannot be written to web scenes and web maps\")),null):this.parsedUrl?super.write(e,t):(r?.push(Z(this,\"using a client-side only connection without a url cannot be written to web scenes and web maps\")),null)}async _fetchService(e){if(!!!this.webSocketUrl&&this.parsedUrl){if(!this.sourceJSON){const{data:t}=await p(this.parsedUrl.path,{query:{f:\"json\",...this.customParameters,...this.parsedUrl.query},responseType:\"json\",signal:e});this.sourceJSON=t}}else{if(!this.timeInfo?.trackIdField)throw new l(\"stream-layer:missing-metadata\",\"The stream layer trackIdField must be specified.\");if(!this.objectIdField){const e=this.fields.find((e=>\"oid\"===e.type))?.name;if(!e)throw new l(\"stream-layer:missing-metadata\",\"The stream layer objectIdField must be specified.\");this.objectIdField=e}if(!this.fields)throw new l(\"stream-layer:missing-metadata\",\"The stream layer fields must be specified.\");if(this.fields.some((e=>e.name===this.objectIdField))||this.fields.push(new J({name:this.objectIdField,alias:this.objectIdField,type:\"oid\"})),!this.geometryType)throw new l(\"stream-layer:missing-metadata\",\"The stream layer geometryType must be specified.\");this.webSocketUrl&&(this.url=this.webSocketUrl)}return this.read(this.sourceJSON,{origin:\"service\",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}),G(this.renderer,this.fieldsIndex),q(this.timeInfo,this.fieldsIndex),this.objectIdField||(this.objectIdField=\"__esri_stream_id__\"),W(this,{origin:\"service\"})}};e([f({type:String})],ee.prototype,\"copyright\",void 0),e([f({readOnly:!0})],ee.prototype,\"defaultPopupTemplate\",null),e([f({type:String,json:{name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],ee.prototype,\"definitionExpression\",void 0),e([f({type:String})],ee.prototype,\"displayField\",void 0),e([f({type:H})],ee.prototype,\"elevationInfo\",void 0),e([f(Y.fields)],ee.prototype,\"fields\",void 0),e([f(Y.fieldsIndex)],ee.prototype,\"fieldsIndex\",void 0),e([f({type:X})],ee.prototype,\"geometryDefinition\",void 0),e([f({type:v.apiValues,json:{read:{reader:v.read}}})],ee.prototype,\"geometryType\",void 0),e([f(D)],ee.prototype,\"labelsVisible\",void 0),e([f({type:[V],json:{read:{source:\"layerDefinition.drawingInfo.labelingInfo\",reader:z},write:{target:\"layerDefinition.drawingInfo.labelingInfo\"}}})],ee.prototype,\"labelingInfo\",void 0),e([f(E)],ee.prototype,\"legendEnabled\",void 0),e([f({type:[\"show\",\"hide\"]})],ee.prototype,\"listMode\",void 0),e([f({type:h})],ee.prototype,\"maxReconnectionAttempts\",void 0),e([f({type:h})],ee.prototype,\"maxReconnectionInterval\",void 0),e([f(C)],ee.prototype,\"maxScale\",void 0),e([f(O)],ee.prototype,\"minScale\",void 0),e([f({type:String})],ee.prototype,\"objectIdField\",void 0),e([f({value:\"ArcGISStreamLayer\",type:[\"ArcGISStreamLayer\"]})],ee.prototype,\"operationalLayerType\",void 0),e([f(A)],ee.prototype,\"popupEnabled\",void 0),e([f({type:t,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],ee.prototype,\"popupTemplate\",void 0),e([f({type:$})],ee.prototype,\"purgeOptions\",void 0),e([f({types:s,json:{origins:{service:{write:{target:\"drawingInfo.renderer\",enabled:!1}},\"web-scene\":{name:\"layerDefinition.drawingInfo.renderer\",types:n,write:!0}},write:{target:\"layerDefinition.drawingInfo.renderer\"}}})],ee.prototype,\"renderer\",null),e([g(\"service\",\"renderer\",[\"drawingInfo.renderer\",\"defaultSymbol\"]),g(\"renderer\",[\"layerDefinition.drawingInfo.renderer\",\"layerDefinition.defaultSymbol\"])],ee.prototype,\"readRenderer\",null),e([f(_)],ee.prototype,\"screenSizePerspectiveEnabled\",void 0),e([f()],ee.prototype,\"sourceJSON\",void 0),e([f({type:K,json:{origins:{service:{read:{source:\"spatialReference\"}}}}})],ee.prototype,\"spatialReference\",void 0),e([f({json:{read:!1}})],ee.prototype,\"type\",void 0),e([f(N)],ee.prototype,\"url\",void 0),e([f({type:Number})],ee.prototype,\"updateInterval\",void 0),e([f({type:String})],ee.prototype,\"webSocketUrl\",void 0),ee=e([j(\"esri.layers.StreamLayer\")],ee);const te=b({types:a}),re=ee;export{re as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}