{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as e, applySome as s, isSome as t, isNone as r } from \"../../../../core/maybe.js\";\nimport { Milliseconds as i } from \"../../../../core/time.js\";\nimport { s as a } from \"../../../../chunks/vec2.js\";\nimport { createQuadVAO as h } from \"./glUtil3D.js\";\nimport { SSAOBlurTechnique as _ } from \"./SSAOBlurTechnique.js\";\nimport { noiseData as o } from \"./SSAONoiseData.js\";\nimport { SSAOTechnique as u } from \"./SSAOTechnique.js\";\nimport { g as n } from \"../../../../chunks/SSAO.glsl.js\";\nimport { SSAOPassParameters as l, BlurDrawParameters as m } from \"../shaders/SSAOParameters.js\";\nimport { PrimitiveType as b, TextureType as c, PixelFormat as d, PixelType as p, TextureSamplingMode as T, TextureWrapMode as O, TargetType as B, DepthStencilTargetType as F } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as w } from \"../../../webgl/FramebufferObject.js\";\nimport { Texture as f } from \"../../../webgl/Texture.js\";\nimport { vertexCount as g } from \"../../../webgl/Util.js\";\nconst q = 2;\n\nclass P {\n  constructor(e, s, t, r) {\n    this._view = e, this._techniqueRepository = s, this._rctx = t, this._requestRender = r, this._quadVAO = null, this._passParameters = new l(), this._drawParameters = new m();\n  }\n\n  dispose() {\n    this.enabled = !1, this._quadVAO = e(this._quadVAO);\n  }\n\n  disposeOffscreenBuffers() {\n    s(this._ssaoFBO, e => e.resize(0, 0)), s(this._blur0FBO, e => e.resize(0, 0)), s(this._blur1FBO, e => e.resize(0, 0));\n  }\n\n  set enabled(e) {\n    e ? this._enable() : this._disable();\n  }\n\n  get enabled() {\n    return t(this._enableTime);\n  }\n\n  get active() {\n    return this.enabled && this._ssaoTechnique.compiled && this._blurTechnique.compiled;\n  }\n\n  get colorTexture() {\n    return t(this._blur1FBO) ? this._blur1FBO.colorTexture : null;\n  }\n\n  render(e, s, t, i) {\n    if (r(this._enableTime) || r(t) || r(i) || r(this._ssaoFBO) || r(this._blur0FBO) || r(this._blur1FBO)) return;\n    if (!this.active) return this._enableTime = s, void this._requestRender();\n    0 === this._enableTime && (this._enableTime = s);\n    const _ = this._rctx,\n          o = e.camera,\n          u = this._view.qualitySettings.fadeDuration,\n          l = u > 0 ? Math.min(u, s - this._enableTime) / u : 1;\n    this._passParameters.normalTexture = i, this._passParameters.depthTexture = t, this._passParameters.projScale = 1 / o.computeRenderPixelSizeAtDist(1), this._passParameters.intensity = 4 * A / n(o) ** 6 * l;\n    const m = o.fullViewport,\n          c = m[2],\n          d = m[3],\n          p = c / q,\n          T = d / q;\n    this._ssaoFBO.resize(c, d), this._blur0FBO.resize(p, T), this._blur1FBO.resize(p, T), r(this._quadVAO) && (this._quadVAO = h(this._rctx)), _.bindFramebuffer(this._ssaoFBO), _.setViewport(0, 0, c, d);\n    _.bindTechnique(this._ssaoTechnique, this._passParameters, e).bindDraw(this._drawParameters, e, this._passParameters), _.bindVAO(this._quadVAO);\n    const O = g(this._quadVAO, \"geometry\");\n\n    _.drawArrays(b.TRIANGLE_STRIP, 0, O);\n\n    const B = _.bindTechnique(this._blurTechnique, this._passParameters, e);\n\n    _.setViewport(0, 0, p, T), _.bindFramebuffer(this._blur0FBO), this._drawParameters.colorTexture = this._ssaoFBO.colorTexture, a(this._drawParameters.blurSize, 0, q / d), B.bindDraw(this._drawParameters, e, this._passParameters), _.setViewport(0, 0, p, T), _.drawArrays(b.TRIANGLE_STRIP, 0, O), _.bindFramebuffer(this._blur1FBO), this._drawParameters.colorTexture = this._blur0FBO.colorTexture, a(this._drawParameters.blurSize, q / c, 0), B.bindDraw(this._drawParameters, e, this._passParameters), _.drawArrays(b.TRIANGLE_STRIP, 0, O), _.setViewport(m[0], m[1], m[2], m[3]), l < 1 && this._requestRender();\n  }\n\n  _enable() {\n    if (t(this._enableTime)) return;\n    const e = {\n      target: c.TEXTURE_2D,\n      pixelFormat: d.RGBA,\n      dataType: p.UNSIGNED_BYTE,\n      samplingMode: T.LINEAR,\n      wrapMode: O.CLAMP_TO_EDGE,\n      width: 0,\n      height: 0\n    },\n          s = {\n      colorTarget: B.TEXTURE,\n      depthStencilTarget: F.NONE\n    };\n    this._ssaoFBO = new w(this._rctx, s, e), this._blur0FBO = new w(this._rctx, s, e), this._blur1FBO = new w(this._rctx, s, e);\n    const a = Uint8Array.from(atob(o), e => e.charCodeAt(0));\n    this._passParameters.noiseTexture = new f(this._rctx, {\n      target: c.TEXTURE_2D,\n      pixelFormat: d.RGB,\n      dataType: p.UNSIGNED_BYTE,\n      hasMipmap: !0,\n      width: 32,\n      height: 32\n    }, a), r(this._ssaoTechnique) && (this._ssaoTechnique = this._techniqueRepository.acquire(u)), r(this._blurTechnique) && (this._blurTechnique = this._techniqueRepository.acquire(_)), this._enableTime = i(0), this._requestRender();\n  }\n\n  _disable() {\n    this._enableTime = null, this._passParameters.noiseTexture = e(this._passParameters.noiseTexture), this._blur1FBO = e(this._blur1FBO), this._blur0FBO = e(this._blur0FBO), this._ssaoFBO = e(this._ssaoFBO);\n  }\n\n  get gpuMemoryUsage() {\n    return (t(this._blur0FBO) ? this._blur0FBO.gpuMemoryUsage : 0) + (t(this._blur1FBO) ? this._blur1FBO.gpuMemoryUsage : 0) + (t(this._ssaoFBO) ? this._ssaoFBO.gpuMemoryUsage : 0);\n  }\n\n  get test() {\n    return {\n      ssao: this._ssaoFBO,\n      blur: this._blur1FBO\n    };\n  }\n\n}\n\nconst A = .5;\nexport { P as SSAOHelper, q as blurSizePixels };","map":{"version":3,"names":["disposeMaybe","e","applySome","s","isSome","t","isNone","r","Milliseconds","i","a","createQuadVAO","h","SSAOBlurTechnique","_","noiseData","o","SSAOTechnique","u","g","n","SSAOPassParameters","l","BlurDrawParameters","m","PrimitiveType","b","TextureType","c","PixelFormat","d","PixelType","p","TextureSamplingMode","T","TextureWrapMode","O","TargetType","B","DepthStencilTargetType","F","FramebufferObject","w","Texture","f","vertexCount","q","P","constructor","_view","_techniqueRepository","_rctx","_requestRender","_quadVAO","_passParameters","_drawParameters","dispose","enabled","disposeOffscreenBuffers","_ssaoFBO","resize","_blur0FBO","_blur1FBO","_enable","_disable","_enableTime","active","_ssaoTechnique","compiled","_blurTechnique","colorTexture","render","camera","qualitySettings","fadeDuration","Math","min","normalTexture","depthTexture","projScale","computeRenderPixelSizeAtDist","intensity","A","fullViewport","bindFramebuffer","setViewport","bindTechnique","bindDraw","bindVAO","drawArrays","TRIANGLE_STRIP","blurSize","target","TEXTURE_2D","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","samplingMode","LINEAR","wrapMode","CLAMP_TO_EDGE","width","height","colorTarget","TEXTURE","depthStencilTarget","NONE","Uint8Array","from","atob","charCodeAt","noiseTexture","RGB","hasMipmap","acquire","gpuMemoryUsage","test","ssao","blur","SSAOHelper","blurSizePixels"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/3d/webgl-engine/lib/SSAOHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e,applySome as s,isSome as t,isNone as r}from\"../../../../core/maybe.js\";import{Milliseconds as i}from\"../../../../core/time.js\";import{s as a}from\"../../../../chunks/vec2.js\";import{createQuadVAO as h}from\"./glUtil3D.js\";import{SSAOBlurTechnique as _}from\"./SSAOBlurTechnique.js\";import{noiseData as o}from\"./SSAONoiseData.js\";import{SSAOTechnique as u}from\"./SSAOTechnique.js\";import{g as n}from\"../../../../chunks/SSAO.glsl.js\";import{SSAOPassParameters as l,BlurDrawParameters as m}from\"../shaders/SSAOParameters.js\";import{PrimitiveType as b,TextureType as c,PixelFormat as d,PixelType as p,TextureSamplingMode as T,TextureWrapMode as O,TargetType as B,DepthStencilTargetType as F}from\"../../../webgl/enums.js\";import{FramebufferObject as w}from\"../../../webgl/FramebufferObject.js\";import{Texture as f}from\"../../../webgl/Texture.js\";import{vertexCount as g}from\"../../../webgl/Util.js\";const q=2;class P{constructor(e,s,t,r){this._view=e,this._techniqueRepository=s,this._rctx=t,this._requestRender=r,this._quadVAO=null,this._passParameters=new l,this._drawParameters=new m}dispose(){this.enabled=!1,this._quadVAO=e(this._quadVAO)}disposeOffscreenBuffers(){s(this._ssaoFBO,(e=>e.resize(0,0))),s(this._blur0FBO,(e=>e.resize(0,0))),s(this._blur1FBO,(e=>e.resize(0,0)))}set enabled(e){e?this._enable():this._disable()}get enabled(){return t(this._enableTime)}get active(){return this.enabled&&this._ssaoTechnique.compiled&&this._blurTechnique.compiled}get colorTexture(){return t(this._blur1FBO)?this._blur1FBO.colorTexture:null}render(e,s,t,i){if(r(this._enableTime)||r(t)||r(i)||r(this._ssaoFBO)||r(this._blur0FBO)||r(this._blur1FBO))return;if(!this.active)return this._enableTime=s,void this._requestRender();0===this._enableTime&&(this._enableTime=s);const _=this._rctx,o=e.camera,u=this._view.qualitySettings.fadeDuration,l=u>0?Math.min(u,s-this._enableTime)/u:1;this._passParameters.normalTexture=i,this._passParameters.depthTexture=t,this._passParameters.projScale=1/o.computeRenderPixelSizeAtDist(1),this._passParameters.intensity=4*A/n(o)**6*l;const m=o.fullViewport,c=m[2],d=m[3],p=c/q,T=d/q;this._ssaoFBO.resize(c,d),this._blur0FBO.resize(p,T),this._blur1FBO.resize(p,T),r(this._quadVAO)&&(this._quadVAO=h(this._rctx)),_.bindFramebuffer(this._ssaoFBO),_.setViewport(0,0,c,d);_.bindTechnique(this._ssaoTechnique,this._passParameters,e).bindDraw(this._drawParameters,e,this._passParameters),_.bindVAO(this._quadVAO);const O=g(this._quadVAO,\"geometry\");_.drawArrays(b.TRIANGLE_STRIP,0,O);const B=_.bindTechnique(this._blurTechnique,this._passParameters,e);_.setViewport(0,0,p,T),_.bindFramebuffer(this._blur0FBO),this._drawParameters.colorTexture=this._ssaoFBO.colorTexture,a(this._drawParameters.blurSize,0,q/d),B.bindDraw(this._drawParameters,e,this._passParameters),_.setViewport(0,0,p,T),_.drawArrays(b.TRIANGLE_STRIP,0,O),_.bindFramebuffer(this._blur1FBO),this._drawParameters.colorTexture=this._blur0FBO.colorTexture,a(this._drawParameters.blurSize,q/c,0),B.bindDraw(this._drawParameters,e,this._passParameters),_.drawArrays(b.TRIANGLE_STRIP,0,O),_.setViewport(m[0],m[1],m[2],m[3]),l<1&&this._requestRender()}_enable(){if(t(this._enableTime))return;const e={target:c.TEXTURE_2D,pixelFormat:d.RGBA,dataType:p.UNSIGNED_BYTE,samplingMode:T.LINEAR,wrapMode:O.CLAMP_TO_EDGE,width:0,height:0},s={colorTarget:B.TEXTURE,depthStencilTarget:F.NONE};this._ssaoFBO=new w(this._rctx,s,e),this._blur0FBO=new w(this._rctx,s,e),this._blur1FBO=new w(this._rctx,s,e);const a=Uint8Array.from(atob(o),(e=>e.charCodeAt(0)));this._passParameters.noiseTexture=new f(this._rctx,{target:c.TEXTURE_2D,pixelFormat:d.RGB,dataType:p.UNSIGNED_BYTE,hasMipmap:!0,width:32,height:32},a),r(this._ssaoTechnique)&&(this._ssaoTechnique=this._techniqueRepository.acquire(u)),r(this._blurTechnique)&&(this._blurTechnique=this._techniqueRepository.acquire(_)),this._enableTime=i(0),this._requestRender()}_disable(){this._enableTime=null,this._passParameters.noiseTexture=e(this._passParameters.noiseTexture),this._blur1FBO=e(this._blur1FBO),this._blur0FBO=e(this._blur0FBO),this._ssaoFBO=e(this._ssaoFBO)}get gpuMemoryUsage(){return(t(this._blur0FBO)?this._blur0FBO.gpuMemoryUsage:0)+(t(this._blur1FBO)?this._blur1FBO.gpuMemoryUsage:0)+(t(this._ssaoFBO)?this._ssaoFBO.gpuMemoryUsage:0)}get test(){return{ssao:this._ssaoFBO,blur:this._blur1FBO}}}const A=.5;export{P as SSAOHelper,q as blurSizePixels};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}