{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../Color.js\";\nimport { isSome as r } from \"../../core/maybe.js\";\n\nfunction n(_x) {\n  return _n.apply(this, arguments);\n}\n\nfunction _n() {\n  _n = _asyncToGenerator(function* (r) {\n    yield r.whenReady();\n    const n = r.basemapView?.baseLayerViews.map(t => t.layer).toArray() ?? [];\n\n    if (!n.length) {\n      const n = getComputedStyle(r.container).backgroundColor,\n            a = n && new t(n);\n      return r.get(\"background.color\") || (a && 0 !== a.a ? a : null) || null;\n    }\n\n    const a = (yield r.takeScreenshot({\n      format: \"png\",\n      layers: n\n    })).data.data,\n          o = a.length;\n    let e = 0,\n        u = 0,\n        l = 0,\n        c = 0,\n        s = 0,\n        i = 0;\n\n    for (let t = 0; t < o; t += 4) {\n      const r = a[t],\n            n = a[t + 1],\n            o = a[t + 2],\n            h = a[t + 3],\n            d = h / 255;\n      e += r * r * d, u += n * n * d, l += o * o * d, s += d, h && (c += h, i++);\n    }\n\n    e = Math.round(Math.sqrt(e / s)), u = Math.round(Math.sqrt(u / s)), l = Math.round(Math.sqrt(l / s));\n    return new t([e, u, l, c / i / 255]);\n  });\n  return _n.apply(this, arguments);\n}\n\nfunction a(_x2) {\n  return _a.apply(this, arguments);\n}\n\nfunction _a() {\n  _a = _asyncToGenerator(function* (t) {\n    if (!t) return null;\n    const a = yield n(t);\n    return r(a) ? o(a) : null;\n  });\n  return _a.apply(this, arguments);\n}\n\nfunction o(t) {\n  return e(t).isBright ? \"light\" : \"dark\";\n}\n\nfunction e(r) {\n  let {\n    r: n,\n    g: a,\n    b: o,\n    a: e\n  } = r;\n  return e < 1 && (n = Math.round(e * n + 255 * (1 - e)), a = Math.round(e * a + 255 * (1 - e)), o = Math.round(e * o + 255 * (1 - e))), new t({\n    r: n,\n    g: a,\n    b: o\n  });\n}\n\nfunction u(t) {\n  const {\n    r,\n    g: n,\n    b: a\n  } = e(t);\n  return .2126 * r + .7152 * n + .0722 * a;\n}\n\nexport { n as getBackgroundColor, a as getBackgroundColorTheme, u as getColorLuminance, o as getColorTheme };","map":{"version":3,"names":["t","isSome","r","n","whenReady","basemapView","baseLayerViews","map","layer","toArray","length","getComputedStyle","container","backgroundColor","a","get","takeScreenshot","format","layers","data","o","e","u","l","c","s","i","h","d","Math","round","sqrt","isBright","g","b","getBackgroundColor","getBackgroundColorTheme","getColorLuminance","getColorTheme"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/support/colorUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView?.baseLayerViews.map((t=>t.layer)).toArray()??[];if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}