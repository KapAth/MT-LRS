{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Accessor.js\";\nimport \"../../core/Error.js\";\nimport { HandleOwnerMixin as s } from \"../../core/HandleOwner.js\";\nimport has from \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport { removeMaybe as i } from \"../../core/maybe.js\";\nimport { throttle as o } from \"../../core/throttle.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { CollisionEngine as p } from \"./engine/webgl/collisions/CollisionEngine.js\";\nconst l = 32;\nlet d = class extends s(t) {\n  constructor(e) {\n    super(e), this._applyVisibilityPassThrottled = o(this._applyVisibilityPass, l, this), this.lastUpdateId = -1, this.updateRequested = !1, this.view = null;\n  }\n\n  initialize() {\n    this.collisionEngine = new p();\n  }\n\n  destroy() {\n    this.collisionEngine = null, this._applyVisibilityPassThrottled = i(this._applyVisibilityPassThrottled);\n  }\n\n  get updating() {\n    return has(\"esri-2d-log-updating\") && console.log(`Updating LabelManager ${this.updateRequested}:\\n-> updateRequested: ${this.updateRequested}`), this.updateRequested;\n  }\n\n  update(e) {\n    this._applyVisibilityPassThrottled(e);\n  }\n\n  viewChange() {\n    this.requestUpdate();\n  }\n\n  requestUpdate() {\n    this.updateRequested || (this.updateRequested = !0, this.view?.requestUpdate());\n  }\n\n  processUpdate(e) {\n    this._set(\"updateParameters\", e), this.updateRequested && (this.updateRequested = !1, this.update(e));\n  }\n\n  _applyVisibilityPass(e) {\n    const t = this.view;\n    if (t) try {\n      const s = t.featuresTilingScheme.getClosestInfoForScale(e.state.scale).level;\n      this.collisionEngine.run(t.allLayerViews.items, e, s);\n    } catch (s) {}\n  }\n\n};\ne([r()], d.prototype, \"updateRequested\", void 0), e([r({\n  readOnly: !0\n})], d.prototype, \"updateParameters\", void 0), e([r()], d.prototype, \"updating\", null), e([r()], d.prototype, \"view\", void 0), d = e([a(\"esri.views.2d.layers.labels.LabelManager\")], d);\nconst u = d;\nexport { u as default };","map":{"version":3,"names":["_","e","t","HandleOwnerMixin","s","has","removeMaybe","i","throttle","o","property","r","subclass","a","CollisionEngine","p","l","d","constructor","_applyVisibilityPassThrottled","_applyVisibilityPass","lastUpdateId","updateRequested","view","initialize","collisionEngine","destroy","updating","console","log","update","viewChange","requestUpdate","processUpdate","_set","featuresTilingScheme","getClosestInfoForScale","state","scale","level","run","allLayerViews","items","prototype","readOnly","u","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/LabelManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import\"../../core/Error.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import has from\"../../core/has.js\";import\"../../core/Logger.js\";import{removeMaybe as i}from\"../../core/maybe.js\";import{throttle as o}from\"../../core/throttle.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{CollisionEngine as p}from\"./engine/webgl/collisions/CollisionEngine.js\";const l=32;let d=class extends(s(t)){constructor(e){super(e),this._applyVisibilityPassThrottled=o(this._applyVisibilityPass,l,this),this.lastUpdateId=-1,this.updateRequested=!1,this.view=null}initialize(){this.collisionEngine=new p}destroy(){this.collisionEngine=null,this._applyVisibilityPassThrottled=i(this._applyVisibilityPassThrottled)}get updating(){return has(\"esri-2d-log-updating\")&&console.log(`Updating LabelManager ${this.updateRequested}:\\n-> updateRequested: ${this.updateRequested}`),this.updateRequested}update(e){this._applyVisibilityPassThrottled(e)}viewChange(){this.requestUpdate()}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view?.requestUpdate())}processUpdate(e){this._set(\"updateParameters\",e),this.updateRequested&&(this.updateRequested=!1,this.update(e))}_applyVisibilityPass(e){const t=this.view;if(t)try{const s=t.featuresTilingScheme.getClosestInfoForScale(e.state.scale).level;this.collisionEngine.run(t.allLayerViews.items,e,s)}catch(s){}}};e([r()],d.prototype,\"updateRequested\",void 0),e([r({readOnly:!0})],d.prototype,\"updateParameters\",void 0),e([r()],d.prototype,\"updating\",null),e([r()],d.prototype,\"view\",void 0),d=e([a(\"esri.views.2d.layers.labels.LabelManager\")],d);const u=d;export{u as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}