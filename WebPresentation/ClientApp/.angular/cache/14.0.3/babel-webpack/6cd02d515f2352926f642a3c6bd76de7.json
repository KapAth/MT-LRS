{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { DateTimeReferenceFieldIndex as e } from \"../../arcadeTimeUtils.js\";\nimport t from \"./cache.js\";\nimport { FeatureSetError as s, FeatureSetErrorCodes as r } from \"./errorsupport.js\";\nimport n from \"./FeatureSetIterator.js\";\nimport i from \"./IdSet.js\";\nimport { FeatureServiceDatabaseType as a, layerGeometryEsriConstants as l, IdState as u, convertSquareUnitsToCode as h, convertLinearUnitsToCode as c, esriFieldToJson as o, layerGeometryEsriRestConstants as d } from \"./shared.js\";\nimport { max as _, min as p, sum as f, variance as g, stdev as m, mean as y, distinct as F, count as b } from \"./stats.js\";\nimport { isPromiseLike as I } from \"../../../core/promiseUtils.js\";\nimport { WhereClause as w } from \"../../../core/sql/WhereClause.js\";\nimport { union as S, geodesicArea as T, planarArea as P, geodesicLength as x, planarLength as k } from \"../../../geometry/geometryEngineAsync.js\";\nimport D from \"../../../geometry/SpatialReference.js\";\nimport C from \"../../../layers/support/FieldsIndex.js\";\n\nclass v {\n  constructor(e) {\n    this.recentlyUsedQueries = null, this.featureSetQueryInterceptor = null, this._idstates = [], this._parent = null, this._wset = null, this._mainSetInUse = null, this._maxProcessing = 200, this._maxQuery = 500, this._totalCount = -1, this._databaseType = a.NotEvaluated, this._databaseTypeProbed = null, this.declaredRootClass = \"esri.arcade.featureset.support.FeatureSet\", this._featureCache = [], this.typeIdField = null, this.types = null, this.fields = null, this.geometryType = \"\", this.objectIdField = \"\", this.globalIdField = \"\", this.spatialReference = null, this.hasM = !1, this.hasZ = !1, this._transparent = !1, this.loaded = !1, this._loadPromise = null, this._fieldsIndex = null, this._dateFieldIndex = null, e && e.lrucache && (this.recentlyUsedQueries = e.lrucache), e && e.interceptor && (this.featureSetQueryInterceptor = e.interceptor);\n  }\n\n  optimisePagingFeatureQueries(e) {\n    this._parent && this._parent.optimisePagingFeatureQueries(e);\n  }\n\n  _hasMemorySource() {\n    return !0;\n  }\n\n  prop(e, t) {\n    return void 0 === t ? this[e] : (void 0 !== this[e] && (this[e] = t), this);\n  }\n\n  end() {\n    return null !== this._parent && !0 === this._parent._transparent ? this._parent.end() : this._parent;\n  }\n\n  _ensureLoaded() {\n    return this.load();\n  }\n\n  load() {\n    return null === this._loadPromise && (this._loadPromise = this.loadImpl()), this._loadPromise;\n  }\n\n  loadImpl() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      return !0 === _this._parent?.loaded ? (_this._initialiseFeatureSet(), _this) : (yield _this._parent?.load(), _this._initialiseFeatureSet(), _this);\n    })();\n  }\n\n  _initialiseFeatureSet() {\n    null !== this._parent ? (this.fields = this._parent.fields.slice(0), this.geometryType = this._parent.geometryType, this.objectIdField = this._parent.objectIdField, this.globalIdField = this._parent.globalIdField, this.spatialReference = this._parent.spatialReference, this.hasM = this._parent.hasM, this.hasZ = this._parent.hasZ, this.typeIdField = this._parent.typeIdField, this.types = this._parent.types) : (this.fields = [], this.typeIdField = \"\", this.objectIdField = \"\", this.globalIdField = \"\", this.spatialReference = new D({\n      wkid: 4326\n    }), this.geometryType = l.point);\n  }\n\n  getField(e, t) {\n    let s;\n    return (t = t || this.fields) && (e = e.toLowerCase(), t.some(t => (t && t.name.toLowerCase() === e && (s = t), !!s))), s;\n  }\n\n  getFieldsIndex() {\n    return null === this._fieldsIndex && (this._fieldsIndex = new C(this.fields)), this._fieldsIndex;\n  }\n\n  _maxProcessingRate() {\n    return null !== this._parent ? Math.min(this._maxProcessing, this._parent._maxProcessingRate()) : Math.min(this._maxProcessing, this._maxQueryRate());\n  }\n\n  _maxQueryRate() {\n    return null !== this._parent ? Math.max(this._maxQuery, this._parent._maxQueryRate()) : this._maxQuery;\n  }\n\n  _checkCancelled(e) {\n    if (null != e && e.aborted) throw new s(r.Cancelled);\n  }\n\n  nativeCapabilities() {\n    return this._parent.nativeCapabilities();\n  }\n\n  _canDoAggregates(e, t, s, r, n) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      return null !== _this2._parent && _this2._parent._canDoAggregates(e, t, s, r, n);\n    })();\n  }\n\n  _getAggregatePagesDataSourceDefinition(e, t, n, i, a, l, u) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (null === _this3._parent) throw new s(r.NeverReach);\n      return _this3._parent._getAggregatePagesDataSourceDefinition(e, t, n, i, a, l, u);\n    })();\n  }\n\n  _getAgregagtePhysicalPage(e, t, n) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      if (null === _this4._parent) throw new s(r.NeverReach);\n      return _this4._parent._getAgregagtePhysicalPage(e, t, n);\n    })();\n  }\n\n  databaseType() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this5._databaseType === a.NotEvaluated) {\n        if (null !== t.applicationCache) {\n          const e = t.applicationCache.getDatabaseType(_this5._cacheableFeatureSetSourceKey());\n          if (null !== e) return e;\n        }\n\n        if (null !== _this5._databaseTypeProbed) return _this5._databaseTypeProbed;\n\n        try {\n          _this5._databaseTypeProbed = _this5._getDatabaseTypeImpl(), null !== t.applicationCache && t.applicationCache.setDatabaseType(_this5._cacheableFeatureSetSourceKey(), _this5._databaseTypeProbed);\n        } catch (e) {\n          throw null !== t.applicationCache && t.applicationCache.clearDatabaseType(_this5._cacheableFeatureSetSourceKey()), e;\n        }\n\n        return _this5._databaseTypeProbed;\n      }\n\n      return _this5._databaseType;\n    })();\n  }\n\n  _getDatabaseTypeImpl() {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      const e = [{\n        thetype: a.SqlServer,\n        testwhere: \"(CAST( '2015-01-01' as DATETIME) = CAST( '2015-01-01' as DATETIME)) AND OBJECTID<0\"\n      }, {\n        thetype: a.Oracle,\n        testwhere: \"(TO_DATE('2003-11-18','YYYY-MM-DD') = TO_DATE('2003-11-18','YYYY-MM-DD')) AND OBJECTID<0\"\n      }, {\n        thetype: a.StandardisedNoInterval,\n        testwhere: \"(date '2015-01-01 10:10:10' = date '2015-01-01 10:10:10') AND OBJECTID<0\"\n      }];\n\n      for (const t of e) {\n        if (!0 === (yield _this6._runDatabaseProbe(t.testwhere))) return t.thetype;\n      }\n\n      return a.StandardisedNoInterval;\n    })();\n  }\n\n  _cacheableFeatureSetSourceKey() {\n    return \"MUSTBESET\";\n  }\n\n  _runDatabaseProbe(e) {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      if (null !== _this7._parent) return _this7._parent._runDatabaseProbe(e);\n      throw new s(r.NotImplemented);\n    })();\n  }\n\n  isTable() {\n    return this._parent?.isTable() ?? !1;\n  }\n\n  _featureFromCache(e) {\n    if (void 0 !== this._featureCache[e]) return this._featureCache[e];\n  }\n\n  _isInFeatureSet(e) {\n    return u.Unknown;\n  }\n\n  _getSet(e) {\n    throw new s(r.NotImplemented);\n  }\n\n  _getFeature(e, t, n) {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this8._checkCancelled(n), void 0 !== _this8._featureFromCache(t)) return _this8._featureFromCache(t);\n      if (yield _this8._getFeatures(e, t, _this8._maxProcessingRate(), n), _this8._checkCancelled(n), void 0 !== _this8._featureFromCache(t)) return _this8._featureFromCache(t);\n      throw new s(r.MissingFeatures);\n    })();\n  }\n\n  _getFeatureBatch(e, t) {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      _this9._checkCancelled(t);\n\n      const s = new i([], e, !1, null),\n            r = [];\n      yield _this9._getFeatures(s, -1, e.length, t), _this9._checkCancelled(t);\n\n      for (const n of e) void 0 !== _this9._featureFromCache(n) && r.push(_this9._featureFromCache(n));\n\n      return r;\n    })();\n  }\n\n  _getFeatures(e, t, s, r) {\n    return _asyncToGenerator(function* () {\n      return \"success\";\n    })();\n  }\n\n  _getFilteredSet(e, t, n, i, a) {\n    throw new s(r.NotImplemented);\n  }\n\n  _refineSetBlock(e, t, s) {\n    var _this10 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!0 === _this10._checkIfNeedToExpandCandidatePage(e, _this10._maxQueryRate())) return yield _this10._expandPagedSet(e, _this10._maxQueryRate(), 0, 0, s), _this10._refineSetBlock(e, t, s);\n\n      _this10._checkCancelled(s);\n\n      const r = e._candidates.length;\n\n      _this10._refineKnowns(e, t);\n\n      let n = r - e._candidates.length;\n      if (0 === e._candidates.length) return e;\n      if (n >= t) return e;\n\n      if (yield _this10._refineIfParentKnown(e, t - n, s), _this10._checkCancelled(s), _this10._refineKnowns(e, t - n), n = r - e._candidates.length, n < t && e._candidates.length > 0) {\n        const r = t - n,\n              i = _this10._prepareFetchAndRefineSet(e._candidates);\n\n        return yield _this10._fetchAndRefineFeatures(i, i.length > r ? r : e._candidates.length, s), _this10._checkCancelled(s), _this10._refineKnowns(e, t - n), e;\n      }\n\n      return e;\n    })();\n  }\n\n  _fetchAndRefineFeatures(e, t, s) {\n    return null;\n  }\n\n  _prepareFetchAndRefineSet(e) {\n    const t = [];\n\n    for (let s = 0; s < e.length; s++) this._isPhysicalFeature(e[s]) && t.push(e[s]);\n\n    return t;\n  }\n\n  _isPhysicalFeature(e) {\n    return null === this._parent || this._parent._isPhysicalFeature(e);\n  }\n\n  _refineKnowns(e, t) {\n    let s = 0,\n        r = null;\n    const n = [];\n    t = this._maxQueryRate();\n\n    for (let i = 0; i < e._candidates.length && \"GETPAGES\" !== e._candidates[i]; i++) {\n      let a = !1;\n\n      const l = this._candidateIdTransform(e._candidates[i]);\n\n      l !== e._candidates[i] && (a = !0);\n\n      const h = this._isInFeatureSet(l);\n\n      if (h === u.InFeatureSet) !0 === a ? e._known.includes(l) || (e._known.push(l), s += 1) : (e._known.push(e._candidates[i]), s += 1), null === r ? r = {\n        start: i,\n        end: i\n      } : r.end === i - 1 ? r.end = i : (n.push(r), r = {\n        start: i,\n        end: i\n      });else if (h === u.NotInFeatureSet) null === r ? r = {\n        start: i,\n        end: i\n      } : r.end === i - 1 ? r.end = i : (n.push(r), r = {\n        start: i,\n        end: i\n      }), s += 1;else if (h === u.Unknown && (s += 1, !0 === e._ordered)) break;\n      if (s >= t) break;\n    }\n\n    null !== r && n.push(r);\n\n    for (let i = n.length - 1; i >= 0; i--) e._candidates.splice(n[i].start, n[i].end - n[i].start + 1);\n  }\n\n  _refineIfParentKnown(e, t, s) {\n    const r = new i([], [], e._ordered, null);\n    return r._candidates = e._candidates.slice(0), this._parent._refineSetBlock(r, t, s);\n  }\n\n  _candidateIdTransform(e) {\n    return this._parent._candidateIdTransform(e);\n  }\n\n  _checkIfNeedToExpandKnownPage(e, t) {\n    if (null === e.pagesDefinition) return !1;\n    let s = 0;\n\n    for (let r = e._lastFetchedIndex; r < e._known.length; r++) {\n      if (\"GETPAGES\" === e._known[r]) return !0;\n      if (void 0 === this._featureCache[e._known[r]] && (s += 1, s >= t)) break;\n    }\n\n    return !1;\n  }\n\n  _checkIfNeedToExpandCandidatePage(e, t) {\n    if (null === e.pagesDefinition) return !1;\n    let s = 0;\n\n    for (let r = 0; r < e._candidates.length; r++) {\n      if (\"GETPAGES\" === e._candidates[r]) return !0;\n      if (s += 1, s >= t) break;\n    }\n\n    return !1;\n  }\n\n  _expandPagedSet(e, t, n, i, a) {\n    var _this11 = this;\n\n    return _asyncToGenerator(function* () {\n      if (null === _this11._parent) throw new s(r.NotImplemented);\n      return _this11._parent._expandPagedSet(e, t, n, i, a);\n    })();\n  }\n\n  _expandPagedSetFeatureSet(e, t, s, r, n) {\n    var _this12 = this;\n\n    return _asyncToGenerator(function* () {\n      if (e._known.length > 0 && \"GETPAGES\" === e._known[e._known.length - 1] && (r = 1), 0 === r && e._candidates.length > 0 && \"GETPAGES\" === e._candidates[e._candidates.length - 1] && (r = 2), 0 === r) return \"finished\";\n      const i = yield _this12._getPage(e, r, n);\n      return s + i < t ? _this12._expandPagedSet(e, t, s + i, 0, n) : \"success\";\n    })();\n  }\n\n  _getPage(e, t, s) {\n    var _this13 = this;\n\n    return _asyncToGenerator(function* () {\n      const r = 1 === t ? e._known : e._candidates;\n\n      if (e.pagesDefinition.internal.set.length > e.pagesDefinition.resultOffset || !0 === e.pagesDefinition.internal.fullyResolved) {\n        r.length = r.length - 1;\n        let t = 0;\n\n        for (let n = 0; n < e.pagesDefinition.resultRecordCount && !(e.pagesDefinition.resultOffset + n >= e.pagesDefinition.internal.set.length); n++) r[r.length] = e.pagesDefinition.internal.set[e.pagesDefinition.resultOffset + n], t++;\n\n        e.pagesDefinition.resultOffset += t;\n        let s = !1;\n        return !0 === e.pagesDefinition.internal.fullyResolved && e.pagesDefinition.internal.set.length <= e.pagesDefinition.resultOffset && (s = !0), !1 === s && r.push(\"GETPAGES\"), t;\n      }\n\n      return yield _this13._getPhysicalPage(e, t, s), _this13._getPage(e, t, s);\n    })();\n  }\n\n  _getPhysicalPage(e, t, s) {\n    return null;\n  }\n\n  _clonePageDefinition(e) {\n    return null === this._parent ? null : this._parent._clonePageDefinition(e);\n  }\n\n  _first(e) {\n    return this.iterator(e).next();\n  }\n\n  first(e) {\n    return this._first(e);\n  }\n\n  calculateStatistic(e, t, s, r) {\n    var _this14 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this14._ensureLoaded();\n      let n = yield _this14._stat(e, t, \"\", null, null, s, r);\n      return !1 === n.calculated && (n = yield _this14._manualStat(e, t, s, r)), n.result;\n    })();\n  }\n\n  _manualStat(e, t, s, r) {\n    var _this15 = this;\n\n    return _asyncToGenerator(function* () {\n      let n = null;\n\n      switch (e.toLowerCase()) {\n        case \"count\":\n          return n = yield b(_this15, r), {\n            calculated: !0,\n            result: n\n          };\n\n        case \"distinct\":\n          return n = yield F(_this15, t, s, r), {\n            calculated: !0,\n            result: n\n          };\n\n        case \"avg\":\n        case \"mean\":\n          return n = yield y(_this15, t, r), {\n            calculated: !0,\n            result: n\n          };\n\n        case \"stdev\":\n          return n = yield m(_this15, t, r), {\n            calculated: !0,\n            result: n\n          };\n\n        case \"variance\":\n          return n = yield g(_this15, t, r), {\n            calculated: !0,\n            result: n\n          };\n\n        case \"sum\":\n          return n = yield f(_this15, t, r), {\n            calculated: !0,\n            result: n\n          };\n\n        case \"min\":\n          return n = yield p(_this15, t, r), {\n            calculated: !0,\n            result: n\n          };\n\n        case \"max\":\n          return n = yield _(_this15, t, r), {\n            calculated: !0,\n            result: n\n          };\n\n        default:\n          return {\n            calculated: !0,\n            result: 0\n          };\n      }\n    })();\n  }\n\n  _stat(e, t, s, r, n, i, a) {\n    var _this16 = this;\n\n    return _asyncToGenerator(function* () {\n      const l = yield _this16._parent._stat(e, t, s, r, n, i, a);\n      return !1 === l.calculated ? null === n && \"\" === s && null === r ? _this16._manualStat(e, t, i, a) : {\n        calculated: !1\n      } : l;\n    })();\n  }\n\n  _unionAllGeomSelf(e) {\n    const t = this.iterator(this._defaultTracker(e)),\n          s = [];\n    return new Promise((e, r) => {\n      this._unionShapeInBatches(s, t, e, r);\n    });\n  }\n\n  _unionAllGeom(e) {\n    return new Promise((t, s) => {\n      const r = this.iterator(this._defaultTracker(e)),\n            n = [];\n\n      this._unionShapeInBatches(n, r, t, s);\n    });\n  }\n\n  _unionShapeInBatches(e, t, s, r) {\n    t.next().then(n => {\n      try {\n        null !== n && null !== n.geometry && e.push(n.geometry), e.length > 30 || null === n && e.length > 1 ? S(e).then(i => {\n          try {\n            null === n ? s(i) : (e = [i], this._unionShapeInBatches(e, t, s, r));\n          } catch (a) {\n            r(a);\n          }\n        }, r) : null === n ? 1 === e.length ? s(e[0]) : s(null) : this._unionShapeInBatches(e, t, s, r);\n      } catch (i) {\n        r(i);\n      }\n    }, r);\n  }\n\n  iterator(e) {\n    return new n(this, e);\n  }\n\n  intersection(e, t = !1) {\n    return v._featuresetFunctions.intersection.bind(this)(e, t);\n  }\n\n  difference(e, t = !1, s = !0) {\n    return v._featuresetFunctions.difference.bind(this)(e, t, s);\n  }\n\n  symmetricDifference(e, t = !1, s = !0) {\n    return v._featuresetFunctions.symmetricDifference.bind(this)(e, t, s);\n  }\n\n  morphShape(e, t, s = \"unknown\", r = null) {\n    return v._featuresetFunctions.morphShape.bind(this)(e, t, s, r);\n  }\n\n  morphShapeAndAttributes(e, t, s = \"unknown\") {\n    return v._featuresetFunctions.morphShapeAndAttributes.bind(this)(e, t, s);\n  }\n\n  union(e, t = !1) {\n    return v._featuresetFunctions.union.bind(this)(e, t);\n  }\n\n  intersects(e) {\n    return v._featuresetFunctions.intersects.bind(this)(e);\n  }\n\n  envelopeIntersects(e) {\n    return v._featuresetFunctions.envelopeIntersects.bind(this)(e);\n  }\n\n  contains(e) {\n    return v._featuresetFunctions.contains.bind(this)(e);\n  }\n\n  overlaps(e) {\n    return v._featuresetFunctions.overlaps.bind(this)(e);\n  }\n\n  relate(e, t) {\n    return v._featuresetFunctions.relate.bind(this)(e, t);\n  }\n\n  within(e) {\n    return v._featuresetFunctions.within.bind(this)(e);\n  }\n\n  touches(e) {\n    return v._featuresetFunctions.touches.bind(this)(e);\n  }\n\n  top(e) {\n    return v._featuresetFunctions.top.bind(this)(e);\n  }\n\n  crosses(e) {\n    return v._featuresetFunctions.crosses.bind(this)(e);\n  }\n\n  buffer(e, t, s, r = !0) {\n    return v._featuresetFunctions.buffer.bind(this)(e, t, s, r);\n  }\n\n  filter(e, t = null) {\n    return v._featuresetFunctions.filter.bind(this)(e, t);\n  }\n\n  orderBy(e) {\n    return v._featuresetFunctions.orderBy.bind(this)(e);\n  }\n\n  dissolve(e, t) {\n    return v._featuresetFunctions.dissolve.bind(this)(e, t);\n  }\n\n  groupby(e, t) {\n    return v._featuresetFunctions.groupby.bind(this)(e, t);\n  }\n\n  reduce(e, t = null, s) {\n    return new Promise((r, n) => {\n      this._reduceImpl(this.iterator(this._defaultTracker(s)), e, t, 0, r, n, 0);\n    });\n  }\n\n  _reduceImpl(e, t, s, r, n, i, a) {\n    try {\n      if (++a > 1e3) return void setTimeout(() => {\n        a = 0, this._reduceImpl(e, t, s, r, n, i, a);\n      });\n      e.next().then(l => {\n        try {\n          if (null === l) n(s);else {\n            const u = t(s, l, r, this);\n            I(u) ? u.then(s => {\n              this._reduceImpl(e, t, s, r + 1, n, i, a);\n            }, i) : this._reduceImpl(e, t, u, r + 1, n, i, a);\n          }\n        } catch (u) {\n          i(u);\n        }\n      }, i);\n    } catch (l) {\n      i(l);\n    }\n  }\n\n  removeField(e) {\n    return v._featuresetFunctions.removeField.bind(this)(e);\n  }\n\n  addField(e, t, s = null) {\n    return v._featuresetFunctions.addField.bind(this)(e, t, s);\n  }\n\n  sumArea(e, t = !1, s) {\n    const r = h(e);\n    return this.reduce((e, s) => null === s.geometry ? 0 : t ? T(s.geometry, r).then(t => e + t) : P(s.geometry, r).then(t => e + t), 0, s);\n  }\n\n  sumLength(e, t = !1, s) {\n    const r = c(e);\n    return this.reduce((e, s) => null === s.geometry ? 0 : t ? x(s.geometry, r).then(t => e + t) : k(s.geometry, r).then(t => e + t), 0, s);\n  }\n\n  _substituteVars(e, t) {\n    if (null !== t) {\n      const s = {};\n\n      for (const e in t) s[e.toLowerCase()] = t[e];\n\n      e.parameters = s;\n    }\n  }\n\n  distinct(e, t = 1e3, s = null, r) {\n    var _this17 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this17.load();\n      const n = w.create(e, _this17.getFieldsIndex());\n      return _this17._substituteVars(n, s), _this17.calculateStatistic(\"distinct\", n, t, _this17._defaultTracker(r));\n    })();\n  }\n\n  min(e, t = null, s) {\n    var _this18 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this18.load();\n      const r = w.create(e, _this18.getFieldsIndex());\n      return _this18._substituteVars(r, t), _this18.calculateStatistic(\"min\", r, -1, _this18._defaultTracker(s));\n    })();\n  }\n\n  max(e, t = null, s) {\n    var _this19 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this19.load();\n      const r = w.create(e, _this19.getFieldsIndex());\n      return _this19._substituteVars(r, t), _this19.calculateStatistic(\"max\", r, -1, _this19._defaultTracker(s));\n    })();\n  }\n\n  avg(e, t = null, s) {\n    var _this20 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this20.load();\n      const r = w.create(e, _this20.getFieldsIndex());\n      return _this20._substituteVars(r, t), _this20.calculateStatistic(\"avg\", r, -1, _this20._defaultTracker(s));\n    })();\n  }\n\n  sum(e, t = null, s) {\n    var _this21 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this21.load();\n      const r = w.create(e, _this21.getFieldsIndex());\n      return _this21._substituteVars(r, t), _this21.calculateStatistic(\"sum\", r, -1, _this21._defaultTracker(s));\n    })();\n  }\n\n  stdev(e, t = null, s) {\n    var _this22 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this22.load();\n      const r = w.create(e, _this22.getFieldsIndex());\n      return _this22._substituteVars(r, t), _this22.calculateStatistic(\"stdev\", r, -1, _this22._defaultTracker(s));\n    })();\n  }\n\n  variance(e, t = null, s) {\n    var _this23 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this23.load();\n      const r = w.create(e, _this23.getFieldsIndex());\n      return _this23._substituteVars(r, t), _this23.calculateStatistic(\"variance\", r, -1, _this23._defaultTracker(s));\n    })();\n  }\n\n  count(e) {\n    var _this24 = this;\n\n    return _asyncToGenerator(function* () {\n      return yield _this24.load(), _this24.calculateStatistic(\"count\", w.create(\"1\", _this24.getFieldsIndex()), -1, _this24._defaultTracker(e));\n    })();\n  }\n\n  _defaultTracker(e) {\n    return e || {\n      aborted: !1\n    };\n  }\n\n  forEach(e, t) {\n    return new Promise((s, r) => {\n      this._forEachImpl(this.iterator(this._defaultTracker(t)), e, this, s, r, 0);\n    });\n  }\n\n  _forEachImpl(e, t, s, r, n, i) {\n    try {\n      if (++i > 1e3) return void setTimeout(() => {\n        i = 0, this._forEachImpl(e, t, s, r, n, i);\n      }, 0);\n      e.next().then(a => {\n        try {\n          if (null === a) r(s);else {\n            const l = t(a);\n            null == l ? this._forEachImpl(e, t, s, r, n, i) : I(l) ? l.then(() => {\n              try {\n                this._forEachImpl(e, t, s, r, n, i);\n              } catch (a) {\n                n(a);\n              }\n            }, n) : this._forEachImpl(e, t, s, r, n, i);\n          }\n        } catch (l) {\n          n(l);\n        }\n      }, n);\n    } catch (a) {\n      n(a);\n    }\n  }\n\n  convertToJSON(e) {\n    const t = {\n      layerDefinition: {\n        geometryType: this.geometryType,\n        fields: []\n      },\n      featureSet: {\n        features: [],\n        geometryType: this.geometryType\n      }\n    };\n\n    for (let s = 0; s < this.fields.length; s++) t.layerDefinition.fields.push(o(this.fields[s]));\n\n    return this.reduce((e, s) => {\n      const r = {\n        geometry: s.geometry && s.geometry.toJSON(),\n        attributes: {}\n      };\n\n      for (const t in s.attributes) r.attributes[t] = s.attributes[t];\n\n      return t.featureSet.features.push(r), 1;\n    }, 0, e).then(() => t);\n  }\n\n  castToText(e = !1) {\n    return \"object, FeatureSet\";\n  }\n\n  queryAttachments(e, t, s, r, n) {\n    return this._parent.queryAttachments(e, t, s, r, n);\n  }\n\n  serviceUrl() {\n    return this._parent.serviceUrl();\n  }\n\n  subtypes() {\n    return this.typeIdField ? {\n      subtypeField: this.typeIdField,\n      subtypes: this.types ? this.types.map(e => ({\n        name: e.name,\n        code: e.id\n      })) : []\n    } : null;\n  }\n\n  relationshipMetaData() {\n    return this._parent.relationshipMetaData();\n  }\n\n  get gdbVersion() {\n    return this._parent ? this._parent.gdbVersion : \"\";\n  }\n\n  schema() {\n    const e = [];\n\n    for (const t of this.fields) e.push(o(t));\n\n    return {\n      objectIdField: this.objectIdField,\n      globalIdField: this.globalIdField,\n      geometryType: void 0 === d[this.geometryType] ? \"esriGeometryNull\" : d[this.geometryType],\n      fields: e\n    };\n  }\n\n  convertToText(e, t) {\n    var _this25 = this;\n\n    return _asyncToGenerator(function* () {\n      if (\"schema\" === e) return yield _this25._ensureLoaded(), JSON.stringify(_this25.schema());\n\n      if (\"featureset\" === e) {\n        yield _this25._ensureLoaded();\n        const e = [];\n        yield _this25.reduce((t, s) => {\n          const r = {\n            geometry: s.geometry ? s.geometry.toJSON() : null,\n            attributes: s.attributes\n          };\n          return null !== r.geometry && r.geometry.spatialReference && delete r.geometry.spatialReference, e.push(r), 1;\n        }, 0, t);\n\n        const s = _this25.schema();\n\n        return s.features = e, s.spatialReference = _this25.spatialReference.toJSON(), JSON.stringify(s);\n      }\n\n      return _this25.castToText();\n    })();\n  }\n\n  getFeatureByObjectId(e, t) {\n    return this._parent.getFeatureByObjectId(e, t);\n  }\n\n  getOwningSystemUrl() {\n    return this._parent.getOwningSystemUrl();\n  }\n\n  getIdentityUser() {\n    return this._parent.getIdentityUser();\n  }\n\n  getRootFeatureSet() {\n    return null !== this._parent ? this._parent.getRootFeatureSet() : this;\n  }\n\n  getDataSourceFeatureSet() {\n    return null !== this._parent ? this._parent.getDataSourceFeatureSet() : this;\n  }\n\n  castAsJson(e = null) {\n    return \"keeptype\" === e?.featureset ? this : \"none\" === e?.featureset ? null : {\n      type: \"FeatureSet\"\n    };\n  }\n\n  castAsJsonAsync(e = null, t = null) {\n    var _this26 = this;\n\n    return _asyncToGenerator(function* () {\n      if (\"keeptype\" === t?.featureset) return _this26;\n      if (\"schema\" === t?.featureset) return yield _this26._ensureLoaded(), JSON.parse(JSON.stringify(_this26.schema()));\n      if (\"none\" === t?.featureset) return null;\n      yield _this26._ensureLoaded();\n      const s = [];\n      yield _this26.reduce((e, r) => {\n        const n = {\n          geometry: r.geometry ? !0 === t?.keepGeometryType ? r.geometry : r.geometry.toJSON() : null,\n          attributes: r.attributes\n        };\n        return null !== n.geometry && n.geometry.spatialReference && !0 !== t?.keepGeometryType && delete n.geometry.spatialReference, s.push(n), 1;\n      }, 0, e);\n\n      const r = _this26.schema();\n\n      return r.features = s, r.spatialReference = !0 === t?.keepGeometryType ? _this26.spatialReference : _this26.spatialReference?.toJSON(), r;\n    })();\n  }\n\n  get dateTimeReferenceFieldIndex() {\n    return null === this._dateFieldIndex && (this._dateFieldIndex = e.create(this.getFieldsIndex(), this)), this._dateFieldIndex;\n  }\n\n  fieldTimeZone(e) {\n    return this.dateTimeReferenceFieldIndex.fieldTimeZone(e);\n  }\n\n  get preferredTimeReference() {\n    return this._parent?.preferredTimeReference ?? null;\n  }\n\n  get dateFieldsTimeReference() {\n    return this._parent?.dateFieldsTimeReference ?? null;\n  }\n\n  get datesInUnknownTimezone() {\n    return this._parent.datesInUnknownTimezone;\n  }\n\n  get editFieldsInfo() {\n    return this._parent?.editFieldsInfo ?? null;\n  }\n\n  get timeInfo() {\n    return this._parent?.timeInfo ?? null;\n  }\n\n}\n\nv._featuresetFunctions = {};\nexport { v as default };","map":{"version":3,"names":["DateTimeReferenceFieldIndex","e","t","FeatureSetError","s","FeatureSetErrorCodes","r","n","i","FeatureServiceDatabaseType","a","layerGeometryEsriConstants","l","IdState","u","convertSquareUnitsToCode","h","convertLinearUnitsToCode","c","esriFieldToJson","o","layerGeometryEsriRestConstants","d","max","_","min","p","sum","f","variance","g","stdev","m","mean","y","distinct","F","count","b","isPromiseLike","I","WhereClause","w","union","S","geodesicArea","T","planarArea","P","geodesicLength","x","planarLength","k","D","C","v","constructor","recentlyUsedQueries","featureSetQueryInterceptor","_idstates","_parent","_wset","_mainSetInUse","_maxProcessing","_maxQuery","_totalCount","_databaseType","NotEvaluated","_databaseTypeProbed","declaredRootClass","_featureCache","typeIdField","types","fields","geometryType","objectIdField","globalIdField","spatialReference","hasM","hasZ","_transparent","loaded","_loadPromise","_fieldsIndex","_dateFieldIndex","lrucache","interceptor","optimisePagingFeatureQueries","_hasMemorySource","prop","end","_ensureLoaded","load","loadImpl","_initialiseFeatureSet","slice","wkid","point","getField","toLowerCase","some","name","getFieldsIndex","_maxProcessingRate","Math","_maxQueryRate","_checkCancelled","aborted","Cancelled","nativeCapabilities","_canDoAggregates","_getAggregatePagesDataSourceDefinition","NeverReach","_getAgregagtePhysicalPage","databaseType","applicationCache","getDatabaseType","_cacheableFeatureSetSourceKey","_getDatabaseTypeImpl","setDatabaseType","clearDatabaseType","thetype","SqlServer","testwhere","Oracle","StandardisedNoInterval","_runDatabaseProbe","NotImplemented","isTable","_featureFromCache","_isInFeatureSet","Unknown","_getSet","_getFeature","_getFeatures","MissingFeatures","_getFeatureBatch","length","push","_getFilteredSet","_refineSetBlock","_checkIfNeedToExpandCandidatePage","_expandPagedSet","_candidates","_refineKnowns","_refineIfParentKnown","_prepareFetchAndRefineSet","_fetchAndRefineFeatures","_isPhysicalFeature","_candidateIdTransform","InFeatureSet","_known","includes","start","NotInFeatureSet","_ordered","splice","_checkIfNeedToExpandKnownPage","pagesDefinition","_lastFetchedIndex","_expandPagedSetFeatureSet","_getPage","internal","set","resultOffset","fullyResolved","resultRecordCount","_getPhysicalPage","_clonePageDefinition","_first","iterator","next","first","calculateStatistic","_stat","calculated","_manualStat","result","_unionAllGeomSelf","_defaultTracker","Promise","_unionShapeInBatches","_unionAllGeom","then","geometry","intersection","_featuresetFunctions","bind","difference","symmetricDifference","morphShape","morphShapeAndAttributes","intersects","envelopeIntersects","contains","overlaps","relate","within","touches","top","crosses","buffer","filter","orderBy","dissolve","groupby","reduce","_reduceImpl","setTimeout","removeField","addField","sumArea","sumLength","_substituteVars","parameters","create","avg","forEach","_forEachImpl","convertToJSON","layerDefinition","featureSet","features","toJSON","attributes","castToText","queryAttachments","serviceUrl","subtypes","subtypeField","map","code","id","relationshipMetaData","gdbVersion","schema","convertToText","JSON","stringify","getFeatureByObjectId","getOwningSystemUrl","getIdentityUser","getRootFeatureSet","getDataSourceFeatureSet","castAsJson","featureset","type","castAsJsonAsync","parse","keepGeometryType","dateTimeReferenceFieldIndex","fieldTimeZone","preferredTimeReference","dateFieldsTimeReference","datesInUnknownTimezone","editFieldsInfo","timeInfo","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/arcade/featureset/support/FeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{DateTimeReferenceFieldIndex as e}from\"../../arcadeTimeUtils.js\";import t from\"./cache.js\";import{FeatureSetError as s,FeatureSetErrorCodes as r}from\"./errorsupport.js\";import n from\"./FeatureSetIterator.js\";import i from\"./IdSet.js\";import{FeatureServiceDatabaseType as a,layerGeometryEsriConstants as l,IdState as u,convertSquareUnitsToCode as h,convertLinearUnitsToCode as c,esriFieldToJson as o,layerGeometryEsriRestConstants as d}from\"./shared.js\";import{max as _,min as p,sum as f,variance as g,stdev as m,mean as y,distinct as F,count as b}from\"./stats.js\";import{isPromiseLike as I}from\"../../../core/promiseUtils.js\";import{WhereClause as w}from\"../../../core/sql/WhereClause.js\";import{union as S,geodesicArea as T,planarArea as P,geodesicLength as x,planarLength as k}from\"../../../geometry/geometryEngineAsync.js\";import D from\"../../../geometry/SpatialReference.js\";import C from\"../../../layers/support/FieldsIndex.js\";class v{constructor(e){this.recentlyUsedQueries=null,this.featureSetQueryInterceptor=null,this._idstates=[],this._parent=null,this._wset=null,this._mainSetInUse=null,this._maxProcessing=200,this._maxQuery=500,this._totalCount=-1,this._databaseType=a.NotEvaluated,this._databaseTypeProbed=null,this.declaredRootClass=\"esri.arcade.featureset.support.FeatureSet\",this._featureCache=[],this.typeIdField=null,this.types=null,this.fields=null,this.geometryType=\"\",this.objectIdField=\"\",this.globalIdField=\"\",this.spatialReference=null,this.hasM=!1,this.hasZ=!1,this._transparent=!1,this.loaded=!1,this._loadPromise=null,this._fieldsIndex=null,this._dateFieldIndex=null,e&&e.lrucache&&(this.recentlyUsedQueries=e.lrucache),e&&e.interceptor&&(this.featureSetQueryInterceptor=e.interceptor)}optimisePagingFeatureQueries(e){this._parent&&this._parent.optimisePagingFeatureQueries(e)}_hasMemorySource(){return!0}prop(e,t){return void 0===t?this[e]:(void 0!==this[e]&&(this[e]=t),this)}end(){return null!==this._parent&&!0===this._parent._transparent?this._parent.end():this._parent}_ensureLoaded(){return this.load()}load(){return null===this._loadPromise&&(this._loadPromise=this.loadImpl()),this._loadPromise}async loadImpl(){return!0===this._parent?.loaded?(this._initialiseFeatureSet(),this):(await(this._parent?.load()),this._initialiseFeatureSet(),this)}_initialiseFeatureSet(){null!==this._parent?(this.fields=this._parent.fields.slice(0),this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types):(this.fields=[],this.typeIdField=\"\",this.objectIdField=\"\",this.globalIdField=\"\",this.spatialReference=new D({wkid:4326}),this.geometryType=l.point)}getField(e,t){let s;return(t=t||this.fields)&&(e=e.toLowerCase(),t.some((t=>(t&&t.name.toLowerCase()===e&&(s=t),!!s)))),s}getFieldsIndex(){return null===this._fieldsIndex&&(this._fieldsIndex=new C(this.fields)),this._fieldsIndex}_maxProcessingRate(){return null!==this._parent?Math.min(this._maxProcessing,this._parent._maxProcessingRate()):Math.min(this._maxProcessing,this._maxQueryRate())}_maxQueryRate(){return null!==this._parent?Math.max(this._maxQuery,this._parent._maxQueryRate()):this._maxQuery}_checkCancelled(e){if(null!=e&&e.aborted)throw new s(r.Cancelled)}nativeCapabilities(){return this._parent.nativeCapabilities()}async _canDoAggregates(e,t,s,r,n){return null!==this._parent&&this._parent._canDoAggregates(e,t,s,r,n)}async _getAggregatePagesDataSourceDefinition(e,t,n,i,a,l,u){if(null===this._parent)throw new s(r.NeverReach);return this._parent._getAggregatePagesDataSourceDefinition(e,t,n,i,a,l,u)}async _getAgregagtePhysicalPage(e,t,n){if(null===this._parent)throw new s(r.NeverReach);return this._parent._getAgregagtePhysicalPage(e,t,n)}async databaseType(){if(this._databaseType===a.NotEvaluated){if(null!==t.applicationCache){const e=t.applicationCache.getDatabaseType(this._cacheableFeatureSetSourceKey());if(null!==e)return e}if(null!==this._databaseTypeProbed)return this._databaseTypeProbed;try{this._databaseTypeProbed=this._getDatabaseTypeImpl(),null!==t.applicationCache&&t.applicationCache.setDatabaseType(this._cacheableFeatureSetSourceKey(),this._databaseTypeProbed)}catch(e){throw null!==t.applicationCache&&t.applicationCache.clearDatabaseType(this._cacheableFeatureSetSourceKey()),e}return this._databaseTypeProbed}return this._databaseType}async _getDatabaseTypeImpl(){const e=[{thetype:a.SqlServer,testwhere:\"(CAST( '2015-01-01' as DATETIME) = CAST( '2015-01-01' as DATETIME)) AND OBJECTID<0\"},{thetype:a.Oracle,testwhere:\"(TO_DATE('2003-11-18','YYYY-MM-DD') = TO_DATE('2003-11-18','YYYY-MM-DD')) AND OBJECTID<0\"},{thetype:a.StandardisedNoInterval,testwhere:\"(date '2015-01-01 10:10:10' = date '2015-01-01 10:10:10') AND OBJECTID<0\"}];for(const t of e){if(!0===await this._runDatabaseProbe(t.testwhere))return t.thetype}return a.StandardisedNoInterval}_cacheableFeatureSetSourceKey(){return\"MUSTBESET\"}async _runDatabaseProbe(e){if(null!==this._parent)return this._parent._runDatabaseProbe(e);throw new s(r.NotImplemented)}isTable(){return this._parent?.isTable()??!1}_featureFromCache(e){if(void 0!==this._featureCache[e])return this._featureCache[e]}_isInFeatureSet(e){return u.Unknown}_getSet(e){throw new s(r.NotImplemented)}async _getFeature(e,t,n){if(this._checkCancelled(n),void 0!==this._featureFromCache(t))return this._featureFromCache(t);if(await this._getFeatures(e,t,this._maxProcessingRate(),n),this._checkCancelled(n),void 0!==this._featureFromCache(t))return this._featureFromCache(t);throw new s(r.MissingFeatures)}async _getFeatureBatch(e,t){this._checkCancelled(t);const s=new i([],e,!1,null),r=[];await this._getFeatures(s,-1,e.length,t),this._checkCancelled(t);for(const n of e)void 0!==this._featureFromCache(n)&&r.push(this._featureFromCache(n));return r}async _getFeatures(e,t,s,r){return\"success\"}_getFilteredSet(e,t,n,i,a){throw new s(r.NotImplemented)}async _refineSetBlock(e,t,s){if(!0===this._checkIfNeedToExpandCandidatePage(e,this._maxQueryRate()))return await this._expandPagedSet(e,this._maxQueryRate(),0,0,s),this._refineSetBlock(e,t,s);this._checkCancelled(s);const r=e._candidates.length;this._refineKnowns(e,t);let n=r-e._candidates.length;if(0===e._candidates.length)return e;if(n>=t)return e;if(await this._refineIfParentKnown(e,t-n,s),this._checkCancelled(s),this._refineKnowns(e,t-n),n=r-e._candidates.length,n<t&&e._candidates.length>0){const r=t-n,i=this._prepareFetchAndRefineSet(e._candidates);return await this._fetchAndRefineFeatures(i,i.length>r?r:e._candidates.length,s),this._checkCancelled(s),this._refineKnowns(e,t-n),e}return e}_fetchAndRefineFeatures(e,t,s){return null}_prepareFetchAndRefineSet(e){const t=[];for(let s=0;s<e.length;s++)this._isPhysicalFeature(e[s])&&t.push(e[s]);return t}_isPhysicalFeature(e){return null===this._parent||this._parent._isPhysicalFeature(e)}_refineKnowns(e,t){let s=0,r=null;const n=[];t=this._maxQueryRate();for(let i=0;i<e._candidates.length&&\"GETPAGES\"!==e._candidates[i];i++){let a=!1;const l=this._candidateIdTransform(e._candidates[i]);l!==e._candidates[i]&&(a=!0);const h=this._isInFeatureSet(l);if(h===u.InFeatureSet)!0===a?e._known.includes(l)||(e._known.push(l),s+=1):(e._known.push(e._candidates[i]),s+=1),null===r?r={start:i,end:i}:r.end===i-1?r.end=i:(n.push(r),r={start:i,end:i});else if(h===u.NotInFeatureSet)null===r?r={start:i,end:i}:r.end===i-1?r.end=i:(n.push(r),r={start:i,end:i}),s+=1;else if(h===u.Unknown&&(s+=1,!0===e._ordered))break;if(s>=t)break}null!==r&&n.push(r);for(let i=n.length-1;i>=0;i--)e._candidates.splice(n[i].start,n[i].end-n[i].start+1)}_refineIfParentKnown(e,t,s){const r=new i([],[],e._ordered,null);return r._candidates=e._candidates.slice(0),this._parent._refineSetBlock(r,t,s)}_candidateIdTransform(e){return this._parent._candidateIdTransform(e)}_checkIfNeedToExpandKnownPage(e,t){if(null===e.pagesDefinition)return!1;let s=0;for(let r=e._lastFetchedIndex;r<e._known.length;r++){if(\"GETPAGES\"===e._known[r])return!0;if(void 0===this._featureCache[e._known[r]]&&(s+=1,s>=t))break}return!1}_checkIfNeedToExpandCandidatePage(e,t){if(null===e.pagesDefinition)return!1;let s=0;for(let r=0;r<e._candidates.length;r++){if(\"GETPAGES\"===e._candidates[r])return!0;if(s+=1,s>=t)break}return!1}async _expandPagedSet(e,t,n,i,a){if(null===this._parent)throw new s(r.NotImplemented);return this._parent._expandPagedSet(e,t,n,i,a)}async _expandPagedSetFeatureSet(e,t,s,r,n){if(e._known.length>0&&\"GETPAGES\"===e._known[e._known.length-1]&&(r=1),0===r&&e._candidates.length>0&&\"GETPAGES\"===e._candidates[e._candidates.length-1]&&(r=2),0===r)return\"finished\";const i=await this._getPage(e,r,n);return s+i<t?this._expandPagedSet(e,t,s+i,0,n):\"success\"}async _getPage(e,t,s){const r=1===t?e._known:e._candidates;if(e.pagesDefinition.internal.set.length>e.pagesDefinition.resultOffset||!0===e.pagesDefinition.internal.fullyResolved){r.length=r.length-1;let t=0;for(let n=0;n<e.pagesDefinition.resultRecordCount&&!(e.pagesDefinition.resultOffset+n>=e.pagesDefinition.internal.set.length);n++)r[r.length]=e.pagesDefinition.internal.set[e.pagesDefinition.resultOffset+n],t++;e.pagesDefinition.resultOffset+=t;let s=!1;return!0===e.pagesDefinition.internal.fullyResolved&&e.pagesDefinition.internal.set.length<=e.pagesDefinition.resultOffset&&(s=!0),!1===s&&r.push(\"GETPAGES\"),t}return await this._getPhysicalPage(e,t,s),this._getPage(e,t,s)}_getPhysicalPage(e,t,s){return null}_clonePageDefinition(e){return null===this._parent?null:this._parent._clonePageDefinition(e)}_first(e){return this.iterator(e).next()}first(e){return this._first(e)}async calculateStatistic(e,t,s,r){await this._ensureLoaded();let n=await this._stat(e,t,\"\",null,null,s,r);return!1===n.calculated&&(n=await this._manualStat(e,t,s,r)),n.result}async _manualStat(e,t,s,r){let n=null;switch(e.toLowerCase()){case\"count\":return n=await b(this,r),{calculated:!0,result:n};case\"distinct\":return n=await F(this,t,s,r),{calculated:!0,result:n};case\"avg\":case\"mean\":return n=await y(this,t,r),{calculated:!0,result:n};case\"stdev\":return n=await m(this,t,r),{calculated:!0,result:n};case\"variance\":return n=await g(this,t,r),{calculated:!0,result:n};case\"sum\":return n=await f(this,t,r),{calculated:!0,result:n};case\"min\":return n=await p(this,t,r),{calculated:!0,result:n};case\"max\":return n=await _(this,t,r),{calculated:!0,result:n};default:return{calculated:!0,result:0}}}async _stat(e,t,s,r,n,i,a){const l=await this._parent._stat(e,t,s,r,n,i,a);return!1===l.calculated?null===n&&\"\"===s&&null===r?this._manualStat(e,t,i,a):{calculated:!1}:l}_unionAllGeomSelf(e){const t=this.iterator(this._defaultTracker(e)),s=[];return new Promise(((e,r)=>{this._unionShapeInBatches(s,t,e,r)}))}_unionAllGeom(e){return new Promise(((t,s)=>{const r=this.iterator(this._defaultTracker(e)),n=[];this._unionShapeInBatches(n,r,t,s)}))}_unionShapeInBatches(e,t,s,r){t.next().then((n=>{try{null!==n&&null!==n.geometry&&e.push(n.geometry),e.length>30||null===n&&e.length>1?S(e).then((i=>{try{null===n?s(i):(e=[i],this._unionShapeInBatches(e,t,s,r))}catch(a){r(a)}}),r):null===n?1===e.length?s(e[0]):s(null):this._unionShapeInBatches(e,t,s,r)}catch(i){r(i)}}),r)}iterator(e){return new n(this,e)}intersection(e,t=!1){return v._featuresetFunctions.intersection.bind(this)(e,t)}difference(e,t=!1,s=!0){return v._featuresetFunctions.difference.bind(this)(e,t,s)}symmetricDifference(e,t=!1,s=!0){return v._featuresetFunctions.symmetricDifference.bind(this)(e,t,s)}morphShape(e,t,s=\"unknown\",r=null){return v._featuresetFunctions.morphShape.bind(this)(e,t,s,r)}morphShapeAndAttributes(e,t,s=\"unknown\"){return v._featuresetFunctions.morphShapeAndAttributes.bind(this)(e,t,s)}union(e,t=!1){return v._featuresetFunctions.union.bind(this)(e,t)}intersects(e){return v._featuresetFunctions.intersects.bind(this)(e)}envelopeIntersects(e){return v._featuresetFunctions.envelopeIntersects.bind(this)(e)}contains(e){return v._featuresetFunctions.contains.bind(this)(e)}overlaps(e){return v._featuresetFunctions.overlaps.bind(this)(e)}relate(e,t){return v._featuresetFunctions.relate.bind(this)(e,t)}within(e){return v._featuresetFunctions.within.bind(this)(e)}touches(e){return v._featuresetFunctions.touches.bind(this)(e)}top(e){return v._featuresetFunctions.top.bind(this)(e)}crosses(e){return v._featuresetFunctions.crosses.bind(this)(e)}buffer(e,t,s,r=!0){return v._featuresetFunctions.buffer.bind(this)(e,t,s,r)}filter(e,t=null){return v._featuresetFunctions.filter.bind(this)(e,t)}orderBy(e){return v._featuresetFunctions.orderBy.bind(this)(e)}dissolve(e,t){return v._featuresetFunctions.dissolve.bind(this)(e,t)}groupby(e,t){return v._featuresetFunctions.groupby.bind(this)(e,t)}reduce(e,t=null,s){return new Promise(((r,n)=>{this._reduceImpl(this.iterator(this._defaultTracker(s)),e,t,0,r,n,0)}))}_reduceImpl(e,t,s,r,n,i,a){try{if(++a>1e3)return void setTimeout((()=>{a=0,this._reduceImpl(e,t,s,r,n,i,a)}));e.next().then((l=>{try{if(null===l)n(s);else{const u=t(s,l,r,this);I(u)?u.then((s=>{this._reduceImpl(e,t,s,r+1,n,i,a)}),i):this._reduceImpl(e,t,u,r+1,n,i,a)}}catch(u){i(u)}}),i)}catch(l){i(l)}}removeField(e){return v._featuresetFunctions.removeField.bind(this)(e)}addField(e,t,s=null){return v._featuresetFunctions.addField.bind(this)(e,t,s)}sumArea(e,t=!1,s){const r=h(e);return this.reduce(((e,s)=>null===s.geometry?0:t?T(s.geometry,r).then((t=>e+t)):P(s.geometry,r).then((t=>e+t))),0,s)}sumLength(e,t=!1,s){const r=c(e);return this.reduce(((e,s)=>null===s.geometry?0:t?x(s.geometry,r).then((t=>e+t)):k(s.geometry,r).then((t=>e+t))),0,s)}_substituteVars(e,t){if(null!==t){const s={};for(const e in t)s[e.toLowerCase()]=t[e];e.parameters=s}}async distinct(e,t=1e3,s=null,r){await this.load();const n=w.create(e,this.getFieldsIndex());return this._substituteVars(n,s),this.calculateStatistic(\"distinct\",n,t,this._defaultTracker(r))}async min(e,t=null,s){await this.load();const r=w.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"min\",r,-1,this._defaultTracker(s))}async max(e,t=null,s){await this.load();const r=w.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"max\",r,-1,this._defaultTracker(s))}async avg(e,t=null,s){await this.load();const r=w.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"avg\",r,-1,this._defaultTracker(s))}async sum(e,t=null,s){await this.load();const r=w.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"sum\",r,-1,this._defaultTracker(s))}async stdev(e,t=null,s){await this.load();const r=w.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"stdev\",r,-1,this._defaultTracker(s))}async variance(e,t=null,s){await this.load();const r=w.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"variance\",r,-1,this._defaultTracker(s))}async count(e){return await this.load(),this.calculateStatistic(\"count\",w.create(\"1\",this.getFieldsIndex()),-1,this._defaultTracker(e))}_defaultTracker(e){return e||{aborted:!1}}forEach(e,t){return new Promise(((s,r)=>{this._forEachImpl(this.iterator(this._defaultTracker(t)),e,this,s,r,0)}))}_forEachImpl(e,t,s,r,n,i){try{if(++i>1e3)return void setTimeout((()=>{i=0,this._forEachImpl(e,t,s,r,n,i)}),0);e.next().then((a=>{try{if(null===a)r(s);else{const l=t(a);null==l?this._forEachImpl(e,t,s,r,n,i):I(l)?l.then((()=>{try{this._forEachImpl(e,t,s,r,n,i)}catch(a){n(a)}}),n):this._forEachImpl(e,t,s,r,n,i)}}catch(l){n(l)}}),n)}catch(a){n(a)}}convertToJSON(e){const t={layerDefinition:{geometryType:this.geometryType,fields:[]},featureSet:{features:[],geometryType:this.geometryType}};for(let s=0;s<this.fields.length;s++)t.layerDefinition.fields.push(o(this.fields[s]));return this.reduce(((e,s)=>{const r={geometry:s.geometry&&s.geometry.toJSON(),attributes:{}};for(const t in s.attributes)r.attributes[t]=s.attributes[t];return t.featureSet.features.push(r),1}),0,e).then((()=>t))}castToText(e=!1){return\"object, FeatureSet\"}queryAttachments(e,t,s,r,n){return this._parent.queryAttachments(e,t,s,r,n)}serviceUrl(){return this._parent.serviceUrl()}subtypes(){return this.typeIdField?{subtypeField:this.typeIdField,subtypes:this.types?this.types.map((e=>({name:e.name,code:e.id}))):[]}:null}relationshipMetaData(){return this._parent.relationshipMetaData()}get gdbVersion(){return this._parent?this._parent.gdbVersion:\"\"}schema(){const e=[];for(const t of this.fields)e.push(o(t));return{objectIdField:this.objectIdField,globalIdField:this.globalIdField,geometryType:void 0===d[this.geometryType]?\"esriGeometryNull\":d[this.geometryType],fields:e}}async convertToText(e,t){if(\"schema\"===e)return await this._ensureLoaded(),JSON.stringify(this.schema());if(\"featureset\"===e){await this._ensureLoaded();const e=[];await this.reduce(((t,s)=>{const r={geometry:s.geometry?s.geometry.toJSON():null,attributes:s.attributes};return null!==r.geometry&&r.geometry.spatialReference&&delete r.geometry.spatialReference,e.push(r),1}),0,t);const s=this.schema();return s.features=e,s.spatialReference=this.spatialReference.toJSON(),JSON.stringify(s)}return this.castToText()}getFeatureByObjectId(e,t){return this._parent.getFeatureByObjectId(e,t)}getOwningSystemUrl(){return this._parent.getOwningSystemUrl()}getIdentityUser(){return this._parent.getIdentityUser()}getRootFeatureSet(){return null!==this._parent?this._parent.getRootFeatureSet():this}getDataSourceFeatureSet(){return null!==this._parent?this._parent.getDataSourceFeatureSet():this}castAsJson(e=null){return\"keeptype\"===e?.featureset?this:\"none\"===e?.featureset?null:{type:\"FeatureSet\"}}async castAsJsonAsync(e=null,t=null){if(\"keeptype\"===t?.featureset)return this;if(\"schema\"===t?.featureset)return await this._ensureLoaded(),JSON.parse(JSON.stringify(this.schema()));if(\"none\"===t?.featureset)return null;await this._ensureLoaded();const s=[];await this.reduce(((e,r)=>{const n={geometry:r.geometry?!0===t?.keepGeometryType?r.geometry:r.geometry.toJSON():null,attributes:r.attributes};return null!==n.geometry&&n.geometry.spatialReference&&!0!==t?.keepGeometryType&&delete n.geometry.spatialReference,s.push(n),1}),0,e);const r=this.schema();return r.features=s,r.spatialReference=!0===t?.keepGeometryType?this.spatialReference:this.spatialReference?.toJSON(),r}get dateTimeReferenceFieldIndex(){return null===this._dateFieldIndex&&(this._dateFieldIndex=e.create(this.getFieldsIndex(),this)),this._dateFieldIndex}fieldTimeZone(e){return this.dateTimeReferenceFieldIndex.fieldTimeZone(e)}get preferredTimeReference(){return this._parent?.preferredTimeReference??null}get dateFieldsTimeReference(){return this._parent?.dateFieldsTimeReference??null}get datesInUnknownTimezone(){return this._parent.datesInUnknownTimezone}get editFieldsInfo(){return this._parent?.editFieldsInfo??null}get timeInfo(){return this._parent?.timeInfo??null}}v._featuresetFunctions={};export{v as default};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,SAAOA,2BAA2B,IAAIC,CAAtC,QAA4C,0BAA5C;AAAuE,OAAOC,CAAP,MAAa,YAAb;AAA0B,SAAOC,eAAe,IAAIC,CAA1B,EAA4BC,oBAAoB,IAAIC,CAApD,QAA0D,mBAA1D;AAA8E,OAAOC,CAAP,MAAa,yBAAb;AAAuC,OAAOC,CAAP,MAAa,YAAb;AAA0B,SAAOC,0BAA0B,IAAIC,CAArC,EAAuCC,0BAA0B,IAAIC,CAArE,EAAuEC,OAAO,IAAIC,CAAlF,EAAoFC,wBAAwB,IAAIC,CAAhH,EAAkHC,wBAAwB,IAAIC,CAA9I,EAAgJC,eAAe,IAAIC,CAAnK,EAAqKC,8BAA8B,IAAIC,CAAvM,QAA6M,aAA7M;AAA2N,SAAOC,GAAG,IAAIC,CAAd,EAAgBC,GAAG,IAAIC,CAAvB,EAAyBC,GAAG,IAAIC,CAAhC,EAAkCC,QAAQ,IAAIC,CAA9C,EAAgDC,KAAK,IAAIC,CAAzD,EAA2DC,IAAI,IAAIC,CAAnE,EAAqEC,QAAQ,IAAIC,CAAjF,EAAmFC,KAAK,IAAIC,CAA5F,QAAkG,YAAlG;AAA+G,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,+BAA9B;AAA8D,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,kCAA5B;AAA+D,SAAOC,KAAK,IAAIC,CAAhB,EAAkBC,YAAY,IAAIC,CAAlC,EAAoCC,UAAU,IAAIC,CAAlD,EAAoDC,cAAc,IAAIC,CAAtE,EAAwEC,YAAY,IAAIC,CAAxF,QAA8F,0CAA9F;AAAyI,OAAOC,CAAP,MAAa,uCAAb;AAAqD,OAAOC,CAAP,MAAa,wCAAb;;AAAsD,MAAMC,CAAN,CAAO;EAACC,WAAW,CAACvD,CAAD,EAAG;IAAC,KAAKwD,mBAAL,GAAyB,IAAzB,EAA8B,KAAKC,0BAAL,GAAgC,IAA9D,EAAmE,KAAKC,SAAL,GAAe,EAAlF,EAAqF,KAAKC,OAAL,GAAa,IAAlG,EAAuG,KAAKC,KAAL,GAAW,IAAlH,EAAuH,KAAKC,aAAL,GAAmB,IAA1I,EAA+I,KAAKC,cAAL,GAAoB,GAAnK,EAAuK,KAAKC,SAAL,GAAe,GAAtL,EAA0L,KAAKC,WAAL,GAAiB,CAAC,CAA5M,EAA8M,KAAKC,aAAL,GAAmBxD,CAAC,CAACyD,YAAnO,EAAgP,KAAKC,mBAAL,GAAyB,IAAzQ,EAA8Q,KAAKC,iBAAL,GAAuB,2CAArS,EAAiV,KAAKC,aAAL,GAAmB,EAApW,EAAuW,KAAKC,WAAL,GAAiB,IAAxX,EAA6X,KAAKC,KAAL,GAAW,IAAxY,EAA6Y,KAAKC,MAAL,GAAY,IAAzZ,EAA8Z,KAAKC,YAAL,GAAkB,EAAhb,EAAmb,KAAKC,aAAL,GAAmB,EAAtc,EAAyc,KAAKC,aAAL,GAAmB,EAA5d,EAA+d,KAAKC,gBAAL,GAAsB,IAArf,EAA0f,KAAKC,IAAL,GAAU,CAAC,CAArgB,EAAugB,KAAKC,IAAL,GAAU,CAAC,CAAlhB,EAAohB,KAAKC,YAAL,GAAkB,CAAC,CAAviB,EAAyiB,KAAKC,MAAL,GAAY,CAAC,CAAtjB,EAAwjB,KAAKC,YAAL,GAAkB,IAA1kB,EAA+kB,KAAKC,YAAL,GAAkB,IAAjmB,EAAsmB,KAAKC,eAAL,GAAqB,IAA3nB,EAAgoBnF,CAAC,IAAEA,CAAC,CAACoF,QAAL,KAAgB,KAAK5B,mBAAL,GAAyBxD,CAAC,CAACoF,QAA3C,CAAhoB,EAAqrBpF,CAAC,IAAEA,CAAC,CAACqF,WAAL,KAAmB,KAAK5B,0BAAL,GAAgCzD,CAAC,CAACqF,WAArD,CAArrB;EAAuvB;;EAAAC,4BAA4B,CAACtF,CAAD,EAAG;IAAC,KAAK2D,OAAL,IAAc,KAAKA,OAAL,CAAa2B,4BAAb,CAA0CtF,CAA1C,CAAd;EAA2D;;EAAAuF,gBAAgB,GAAE;IAAC,OAAM,CAAC,CAAP;EAAS;;EAAAC,IAAI,CAACxF,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAO,KAAK,CAAL,KAASA,CAAT,GAAW,KAAKD,CAAL,CAAX,IAAoB,KAAK,CAAL,KAAS,KAAKA,CAAL,CAAT,KAAmB,KAAKA,CAAL,IAAQC,CAA3B,GAA8B,IAAlD,CAAP;EAA+D;;EAAAwF,GAAG,GAAE;IAAC,OAAO,SAAO,KAAK9B,OAAZ,IAAqB,CAAC,CAAD,KAAK,KAAKA,OAAL,CAAaoB,YAAvC,GAAoD,KAAKpB,OAAL,CAAa8B,GAAb,EAApD,GAAuE,KAAK9B,OAAnF;EAA2F;;EAAA+B,aAAa,GAAE;IAAC,OAAO,KAAKC,IAAL,EAAP;EAAmB;;EAAAA,IAAI,GAAE;IAAC,OAAO,SAAO,KAAKV,YAAZ,KAA2B,KAAKA,YAAL,GAAkB,KAAKW,QAAL,EAA7C,GAA8D,KAAKX,YAA1E;EAAuF;;EAAMW,QAAQ,GAAE;IAAA;;IAAA;MAAC,OAAM,CAAC,CAAD,KAAK,KAAI,CAACjC,OAAL,EAAcqB,MAAnB,IAA2B,KAAI,CAACa,qBAAL,IAA6B,KAAxD,KAA+D,MAAM,KAAI,CAAClC,OAAL,EAAcgC,IAAd,EAAN,EAA4B,KAAI,CAACE,qBAAL,EAA5B,EAAyD,KAAxH,CAAN;IAAD;EAAqI;;EAAAA,qBAAqB,GAAE;IAAC,SAAO,KAAKlC,OAAZ,IAAqB,KAAKa,MAAL,GAAY,KAAKb,OAAL,CAAaa,MAAb,CAAoBsB,KAApB,CAA0B,CAA1B,CAAZ,EAAyC,KAAKrB,YAAL,GAAkB,KAAKd,OAAL,CAAac,YAAxE,EAAqF,KAAKC,aAAL,GAAmB,KAAKf,OAAL,CAAae,aAArH,EAAmI,KAAKC,aAAL,GAAmB,KAAKhB,OAAL,CAAagB,aAAnK,EAAiL,KAAKC,gBAAL,GAAsB,KAAKjB,OAAL,CAAaiB,gBAApN,EAAqO,KAAKC,IAAL,GAAU,KAAKlB,OAAL,CAAakB,IAA5P,EAAiQ,KAAKC,IAAL,GAAU,KAAKnB,OAAL,CAAamB,IAAxR,EAA6R,KAAKR,WAAL,GAAiB,KAAKX,OAAL,CAAaW,WAA3T,EAAuU,KAAKC,KAAL,GAAW,KAAKZ,OAAL,CAAaY,KAApX,KAA4X,KAAKC,MAAL,GAAY,EAAZ,EAAe,KAAKF,WAAL,GAAiB,EAAhC,EAAmC,KAAKI,aAAL,GAAmB,EAAtD,EAAyD,KAAKC,aAAL,GAAmB,EAA5E,EAA+E,KAAKC,gBAAL,GAAsB,IAAIxB,CAAJ,CAAM;MAAC2C,IAAI,EAAC;IAAN,CAAN,CAArG,EAAwH,KAAKtB,YAAL,GAAkB9D,CAAC,CAACqF,KAAxgB;EAA+gB;;EAAAC,QAAQ,CAACjG,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAIE,CAAJ;IAAM,OAAM,CAACF,CAAC,GAACA,CAAC,IAAE,KAAKuE,MAAX,MAAqBxE,CAAC,GAACA,CAAC,CAACkG,WAAF,EAAF,EAAkBjG,CAAC,CAACkG,IAAF,CAAQlG,CAAC,KAAGA,CAAC,IAAEA,CAAC,CAACmG,IAAF,CAAOF,WAAP,OAAuBlG,CAA1B,KAA8BG,CAAC,GAACF,CAAhC,GAAmC,CAAC,CAACE,CAAxC,CAAT,CAAvC,GAA8FA,CAApG;EAAsG;;EAAAkG,cAAc,GAAE;IAAC,OAAO,SAAO,KAAKnB,YAAZ,KAA2B,KAAKA,YAAL,GAAkB,IAAI7B,CAAJ,CAAM,KAAKmB,MAAX,CAA7C,GAAiE,KAAKU,YAA7E;EAA0F;;EAAAoB,kBAAkB,GAAE;IAAC,OAAO,SAAO,KAAK3C,OAAZ,GAAoB4C,IAAI,CAAC/E,GAAL,CAAS,KAAKsC,cAAd,EAA6B,KAAKH,OAAL,CAAa2C,kBAAb,EAA7B,CAApB,GAAoFC,IAAI,CAAC/E,GAAL,CAAS,KAAKsC,cAAd,EAA6B,KAAK0C,aAAL,EAA7B,CAA3F;EAA8I;;EAAAA,aAAa,GAAE;IAAC,OAAO,SAAO,KAAK7C,OAAZ,GAAoB4C,IAAI,CAACjF,GAAL,CAAS,KAAKyC,SAAd,EAAwB,KAAKJ,OAAL,CAAa6C,aAAb,EAAxB,CAApB,GAA0E,KAAKzC,SAAtF;EAAgG;;EAAA0C,eAAe,CAACzG,CAAD,EAAG;IAAC,IAAG,QAAMA,CAAN,IAASA,CAAC,CAAC0G,OAAd,EAAsB,MAAM,IAAIvG,CAAJ,CAAME,CAAC,CAACsG,SAAR,CAAN;EAAyB;;EAAAC,kBAAkB,GAAE;IAAC,OAAO,KAAKjD,OAAL,CAAaiD,kBAAb,EAAP;EAAyC;;EAAMC,gBAAgB,CAAC7G,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASC,CAAT,EAAW;IAAA;;IAAA;MAAC,OAAO,SAAO,MAAI,CAACqD,OAAZ,IAAqB,MAAI,CAACA,OAAL,CAAakD,gBAAb,CAA8B7G,CAA9B,EAAgCC,CAAhC,EAAkCE,CAAlC,EAAoCE,CAApC,EAAsCC,CAAtC,CAA5B;IAAD;EAAsE;;EAAMwG,sCAAsC,CAAC9G,CAAD,EAAGC,CAAH,EAAKK,CAAL,EAAOC,CAAP,EAASE,CAAT,EAAWE,CAAX,EAAaE,CAAb,EAAe;IAAA;;IAAA;MAAC,IAAG,SAAO,MAAI,CAAC8C,OAAf,EAAuB,MAAM,IAAIxD,CAAJ,CAAME,CAAC,CAAC0G,UAAR,CAAN;MAA0B,OAAO,MAAI,CAACpD,OAAL,CAAamD,sCAAb,CAAoD9G,CAApD,EAAsDC,CAAtD,EAAwDK,CAAxD,EAA0DC,CAA1D,EAA4DE,CAA5D,EAA8DE,CAA9D,EAAgEE,CAAhE,CAAP;IAAlD;EAA4H;;EAAMmG,yBAAyB,CAAChH,CAAD,EAAGC,CAAH,EAAKK,CAAL,EAAO;IAAA;;IAAA;MAAC,IAAG,SAAO,MAAI,CAACqD,OAAf,EAAuB,MAAM,IAAIxD,CAAJ,CAAME,CAAC,CAAC0G,UAAR,CAAN;MAA0B,OAAO,MAAI,CAACpD,OAAL,CAAaqD,yBAAb,CAAuChH,CAAvC,EAAyCC,CAAzC,EAA2CK,CAA3C,CAAP;IAAlD;EAAuG;;EAAM2G,YAAY,GAAE;IAAA;;IAAA;MAAC,IAAG,MAAI,CAAChD,aAAL,KAAqBxD,CAAC,CAACyD,YAA1B,EAAuC;QAAC,IAAG,SAAOjE,CAAC,CAACiH,gBAAZ,EAA6B;UAAC,MAAMlH,CAAC,GAACC,CAAC,CAACiH,gBAAF,CAAmBC,eAAnB,CAAmC,MAAI,CAACC,6BAAL,EAAnC,CAAR;UAAiF,IAAG,SAAOpH,CAAV,EAAY,OAAOA,CAAP;QAAS;;QAAA,IAAG,SAAO,MAAI,CAACmE,mBAAf,EAAmC,OAAO,MAAI,CAACA,mBAAZ;;QAAgC,IAAG;UAAC,MAAI,CAACA,mBAAL,GAAyB,MAAI,CAACkD,oBAAL,EAAzB,EAAqD,SAAOpH,CAAC,CAACiH,gBAAT,IAA2BjH,CAAC,CAACiH,gBAAF,CAAmBI,eAAnB,CAAmC,MAAI,CAACF,6BAAL,EAAnC,EAAwE,MAAI,CAACjD,mBAA7E,CAAhF;QAAkL,CAAtL,CAAsL,OAAMnE,CAAN,EAAQ;UAAC,MAAM,SAAOC,CAAC,CAACiH,gBAAT,IAA2BjH,CAAC,CAACiH,gBAAF,CAAmBK,iBAAnB,CAAqC,MAAI,CAACH,6BAAL,EAArC,CAA3B,EAAsGpH,CAA5G;QAA8G;;QAAA,OAAO,MAAI,CAACmE,mBAAZ;MAAgC;;MAAA,OAAO,MAAI,CAACF,aAAZ;IAA7jB;EAAulB;;EAAMoD,oBAAoB,GAAE;IAAA;;IAAA;MAAC,MAAMrH,CAAC,GAAC,CAAC;QAACwH,OAAO,EAAC/G,CAAC,CAACgH,SAAX;QAAqBC,SAAS,EAAC;MAA/B,CAAD,EAAsH;QAACF,OAAO,EAAC/G,CAAC,CAACkH,MAAX;QAAkBD,SAAS,EAAC;MAA5B,CAAtH,EAA8O;QAACF,OAAO,EAAC/G,CAAC,CAACmH,sBAAX;QAAkCF,SAAS,EAAC;MAA5C,CAA9O,CAAR;;MAA+W,KAAI,MAAMzH,CAAV,IAAeD,CAAf,EAAiB;QAAC,IAAG,CAAC,CAAD,YAAW,MAAI,CAAC6H,iBAAL,CAAuB5H,CAAC,CAACyH,SAAzB,CAAX,CAAH,EAAkD,OAAOzH,CAAC,CAACuH,OAAT;MAAiB;;MAAA,OAAO/G,CAAC,CAACmH,sBAAT;IAArc;EAAqe;;EAAAR,6BAA6B,GAAE;IAAC,OAAM,WAAN;EAAkB;;EAAMS,iBAAiB,CAAC7H,CAAD,EAAG;IAAA;;IAAA;MAAC,IAAG,SAAO,MAAI,CAAC2D,OAAf,EAAuB,OAAO,MAAI,CAACA,OAAL,CAAakE,iBAAb,CAA+B7H,CAA/B,CAAP;MAAyC,MAAM,IAAIG,CAAJ,CAAME,CAAC,CAACyH,cAAR,CAAN;IAAjE;EAA+F;;EAAAC,OAAO,GAAE;IAAC,OAAO,KAAKpE,OAAL,EAAcoE,OAAd,MAAyB,CAAC,CAAjC;EAAmC;;EAAAC,iBAAiB,CAAChI,CAAD,EAAG;IAAC,IAAG,KAAK,CAAL,KAAS,KAAKqE,aAAL,CAAmBrE,CAAnB,CAAZ,EAAkC,OAAO,KAAKqE,aAAL,CAAmBrE,CAAnB,CAAP;EAA6B;;EAAAiI,eAAe,CAACjI,CAAD,EAAG;IAAC,OAAOa,CAAC,CAACqH,OAAT;EAAiB;;EAAAC,OAAO,CAACnI,CAAD,EAAG;IAAC,MAAM,IAAIG,CAAJ,CAAME,CAAC,CAACyH,cAAR,CAAN;EAA8B;;EAAMM,WAAW,CAACpI,CAAD,EAAGC,CAAH,EAAKK,CAAL,EAAO;IAAA;;IAAA;MAAC,IAAG,MAAI,CAACmG,eAAL,CAAqBnG,CAArB,GAAwB,KAAK,CAAL,KAAS,MAAI,CAAC0H,iBAAL,CAAuB/H,CAAvB,CAApC,EAA8D,OAAO,MAAI,CAAC+H,iBAAL,CAAuB/H,CAAvB,CAAP;MAAiC,IAAG,MAAM,MAAI,CAACoI,YAAL,CAAkBrI,CAAlB,EAAoBC,CAApB,EAAsB,MAAI,CAACqG,kBAAL,EAAtB,EAAgDhG,CAAhD,CAAN,EAAyD,MAAI,CAACmG,eAAL,CAAqBnG,CAArB,CAAzD,EAAiF,KAAK,CAAL,KAAS,MAAI,CAAC0H,iBAAL,CAAuB/H,CAAvB,CAA7F,EAAuH,OAAO,MAAI,CAAC+H,iBAAL,CAAuB/H,CAAvB,CAAP;MAAiC,MAAM,IAAIE,CAAJ,CAAME,CAAC,CAACiI,eAAR,CAAN;IAAxP;EAAuR;;EAAMC,gBAAgB,CAACvI,CAAD,EAAGC,CAAH,EAAK;IAAA;;IAAA;MAAC,MAAI,CAACwG,eAAL,CAAqBxG,CAArB;;MAAwB,MAAME,CAAC,GAAC,IAAII,CAAJ,CAAM,EAAN,EAASP,CAAT,EAAW,CAAC,CAAZ,EAAc,IAAd,CAAR;MAAA,MAA4BK,CAAC,GAAC,EAA9B;MAAiC,MAAM,MAAI,CAACgI,YAAL,CAAkBlI,CAAlB,EAAoB,CAAC,CAArB,EAAuBH,CAAC,CAACwI,MAAzB,EAAgCvI,CAAhC,CAAN,EAAyC,MAAI,CAACwG,eAAL,CAAqBxG,CAArB,CAAzC;;MAAiE,KAAI,MAAMK,CAAV,IAAeN,CAAf,EAAiB,KAAK,CAAL,KAAS,MAAI,CAACgI,iBAAL,CAAuB1H,CAAvB,CAAT,IAAoCD,CAAC,CAACoI,IAAF,CAAO,MAAI,CAACT,iBAAL,CAAuB1H,CAAvB,CAAP,CAApC;;MAAsE,OAAOD,CAAP;IAAlN;EAA2N;;EAAMgI,YAAY,CAACrI,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAAA;MAAC,OAAM,SAAN;IAAD;EAAiB;;EAAAqI,eAAe,CAAC1I,CAAD,EAAGC,CAAH,EAAKK,CAAL,EAAOC,CAAP,EAASE,CAAT,EAAW;IAAC,MAAM,IAAIN,CAAJ,CAAME,CAAC,CAACyH,cAAR,CAAN;EAA8B;;EAAMa,eAAe,CAAC3I,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAO;IAAA;;IAAA;MAAC,IAAG,CAAC,CAAD,KAAK,OAAI,CAACyI,iCAAL,CAAuC5I,CAAvC,EAAyC,OAAI,CAACwG,aAAL,EAAzC,CAAR,EAAuE,OAAO,MAAM,OAAI,CAACqC,eAAL,CAAqB7I,CAArB,EAAuB,OAAI,CAACwG,aAAL,EAAvB,EAA4C,CAA5C,EAA8C,CAA9C,EAAgDrG,CAAhD,CAAN,EAAyD,OAAI,CAACwI,eAAL,CAAqB3I,CAArB,EAAuBC,CAAvB,EAAyBE,CAAzB,CAAhE;;MAA4F,OAAI,CAACsG,eAAL,CAAqBtG,CAArB;;MAAwB,MAAME,CAAC,GAACL,CAAC,CAAC8I,WAAF,CAAcN,MAAtB;;MAA6B,OAAI,CAACO,aAAL,CAAmB/I,CAAnB,EAAqBC,CAArB;;MAAwB,IAAIK,CAAC,GAACD,CAAC,GAACL,CAAC,CAAC8I,WAAF,CAAcN,MAAtB;MAA6B,IAAG,MAAIxI,CAAC,CAAC8I,WAAF,CAAcN,MAArB,EAA4B,OAAOxI,CAAP;MAAS,IAAGM,CAAC,IAAEL,CAAN,EAAQ,OAAOD,CAAP;;MAAS,IAAG,MAAM,OAAI,CAACgJ,oBAAL,CAA0BhJ,CAA1B,EAA4BC,CAAC,GAACK,CAA9B,EAAgCH,CAAhC,CAAN,EAAyC,OAAI,CAACsG,eAAL,CAAqBtG,CAArB,CAAzC,EAAiE,OAAI,CAAC4I,aAAL,CAAmB/I,CAAnB,EAAqBC,CAAC,GAACK,CAAvB,CAAjE,EAA2FA,CAAC,GAACD,CAAC,GAACL,CAAC,CAAC8I,WAAF,CAAcN,MAA7G,EAAoHlI,CAAC,GAACL,CAAF,IAAKD,CAAC,CAAC8I,WAAF,CAAcN,MAAd,GAAqB,CAAjJ,EAAmJ;QAAC,MAAMnI,CAAC,GAACJ,CAAC,GAACK,CAAV;QAAA,MAAYC,CAAC,GAAC,OAAI,CAAC0I,yBAAL,CAA+BjJ,CAAC,CAAC8I,WAAjC,CAAd;;QAA4D,OAAO,MAAM,OAAI,CAACI,uBAAL,CAA6B3I,CAA7B,EAA+BA,CAAC,CAACiI,MAAF,GAASnI,CAAT,GAAWA,CAAX,GAAaL,CAAC,CAAC8I,WAAF,CAAcN,MAA1D,EAAiErI,CAAjE,CAAN,EAA0E,OAAI,CAACsG,eAAL,CAAqBtG,CAArB,CAA1E,EAAkG,OAAI,CAAC4I,aAAL,CAAmB/I,CAAnB,EAAqBC,CAAC,GAACK,CAAvB,CAAlG,EAA4HN,CAAnI;MAAqI;;MAAA,OAAOA,CAAP;IAAzpB;EAAkqB;;EAAAkJ,uBAAuB,CAAClJ,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAO;IAAC,OAAO,IAAP;EAAY;;EAAA8I,yBAAyB,CAACjJ,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,EAAR;;IAAW,KAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,CAAC,CAACwI,MAAhB,EAAuBrI,CAAC,EAAxB,EAA2B,KAAKgJ,kBAAL,CAAwBnJ,CAAC,CAACG,CAAD,CAAzB,KAA+BF,CAAC,CAACwI,IAAF,CAAOzI,CAAC,CAACG,CAAD,CAAR,CAA/B;;IAA4C,OAAOF,CAAP;EAAS;;EAAAkJ,kBAAkB,CAACnJ,CAAD,EAAG;IAAC,OAAO,SAAO,KAAK2D,OAAZ,IAAqB,KAAKA,OAAL,CAAawF,kBAAb,CAAgCnJ,CAAhC,CAA5B;EAA+D;;EAAA+I,aAAa,CAAC/I,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAIE,CAAC,GAAC,CAAN;IAAA,IAAQE,CAAC,GAAC,IAAV;IAAe,MAAMC,CAAC,GAAC,EAAR;IAAWL,CAAC,GAAC,KAAKuG,aAAL,EAAF;;IAAuB,KAAI,IAAIjG,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACP,CAAC,CAAC8I,WAAF,CAAcN,MAAhB,IAAwB,eAAaxI,CAAC,CAAC8I,WAAF,CAAcvI,CAAd,CAAjD,EAAkEA,CAAC,EAAnE,EAAsE;MAAC,IAAIE,CAAC,GAAC,CAAC,CAAP;;MAAS,MAAME,CAAC,GAAC,KAAKyI,qBAAL,CAA2BpJ,CAAC,CAAC8I,WAAF,CAAcvI,CAAd,CAA3B,CAAR;;MAAqDI,CAAC,KAAGX,CAAC,CAAC8I,WAAF,CAAcvI,CAAd,CAAJ,KAAuBE,CAAC,GAAC,CAAC,CAA1B;;MAA6B,MAAMM,CAAC,GAAC,KAAKkH,eAAL,CAAqBtH,CAArB,CAAR;;MAAgC,IAAGI,CAAC,KAAGF,CAAC,CAACwI,YAAT,EAAsB,CAAC,CAAD,KAAK5I,CAAL,GAAOT,CAAC,CAACsJ,MAAF,CAASC,QAAT,CAAkB5I,CAAlB,MAAuBX,CAAC,CAACsJ,MAAF,CAASb,IAAT,CAAc9H,CAAd,GAAiBR,CAAC,IAAE,CAA3C,CAAP,IAAsDH,CAAC,CAACsJ,MAAF,CAASb,IAAT,CAAczI,CAAC,CAAC8I,WAAF,CAAcvI,CAAd,CAAd,GAAgCJ,CAAC,IAAE,CAAzF,GAA4F,SAAOE,CAAP,GAASA,CAAC,GAAC;QAACmJ,KAAK,EAACjJ,CAAP;QAASkF,GAAG,EAAClF;MAAb,CAAX,GAA2BF,CAAC,CAACoF,GAAF,KAAQlF,CAAC,GAAC,CAAV,GAAYF,CAAC,CAACoF,GAAF,GAAMlF,CAAlB,IAAqBD,CAAC,CAACmI,IAAF,CAAOpI,CAAP,GAAUA,CAAC,GAAC;QAACmJ,KAAK,EAACjJ,CAAP;QAASkF,GAAG,EAAClF;MAAb,CAAjC,CAAvH,CAAtB,KAAoM,IAAGQ,CAAC,KAAGF,CAAC,CAAC4I,eAAT,EAAyB,SAAOpJ,CAAP,GAASA,CAAC,GAAC;QAACmJ,KAAK,EAACjJ,CAAP;QAASkF,GAAG,EAAClF;MAAb,CAAX,GAA2BF,CAAC,CAACoF,GAAF,KAAQlF,CAAC,GAAC,CAAV,GAAYF,CAAC,CAACoF,GAAF,GAAMlF,CAAlB,IAAqBD,CAAC,CAACmI,IAAF,CAAOpI,CAAP,GAAUA,CAAC,GAAC;QAACmJ,KAAK,EAACjJ,CAAP;QAASkF,GAAG,EAAClF;MAAb,CAAjC,CAA3B,EAA6EJ,CAAC,IAAE,CAAhF,CAAzB,KAAgH,IAAGY,CAAC,KAAGF,CAAC,CAACqH,OAAN,KAAgB/H,CAAC,IAAE,CAAH,EAAK,CAAC,CAAD,KAAKH,CAAC,CAAC0J,QAA5B,CAAH,EAAyC;MAAM,IAAGvJ,CAAC,IAAEF,CAAN,EAAQ;IAAM;;IAAA,SAAOI,CAAP,IAAUC,CAAC,CAACmI,IAAF,CAAOpI,CAAP,CAAV;;IAAoB,KAAI,IAAIE,CAAC,GAACD,CAAC,CAACkI,MAAF,GAAS,CAAnB,EAAqBjI,CAAC,IAAE,CAAxB,EAA0BA,CAAC,EAA3B,EAA8BP,CAAC,CAAC8I,WAAF,CAAca,MAAd,CAAqBrJ,CAAC,CAACC,CAAD,CAAD,CAAKiJ,KAA1B,EAAgClJ,CAAC,CAACC,CAAD,CAAD,CAAKkF,GAAL,GAASnF,CAAC,CAACC,CAAD,CAAD,CAAKiJ,KAAd,GAAoB,CAApD;EAAuD;;EAAAR,oBAAoB,CAAChJ,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAO;IAAC,MAAME,CAAC,GAAC,IAAIE,CAAJ,CAAM,EAAN,EAAS,EAAT,EAAYP,CAAC,CAAC0J,QAAd,EAAuB,IAAvB,CAAR;IAAqC,OAAOrJ,CAAC,CAACyI,WAAF,GAAc9I,CAAC,CAAC8I,WAAF,CAAchD,KAAd,CAAoB,CAApB,CAAd,EAAqC,KAAKnC,OAAL,CAAagF,eAAb,CAA6BtI,CAA7B,EAA+BJ,CAA/B,EAAiCE,CAAjC,CAA5C;EAAgF;;EAAAiJ,qBAAqB,CAACpJ,CAAD,EAAG;IAAC,OAAO,KAAK2D,OAAL,CAAayF,qBAAb,CAAmCpJ,CAAnC,CAAP;EAA6C;;EAAA4J,6BAA6B,CAAC5J,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAG,SAAOD,CAAC,CAAC6J,eAAZ,EAA4B,OAAM,CAAC,CAAP;IAAS,IAAI1J,CAAC,GAAC,CAAN;;IAAQ,KAAI,IAAIE,CAAC,GAACL,CAAC,CAAC8J,iBAAZ,EAA8BzJ,CAAC,GAACL,CAAC,CAACsJ,MAAF,CAASd,MAAzC,EAAgDnI,CAAC,EAAjD,EAAoD;MAAC,IAAG,eAAaL,CAAC,CAACsJ,MAAF,CAASjJ,CAAT,CAAhB,EAA4B,OAAM,CAAC,CAAP;MAAS,IAAG,KAAK,CAAL,KAAS,KAAKgE,aAAL,CAAmBrE,CAAC,CAACsJ,MAAF,CAASjJ,CAAT,CAAnB,CAAT,KAA2CF,CAAC,IAAE,CAAH,EAAKA,CAAC,IAAEF,CAAnD,CAAH,EAAyD;IAAM;;IAAA,OAAM,CAAC,CAAP;EAAS;;EAAA2I,iCAAiC,CAAC5I,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAG,SAAOD,CAAC,CAAC6J,eAAZ,EAA4B,OAAM,CAAC,CAAP;IAAS,IAAI1J,CAAC,GAAC,CAAN;;IAAQ,KAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACL,CAAC,CAAC8I,WAAF,CAAcN,MAA5B,EAAmCnI,CAAC,EAApC,EAAuC;MAAC,IAAG,eAAaL,CAAC,CAAC8I,WAAF,CAAczI,CAAd,CAAhB,EAAiC,OAAM,CAAC,CAAP;MAAS,IAAGF,CAAC,IAAE,CAAH,EAAKA,CAAC,IAAEF,CAAX,EAAa;IAAM;;IAAA,OAAM,CAAC,CAAP;EAAS;;EAAM4I,eAAe,CAAC7I,CAAD,EAAGC,CAAH,EAAKK,CAAL,EAAOC,CAAP,EAASE,CAAT,EAAW;IAAA;;IAAA;MAAC,IAAG,SAAO,OAAI,CAACkD,OAAf,EAAuB,MAAM,IAAIxD,CAAJ,CAAME,CAAC,CAACyH,cAAR,CAAN;MAA8B,OAAO,OAAI,CAACnE,OAAL,CAAakF,eAAb,CAA6B7I,CAA7B,EAA+BC,CAA/B,EAAiCK,CAAjC,EAAmCC,CAAnC,EAAqCE,CAArC,CAAP;IAAtD;EAAqG;;EAAMsJ,yBAAyB,CAAC/J,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASC,CAAT,EAAW;IAAA;;IAAA;MAAC,IAAGN,CAAC,CAACsJ,MAAF,CAASd,MAAT,GAAgB,CAAhB,IAAmB,eAAaxI,CAAC,CAACsJ,MAAF,CAAStJ,CAAC,CAACsJ,MAAF,CAASd,MAAT,GAAgB,CAAzB,CAAhC,KAA8DnI,CAAC,GAAC,CAAhE,GAAmE,MAAIA,CAAJ,IAAOL,CAAC,CAAC8I,WAAF,CAAcN,MAAd,GAAqB,CAA5B,IAA+B,eAAaxI,CAAC,CAAC8I,WAAF,CAAc9I,CAAC,CAAC8I,WAAF,CAAcN,MAAd,GAAqB,CAAnC,CAA5C,KAAoFnI,CAAC,GAAC,CAAtF,CAAnE,EAA4J,MAAIA,CAAnK,EAAqK,OAAM,UAAN;MAAiB,MAAME,CAAC,SAAO,OAAI,CAACyJ,QAAL,CAAchK,CAAd,EAAgBK,CAAhB,EAAkBC,CAAlB,CAAd;MAAmC,OAAOH,CAAC,GAACI,CAAF,GAAIN,CAAJ,GAAM,OAAI,CAAC4I,eAAL,CAAqB7I,CAArB,EAAuBC,CAAvB,EAAyBE,CAAC,GAACI,CAA3B,EAA6B,CAA7B,EAA+BD,CAA/B,CAAN,GAAwC,SAA/C;IAA1N;EAAmR;;EAAM0J,QAAQ,CAAChK,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAO;IAAA;;IAAA;MAAC,MAAME,CAAC,GAAC,MAAIJ,CAAJ,GAAMD,CAAC,CAACsJ,MAAR,GAAetJ,CAAC,CAAC8I,WAAzB;;MAAqC,IAAG9I,CAAC,CAAC6J,eAAF,CAAkBI,QAAlB,CAA2BC,GAA3B,CAA+B1B,MAA/B,GAAsCxI,CAAC,CAAC6J,eAAF,CAAkBM,YAAxD,IAAsE,CAAC,CAAD,KAAKnK,CAAC,CAAC6J,eAAF,CAAkBI,QAAlB,CAA2BG,aAAzG,EAAuH;QAAC/J,CAAC,CAACmI,MAAF,GAASnI,CAAC,CAACmI,MAAF,GAAS,CAAlB;QAAoB,IAAIvI,CAAC,GAAC,CAAN;;QAAQ,KAAI,IAAIK,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACN,CAAC,CAAC6J,eAAF,CAAkBQ,iBAApB,IAAuC,EAAErK,CAAC,CAAC6J,eAAF,CAAkBM,YAAlB,GAA+B7J,CAA/B,IAAkCN,CAAC,CAAC6J,eAAF,CAAkBI,QAAlB,CAA2BC,GAA3B,CAA+B1B,MAAnE,CAAnD,EAA8HlI,CAAC,EAA/H,EAAkID,CAAC,CAACA,CAAC,CAACmI,MAAH,CAAD,GAAYxI,CAAC,CAAC6J,eAAF,CAAkBI,QAAlB,CAA2BC,GAA3B,CAA+BlK,CAAC,CAAC6J,eAAF,CAAkBM,YAAlB,GAA+B7J,CAA9D,CAAZ,EAA6EL,CAAC,EAA9E;;QAAiFD,CAAC,CAAC6J,eAAF,CAAkBM,YAAlB,IAAgClK,CAAhC;QAAkC,IAAIE,CAAC,GAAC,CAAC,CAAP;QAAS,OAAM,CAAC,CAAD,KAAKH,CAAC,CAAC6J,eAAF,CAAkBI,QAAlB,CAA2BG,aAAhC,IAA+CpK,CAAC,CAAC6J,eAAF,CAAkBI,QAAlB,CAA2BC,GAA3B,CAA+B1B,MAA/B,IAAuCxI,CAAC,CAAC6J,eAAF,CAAkBM,YAAxG,KAAuHhK,CAAC,GAAC,CAAC,CAA1H,GAA6H,CAAC,CAAD,KAAKA,CAAL,IAAQE,CAAC,CAACoI,IAAF,CAAO,UAAP,CAArI,EAAwJxI,CAA9J;MAAgK;;MAAA,OAAO,MAAM,OAAI,CAACqK,gBAAL,CAAsBtK,CAAtB,EAAwBC,CAAxB,EAA0BE,CAA1B,CAAN,EAAmC,OAAI,CAAC6J,QAAL,CAAchK,CAAd,EAAgBC,CAAhB,EAAkBE,CAAlB,CAA1C;IAAxlB;EAAupB;;EAAAmK,gBAAgB,CAACtK,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAO;IAAC,OAAO,IAAP;EAAY;;EAAAoK,oBAAoB,CAACvK,CAAD,EAAG;IAAC,OAAO,SAAO,KAAK2D,OAAZ,GAAoB,IAApB,GAAyB,KAAKA,OAAL,CAAa4G,oBAAb,CAAkCvK,CAAlC,CAAhC;EAAqE;;EAAAwK,MAAM,CAACxK,CAAD,EAAG;IAAC,OAAO,KAAKyK,QAAL,CAAczK,CAAd,EAAiB0K,IAAjB,EAAP;EAA+B;;EAAAC,KAAK,CAAC3K,CAAD,EAAG;IAAC,OAAO,KAAKwK,MAAL,CAAYxK,CAAZ,CAAP;EAAsB;;EAAM4K,kBAAkB,CAAC5K,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAAA;;IAAA;MAAC,MAAM,OAAI,CAACqF,aAAL,EAAN;MAA2B,IAAIpF,CAAC,SAAO,OAAI,CAACuK,KAAL,CAAW7K,CAAX,EAAaC,CAAb,EAAe,EAAf,EAAkB,IAAlB,EAAuB,IAAvB,EAA4BE,CAA5B,EAA8BE,CAA9B,CAAZ;MAA6C,OAAM,CAAC,CAAD,KAAKC,CAAC,CAACwK,UAAP,KAAoBxK,CAAC,SAAO,OAAI,CAACyK,WAAL,CAAiB/K,CAAjB,EAAmBC,CAAnB,EAAqBE,CAArB,EAAuBE,CAAvB,CAA5B,GAAuDC,CAAC,CAAC0K,MAA/D;IAAzE;EAA+I;;EAAMD,WAAW,CAAC/K,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAAA;;IAAA;MAAC,IAAIC,CAAC,GAAC,IAAN;;MAAW,QAAON,CAAC,CAACkG,WAAF,EAAP;QAAwB,KAAI,OAAJ;UAAY,OAAO5F,CAAC,SAAO+B,CAAC,CAAC,OAAD,EAAMhC,CAAN,CAAT,EAAkB;YAACyK,UAAU,EAAC,CAAC,CAAb;YAAeE,MAAM,EAAC1K;UAAtB,CAAzB;;QAAkD,KAAI,UAAJ;UAAe,OAAOA,CAAC,SAAO6B,CAAC,CAAC,OAAD,EAAMlC,CAAN,EAAQE,CAAR,EAAUE,CAAV,CAAT,EAAsB;YAACyK,UAAU,EAAC,CAAC,CAAb;YAAeE,MAAM,EAAC1K;UAAtB,CAA7B;;QAAsD,KAAI,KAAJ;QAAU,KAAI,MAAJ;UAAW,OAAOA,CAAC,SAAO2B,CAAC,CAAC,OAAD,EAAMhC,CAAN,EAAQI,CAAR,CAAT,EAAoB;YAACyK,UAAU,EAAC,CAAC,CAAb;YAAeE,MAAM,EAAC1K;UAAtB,CAA3B;;QAAoD,KAAI,OAAJ;UAAY,OAAOA,CAAC,SAAOyB,CAAC,CAAC,OAAD,EAAM9B,CAAN,EAAQI,CAAR,CAAT,EAAoB;YAACyK,UAAU,EAAC,CAAC,CAAb;YAAeE,MAAM,EAAC1K;UAAtB,CAA3B;;QAAoD,KAAI,UAAJ;UAAe,OAAOA,CAAC,SAAOuB,CAAC,CAAC,OAAD,EAAM5B,CAAN,EAAQI,CAAR,CAAT,EAAoB;YAACyK,UAAU,EAAC,CAAC,CAAb;YAAeE,MAAM,EAAC1K;UAAtB,CAA3B;;QAAoD,KAAI,KAAJ;UAAU,OAAOA,CAAC,SAAOqB,CAAC,CAAC,OAAD,EAAM1B,CAAN,EAAQI,CAAR,CAAT,EAAoB;YAACyK,UAAU,EAAC,CAAC,CAAb;YAAeE,MAAM,EAAC1K;UAAtB,CAA3B;;QAAoD,KAAI,KAAJ;UAAU,OAAOA,CAAC,SAAOmB,CAAC,CAAC,OAAD,EAAMxB,CAAN,EAAQI,CAAR,CAAT,EAAoB;YAACyK,UAAU,EAAC,CAAC,CAAb;YAAeE,MAAM,EAAC1K;UAAtB,CAA3B;;QAAoD,KAAI,KAAJ;UAAU,OAAOA,CAAC,SAAOiB,CAAC,CAAC,OAAD,EAAMtB,CAAN,EAAQI,CAAR,CAAT,EAAoB;YAACyK,UAAU,EAAC,CAAC,CAAb;YAAeE,MAAM,EAAC1K;UAAtB,CAA3B;;QAAoD;UAAQ,OAAM;YAACwK,UAAU,EAAC,CAAC,CAAb;YAAeE,MAAM,EAAC;UAAtB,CAAN;MAAziB;IAAZ;EAAqlB;;EAAMH,KAAK,CAAC7K,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASC,CAAT,EAAWC,CAAX,EAAaE,CAAb,EAAe;IAAA;;IAAA;MAAC,MAAME,CAAC,SAAO,OAAI,CAACgD,OAAL,CAAakH,KAAb,CAAmB7K,CAAnB,EAAqBC,CAArB,EAAuBE,CAAvB,EAAyBE,CAAzB,EAA2BC,CAA3B,EAA6BC,CAA7B,EAA+BE,CAA/B,CAAd;MAAgD,OAAM,CAAC,CAAD,KAAKE,CAAC,CAACmK,UAAP,GAAkB,SAAOxK,CAAP,IAAU,OAAKH,CAAf,IAAkB,SAAOE,CAAzB,GAA2B,OAAI,CAAC0K,WAAL,CAAiB/K,CAAjB,EAAmBC,CAAnB,EAAqBM,CAArB,EAAuBE,CAAvB,CAA3B,GAAqD;QAACqK,UAAU,EAAC,CAAC;MAAb,CAAvE,GAAuFnK,CAA7F;IAAjD;EAAgJ;;EAAAsK,iBAAiB,CAACjL,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAKwK,QAAL,CAAc,KAAKS,eAAL,CAAqBlL,CAArB,CAAd,CAAR;IAAA,MAA+CG,CAAC,GAAC,EAAjD;IAAoD,OAAO,IAAIgL,OAAJ,CAAa,CAACnL,CAAD,EAAGK,CAAH,KAAO;MAAC,KAAK+K,oBAAL,CAA0BjL,CAA1B,EAA4BF,CAA5B,EAA8BD,CAA9B,EAAgCK,CAAhC;IAAmC,CAAxD,CAAP;EAAkE;;EAAAgL,aAAa,CAACrL,CAAD,EAAG;IAAC,OAAO,IAAImL,OAAJ,CAAa,CAAClL,CAAD,EAAGE,CAAH,KAAO;MAAC,MAAME,CAAC,GAAC,KAAKoK,QAAL,CAAc,KAAKS,eAAL,CAAqBlL,CAArB,CAAd,CAAR;MAAA,MAA+CM,CAAC,GAAC,EAAjD;;MAAoD,KAAK8K,oBAAL,CAA0B9K,CAA1B,EAA4BD,CAA5B,EAA8BJ,CAA9B,EAAgCE,CAAhC;IAAmC,CAA5G,CAAP;EAAsH;;EAAAiL,oBAAoB,CAACpL,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAACJ,CAAC,CAACyK,IAAF,GAASY,IAAT,CAAehL,CAAC,IAAE;MAAC,IAAG;QAAC,SAAOA,CAAP,IAAU,SAAOA,CAAC,CAACiL,QAAnB,IAA6BvL,CAAC,CAACyI,IAAF,CAAOnI,CAAC,CAACiL,QAAT,CAA7B,EAAgDvL,CAAC,CAACwI,MAAF,GAAS,EAAT,IAAa,SAAOlI,CAAP,IAAUN,CAAC,CAACwI,MAAF,GAAS,CAAhC,GAAkC7F,CAAC,CAAC3C,CAAD,CAAD,CAAKsL,IAAL,CAAW/K,CAAC,IAAE;UAAC,IAAG;YAAC,SAAOD,CAAP,GAASH,CAAC,CAACI,CAAD,CAAV,IAAeP,CAAC,GAAC,CAACO,CAAD,CAAF,EAAM,KAAK6K,oBAAL,CAA0BpL,CAA1B,EAA4BC,CAA5B,EAA8BE,CAA9B,EAAgCE,CAAhC,CAArB;UAAyD,CAA7D,CAA6D,OAAMI,CAAN,EAAQ;YAACJ,CAAC,CAACI,CAAD,CAAD;UAAK;QAAC,CAA3F,EAA6FJ,CAA7F,CAAlC,GAAkI,SAAOC,CAAP,GAAS,MAAIN,CAAC,CAACwI,MAAN,GAAarI,CAAC,CAACH,CAAC,CAAC,CAAD,CAAF,CAAd,GAAqBG,CAAC,CAAC,IAAD,CAA/B,GAAsC,KAAKiL,oBAAL,CAA0BpL,CAA1B,EAA4BC,CAA5B,EAA8BE,CAA9B,EAAgCE,CAAhC,CAAxN;MAA2P,CAA/P,CAA+P,OAAME,CAAN,EAAQ;QAACF,CAAC,CAACE,CAAD,CAAD;MAAK;IAAC,CAAjS,EAAmSF,CAAnS;EAAsS;;EAAAoK,QAAQ,CAACzK,CAAD,EAAG;IAAC,OAAO,IAAIM,CAAJ,CAAM,IAAN,EAAWN,CAAX,CAAP;EAAqB;;EAAAwL,YAAY,CAACxL,CAAD,EAAGC,CAAC,GAAC,CAAC,CAAN,EAAQ;IAAC,OAAOqD,CAAC,CAACmI,oBAAF,CAAuBD,YAAvB,CAAoCE,IAApC,CAAyC,IAAzC,EAA+C1L,CAA/C,EAAiDC,CAAjD,CAAP;EAA2D;;EAAA0L,UAAU,CAAC3L,CAAD,EAAGC,CAAC,GAAC,CAAC,CAAN,EAAQE,CAAC,GAAC,CAAC,CAAX,EAAa;IAAC,OAAOmD,CAAC,CAACmI,oBAAF,CAAuBE,UAAvB,CAAkCD,IAAlC,CAAuC,IAAvC,EAA6C1L,CAA7C,EAA+CC,CAA/C,EAAiDE,CAAjD,CAAP;EAA2D;;EAAAyL,mBAAmB,CAAC5L,CAAD,EAAGC,CAAC,GAAC,CAAC,CAAN,EAAQE,CAAC,GAAC,CAAC,CAAX,EAAa;IAAC,OAAOmD,CAAC,CAACmI,oBAAF,CAAuBG,mBAAvB,CAA2CF,IAA3C,CAAgD,IAAhD,EAAsD1L,CAAtD,EAAwDC,CAAxD,EAA0DE,CAA1D,CAAP;EAAoE;;EAAA0L,UAAU,CAAC7L,CAAD,EAAGC,CAAH,EAAKE,CAAC,GAAC,SAAP,EAAiBE,CAAC,GAAC,IAAnB,EAAwB;IAAC,OAAOiD,CAAC,CAACmI,oBAAF,CAAuBI,UAAvB,CAAkCH,IAAlC,CAAuC,IAAvC,EAA6C1L,CAA7C,EAA+CC,CAA/C,EAAiDE,CAAjD,EAAmDE,CAAnD,CAAP;EAA6D;;EAAAyL,uBAAuB,CAAC9L,CAAD,EAAGC,CAAH,EAAKE,CAAC,GAAC,SAAP,EAAiB;IAAC,OAAOmD,CAAC,CAACmI,oBAAF,CAAuBK,uBAAvB,CAA+CJ,IAA/C,CAAoD,IAApD,EAA0D1L,CAA1D,EAA4DC,CAA5D,EAA8DE,CAA9D,CAAP;EAAwE;;EAAAuC,KAAK,CAAC1C,CAAD,EAAGC,CAAC,GAAC,CAAC,CAAN,EAAQ;IAAC,OAAOqD,CAAC,CAACmI,oBAAF,CAAuB/I,KAAvB,CAA6BgJ,IAA7B,CAAkC,IAAlC,EAAwC1L,CAAxC,EAA0CC,CAA1C,CAAP;EAAoD;;EAAA8L,UAAU,CAAC/L,CAAD,EAAG;IAAC,OAAOsD,CAAC,CAACmI,oBAAF,CAAuBM,UAAvB,CAAkCL,IAAlC,CAAuC,IAAvC,EAA6C1L,CAA7C,CAAP;EAAuD;;EAAAgM,kBAAkB,CAAChM,CAAD,EAAG;IAAC,OAAOsD,CAAC,CAACmI,oBAAF,CAAuBO,kBAAvB,CAA0CN,IAA1C,CAA+C,IAA/C,EAAqD1L,CAArD,CAAP;EAA+D;;EAAAiM,QAAQ,CAACjM,CAAD,EAAG;IAAC,OAAOsD,CAAC,CAACmI,oBAAF,CAAuBQ,QAAvB,CAAgCP,IAAhC,CAAqC,IAArC,EAA2C1L,CAA3C,CAAP;EAAqD;;EAAAkM,QAAQ,CAAClM,CAAD,EAAG;IAAC,OAAOsD,CAAC,CAACmI,oBAAF,CAAuBS,QAAvB,CAAgCR,IAAhC,CAAqC,IAArC,EAA2C1L,CAA3C,CAAP;EAAqD;;EAAAmM,MAAM,CAACnM,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAOqD,CAAC,CAACmI,oBAAF,CAAuBU,MAAvB,CAA8BT,IAA9B,CAAmC,IAAnC,EAAyC1L,CAAzC,EAA2CC,CAA3C,CAAP;EAAqD;;EAAAmM,MAAM,CAACpM,CAAD,EAAG;IAAC,OAAOsD,CAAC,CAACmI,oBAAF,CAAuBW,MAAvB,CAA8BV,IAA9B,CAAmC,IAAnC,EAAyC1L,CAAzC,CAAP;EAAmD;;EAAAqM,OAAO,CAACrM,CAAD,EAAG;IAAC,OAAOsD,CAAC,CAACmI,oBAAF,CAAuBY,OAAvB,CAA+BX,IAA/B,CAAoC,IAApC,EAA0C1L,CAA1C,CAAP;EAAoD;;EAAAsM,GAAG,CAACtM,CAAD,EAAG;IAAC,OAAOsD,CAAC,CAACmI,oBAAF,CAAuBa,GAAvB,CAA2BZ,IAA3B,CAAgC,IAAhC,EAAsC1L,CAAtC,CAAP;EAAgD;;EAAAuM,OAAO,CAACvM,CAAD,EAAG;IAAC,OAAOsD,CAAC,CAACmI,oBAAF,CAAuBc,OAAvB,CAA+Bb,IAA/B,CAAoC,IAApC,EAA0C1L,CAA1C,CAAP;EAAoD;;EAAAwM,MAAM,CAACxM,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAC,GAAC,CAAC,CAAV,EAAY;IAAC,OAAOiD,CAAC,CAACmI,oBAAF,CAAuBe,MAAvB,CAA8Bd,IAA9B,CAAmC,IAAnC,EAAyC1L,CAAzC,EAA2CC,CAA3C,EAA6CE,CAA7C,EAA+CE,CAA/C,CAAP;EAAyD;;EAAAoM,MAAM,CAACzM,CAAD,EAAGC,CAAC,GAAC,IAAL,EAAU;IAAC,OAAOqD,CAAC,CAACmI,oBAAF,CAAuBgB,MAAvB,CAA8Bf,IAA9B,CAAmC,IAAnC,EAAyC1L,CAAzC,EAA2CC,CAA3C,CAAP;EAAqD;;EAAAyM,OAAO,CAAC1M,CAAD,EAAG;IAAC,OAAOsD,CAAC,CAACmI,oBAAF,CAAuBiB,OAAvB,CAA+BhB,IAA/B,CAAoC,IAApC,EAA0C1L,CAA1C,CAAP;EAAoD;;EAAA2M,QAAQ,CAAC3M,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAOqD,CAAC,CAACmI,oBAAF,CAAuBkB,QAAvB,CAAgCjB,IAAhC,CAAqC,IAArC,EAA2C1L,CAA3C,EAA6CC,CAA7C,CAAP;EAAuD;;EAAA2M,OAAO,CAAC5M,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAOqD,CAAC,CAACmI,oBAAF,CAAuBmB,OAAvB,CAA+BlB,IAA/B,CAAoC,IAApC,EAA0C1L,CAA1C,EAA4CC,CAA5C,CAAP;EAAsD;;EAAA4M,MAAM,CAAC7M,CAAD,EAAGC,CAAC,GAAC,IAAL,EAAUE,CAAV,EAAY;IAAC,OAAO,IAAIgL,OAAJ,CAAa,CAAC9K,CAAD,EAAGC,CAAH,KAAO;MAAC,KAAKwM,WAAL,CAAiB,KAAKrC,QAAL,CAAc,KAAKS,eAAL,CAAqB/K,CAArB,CAAd,CAAjB,EAAwDH,CAAxD,EAA0DC,CAA1D,EAA4D,CAA5D,EAA8DI,CAA9D,EAAgEC,CAAhE,EAAkE,CAAlE;IAAqE,CAA1F,CAAP;EAAoG;;EAAAwM,WAAW,CAAC9M,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASC,CAAT,EAAWC,CAAX,EAAaE,CAAb,EAAe;IAAC,IAAG;MAAC,IAAG,EAAEA,CAAF,GAAI,GAAP,EAAW,OAAO,KAAKsM,UAAU,CAAE,MAAI;QAACtM,CAAC,GAAC,CAAF,EAAI,KAAKqM,WAAL,CAAiB9M,CAAjB,EAAmBC,CAAnB,EAAqBE,CAArB,EAAuBE,CAAvB,EAAyBC,CAAzB,EAA2BC,CAA3B,EAA6BE,CAA7B,CAAJ;MAAoC,CAA3C,CAAtB;MAAoET,CAAC,CAAC0K,IAAF,GAASY,IAAT,CAAe3K,CAAC,IAAE;QAAC,IAAG;UAAC,IAAG,SAAOA,CAAV,EAAYL,CAAC,CAACH,CAAD,CAAD,CAAZ,KAAqB;YAAC,MAAMU,CAAC,GAACZ,CAAC,CAACE,CAAD,EAAGQ,CAAH,EAAKN,CAAL,EAAO,IAAP,CAAT;YAAsBkC,CAAC,CAAC1B,CAAD,CAAD,GAAKA,CAAC,CAACyK,IAAF,CAAQnL,CAAC,IAAE;cAAC,KAAK2M,WAAL,CAAiB9M,CAAjB,EAAmBC,CAAnB,EAAqBE,CAArB,EAAuBE,CAAC,GAAC,CAAzB,EAA2BC,CAA3B,EAA6BC,CAA7B,EAA+BE,CAA/B;YAAkC,CAA9C,EAAgDF,CAAhD,CAAL,GAAwD,KAAKuM,WAAL,CAAiB9M,CAAjB,EAAmBC,CAAnB,EAAqBY,CAArB,EAAuBR,CAAC,GAAC,CAAzB,EAA2BC,CAA3B,EAA6BC,CAA7B,EAA+BE,CAA/B,CAAxD;UAA0F;QAAC,CAA3I,CAA2I,OAAMI,CAAN,EAAQ;UAACN,CAAC,CAACM,CAAD,CAAD;QAAK;MAAC,CAA7K,EAA+KN,CAA/K;IAAkL,CAArQ,CAAqQ,OAAMI,CAAN,EAAQ;MAACJ,CAAC,CAACI,CAAD,CAAD;IAAK;EAAC;;EAAAqM,WAAW,CAAChN,CAAD,EAAG;IAAC,OAAOsD,CAAC,CAACmI,oBAAF,CAAuBuB,WAAvB,CAAmCtB,IAAnC,CAAwC,IAAxC,EAA8C1L,CAA9C,CAAP;EAAwD;;EAAAiN,QAAQ,CAACjN,CAAD,EAAGC,CAAH,EAAKE,CAAC,GAAC,IAAP,EAAY;IAAC,OAAOmD,CAAC,CAACmI,oBAAF,CAAuBwB,QAAvB,CAAgCvB,IAAhC,CAAqC,IAArC,EAA2C1L,CAA3C,EAA6CC,CAA7C,EAA+CE,CAA/C,CAAP;EAAyD;;EAAA+M,OAAO,CAAClN,CAAD,EAAGC,CAAC,GAAC,CAAC,CAAN,EAAQE,CAAR,EAAU;IAAC,MAAME,CAAC,GAACU,CAAC,CAACf,CAAD,CAAT;IAAa,OAAO,KAAK6M,MAAL,CAAa,CAAC7M,CAAD,EAAGG,CAAH,KAAO,SAAOA,CAAC,CAACoL,QAAT,GAAkB,CAAlB,GAAoBtL,CAAC,GAAC4C,CAAC,CAAC1C,CAAC,CAACoL,QAAH,EAAYlL,CAAZ,CAAD,CAAgBiL,IAAhB,CAAsBrL,CAAC,IAAED,CAAC,GAACC,CAA3B,CAAD,GAAgC8C,CAAC,CAAC5C,CAAC,CAACoL,QAAH,EAAYlL,CAAZ,CAAD,CAAgBiL,IAAhB,CAAsBrL,CAAC,IAAED,CAAC,GAACC,CAA3B,CAAzE,EAAyG,CAAzG,EAA2GE,CAA3G,CAAP;EAAqH;;EAAAgN,SAAS,CAACnN,CAAD,EAAGC,CAAC,GAAC,CAAC,CAAN,EAAQE,CAAR,EAAU;IAAC,MAAME,CAAC,GAACY,CAAC,CAACjB,CAAD,CAAT;IAAa,OAAO,KAAK6M,MAAL,CAAa,CAAC7M,CAAD,EAAGG,CAAH,KAAO,SAAOA,CAAC,CAACoL,QAAT,GAAkB,CAAlB,GAAoBtL,CAAC,GAACgD,CAAC,CAAC9C,CAAC,CAACoL,QAAH,EAAYlL,CAAZ,CAAD,CAAgBiL,IAAhB,CAAsBrL,CAAC,IAAED,CAAC,GAACC,CAA3B,CAAD,GAAgCkD,CAAC,CAAChD,CAAC,CAACoL,QAAH,EAAYlL,CAAZ,CAAD,CAAgBiL,IAAhB,CAAsBrL,CAAC,IAAED,CAAC,GAACC,CAA3B,CAAzE,EAAyG,CAAzG,EAA2GE,CAA3G,CAAP;EAAqH;;EAAAiN,eAAe,CAACpN,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAG,SAAOA,CAAV,EAAY;MAAC,MAAME,CAAC,GAAC,EAAR;;MAAW,KAAI,MAAMH,CAAV,IAAeC,CAAf,EAAiBE,CAAC,CAACH,CAAC,CAACkG,WAAF,EAAD,CAAD,GAAmBjG,CAAC,CAACD,CAAD,CAApB;;MAAwBA,CAAC,CAACqN,UAAF,GAAalN,CAAb;IAAe;EAAC;;EAAM+B,QAAQ,CAAClC,CAAD,EAAGC,CAAC,GAAC,GAAL,EAASE,CAAC,GAAC,IAAX,EAAgBE,CAAhB,EAAkB;IAAA;;IAAA;MAAC,MAAM,OAAI,CAACsF,IAAL,EAAN;MAAkB,MAAMrF,CAAC,GAACmC,CAAC,CAAC6K,MAAF,CAAStN,CAAT,EAAW,OAAI,CAACqG,cAAL,EAAX,CAAR;MAA0C,OAAO,OAAI,CAAC+G,eAAL,CAAqB9M,CAArB,EAAuBH,CAAvB,GAA0B,OAAI,CAACyK,kBAAL,CAAwB,UAAxB,EAAmCtK,CAAnC,EAAqCL,CAArC,EAAuC,OAAI,CAACiL,eAAL,CAAqB7K,CAArB,CAAvC,CAAjC;IAA7D;EAA8J;;EAAMmB,GAAG,CAACxB,CAAD,EAAGC,CAAC,GAAC,IAAL,EAAUE,CAAV,EAAY;IAAA;;IAAA;MAAC,MAAM,OAAI,CAACwF,IAAL,EAAN;MAAkB,MAAMtF,CAAC,GAACoC,CAAC,CAAC6K,MAAF,CAAStN,CAAT,EAAW,OAAI,CAACqG,cAAL,EAAX,CAAR;MAA0C,OAAO,OAAI,CAAC+G,eAAL,CAAqB/M,CAArB,EAAuBJ,CAAvB,GAA0B,OAAI,CAAC2K,kBAAL,CAAwB,KAAxB,EAA8BvK,CAA9B,EAAgC,CAAC,CAAjC,EAAmC,OAAI,CAAC6K,eAAL,CAAqB/K,CAArB,CAAnC,CAAjC;IAA7D;EAA0J;;EAAMmB,GAAG,CAACtB,CAAD,EAAGC,CAAC,GAAC,IAAL,EAAUE,CAAV,EAAY;IAAA;;IAAA;MAAC,MAAM,OAAI,CAACwF,IAAL,EAAN;MAAkB,MAAMtF,CAAC,GAACoC,CAAC,CAAC6K,MAAF,CAAStN,CAAT,EAAW,OAAI,CAACqG,cAAL,EAAX,CAAR;MAA0C,OAAO,OAAI,CAAC+G,eAAL,CAAqB/M,CAArB,EAAuBJ,CAAvB,GAA0B,OAAI,CAAC2K,kBAAL,CAAwB,KAAxB,EAA8BvK,CAA9B,EAAgC,CAAC,CAAjC,EAAmC,OAAI,CAAC6K,eAAL,CAAqB/K,CAArB,CAAnC,CAAjC;IAA7D;EAA0J;;EAAMoN,GAAG,CAACvN,CAAD,EAAGC,CAAC,GAAC,IAAL,EAAUE,CAAV,EAAY;IAAA;;IAAA;MAAC,MAAM,OAAI,CAACwF,IAAL,EAAN;MAAkB,MAAMtF,CAAC,GAACoC,CAAC,CAAC6K,MAAF,CAAStN,CAAT,EAAW,OAAI,CAACqG,cAAL,EAAX,CAAR;MAA0C,OAAO,OAAI,CAAC+G,eAAL,CAAqB/M,CAArB,EAAuBJ,CAAvB,GAA0B,OAAI,CAAC2K,kBAAL,CAAwB,KAAxB,EAA8BvK,CAA9B,EAAgC,CAAC,CAAjC,EAAmC,OAAI,CAAC6K,eAAL,CAAqB/K,CAArB,CAAnC,CAAjC;IAA7D;EAA0J;;EAAMuB,GAAG,CAAC1B,CAAD,EAAGC,CAAC,GAAC,IAAL,EAAUE,CAAV,EAAY;IAAA;;IAAA;MAAC,MAAM,OAAI,CAACwF,IAAL,EAAN;MAAkB,MAAMtF,CAAC,GAACoC,CAAC,CAAC6K,MAAF,CAAStN,CAAT,EAAW,OAAI,CAACqG,cAAL,EAAX,CAAR;MAA0C,OAAO,OAAI,CAAC+G,eAAL,CAAqB/M,CAArB,EAAuBJ,CAAvB,GAA0B,OAAI,CAAC2K,kBAAL,CAAwB,KAAxB,EAA8BvK,CAA9B,EAAgC,CAAC,CAAjC,EAAmC,OAAI,CAAC6K,eAAL,CAAqB/K,CAArB,CAAnC,CAAjC;IAA7D;EAA0J;;EAAM2B,KAAK,CAAC9B,CAAD,EAAGC,CAAC,GAAC,IAAL,EAAUE,CAAV,EAAY;IAAA;;IAAA;MAAC,MAAM,OAAI,CAACwF,IAAL,EAAN;MAAkB,MAAMtF,CAAC,GAACoC,CAAC,CAAC6K,MAAF,CAAStN,CAAT,EAAW,OAAI,CAACqG,cAAL,EAAX,CAAR;MAA0C,OAAO,OAAI,CAAC+G,eAAL,CAAqB/M,CAArB,EAAuBJ,CAAvB,GAA0B,OAAI,CAAC2K,kBAAL,CAAwB,OAAxB,EAAgCvK,CAAhC,EAAkC,CAAC,CAAnC,EAAqC,OAAI,CAAC6K,eAAL,CAAqB/K,CAArB,CAArC,CAAjC;IAA7D;EAA4J;;EAAMyB,QAAQ,CAAC5B,CAAD,EAAGC,CAAC,GAAC,IAAL,EAAUE,CAAV,EAAY;IAAA;;IAAA;MAAC,MAAM,OAAI,CAACwF,IAAL,EAAN;MAAkB,MAAMtF,CAAC,GAACoC,CAAC,CAAC6K,MAAF,CAAStN,CAAT,EAAW,OAAI,CAACqG,cAAL,EAAX,CAAR;MAA0C,OAAO,OAAI,CAAC+G,eAAL,CAAqB/M,CAArB,EAAuBJ,CAAvB,GAA0B,OAAI,CAAC2K,kBAAL,CAAwB,UAAxB,EAAmCvK,CAAnC,EAAqC,CAAC,CAAtC,EAAwC,OAAI,CAAC6K,eAAL,CAAqB/K,CAArB,CAAxC,CAAjC;IAA7D;EAA+J;;EAAMiC,KAAK,CAACpC,CAAD,EAAG;IAAA;;IAAA;MAAC,OAAO,MAAM,OAAI,CAAC2F,IAAL,EAAN,EAAkB,OAAI,CAACiF,kBAAL,CAAwB,OAAxB,EAAgCnI,CAAC,CAAC6K,MAAF,CAAS,GAAT,EAAa,OAAI,CAACjH,cAAL,EAAb,CAAhC,EAAoE,CAAC,CAArE,EAAuE,OAAI,CAAC6E,eAAL,CAAqBlL,CAArB,CAAvE,CAAzB;IAAD;EAA0H;;EAAAkL,eAAe,CAAClL,CAAD,EAAG;IAAC,OAAOA,CAAC,IAAE;MAAC0G,OAAO,EAAC,CAAC;IAAV,CAAV;EAAuB;;EAAA8G,OAAO,CAACxN,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAO,IAAIkL,OAAJ,CAAa,CAAChL,CAAD,EAAGE,CAAH,KAAO;MAAC,KAAKoN,YAAL,CAAkB,KAAKhD,QAAL,CAAc,KAAKS,eAAL,CAAqBjL,CAArB,CAAd,CAAlB,EAAyDD,CAAzD,EAA2D,IAA3D,EAAgEG,CAAhE,EAAkEE,CAAlE,EAAoE,CAApE;IAAuE,CAA5F,CAAP;EAAsG;;EAAAoN,YAAY,CAACzN,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASC,CAAT,EAAWC,CAAX,EAAa;IAAC,IAAG;MAAC,IAAG,EAAEA,CAAF,GAAI,GAAP,EAAW,OAAO,KAAKwM,UAAU,CAAE,MAAI;QAACxM,CAAC,GAAC,CAAF,EAAI,KAAKkN,YAAL,CAAkBzN,CAAlB,EAAoBC,CAApB,EAAsBE,CAAtB,EAAwBE,CAAxB,EAA0BC,CAA1B,EAA4BC,CAA5B,CAAJ;MAAmC,CAA1C,EAA4C,CAA5C,CAAtB;MAAqEP,CAAC,CAAC0K,IAAF,GAASY,IAAT,CAAe7K,CAAC,IAAE;QAAC,IAAG;UAAC,IAAG,SAAOA,CAAV,EAAYJ,CAAC,CAACF,CAAD,CAAD,CAAZ,KAAqB;YAAC,MAAMQ,CAAC,GAACV,CAAC,CAACQ,CAAD,CAAT;YAAa,QAAME,CAAN,GAAQ,KAAK8M,YAAL,CAAkBzN,CAAlB,EAAoBC,CAApB,EAAsBE,CAAtB,EAAwBE,CAAxB,EAA0BC,CAA1B,EAA4BC,CAA5B,CAAR,GAAuCgC,CAAC,CAAC5B,CAAD,CAAD,GAAKA,CAAC,CAAC2K,IAAF,CAAQ,MAAI;cAAC,IAAG;gBAAC,KAAKmC,YAAL,CAAkBzN,CAAlB,EAAoBC,CAApB,EAAsBE,CAAtB,EAAwBE,CAAxB,EAA0BC,CAA1B,EAA4BC,CAA5B;cAA+B,CAAnC,CAAmC,OAAME,CAAN,EAAQ;gBAACH,CAAC,CAACG,CAAD,CAAD;cAAK;YAAC,CAA/D,EAAiEH,CAAjE,CAAL,GAAyE,KAAKmN,YAAL,CAAkBzN,CAAlB,EAAoBC,CAApB,EAAsBE,CAAtB,EAAwBE,CAAxB,EAA0BC,CAA1B,EAA4BC,CAA5B,CAAhH;UAA+I;QAAC,CAAvL,CAAuL,OAAMI,CAAN,EAAQ;UAACL,CAAC,CAACK,CAAD,CAAD;QAAK;MAAC,CAAzN,EAA2NL,CAA3N;IAA8N,CAAlT,CAAkT,OAAMG,CAAN,EAAQ;MAACH,CAAC,CAACG,CAAD,CAAD;IAAK;EAAC;;EAAAiN,aAAa,CAAC1N,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC;MAAC0N,eAAe,EAAC;QAAClJ,YAAY,EAAC,KAAKA,YAAnB;QAAgCD,MAAM,EAAC;MAAvC,CAAjB;MAA4DoJ,UAAU,EAAC;QAACC,QAAQ,EAAC,EAAV;QAAapJ,YAAY,EAAC,KAAKA;MAA/B;IAAvE,CAAR;;IAA6H,KAAI,IAAItE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKqE,MAAL,CAAYgE,MAA1B,EAAiCrI,CAAC,EAAlC,EAAqCF,CAAC,CAAC0N,eAAF,CAAkBnJ,MAAlB,CAAyBiE,IAAzB,CAA8BtH,CAAC,CAAC,KAAKqD,MAAL,CAAYrE,CAAZ,CAAD,CAA/B;;IAAiD,OAAO,KAAK0M,MAAL,CAAa,CAAC7M,CAAD,EAAGG,CAAH,KAAO;MAAC,MAAME,CAAC,GAAC;QAACkL,QAAQ,EAACpL,CAAC,CAACoL,QAAF,IAAYpL,CAAC,CAACoL,QAAF,CAAWuC,MAAX,EAAtB;QAA0CC,UAAU,EAAC;MAArD,CAAR;;MAAiE,KAAI,MAAM9N,CAAV,IAAeE,CAAC,CAAC4N,UAAjB,EAA4B1N,CAAC,CAAC0N,UAAF,CAAa9N,CAAb,IAAgBE,CAAC,CAAC4N,UAAF,CAAa9N,CAAb,CAAhB;;MAAgC,OAAOA,CAAC,CAAC2N,UAAF,CAAaC,QAAb,CAAsBpF,IAAtB,CAA2BpI,CAA3B,GAA8B,CAArC;IAAuC,CAAzL,EAA2L,CAA3L,EAA6LL,CAA7L,EAAgMsL,IAAhM,CAAsM,MAAIrL,CAA1M,CAAP;EAAqN;;EAAA+N,UAAU,CAAChO,CAAC,GAAC,CAAC,CAAJ,EAAM;IAAC,OAAM,oBAAN;EAA2B;;EAAAiO,gBAAgB,CAACjO,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASC,CAAT,EAAW;IAAC,OAAO,KAAKqD,OAAL,CAAasK,gBAAb,CAA8BjO,CAA9B,EAAgCC,CAAhC,EAAkCE,CAAlC,EAAoCE,CAApC,EAAsCC,CAAtC,CAAP;EAAgD;;EAAA4N,UAAU,GAAE;IAAC,OAAO,KAAKvK,OAAL,CAAauK,UAAb,EAAP;EAAiC;;EAAAC,QAAQ,GAAE;IAAC,OAAO,KAAK7J,WAAL,GAAiB;MAAC8J,YAAY,EAAC,KAAK9J,WAAnB;MAA+B6J,QAAQ,EAAC,KAAK5J,KAAL,GAAW,KAAKA,KAAL,CAAW8J,GAAX,CAAgBrO,CAAC,KAAG;QAACoG,IAAI,EAACpG,CAAC,CAACoG,IAAR;QAAakI,IAAI,EAACtO,CAAC,CAACuO;MAApB,CAAH,CAAjB,CAAX,GAA0D;IAAlG,CAAjB,GAAuH,IAA9H;EAAmI;;EAAAC,oBAAoB,GAAE;IAAC,OAAO,KAAK7K,OAAL,CAAa6K,oBAAb,EAAP;EAA2C;;EAAc,IAAVC,UAAU,GAAE;IAAC,OAAO,KAAK9K,OAAL,GAAa,KAAKA,OAAL,CAAa8K,UAA1B,GAAqC,EAA5C;EAA+C;;EAAAC,MAAM,GAAE;IAAC,MAAM1O,CAAC,GAAC,EAAR;;IAAW,KAAI,MAAMC,CAAV,IAAe,KAAKuE,MAApB,EAA2BxE,CAAC,CAACyI,IAAF,CAAOtH,CAAC,CAAClB,CAAD,CAAR;;IAAa,OAAM;MAACyE,aAAa,EAAC,KAAKA,aAApB;MAAkCC,aAAa,EAAC,KAAKA,aAArD;MAAmEF,YAAY,EAAC,KAAK,CAAL,KAASpD,CAAC,CAAC,KAAKoD,YAAN,CAAV,GAA8B,kBAA9B,GAAiDpD,CAAC,CAAC,KAAKoD,YAAN,CAAlI;MAAsJD,MAAM,EAACxE;IAA7J,CAAN;EAAsK;;EAAM2O,aAAa,CAAC3O,CAAD,EAAGC,CAAH,EAAK;IAAA;;IAAA;MAAC,IAAG,aAAWD,CAAd,EAAgB,OAAO,MAAM,OAAI,CAAC0F,aAAL,EAAN,EAA2BkJ,IAAI,CAACC,SAAL,CAAe,OAAI,CAACH,MAAL,EAAf,CAAlC;;MAAgE,IAAG,iBAAe1O,CAAlB,EAAoB;QAAC,MAAM,OAAI,CAAC0F,aAAL,EAAN;QAA2B,MAAM1F,CAAC,GAAC,EAAR;QAAW,MAAM,OAAI,CAAC6M,MAAL,CAAa,CAAC5M,CAAD,EAAGE,CAAH,KAAO;UAAC,MAAME,CAAC,GAAC;YAACkL,QAAQ,EAACpL,CAAC,CAACoL,QAAF,GAAWpL,CAAC,CAACoL,QAAF,CAAWuC,MAAX,EAAX,GAA+B,IAAzC;YAA8CC,UAAU,EAAC5N,CAAC,CAAC4N;UAA3D,CAAR;UAA+E,OAAO,SAAO1N,CAAC,CAACkL,QAAT,IAAmBlL,CAAC,CAACkL,QAAF,CAAW3G,gBAA9B,IAAgD,OAAOvE,CAAC,CAACkL,QAAF,CAAW3G,gBAAlE,EAAmF5E,CAAC,CAACyI,IAAF,CAAOpI,CAAP,CAAnF,EAA6F,CAApG;QAAsG,CAA1M,EAA4M,CAA5M,EAA8MJ,CAA9M,CAAN;;QAAuN,MAAME,CAAC,GAAC,OAAI,CAACuO,MAAL,EAAR;;QAAsB,OAAOvO,CAAC,CAAC0N,QAAF,GAAW7N,CAAX,EAAaG,CAAC,CAACyE,gBAAF,GAAmB,OAAI,CAACA,gBAAL,CAAsBkJ,MAAtB,EAAhC,EAA+Dc,IAAI,CAACC,SAAL,CAAe1O,CAAf,CAAtE;MAAwF;;MAAA,OAAO,OAAI,CAAC6N,UAAL,EAAP;IAAjd;EAA0e;;EAAAc,oBAAoB,CAAC9O,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAO,KAAK0D,OAAL,CAAamL,oBAAb,CAAkC9O,CAAlC,EAAoCC,CAApC,CAAP;EAA8C;;EAAA8O,kBAAkB,GAAE;IAAC,OAAO,KAAKpL,OAAL,CAAaoL,kBAAb,EAAP;EAAyC;;EAAAC,eAAe,GAAE;IAAC,OAAO,KAAKrL,OAAL,CAAaqL,eAAb,EAAP;EAAsC;;EAAAC,iBAAiB,GAAE;IAAC,OAAO,SAAO,KAAKtL,OAAZ,GAAoB,KAAKA,OAAL,CAAasL,iBAAb,EAApB,GAAqD,IAA5D;EAAiE;;EAAAC,uBAAuB,GAAE;IAAC,OAAO,SAAO,KAAKvL,OAAZ,GAAoB,KAAKA,OAAL,CAAauL,uBAAb,EAApB,GAA2D,IAAlE;EAAuE;;EAAAC,UAAU,CAACnP,CAAC,GAAC,IAAH,EAAQ;IAAC,OAAM,eAAaA,CAAC,EAAEoP,UAAhB,GAA2B,IAA3B,GAAgC,WAASpP,CAAC,EAAEoP,UAAZ,GAAuB,IAAvB,GAA4B;MAACC,IAAI,EAAC;IAAN,CAAlE;EAAsF;;EAAMC,eAAe,CAACtP,CAAC,GAAC,IAAH,EAAQC,CAAC,GAAC,IAAV,EAAe;IAAA;;IAAA;MAAC,IAAG,eAAaA,CAAC,EAAEmP,UAAnB,EAA8B,OAAO,OAAP;MAAY,IAAG,aAAWnP,CAAC,EAAEmP,UAAjB,EAA4B,OAAO,MAAM,OAAI,CAAC1J,aAAL,EAAN,EAA2BkJ,IAAI,CAACW,KAAL,CAAWX,IAAI,CAACC,SAAL,CAAe,OAAI,CAACH,MAAL,EAAf,CAAX,CAAlC;MAA4E,IAAG,WAASzO,CAAC,EAAEmP,UAAf,EAA0B,OAAO,IAAP;MAAY,MAAM,OAAI,CAAC1J,aAAL,EAAN;MAA2B,MAAMvF,CAAC,GAAC,EAAR;MAAW,MAAM,OAAI,CAAC0M,MAAL,CAAa,CAAC7M,CAAD,EAAGK,CAAH,KAAO;QAAC,MAAMC,CAAC,GAAC;UAACiL,QAAQ,EAAClL,CAAC,CAACkL,QAAF,GAAW,CAAC,CAAD,KAAKtL,CAAC,EAAEuP,gBAAR,GAAyBnP,CAAC,CAACkL,QAA3B,GAAoClL,CAAC,CAACkL,QAAF,CAAWuC,MAAX,EAA/C,GAAmE,IAA7E;UAAkFC,UAAU,EAAC1N,CAAC,CAAC0N;QAA/F,CAAR;QAAmH,OAAO,SAAOzN,CAAC,CAACiL,QAAT,IAAmBjL,CAAC,CAACiL,QAAF,CAAW3G,gBAA9B,IAAgD,CAAC,CAAD,KAAK3E,CAAC,EAAEuP,gBAAxD,IAA0E,OAAOlP,CAAC,CAACiL,QAAF,CAAW3G,gBAA5F,EAA6GzE,CAAC,CAACsI,IAAF,CAAOnI,CAAP,CAA7G,EAAuH,CAA9H;MAAgI,CAAxQ,EAA0Q,CAA1Q,EAA4QN,CAA5Q,CAAN;;MAAqR,MAAMK,CAAC,GAAC,OAAI,CAACqO,MAAL,EAAR;;MAAsB,OAAOrO,CAAC,CAACwN,QAAF,GAAW1N,CAAX,EAAaE,CAAC,CAACuE,gBAAF,GAAmB,CAAC,CAAD,KAAK3E,CAAC,EAAEuP,gBAAR,GAAyB,OAAI,CAAC5K,gBAA9B,GAA+C,OAAI,CAACA,gBAAL,EAAuBkJ,MAAvB,EAA/E,EAA+GzN,CAAtH;IAA1gB;EAAkoB;;EAA+B,IAA3BoP,2BAA2B,GAAE;IAAC,OAAO,SAAO,KAAKtK,eAAZ,KAA8B,KAAKA,eAAL,GAAqBnF,CAAC,CAACsN,MAAF,CAAS,KAAKjH,cAAL,EAAT,EAA+B,IAA/B,CAAnD,GAAyF,KAAKlB,eAArG;EAAqH;;EAAAuK,aAAa,CAAC1P,CAAD,EAAG;IAAC,OAAO,KAAKyP,2BAAL,CAAiCC,aAAjC,CAA+C1P,CAA/C,CAAP;EAAyD;;EAA0B,IAAtB2P,sBAAsB,GAAE;IAAC,OAAO,KAAKhM,OAAL,EAAcgM,sBAAd,IAAsC,IAA7C;EAAkD;;EAA2B,IAAvBC,uBAAuB,GAAE;IAAC,OAAO,KAAKjM,OAAL,EAAciM,uBAAd,IAAuC,IAA9C;EAAmD;;EAA0B,IAAtBC,sBAAsB,GAAE;IAAC,OAAO,KAAKlM,OAAL,CAAakM,sBAApB;EAA2C;;EAAkB,IAAdC,cAAc,GAAE;IAAC,OAAO,KAAKnM,OAAL,EAAcmM,cAAd,IAA8B,IAArC;EAA0C;;EAAY,IAARC,QAAQ,GAAE;IAAC,OAAO,KAAKpM,OAAL,EAAcoM,QAAd,IAAwB,IAA/B;EAAoC;;AAAppjB;;AAAqpjBzM,CAAC,CAACmI,oBAAF,GAAuB,EAAvB;AAA0B,SAAOnI,CAAC,IAAI0M,OAAZ"},"metadata":{},"sourceType":"module"}