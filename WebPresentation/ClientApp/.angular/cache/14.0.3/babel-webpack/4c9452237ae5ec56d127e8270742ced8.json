{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../request.js\";\nimport { createTask as r } from \"../../../core/asyncUtils.js\";\nimport t from \"../../../core/Handles.js\";\nimport { clamp as s } from \"../../../core/mathUtils.js\";\nimport { destroyMaybe as i, abortMaybe as a, isNone as o, isSome as n, disposeMaybe as l } from \"../../../core/maybe.js\";\nimport { watch as h, initial as m } from \"../../../core/reactiveUtils.js\";\nimport { isSVG as u } from \"../../../core/urlUtils.js\";\nimport { c } from \"../../../chunks/mat3f32.js\";\nimport { DisplayObject as d } from \"../engine/DisplayObject.js\";\nimport { Pos2us as _ } from \"../engine/webgl/DefaultVertexAttributeLayouts.js\";\nimport { WGLDrawPhase as p } from \"../engine/webgl/enums.js\";\nimport { createMagnifierProgram as f, magnifierProgramTemplate as g } from \"../engine/webgl/shaders/MagnifierPrograms.js\";\nimport { loadMagnifierResources as T } from \"../../magnifier/resources.js\";\nimport { BufferObject as x } from \"../../webgl/BufferObject.js\";\nimport { PrimitiveType as b, Usage as R, TextureType as y, PixelFormat as k, PixelType as A, TextureWrapMode as v, TextureSamplingMode as E } from \"../../webgl/enums.js\";\nimport { Texture as j } from \"../../webgl/Texture.js\";\nimport { VertexArrayObject as w } from \"../../webgl/VertexArrayObject.js\";\n\nclass U extends d {\n  constructor() {\n    super(), this._handles = new t(), this._resourcePixelRatio = 1, this.visible = !1;\n  }\n\n  destroy() {\n    this._handles = i(this._handles), this._disposeRenderResources(), this._resourcesTask = a(this._resourcesTask);\n  }\n\n  get background() {\n    return this._background;\n  }\n\n  set background(e) {\n    this._background = e, this.requestRender();\n  }\n\n  get magnifier() {\n    return this._magnifier;\n  }\n\n  set magnifier(e) {\n    this._magnifier = e, this._handles.removeAll(), this._handles.add([h(() => e.version, () => {\n      this.visible = e.visible && n(e.position) && e.size > 0, this.requestRender();\n    }, m), h(() => [e.maskUrl, e.overlayUrl], () => this._reloadResources()), h(() => e.size, () => {\n      this._disposeRenderResources(), this.requestRender();\n    })]);\n  }\n\n  _createTransforms() {\n    return {\n      dvs: c()\n    };\n  }\n\n  doRender(e) {\n    const r = e.context;\n    if (!this._resourcesTask) return void this._reloadResources();\n    if (e.drawPhase !== p.MAP || !this._canRender()) return;\n\n    this._updateResources(e);\n\n    const t = this._magnifier;\n    if (o(t.position)) return;\n    const i = e.pixelRatio,\n          a = t.size * i,\n          n = 1 / t.factor,\n          l = Math.ceil(n * a);\n\n    this._readbackTexture.resize(l, l);\n\n    const {\n      size: h\n    } = e.state,\n          m = i * h[0],\n          u = i * h[1],\n          c = .5 * l,\n          d = .5 * l,\n          _ = s(i * t.position.x, c, m - c - 1),\n          f = s(u - i * t.position.y, d, u - d - 1);\n\n    r.setBlendingEnabled(!0);\n    const g = _ - c,\n          T = f - d,\n          x = this._readbackTexture;\n    r.bindTexture(x, 0), r.gl.copyTexImage2D(x.descriptor.target, 0, x.descriptor.pixelFormat, g, T, l, l, 0);\n    const R = this.background?.color,\n          y = R ? [R.a * R.r / 255, R.a * R.g / 255, R.a * R.b / 255, R.a] : [1, 1, 1, 1],\n          k = (_ + t.offset.x * i) / m * 2 - 1,\n          A = (f - t.offset.y * i) / u * 2 - 1,\n          v = a / m * 2,\n          E = a / u * 2,\n          j = this._program;\n    r.bindVAO(this._vertexArrayObject), r.bindTexture(this._overlayTexture, 6), r.bindTexture(this._maskTexture, 7), r.useProgram(j), j.setUniform4fv(\"u_background\", y), j.setUniform1i(\"u_readbackTexture\", 0), j.setUniform1i(\"u_overlayTexture\", 6), j.setUniform1i(\"u_maskTexture\", 7), j.setUniform4f(\"u_drawPos\", k, A, v, E), j.setUniform1i(\"u_maskEnabled\", t.maskEnabled ? 1 : 0), j.setUniform1i(\"u_overlayEnabled\", t.overlayEnabled ? 1 : 0), r.setStencilTestEnabled(!1), r.setColorMask(!0, !0, !0, !0), r.drawArrays(b.TRIANGLE_STRIP, 0, 4), r.bindVAO();\n  }\n\n  _canRender() {\n    return this.mask && this.overlay && null != this._magnifier;\n  }\n\n  _reloadResources() {\n    var _this = this;\n\n    this._resourcesTask && this._resourcesTask.abort();\n    const t = n(this._magnifier) ? this._magnifier.maskUrl : null,\n          s = n(this._magnifier) ? this._magnifier.overlayUrl : null;\n    this._resourcesTask = r( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (r) {\n        const i = o(t) || o(s) ? T(r) : null,\n              a = n(t) ? e(t, {\n          responseType: \"image\",\n          signal: r\n        }).then(e => e.data) : i.then(e => e.mask),\n              l = n(s) ? e(s, {\n          responseType: \"image\",\n          signal: r\n        }).then(e => e.data) : i.then(e => e.overlay),\n              [h, m] = yield Promise.all([a, l]);\n        _this.mask = h, _this.overlay = m, _this._disposeRenderResources(), _this.requestRender();\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  _disposeRenderResources() {\n    this._readbackTexture = l(this._readbackTexture), this._overlayTexture = l(this._overlayTexture), this._maskTexture = l(this._maskTexture), this._vertexArrayObject = l(this._vertexArrayObject), this._program = l(this._program);\n  }\n\n  _updateResources(e) {\n    if (e.pixelRatio !== this._resourcePixelRatio && this._disposeRenderResources(), this._readbackTexture) return;\n    const r = e.context;\n    this._resourcePixelRatio = e.pixelRatio;\n    const t = Math.ceil(this._magnifier.size * e.pixelRatio);\n    this._program = f(r);\n    const s = new Uint16Array([0, 1, 0, 0, 1, 1, 1, 0]),\n          i = g.attributes;\n    this._vertexArrayObject = new w(r, i, _, {\n      geometry: x.createVertex(r, R.STATIC_DRAW, s)\n    }), this.overlay.width = t, this.overlay.height = t, this._overlayTexture = new j(r, {\n      target: y.TEXTURE_2D,\n      pixelFormat: k.RGBA,\n      internalFormat: k.RGBA,\n      dataType: A.UNSIGNED_BYTE,\n      wrapMode: v.CLAMP_TO_EDGE,\n      samplingMode: E.NEAREST,\n      flipped: !0,\n      preMultiplyAlpha: !u(this.overlay.src) || !e.context.driverTest.svgPremultipliesAlpha.result\n    }, this.overlay), this.mask.width = t, this.mask.height = t, this._maskTexture = new j(r, {\n      target: y.TEXTURE_2D,\n      pixelFormat: k.ALPHA,\n      internalFormat: k.ALPHA,\n      dataType: A.UNSIGNED_BYTE,\n      wrapMode: v.CLAMP_TO_EDGE,\n      samplingMode: E.NEAREST,\n      flipped: !0\n    }, this.mask);\n    const a = 1 / this._magnifier.factor;\n    this._readbackTexture = new j(r, {\n      target: y.TEXTURE_2D,\n      pixelFormat: k.RGBA,\n      internalFormat: k.RGBA,\n      dataType: A.UNSIGNED_BYTE,\n      wrapMode: v.CLAMP_TO_EDGE,\n      samplingMode: E.LINEAR,\n      flipped: !1,\n      width: Math.ceil(a * t),\n      height: Math.ceil(a * t)\n    });\n  }\n\n}\n\nexport { U as default };","map":{"version":3,"names":["e","createTask","r","t","clamp","s","destroyMaybe","i","abortMaybe","a","isNone","o","isSome","n","disposeMaybe","l","watch","h","initial","m","isSVG","u","c","DisplayObject","d","Pos2us","_","WGLDrawPhase","p","createMagnifierProgram","f","magnifierProgramTemplate","g","loadMagnifierResources","T","BufferObject","x","PrimitiveType","b","Usage","R","TextureType","y","PixelFormat","k","PixelType","A","TextureWrapMode","v","TextureSamplingMode","E","Texture","j","VertexArrayObject","w","U","constructor","_handles","_resourcePixelRatio","visible","destroy","_disposeRenderResources","_resourcesTask","background","_background","requestRender","magnifier","_magnifier","removeAll","add","version","position","size","maskUrl","overlayUrl","_reloadResources","_createTransforms","dvs","doRender","context","drawPhase","MAP","_canRender","_updateResources","pixelRatio","factor","Math","ceil","_readbackTexture","resize","state","setBlendingEnabled","bindTexture","gl","copyTexImage2D","descriptor","target","pixelFormat","color","offset","_program","bindVAO","_vertexArrayObject","_overlayTexture","_maskTexture","useProgram","setUniform4fv","setUniform1i","setUniform4f","maskEnabled","overlayEnabled","setStencilTestEnabled","setColorMask","drawArrays","TRIANGLE_STRIP","mask","overlay","abort","responseType","signal","then","data","Promise","all","Uint16Array","attributes","geometry","createVertex","STATIC_DRAW","width","height","TEXTURE_2D","RGBA","internalFormat","dataType","UNSIGNED_BYTE","wrapMode","CLAMP_TO_EDGE","samplingMode","NEAREST","flipped","preMultiplyAlpha","src","driverTest","svgPremultipliesAlpha","result","ALPHA","LINEAR","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/magnifier/MagnifierView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{createTask as r}from\"../../../core/asyncUtils.js\";import t from\"../../../core/Handles.js\";import{clamp as s}from\"../../../core/mathUtils.js\";import{destroyMaybe as i,abortMaybe as a,isNone as o,isSome as n,disposeMaybe as l}from\"../../../core/maybe.js\";import{watch as h,initial as m}from\"../../../core/reactiveUtils.js\";import{isSVG as u}from\"../../../core/urlUtils.js\";import{c}from\"../../../chunks/mat3f32.js\";import{DisplayObject as d}from\"../engine/DisplayObject.js\";import{Pos2us as _}from\"../engine/webgl/DefaultVertexAttributeLayouts.js\";import{WGLDrawPhase as p}from\"../engine/webgl/enums.js\";import{createMagnifierProgram as f,magnifierProgramTemplate as g}from\"../engine/webgl/shaders/MagnifierPrograms.js\";import{loadMagnifierResources as T}from\"../../magnifier/resources.js\";import{BufferObject as x}from\"../../webgl/BufferObject.js\";import{PrimitiveType as b,Usage as R,TextureType as y,PixelFormat as k,PixelType as A,TextureWrapMode as v,TextureSamplingMode as E}from\"../../webgl/enums.js\";import{Texture as j}from\"../../webgl/Texture.js\";import{VertexArrayObject as w}from\"../../webgl/VertexArrayObject.js\";class U extends d{constructor(){super(),this._handles=new t,this._resourcePixelRatio=1,this.visible=!1}destroy(){this._handles=i(this._handles),this._disposeRenderResources(),this._resourcesTask=a(this._resourcesTask)}get background(){return this._background}set background(e){this._background=e,this.requestRender()}get magnifier(){return this._magnifier}set magnifier(e){this._magnifier=e,this._handles.removeAll(),this._handles.add([h((()=>e.version),(()=>{this.visible=e.visible&&n(e.position)&&e.size>0,this.requestRender()}),m),h((()=>[e.maskUrl,e.overlayUrl]),(()=>this._reloadResources())),h((()=>e.size),(()=>{this._disposeRenderResources(),this.requestRender()}))])}_createTransforms(){return{dvs:c()}}doRender(e){const r=e.context;if(!this._resourcesTask)return void this._reloadResources();if(e.drawPhase!==p.MAP||!this._canRender())return;this._updateResources(e);const t=this._magnifier;if(o(t.position))return;const i=e.pixelRatio,a=t.size*i,n=1/t.factor,l=Math.ceil(n*a);this._readbackTexture.resize(l,l);const{size:h}=e.state,m=i*h[0],u=i*h[1],c=.5*l,d=.5*l,_=s(i*t.position.x,c,m-c-1),f=s(u-i*t.position.y,d,u-d-1);r.setBlendingEnabled(!0);const g=_-c,T=f-d,x=this._readbackTexture;r.bindTexture(x,0),r.gl.copyTexImage2D(x.descriptor.target,0,x.descriptor.pixelFormat,g,T,l,l,0);const R=this.background?.color,y=R?[R.a*R.r/255,R.a*R.g/255,R.a*R.b/255,R.a]:[1,1,1,1],k=(_+t.offset.x*i)/m*2-1,A=(f-t.offset.y*i)/u*2-1,v=a/m*2,E=a/u*2,j=this._program;r.bindVAO(this._vertexArrayObject),r.bindTexture(this._overlayTexture,6),r.bindTexture(this._maskTexture,7),r.useProgram(j),j.setUniform4fv(\"u_background\",y),j.setUniform1i(\"u_readbackTexture\",0),j.setUniform1i(\"u_overlayTexture\",6),j.setUniform1i(\"u_maskTexture\",7),j.setUniform4f(\"u_drawPos\",k,A,v,E),j.setUniform1i(\"u_maskEnabled\",t.maskEnabled?1:0),j.setUniform1i(\"u_overlayEnabled\",t.overlayEnabled?1:0),r.setStencilTestEnabled(!1),r.setColorMask(!0,!0,!0,!0),r.drawArrays(b.TRIANGLE_STRIP,0,4),r.bindVAO()}_canRender(){return this.mask&&this.overlay&&null!=this._magnifier}_reloadResources(){this._resourcesTask&&this._resourcesTask.abort();const t=n(this._magnifier)?this._magnifier.maskUrl:null,s=n(this._magnifier)?this._magnifier.overlayUrl:null;this._resourcesTask=r((async r=>{const i=o(t)||o(s)?T(r):null,a=n(t)?e(t,{responseType:\"image\",signal:r}).then((e=>e.data)):i.then((e=>e.mask)),l=n(s)?e(s,{responseType:\"image\",signal:r}).then((e=>e.data)):i.then((e=>e.overlay)),[h,m]=await Promise.all([a,l]);this.mask=h,this.overlay=m,this._disposeRenderResources(),this.requestRender()}))}_disposeRenderResources(){this._readbackTexture=l(this._readbackTexture),this._overlayTexture=l(this._overlayTexture),this._maskTexture=l(this._maskTexture),this._vertexArrayObject=l(this._vertexArrayObject),this._program=l(this._program)}_updateResources(e){if(e.pixelRatio!==this._resourcePixelRatio&&this._disposeRenderResources(),this._readbackTexture)return;const r=e.context;this._resourcePixelRatio=e.pixelRatio;const t=Math.ceil(this._magnifier.size*e.pixelRatio);this._program=f(r);const s=new Uint16Array([0,1,0,0,1,1,1,0]),i=g.attributes;this._vertexArrayObject=new w(r,i,_,{geometry:x.createVertex(r,R.STATIC_DRAW,s)}),this.overlay.width=t,this.overlay.height=t,this._overlayTexture=new j(r,{target:y.TEXTURE_2D,pixelFormat:k.RGBA,internalFormat:k.RGBA,dataType:A.UNSIGNED_BYTE,wrapMode:v.CLAMP_TO_EDGE,samplingMode:E.NEAREST,flipped:!0,preMultiplyAlpha:!u(this.overlay.src)||!e.context.driverTest.svgPremultipliesAlpha.result},this.overlay),this.mask.width=t,this.mask.height=t,this._maskTexture=new j(r,{target:y.TEXTURE_2D,pixelFormat:k.ALPHA,internalFormat:k.ALPHA,dataType:A.UNSIGNED_BYTE,wrapMode:v.CLAMP_TO_EDGE,samplingMode:E.NEAREST,flipped:!0},this.mask);const a=1/this._magnifier.factor;this._readbackTexture=new j(r,{target:y.TEXTURE_2D,pixelFormat:k.RGBA,internalFormat:k.RGBA,dataType:A.UNSIGNED_BYTE,wrapMode:v.CLAMP_TO_EDGE,samplingMode:E.LINEAR,flipped:!1,width:Math.ceil(a*t),height:Math.ceil(a*t)})}}export{U as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}