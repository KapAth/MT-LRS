{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Error.js\";\nimport t from \"../../../../core/Logger.js\";\nimport { getOrCreateMapValue as r } from \"../../../../core/MapUtils.js\";\nimport { eachAlwaysValues as o } from \"../../../../core/promiseUtils.js\";\nimport { isDataProtocol as n, dataComponents as s, dataToArrayBuffer as a, makeAbsolute as i } from \"../../../../core/urlUtils.js\";\nimport { Version as u } from \"../../../../core/Version.js\";\nimport { A as f, m as c, w as d, e as l, k as p } from \"../../../../chunks/mat4.js\";\nimport { c as h, b as m } from \"../../../../chunks/mat4f64.js\";\nimport { g as w } from \"../../../../chunks/quat.js\";\nimport { a as y } from \"../../../../chunks/quatf64.js\";\nimport { BufferViewUint32 as T, BufferViewUint16 as b, BufferViewUint8 as _, BufferViewVec3f as g, BufferViewVec4f as x, BufferViewVec2f as O, BufferViewVec4u8 as N, BufferViewVec4u16 as S, BufferViewVec3u8 as C, BufferViewVec3u16 as A, BufferViewVec2u32 as L, BufferViewVec2u16 as E, BufferViewVec2i16 as I, BufferViewVec2u8 as R, BufferViewVec2i8 as B } from \"../../../../geometry/support/buffer/BufferView.js\";\nimport { m as v } from \"../../../../chunks/scalar.js\";\nimport { BinaryStreamReader as U } from \"./BinaryStreamReader.js\";\nimport { AttributeType as D } from \"./enums.js\";\nimport { material as G, textureSampler as j } from \"./fillDefaults.js\";\nimport { splitURI as M } from \"./pathUtils.js\";\nimport { jsonFromBinaryData as F, EncodedMeshTexture as H, imageFromBinaryData as P, isEncodedMeshTexture as V } from \"./resourceUtils.js\";\nimport { DataType as k } from \"../../../webgl/enums.js\";\nconst K = {\n  MAGIC: 1179937895,\n  CHUNK_TYPE_JSON: 1313821514,\n  CHUNK_TYPE_BIN: 5130562,\n  MIN_HEADER_LENGTH: 20\n};\n\nclass Y {\n  constructor(t, r, o, n) {\n    if (this._context = t, this.uri = r, this.json = o, this._glbBuffer = n, this._bufferLoaders = new Map(), this._textureLoaders = new Map(), this._textureCache = new Map(), this._materialCache = new Map(), this._nodeParentMap = new Map(), this._nodeTransformCache = new Map(), this._supportedExtensions = [\"KHR_texture_basisu\"], this._baseUri = M(this.uri).dirPart, this._checkVersionSupported(), this._checkRequiredExtensionsSupported(), null == o.scenes) throw new e(\"gltf-loader-unsupported-feature\", \"Scenes must be defined.\");\n    if (null == o.meshes) throw new e(\"gltf-loader-unsupported-feature\", \"Meshes must be defined\");\n    if (null == o.nodes) throw new e(\"gltf-loader-unsupported-feature\", \"Nodes must be defined.\");\n\n    this._computeNodeParents();\n  }\n\n  static load(e, t, r) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (n(t)) {\n        const r = s(t);\n        if (r && \"model/gltf-binary\" !== r.mediaType) try {\n          const o = JSON.parse(r.isBase64 ? atob(r.data) : r.data);\n          return new Y(e, t, o);\n        } catch {}\n        const o = a(t);\n        if (Y._isGLBData(o)) return _this._fromGLBData(e, t, o);\n      }\n\n      if (t.endsWith(\".gltf\")) {\n        const o = yield e.loadJSON(t, r);\n        return new Y(e, t, o);\n      }\n\n      const o = yield e.loadBinary(t, r);\n      if (Y._isGLBData(o)) return _this._fromGLBData(e, t, o);\n      const i = yield e.loadJSON(t, r);\n      return new Y(e, t, i);\n    })();\n  }\n\n  static _isGLBData(e) {\n    if (null == e) return !1;\n    const t = new U(e);\n    return t.remainingBytes() >= 4 && t.readUint32() === K.MAGIC;\n  }\n\n  static _fromGLBData(e, t, r) {\n    return _asyncToGenerator(function* () {\n      const o = yield Y._parseGLBData(r);\n      return new Y(e, t, o.json, o.binaryData);\n    })();\n  }\n\n  static _parseGLBData(r) {\n    return _asyncToGenerator(function* () {\n      const o = new U(r);\n      if (o.remainingBytes() < 12) throw new e(\"gltf-loader-error\", \"GLB binary data is insufficiently large.\");\n      const n = o.readUint32(),\n            s = o.readUint32(),\n            a = o.readUint32();\n      if (n !== K.MAGIC) throw new e(\"gltf-loader-error\", \"Magic first 4 bytes do not fit to expected GLB value.\");\n      if (r.byteLength < a) throw new e(\"gltf-loader-error\", \"GLB binary data is smaller than header specifies.\");\n      if (2 !== s) throw new e(\"gltf-loader-unsupported-feature\", \"An unsupported GLB container version was detected. Only version 2 is supported.\");\n      let i,\n          u,\n          f = 0;\n\n      for (; o.remainingBytes() >= 8;) {\n        const r = o.readUint32(),\n              n = o.readUint32();\n\n        if (0 === f) {\n          if (n !== K.CHUNK_TYPE_JSON) throw new e(\"gltf-loader-error\", \"First GLB chunk must be JSON.\");\n          if (r < 0) throw new e(\"gltf-loader-error\", \"No JSON data found.\");\n          i = yield F(o.readUint8Array(r));\n        } else if (1 === f) {\n          if (n !== K.CHUNK_TYPE_BIN) throw new e(\"gltf-loader-unsupported-feature\", \"Second GLB chunk expected to be BIN.\");\n          u = o.readUint8Array(r);\n        } else t.getLogger(\"esri.views.3d.glTF\").warn(\"[Unsupported Feature] More than 2 GLB chunks detected. Skipping.\");\n\n        f += 1;\n      }\n\n      if (!i) throw new e(\"gltf-loader-error\", \"No GLB JSON chunk detected.\");\n      return {\n        json: i,\n        binaryData: u\n      };\n    })();\n  }\n\n  getBuffer(t, r) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const o = _this2.json.buffers[t];\n\n      if (null == o.uri) {\n        if (null == _this2._glbBuffer) throw new e(\"gltf-loader-error\", \"GLB buffer not present\");\n        return _this2._glbBuffer;\n      }\n\n      const n = yield _this2._getBufferLoader(t, r);\n      if (n.byteLength !== o.byteLength) throw new e(\"gltf-loader-error\", \"Buffer byte lengths should match.\");\n      return n;\n    })();\n  }\n\n  _getBufferLoader(e, t) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const r = _this3._bufferLoaders.get(e);\n\n      if (r) return r;\n\n      const o = _this3.json.buffers[e].uri,\n            n = _this3._context.loadBinary(_this3._resolveUri(o), t).then(e => new Uint8Array(e));\n\n      return _this3._bufferLoaders.set(e, n), n;\n    })();\n  }\n\n  getAccessor(t, r) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this4.json.accessors) throw new e(\"gltf-loader-unsupported-feature\", \"Accessors missing.\");\n      const o = _this4.json.accessors[t];\n      if (null == o?.bufferView) throw new e(\"gltf-loader-unsupported-feature\", \"Some accessor does not specify a bufferView.\");\n      if (o.type in [D.MAT2, D.MAT3, D.MAT4]) throw new e(\"gltf-loader-unsupported-feature\", `AttributeType ${o.type} is not supported`);\n      const n = _this4.json.bufferViews[o.bufferView],\n            s = yield _this4.getBuffer(n.buffer, r),\n            a = X[o.type],\n            i = W[o.componentType],\n            u = a * i,\n            f = n.byteStride || u;\n      return {\n        raw: s.buffer,\n        byteStride: f,\n        byteOffset: s.byteOffset + (n.byteOffset || 0) + (o.byteOffset || 0),\n        entryCount: o.count,\n        isDenselyPacked: f === u,\n        componentCount: a,\n        componentByteSize: i,\n        componentType: o.componentType,\n        min: o.min,\n        max: o.max,\n        normalized: !!o.normalized\n      };\n    })();\n  }\n\n  getIndexData(e, t) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      if (null == e.indices) return;\n      const r = yield _this5.getAccessor(e.indices, t);\n      if (r.isDenselyPacked) switch (r.componentType) {\n        case k.UNSIGNED_BYTE:\n          return new Uint8Array(r.raw, r.byteOffset, r.entryCount);\n\n        case k.UNSIGNED_SHORT:\n          return new Uint16Array(r.raw, r.byteOffset, r.entryCount);\n\n        case k.UNSIGNED_INT:\n          return new Uint32Array(r.raw, r.byteOffset, r.entryCount);\n      } else switch (r.componentType) {\n        case k.UNSIGNED_BYTE:\n          return v(_this5._wrapAccessor(_, r));\n\n        case k.UNSIGNED_SHORT:\n          return v(_this5._wrapAccessor(b, r));\n\n        case k.UNSIGNED_INT:\n          return v(_this5._wrapAccessor(T, r));\n      }\n    })();\n  }\n\n  getPositionData(t, r) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      if (null == t.attributes.POSITION) throw new e(\"gltf-loader-unsupported-feature\", \"No POSITION vertex data found.\");\n      const o = yield _this6.getAccessor(t.attributes.POSITION, r);\n      if (o.componentType !== k.FLOAT) throw new e(\"gltf-loader-unsupported-feature\", \"Expected type FLOAT for POSITION vertex attribute, but found \" + k[o.componentType]);\n      if (3 !== o.componentCount) throw new e(\"gltf-loader-unsupported-feature\", \"POSITION vertex attribute must have 3 components, but found \" + o.componentCount.toFixed());\n      return _this6._wrapAccessor(g, o);\n    })();\n  }\n\n  getNormalData(t, r) {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      if (null == t.attributes.NORMAL) throw new e(\"gltf-loader-error\", \"No NORMAL vertex data found.\");\n      const o = yield _this7.getAccessor(t.attributes.NORMAL, r);\n      if (o.componentType !== k.FLOAT) throw new e(\"gltf-loader-unsupported-feature\", \"Expected type FLOAT for NORMAL vertex attribute, but found \" + k[o.componentType]);\n      if (3 !== o.componentCount) throw new e(\"gltf-loader-unsupported-feature\", \"NORMAL vertex attribute must have 3 components, but found \" + o.componentCount.toFixed());\n      return _this7._wrapAccessor(g, o);\n    })();\n  }\n\n  getTangentData(t, r) {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      if (null == t.attributes.TANGENT) throw new e(\"gltf-loader-error\", \"No TANGENT vertex data found.\");\n      const o = yield _this8.getAccessor(t.attributes.TANGENT, r);\n      if (o.componentType !== k.FLOAT) throw new e(\"gltf-loader-unsupported-feature\", \"Expected type FLOAT for TANGENT vertex attribute, but found \" + k[o.componentType]);\n      if (4 !== o.componentCount) throw new e(\"gltf-loader-unsupported-feature\", \"TANGENT vertex attribute must have 4 components, but found \" + o.componentCount.toFixed());\n      return new x(o.raw, o.byteOffset, o.byteStride, o.byteOffset + o.byteStride * o.entryCount);\n    })();\n  }\n\n  getTextureCoordinates(t, r) {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      if (null == t.attributes.TEXCOORD_0) throw new e(\"gltf-loader-error\", \"No TEXCOORD_0 vertex data found.\");\n      const o = yield _this9.getAccessor(t.attributes.TEXCOORD_0, r);\n      if (2 !== o.componentCount) throw new e(\"gltf-loader-unsupported-feature\", \"TEXCOORD_0 vertex attribute must have 2 components, but found \" + o.componentCount.toFixed());\n      if (o.componentType === k.FLOAT) return _this9._wrapAccessor(O, o);\n      if (!o.normalized) throw new e(\"gltf-loader-unsupported-feature\", \"Integer component types are only supported for a normalized accessor for TEXCOORD_0.\");\n      return $(o);\n    })();\n  }\n\n  getVertexColors(t, r) {\n    var _this10 = this;\n\n    return _asyncToGenerator(function* () {\n      if (null == t.attributes.COLOR_0) throw new e(\"gltf-loader-error\", \"No COLOR_0 vertex data found.\");\n      const o = yield _this10.getAccessor(t.attributes.COLOR_0, r);\n      if (4 !== o.componentCount && 3 !== o.componentCount) throw new e(\"gltf-loader-unsupported-feature\", \"COLOR_0 attribute must have 3 or 4 components, but found \" + o.componentCount.toFixed());\n\n      if (4 === o.componentCount) {\n        if (o.componentType === k.FLOAT) return _this10._wrapAccessor(x, o);\n        if (o.componentType === k.UNSIGNED_BYTE) return _this10._wrapAccessor(N, o);\n        if (o.componentType === k.UNSIGNED_SHORT) return _this10._wrapAccessor(S, o);\n      } else if (3 === o.componentCount) {\n        if (o.componentType === k.FLOAT) return _this10._wrapAccessor(g, o);\n        if (o.componentType === k.UNSIGNED_BYTE) return _this10._wrapAccessor(C, o);\n        if (o.componentType === k.UNSIGNED_SHORT) return _this10._wrapAccessor(A, o);\n      }\n\n      throw new e(\"gltf-loader-unsupported-feature\", \"Unsupported component type for COLOR_0 attribute: \" + k[o.componentType]);\n    })();\n  }\n\n  hasPositions(e) {\n    return void 0 !== e.attributes.POSITION;\n  }\n\n  hasNormals(e) {\n    return void 0 !== e.attributes.NORMAL;\n  }\n\n  hasVertexColors(e) {\n    return void 0 !== e.attributes.COLOR_0;\n  }\n\n  hasTextureCoordinates(e) {\n    return void 0 !== e.attributes.TEXCOORD_0;\n  }\n\n  hasTangents(e) {\n    return void 0 !== e.attributes.TANGENT;\n  }\n\n  getMaterial(e, t, r) {\n    var _this11 = this;\n\n    return _asyncToGenerator(function* () {\n      let o = e.material ? _this11._materialCache.get(e.material) : void 0;\n\n      if (!o) {\n        const n = null != e.material ? G(_this11.json.materials[e.material]) : G(),\n              s = n.pbrMetallicRoughness,\n              a = _this11.hasVertexColors(e),\n              i = _this11.getTexture(s.baseColorTexture, t),\n              u = _this11.getTexture(n.normalTexture, t),\n              f = r ? _this11.getTexture(n.occlusionTexture, t) : void 0,\n              c = r ? _this11.getTexture(n.emissiveTexture, t) : void 0,\n              d = r ? _this11.getTexture(s.metallicRoughnessTexture, t) : void 0,\n              l = null != e.material ? e.material : -1;\n\n        o = {\n          alphaMode: n.alphaMode,\n          alphaCutoff: n.alphaCutoff,\n          color: s.baseColorFactor,\n          doubleSided: !!n.doubleSided,\n          colorTexture: yield i,\n          normalTexture: yield u,\n          name: n.name,\n          id: l,\n          occlusionTexture: yield f,\n          emissiveTexture: yield c,\n          emissiveFactor: n.emissiveFactor,\n          metallicFactor: s.metallicFactor,\n          roughnessFactor: s.roughnessFactor,\n          metallicRoughnessTexture: yield d,\n          hasVertexColors: a,\n          ESRI_externalColorMixMode: n.extras.ESRI_externalColorMixMode,\n          colorTextureTransform: s?.baseColorTexture?.extensions?.KHR_texture_transform,\n          normalTextureTransform: n.normalTexture?.extensions?.KHR_texture_transform,\n          occlusionTextureTransform: n.occlusionTexture?.extensions?.KHR_texture_transform,\n          emissiveTextureTransform: n.emissiveTexture?.extensions?.KHR_texture_transform,\n          metallicRoughnessTextureTransform: s?.metallicRoughnessTexture?.extensions?.KHR_texture_transform\n        };\n      }\n\n      return o;\n    })();\n  }\n\n  getTexture(t, o) {\n    var _this12 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!t) return;\n      if (0 !== (t.texCoord || 0)) throw new e(\"gltf-loader-unsupported-feature\", \"Only TEXCOORD with index 0 is supported.\");\n\n      const n = t.index,\n            s = _this12.json.textures[n],\n            a = j(null != s.sampler ? _this12.json.samplers[s.sampler] : {}),\n            i = _this12._getTextureSourceId(s),\n            u = _this12.json.images[i],\n            f = yield _this12._loadTextureImageData(n, s, o);\n\n      return r(_this12._textureCache, n, () => {\n        const t = e => 33071 === e || 33648 === e || 10497 === e,\n              r = t => {\n          throw new e(\"gltf-loader-error\", `Unexpected TextureSampler WrapMode: ${t}`);\n        };\n\n        return {\n          data: f,\n          wrapS: t(a.wrapS) ? a.wrapS : r(a.wrapS),\n          wrapT: t(a.wrapT) ? a.wrapT : r(a.wrapT),\n          minFilter: a.minFilter,\n          name: u.name,\n          id: n\n        };\n      });\n    })();\n  }\n\n  getNodeTransform(e) {\n    if (void 0 === e) return q;\n\n    let t = this._nodeTransformCache.get(e);\n\n    if (!t) {\n      const r = this.getNodeTransform(this._getNodeParent(e)),\n            o = this.json.nodes[e];\n      o.matrix ? t = c(h(), r, o.matrix) : o.translation || o.rotation || o.scale ? (t = m(r), o.translation && d(t, t, o.translation), o.rotation && (z[3] = w(z, o.rotation), l(t, t, z[3], z)), o.scale && p(t, t, o.scale)) : t = m(r), this._nodeTransformCache.set(e, t);\n    }\n\n    return t;\n  }\n\n  _wrapAccessor(e, t) {\n    return new e(t.raw, t.byteOffset, t.byteStride, t.byteOffset + t.byteStride * (t.entryCount - 1) + t.componentByteSize * t.componentCount);\n  }\n\n  _resolveUri(e) {\n    return i(e, this._baseUri);\n  }\n\n  _getNodeParent(e) {\n    return this._nodeParentMap.get(e);\n  }\n\n  _checkVersionSupported() {\n    const e = u.parse(this.json.asset.version, \"glTF\");\n    J.validate(e);\n  }\n\n  _checkRequiredExtensionsSupported() {\n    const t = this.json;\n\n    if (t.extensionsRequired) {\n      if (!t.extensionsRequired.every(e => this._supportedExtensions.includes(e))) throw new e(\"gltf-loader-unsupported-feature\", \"gltf loader was not able to load unsupported feature. Required extensions: \" + t.extensionsRequired.join(\", \"));\n    }\n  }\n\n  _computeNodeParents() {\n    this.json.nodes.forEach((e, t) => {\n      e.children && e.children.forEach(e => {\n        this._nodeParentMap.set(e, t);\n      });\n    });\n  }\n\n  _loadTextureImageData(e, t, r) {\n    var _this13 = this;\n\n    return _asyncToGenerator(function* () {\n      const o = _this13._textureLoaders.get(e);\n\n      if (o) return o;\n\n      const n = _this13._createTextureLoader(t, r);\n\n      return _this13._textureLoaders.set(e, n), n;\n    })();\n  }\n\n  _getTextureSourceId(t) {\n    if (void 0 !== t.extensions && null !== t.extensions.KHR_texture_basisu) return t.extensions.KHR_texture_basisu.source;\n    if (null !== t.source) return t.source;\n    throw new e(\"gltf-loader-unsupported-feature\", \"Source is expected to be defined for a texture. It can also be omitted in favour of an KHR_texture_basisu extension tag.\");\n  }\n\n  _createTextureLoader(t, r) {\n    var _this14 = this;\n\n    return _asyncToGenerator(function* () {\n      const o = _this14._getTextureSourceId(t),\n            n = _this14.json.images[o];\n\n      if (n.uri) {\n        if (n.uri.endsWith(\".ktx2\")) {\n          const e = yield _this14._context.loadBinary(_this14._resolveUri(n.uri), r);\n          return new H(new Uint8Array(e));\n        }\n\n        return _this14._context.loadImage(_this14._resolveUri(n.uri), r);\n      }\n\n      if (null == n.bufferView) throw new e(\"gltf-loader-unsupported-feature\", \"Image bufferView must be defined.\");\n      if (null == n.mimeType) throw new e(\"gltf-loader-unsupported-feature\", \"Image mimeType must be defined.\");\n      const s = _this14.json.bufferViews[n.bufferView],\n            a = yield _this14.getBuffer(s.buffer, r);\n      if (null != s.byteStride) throw new e(\"gltf-loader-unsupported-feature\", \"byteStride not supported for image buffer\");\n      const i = a.byteOffset + (s.byteOffset || 0);\n      return P(new Uint8Array(a.buffer, i, s.byteLength), n.mimeType);\n    })();\n  }\n\n  getLoadedBuffersSize() {\n    var _this15 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this15._glbBuffer) return _this15._glbBuffer.byteLength;\n      const e = yield o(Array.from(_this15._bufferLoaders.values())),\n            t = yield o(Array.from(_this15._textureLoaders.values()));\n      return e.reduce((e, t) => e + (t?.byteLength ?? 0), 0) + t.reduce((e, t) => e + (t ? V(t) ? t.data.byteLength : t.width * t.height * 4 : 0), 0);\n    })();\n  }\n\n}\n\nconst q = f(h(), Math.PI / 2),\n      J = new u(2, 0, \"glTF\"),\n      z = y(),\n      X = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4\n},\n      W = {\n  [k.BYTE]: 1,\n  [k.UNSIGNED_BYTE]: 1,\n  [k.SHORT]: 2,\n  [k.UNSIGNED_SHORT]: 2,\n  [k.FLOAT]: 4,\n  [k.UNSIGNED_INT]: 4\n};\n\nfunction $(e) {\n  switch (e.componentType) {\n    case k.BYTE:\n      return new B(e.raw, e.byteOffset, e.byteStride, e.byteOffset + e.byteStride * e.entryCount);\n\n    case k.UNSIGNED_BYTE:\n      return new R(e.raw, e.byteOffset, e.byteStride, e.byteOffset + e.byteStride * e.entryCount);\n\n    case k.SHORT:\n      return new I(e.raw, e.byteOffset, e.byteStride, e.byteOffset + e.byteStride * e.entryCount);\n\n    case k.UNSIGNED_SHORT:\n      return new E(e.raw, e.byteOffset, e.byteStride, e.byteOffset + e.byteStride * e.entryCount);\n\n    case k.UNSIGNED_INT:\n      return new L(e.raw, e.byteOffset, e.byteStride, e.byteOffset + e.byteStride * e.entryCount);\n\n    case k.FLOAT:\n      return new O(e.raw, e.byteOffset, e.byteStride, e.byteOffset + e.byteStride * e.entryCount);\n  }\n}\n\nexport { Y as GLTFResource, q as TRANSFORM_GLTF_TO_ENGINE };","map":{"version":3,"names":["e","t","getOrCreateMapValue","r","eachAlwaysValues","o","isDataProtocol","n","dataComponents","s","dataToArrayBuffer","a","makeAbsolute","i","Version","u","A","f","m","c","w","d","l","k","p","h","b","g","y","BufferViewUint32","T","BufferViewUint16","BufferViewUint8","_","BufferViewVec3f","BufferViewVec4f","x","BufferViewVec2f","O","BufferViewVec4u8","N","BufferViewVec4u16","S","BufferViewVec3u8","C","BufferViewVec3u16","BufferViewVec2u32","L","BufferViewVec2u16","E","BufferViewVec2i16","I","BufferViewVec2u8","R","BufferViewVec2i8","B","v","BinaryStreamReader","U","AttributeType","D","material","G","textureSampler","j","splitURI","M","jsonFromBinaryData","F","EncodedMeshTexture","H","imageFromBinaryData","P","isEncodedMeshTexture","V","DataType","K","MAGIC","CHUNK_TYPE_JSON","CHUNK_TYPE_BIN","MIN_HEADER_LENGTH","Y","constructor","_context","uri","json","_glbBuffer","_bufferLoaders","Map","_textureLoaders","_textureCache","_materialCache","_nodeParentMap","_nodeTransformCache","_supportedExtensions","_baseUri","dirPart","_checkVersionSupported","_checkRequiredExtensionsSupported","scenes","meshes","nodes","_computeNodeParents","load","mediaType","JSON","parse","isBase64","atob","data","_isGLBData","_fromGLBData","endsWith","loadJSON","loadBinary","remainingBytes","readUint32","_parseGLBData","binaryData","byteLength","readUint8Array","getLogger","warn","getBuffer","buffers","_getBufferLoader","get","_resolveUri","then","Uint8Array","set","getAccessor","accessors","bufferView","type","MAT2","MAT3","MAT4","bufferViews","buffer","X","W","componentType","byteStride","raw","byteOffset","entryCount","count","isDenselyPacked","componentCount","componentByteSize","min","max","normalized","getIndexData","indices","UNSIGNED_BYTE","UNSIGNED_SHORT","Uint16Array","UNSIGNED_INT","Uint32Array","_wrapAccessor","getPositionData","attributes","POSITION","FLOAT","toFixed","getNormalData","NORMAL","getTangentData","TANGENT","getTextureCoordinates","TEXCOORD_0","$","getVertexColors","COLOR_0","hasPositions","hasNormals","hasVertexColors","hasTextureCoordinates","hasTangents","getMaterial","materials","pbrMetallicRoughness","getTexture","baseColorTexture","normalTexture","occlusionTexture","emissiveTexture","metallicRoughnessTexture","alphaMode","alphaCutoff","color","baseColorFactor","doubleSided","colorTexture","name","id","emissiveFactor","metallicFactor","roughnessFactor","ESRI_externalColorMixMode","extras","colorTextureTransform","extensions","KHR_texture_transform","normalTextureTransform","occlusionTextureTransform","emissiveTextureTransform","metallicRoughnessTextureTransform","texCoord","index","textures","sampler","samplers","_getTextureSourceId","images","_loadTextureImageData","wrapS","wrapT","minFilter","getNodeTransform","q","_getNodeParent","matrix","translation","rotation","scale","z","asset","version","J","validate","extensionsRequired","every","includes","join","forEach","children","_createTextureLoader","KHR_texture_basisu","source","loadImage","mimeType","getLoadedBuffersSize","Array","from","values","reduce","width","height","Math","PI","SCALAR","VEC2","VEC3","VEC4","BYTE","SHORT","GLTFResource","TRANSFORM_GLTF_TO_ENGINE"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/Logger.js\";import{getOrCreateMapValue as r}from\"../../../../core/MapUtils.js\";import{eachAlwaysValues as o}from\"../../../../core/promiseUtils.js\";import{isDataProtocol as n,dataComponents as s,dataToArrayBuffer as a,makeAbsolute as i}from\"../../../../core/urlUtils.js\";import{Version as u}from\"../../../../core/Version.js\";import{A as f,m as c,w as d,e as l,k as p}from\"../../../../chunks/mat4.js\";import{c as h,b as m}from\"../../../../chunks/mat4f64.js\";import{g as w}from\"../../../../chunks/quat.js\";import{a as y}from\"../../../../chunks/quatf64.js\";import{BufferViewUint32 as T,BufferViewUint16 as b,BufferViewUint8 as _,BufferViewVec3f as g,BufferViewVec4f as x,BufferViewVec2f as O,BufferViewVec4u8 as N,BufferViewVec4u16 as S,BufferViewVec3u8 as C,BufferViewVec3u16 as A,BufferViewVec2u32 as L,BufferViewVec2u16 as E,BufferViewVec2i16 as I,BufferViewVec2u8 as R,BufferViewVec2i8 as B}from\"../../../../geometry/support/buffer/BufferView.js\";import{m as v}from\"../../../../chunks/scalar.js\";import{BinaryStreamReader as U}from\"./BinaryStreamReader.js\";import{AttributeType as D}from\"./enums.js\";import{material as G,textureSampler as j}from\"./fillDefaults.js\";import{splitURI as M}from\"./pathUtils.js\";import{jsonFromBinaryData as F,EncodedMeshTexture as H,imageFromBinaryData as P,isEncodedMeshTexture as V}from\"./resourceUtils.js\";import{DataType as k}from\"../../../webgl/enums.js\";const K={MAGIC:1179937895,CHUNK_TYPE_JSON:1313821514,CHUNK_TYPE_BIN:5130562,MIN_HEADER_LENGTH:20};class Y{constructor(t,r,o,n){if(this._context=t,this.uri=r,this.json=o,this._glbBuffer=n,this._bufferLoaders=new Map,this._textureLoaders=new Map,this._textureCache=new Map,this._materialCache=new Map,this._nodeParentMap=new Map,this._nodeTransformCache=new Map,this._supportedExtensions=[\"KHR_texture_basisu\"],this._baseUri=M(this.uri).dirPart,this._checkVersionSupported(),this._checkRequiredExtensionsSupported(),null==o.scenes)throw new e(\"gltf-loader-unsupported-feature\",\"Scenes must be defined.\");if(null==o.meshes)throw new e(\"gltf-loader-unsupported-feature\",\"Meshes must be defined\");if(null==o.nodes)throw new e(\"gltf-loader-unsupported-feature\",\"Nodes must be defined.\");this._computeNodeParents()}static async load(e,t,r){if(n(t)){const r=s(t);if(r&&\"model/gltf-binary\"!==r.mediaType)try{const o=JSON.parse(r.isBase64?atob(r.data):r.data);return new Y(e,t,o)}catch{}const o=a(t);if(Y._isGLBData(o))return this._fromGLBData(e,t,o)}if(t.endsWith(\".gltf\")){const o=await e.loadJSON(t,r);return new Y(e,t,o)}const o=await e.loadBinary(t,r);if(Y._isGLBData(o))return this._fromGLBData(e,t,o);const i=await e.loadJSON(t,r);return new Y(e,t,i)}static _isGLBData(e){if(null==e)return!1;const t=new U(e);return t.remainingBytes()>=4&&t.readUint32()===K.MAGIC}static async _fromGLBData(e,t,r){const o=await Y._parseGLBData(r);return new Y(e,t,o.json,o.binaryData)}static async _parseGLBData(r){const o=new U(r);if(o.remainingBytes()<12)throw new e(\"gltf-loader-error\",\"GLB binary data is insufficiently large.\");const n=o.readUint32(),s=o.readUint32(),a=o.readUint32();if(n!==K.MAGIC)throw new e(\"gltf-loader-error\",\"Magic first 4 bytes do not fit to expected GLB value.\");if(r.byteLength<a)throw new e(\"gltf-loader-error\",\"GLB binary data is smaller than header specifies.\");if(2!==s)throw new e(\"gltf-loader-unsupported-feature\",\"An unsupported GLB container version was detected. Only version 2 is supported.\");let i,u,f=0;for(;o.remainingBytes()>=8;){const r=o.readUint32(),n=o.readUint32();if(0===f){if(n!==K.CHUNK_TYPE_JSON)throw new e(\"gltf-loader-error\",\"First GLB chunk must be JSON.\");if(r<0)throw new e(\"gltf-loader-error\",\"No JSON data found.\");i=await F(o.readUint8Array(r))}else if(1===f){if(n!==K.CHUNK_TYPE_BIN)throw new e(\"gltf-loader-unsupported-feature\",\"Second GLB chunk expected to be BIN.\");u=o.readUint8Array(r)}else t.getLogger(\"esri.views.3d.glTF\").warn(\"[Unsupported Feature] More than 2 GLB chunks detected. Skipping.\");f+=1}if(!i)throw new e(\"gltf-loader-error\",\"No GLB JSON chunk detected.\");return{json:i,binaryData:u}}async getBuffer(t,r){const o=this.json.buffers[t];if(null==o.uri){if(null==this._glbBuffer)throw new e(\"gltf-loader-error\",\"GLB buffer not present\");return this._glbBuffer}const n=await this._getBufferLoader(t,r);if(n.byteLength!==o.byteLength)throw new e(\"gltf-loader-error\",\"Buffer byte lengths should match.\");return n}async _getBufferLoader(e,t){const r=this._bufferLoaders.get(e);if(r)return r;const o=this.json.buffers[e].uri,n=this._context.loadBinary(this._resolveUri(o),t).then((e=>new Uint8Array(e)));return this._bufferLoaders.set(e,n),n}async getAccessor(t,r){if(!this.json.accessors)throw new e(\"gltf-loader-unsupported-feature\",\"Accessors missing.\");const o=this.json.accessors[t];if(null==o?.bufferView)throw new e(\"gltf-loader-unsupported-feature\",\"Some accessor does not specify a bufferView.\");if(o.type in[D.MAT2,D.MAT3,D.MAT4])throw new e(\"gltf-loader-unsupported-feature\",`AttributeType ${o.type} is not supported`);const n=this.json.bufferViews[o.bufferView],s=await this.getBuffer(n.buffer,r),a=X[o.type],i=W[o.componentType],u=a*i,f=n.byteStride||u;return{raw:s.buffer,byteStride:f,byteOffset:s.byteOffset+(n.byteOffset||0)+(o.byteOffset||0),entryCount:o.count,isDenselyPacked:f===u,componentCount:a,componentByteSize:i,componentType:o.componentType,min:o.min,max:o.max,normalized:!!o.normalized}}async getIndexData(e,t){if(null==e.indices)return;const r=await this.getAccessor(e.indices,t);if(r.isDenselyPacked)switch(r.componentType){case k.UNSIGNED_BYTE:return new Uint8Array(r.raw,r.byteOffset,r.entryCount);case k.UNSIGNED_SHORT:return new Uint16Array(r.raw,r.byteOffset,r.entryCount);case k.UNSIGNED_INT:return new Uint32Array(r.raw,r.byteOffset,r.entryCount)}else switch(r.componentType){case k.UNSIGNED_BYTE:return v(this._wrapAccessor(_,r));case k.UNSIGNED_SHORT:return v(this._wrapAccessor(b,r));case k.UNSIGNED_INT:return v(this._wrapAccessor(T,r))}}async getPositionData(t,r){if(null==t.attributes.POSITION)throw new e(\"gltf-loader-unsupported-feature\",\"No POSITION vertex data found.\");const o=await this.getAccessor(t.attributes.POSITION,r);if(o.componentType!==k.FLOAT)throw new e(\"gltf-loader-unsupported-feature\",\"Expected type FLOAT for POSITION vertex attribute, but found \"+k[o.componentType]);if(3!==o.componentCount)throw new e(\"gltf-loader-unsupported-feature\",\"POSITION vertex attribute must have 3 components, but found \"+o.componentCount.toFixed());return this._wrapAccessor(g,o)}async getNormalData(t,r){if(null==t.attributes.NORMAL)throw new e(\"gltf-loader-error\",\"No NORMAL vertex data found.\");const o=await this.getAccessor(t.attributes.NORMAL,r);if(o.componentType!==k.FLOAT)throw new e(\"gltf-loader-unsupported-feature\",\"Expected type FLOAT for NORMAL vertex attribute, but found \"+k[o.componentType]);if(3!==o.componentCount)throw new e(\"gltf-loader-unsupported-feature\",\"NORMAL vertex attribute must have 3 components, but found \"+o.componentCount.toFixed());return this._wrapAccessor(g,o)}async getTangentData(t,r){if(null==t.attributes.TANGENT)throw new e(\"gltf-loader-error\",\"No TANGENT vertex data found.\");const o=await this.getAccessor(t.attributes.TANGENT,r);if(o.componentType!==k.FLOAT)throw new e(\"gltf-loader-unsupported-feature\",\"Expected type FLOAT for TANGENT vertex attribute, but found \"+k[o.componentType]);if(4!==o.componentCount)throw new e(\"gltf-loader-unsupported-feature\",\"TANGENT vertex attribute must have 4 components, but found \"+o.componentCount.toFixed());return new x(o.raw,o.byteOffset,o.byteStride,o.byteOffset+o.byteStride*o.entryCount)}async getTextureCoordinates(t,r){if(null==t.attributes.TEXCOORD_0)throw new e(\"gltf-loader-error\",\"No TEXCOORD_0 vertex data found.\");const o=await this.getAccessor(t.attributes.TEXCOORD_0,r);if(2!==o.componentCount)throw new e(\"gltf-loader-unsupported-feature\",\"TEXCOORD_0 vertex attribute must have 2 components, but found \"+o.componentCount.toFixed());if(o.componentType===k.FLOAT)return this._wrapAccessor(O,o);if(!o.normalized)throw new e(\"gltf-loader-unsupported-feature\",\"Integer component types are only supported for a normalized accessor for TEXCOORD_0.\");return $(o)}async getVertexColors(t,r){if(null==t.attributes.COLOR_0)throw new e(\"gltf-loader-error\",\"No COLOR_0 vertex data found.\");const o=await this.getAccessor(t.attributes.COLOR_0,r);if(4!==o.componentCount&&3!==o.componentCount)throw new e(\"gltf-loader-unsupported-feature\",\"COLOR_0 attribute must have 3 or 4 components, but found \"+o.componentCount.toFixed());if(4===o.componentCount){if(o.componentType===k.FLOAT)return this._wrapAccessor(x,o);if(o.componentType===k.UNSIGNED_BYTE)return this._wrapAccessor(N,o);if(o.componentType===k.UNSIGNED_SHORT)return this._wrapAccessor(S,o)}else if(3===o.componentCount){if(o.componentType===k.FLOAT)return this._wrapAccessor(g,o);if(o.componentType===k.UNSIGNED_BYTE)return this._wrapAccessor(C,o);if(o.componentType===k.UNSIGNED_SHORT)return this._wrapAccessor(A,o)}throw new e(\"gltf-loader-unsupported-feature\",\"Unsupported component type for COLOR_0 attribute: \"+k[o.componentType])}hasPositions(e){return void 0!==e.attributes.POSITION}hasNormals(e){return void 0!==e.attributes.NORMAL}hasVertexColors(e){return void 0!==e.attributes.COLOR_0}hasTextureCoordinates(e){return void 0!==e.attributes.TEXCOORD_0}hasTangents(e){return void 0!==e.attributes.TANGENT}async getMaterial(e,t,r){let o=e.material?this._materialCache.get(e.material):void 0;if(!o){const n=null!=e.material?G(this.json.materials[e.material]):G(),s=n.pbrMetallicRoughness,a=this.hasVertexColors(e),i=this.getTexture(s.baseColorTexture,t),u=this.getTexture(n.normalTexture,t),f=r?this.getTexture(n.occlusionTexture,t):void 0,c=r?this.getTexture(n.emissiveTexture,t):void 0,d=r?this.getTexture(s.metallicRoughnessTexture,t):void 0,l=null!=e.material?e.material:-1;o={alphaMode:n.alphaMode,alphaCutoff:n.alphaCutoff,color:s.baseColorFactor,doubleSided:!!n.doubleSided,colorTexture:await i,normalTexture:await u,name:n.name,id:l,occlusionTexture:await f,emissiveTexture:await c,emissiveFactor:n.emissiveFactor,metallicFactor:s.metallicFactor,roughnessFactor:s.roughnessFactor,metallicRoughnessTexture:await d,hasVertexColors:a,ESRI_externalColorMixMode:n.extras.ESRI_externalColorMixMode,colorTextureTransform:s?.baseColorTexture?.extensions?.KHR_texture_transform,normalTextureTransform:n.normalTexture?.extensions?.KHR_texture_transform,occlusionTextureTransform:n.occlusionTexture?.extensions?.KHR_texture_transform,emissiveTextureTransform:n.emissiveTexture?.extensions?.KHR_texture_transform,metallicRoughnessTextureTransform:s?.metallicRoughnessTexture?.extensions?.KHR_texture_transform}}return o}async getTexture(t,o){if(!t)return;if(0!==(t.texCoord||0))throw new e(\"gltf-loader-unsupported-feature\",\"Only TEXCOORD with index 0 is supported.\");const n=t.index,s=this.json.textures[n],a=j(null!=s.sampler?this.json.samplers[s.sampler]:{}),i=this._getTextureSourceId(s),u=this.json.images[i],f=await this._loadTextureImageData(n,s,o);return r(this._textureCache,n,(()=>{const t=e=>33071===e||33648===e||10497===e,r=t=>{throw new e(\"gltf-loader-error\",`Unexpected TextureSampler WrapMode: ${t}`)};return{data:f,wrapS:t(a.wrapS)?a.wrapS:r(a.wrapS),wrapT:t(a.wrapT)?a.wrapT:r(a.wrapT),minFilter:a.minFilter,name:u.name,id:n}}))}getNodeTransform(e){if(void 0===e)return q;let t=this._nodeTransformCache.get(e);if(!t){const r=this.getNodeTransform(this._getNodeParent(e)),o=this.json.nodes[e];o.matrix?t=c(h(),r,o.matrix):o.translation||o.rotation||o.scale?(t=m(r),o.translation&&d(t,t,o.translation),o.rotation&&(z[3]=w(z,o.rotation),l(t,t,z[3],z)),o.scale&&p(t,t,o.scale)):t=m(r),this._nodeTransformCache.set(e,t)}return t}_wrapAccessor(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}_resolveUri(e){return i(e,this._baseUri)}_getNodeParent(e){return this._nodeParentMap.get(e)}_checkVersionSupported(){const e=u.parse(this.json.asset.version,\"glTF\");J.validate(e)}_checkRequiredExtensionsSupported(){const t=this.json;if(t.extensionsRequired){if(!t.extensionsRequired.every((e=>this._supportedExtensions.includes(e))))throw new e(\"gltf-loader-unsupported-feature\",\"gltf loader was not able to load unsupported feature. Required extensions: \"+t.extensionsRequired.join(\", \"))}}_computeNodeParents(){this.json.nodes.forEach(((e,t)=>{e.children&&e.children.forEach((e=>{this._nodeParentMap.set(e,t)}))}))}async _loadTextureImageData(e,t,r){const o=this._textureLoaders.get(e);if(o)return o;const n=this._createTextureLoader(t,r);return this._textureLoaders.set(e,n),n}_getTextureSourceId(t){if(void 0!==t.extensions&&null!==t.extensions.KHR_texture_basisu)return t.extensions.KHR_texture_basisu.source;if(null!==t.source)return t.source;throw new e(\"gltf-loader-unsupported-feature\",\"Source is expected to be defined for a texture. It can also be omitted in favour of an KHR_texture_basisu extension tag.\")}async _createTextureLoader(t,r){const o=this._getTextureSourceId(t),n=this.json.images[o];if(n.uri){if(n.uri.endsWith(\".ktx2\")){const e=await this._context.loadBinary(this._resolveUri(n.uri),r);return new H(new Uint8Array(e))}return this._context.loadImage(this._resolveUri(n.uri),r)}if(null==n.bufferView)throw new e(\"gltf-loader-unsupported-feature\",\"Image bufferView must be defined.\");if(null==n.mimeType)throw new e(\"gltf-loader-unsupported-feature\",\"Image mimeType must be defined.\");const s=this.json.bufferViews[n.bufferView],a=await this.getBuffer(s.buffer,r);if(null!=s.byteStride)throw new e(\"gltf-loader-unsupported-feature\",\"byteStride not supported for image buffer\");const i=a.byteOffset+(s.byteOffset||0);return P(new Uint8Array(a.buffer,i,s.byteLength),n.mimeType)}async getLoadedBuffersSize(){if(this._glbBuffer)return this._glbBuffer.byteLength;const e=await o(Array.from(this._bufferLoaders.values())),t=await o(Array.from(this._textureLoaders.values()));return e.reduce(((e,t)=>e+(t?.byteLength??0)),0)+t.reduce(((e,t)=>e+(t?V(t)?t.data.byteLength:t.width*t.height*4:0)),0)}}const q=f(h(),Math.PI/2),J=new u(2,0,\"glTF\"),z=y(),X={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},W={[k.BYTE]:1,[k.UNSIGNED_BYTE]:1,[k.SHORT]:2,[k.UNSIGNED_SHORT]:2,[k.FLOAT]:4,[k.UNSIGNED_INT]:4};function $(e){switch(e.componentType){case k.BYTE:return new B(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case k.UNSIGNED_BYTE:return new R(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case k.SHORT:return new I(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case k.UNSIGNED_SHORT:return new E(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case k.UNSIGNED_INT:return new L(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case k.FLOAT:return new O(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount)}}export{Y as GLTFResource,q as TRANSFORM_GLTF_TO_ENGINE};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}