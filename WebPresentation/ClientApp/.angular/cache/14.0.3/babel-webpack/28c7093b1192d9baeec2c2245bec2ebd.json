{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport i from \"../../../../Viewpoint.js\";\nimport o from \"../../../../core/Accessor.js\";\nimport { when as e } from \"../../../../core/reactiveUtils.js\";\nimport { createScreenPointArray as s } from \"../../../../core/screenUtils.js\";\nimport { property as n } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport { subclass as m } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { g as r } from \"../../../../chunks/vec3.js\";\nimport { c as a, f as p } from \"../../../../chunks/vec3f64.js\";\nimport { translateBy as c } from \"../../viewpointUtils.js\";\nimport { PanPlanarMomentumEstimator as u } from \"../../../navigation/PanPlanarMomentumEstimator.js\";\nimport h from \"../../../../geometry/Point.js\";\nlet v = class extends o {\n  constructor(t) {\n    super(t), this.animationTime = 0, this.momentumEstimator = new u(500, 6, .92), this.momentum = null, this.tmpMomentum = a(), this.momentumFinished = !1, this.viewpoint = new i({\n      targetGeometry: new h(),\n      scale: 0,\n      rotation: 0\n    }), this._previousDrag = null, e(() => this.momentumFinished, () => this.navigation.stop());\n  }\n\n  begin(t, i) {\n    this.navigation.begin(), this.momentumEstimator.reset(), this.addToEstimator(i), this._previousDrag = i;\n  }\n\n  update(t, i) {\n    this.addToEstimator(i);\n    let o = i.center.x,\n        e = i.center.y;\n    const s = this._previousDrag;\n    o = s ? s.center.x - o : -o, e = s ? e - s.center.y : e, t.viewpoint = c(this.viewpoint, t.viewpoint, [o || 0, e || 0]), this._previousDrag = i;\n  }\n\n  end(t, i) {\n    this.addToEstimator(i);\n    const o = t.navigation.momentumEnabled;\n    this.momentum = o ? this.momentumEstimator.evaluateMomentum() : null, this.animationTime = 0, this.momentum && this.onAnimationUpdate(t), this._previousDrag = null, this.navigation.end();\n  }\n\n  addToEstimator(t) {\n    const i = t.center.x,\n          o = t.center.y,\n          e = s(-i, o),\n          n = p(-i, o, 0);\n    this.momentumEstimator.add(e, n, .001 * t.timestamp);\n  }\n\n  onAnimationUpdate(t) {\n    this.navigation.animationManager?.animateContinous(t.viewpoint, (i, o) => {\n      const {\n        momentum: e,\n        animationTime: s,\n        tmpMomentum: n\n      } = this,\n            m = .001 * o;\n\n      if (!(this.momentumFinished = !e || e.isFinished(s))) {\n        const o = e.valueDelta(s, m);\n        r(n, e.direction, o), c(i, i, n), t.constraints.constrainByGeometry(i);\n      }\n\n      this.animationTime += m;\n    });\n  }\n\n  stopMomentumNavigation() {\n    this.momentum && (this.momentumEstimator.reset(), this.momentum = null, this.navigation.stop());\n  }\n\n};\nt([n()], v.prototype, \"momentumFinished\", void 0), t([n()], v.prototype, \"viewpoint\", void 0), t([n()], v.prototype, \"navigation\", void 0), v = t([m(\"esri.views.2d.navigation.actions.Pan\")], v);\nconst d = v;\nexport { d as default };","map":{"version":3,"names":["_","t","i","o","when","e","createScreenPointArray","s","property","n","subclass","m","g","r","c","a","f","p","translateBy","PanPlanarMomentumEstimator","u","h","v","constructor","animationTime","momentumEstimator","momentum","tmpMomentum","momentumFinished","viewpoint","targetGeometry","scale","rotation","_previousDrag","navigation","stop","begin","reset","addToEstimator","update","center","x","y","end","momentumEnabled","evaluateMomentum","onAnimationUpdate","add","timestamp","animationManager","animateContinous","isFinished","valueDelta","direction","constraints","constrainByGeometry","stopMomentumNavigation","prototype","d","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/navigation/actions/Pan.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import i from\"../../../../Viewpoint.js\";import o from\"../../../../core/Accessor.js\";import{when as e}from\"../../../../core/reactiveUtils.js\";import{createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{g as r}from\"../../../../chunks/vec3.js\";import{c as a,f as p}from\"../../../../chunks/vec3f64.js\";import{translateBy as c}from\"../../viewpointUtils.js\";import{PanPlanarMomentumEstimator as u}from\"../../../navigation/PanPlanarMomentumEstimator.js\";import h from\"../../../../geometry/Point.js\";let v=class extends o{constructor(t){super(t),this.animationTime=0,this.momentumEstimator=new u(500,6,.92),this.momentum=null,this.tmpMomentum=a(),this.momentumFinished=!1,this.viewpoint=new i({targetGeometry:new h,scale:0,rotation:0}),this._previousDrag=null,e((()=>this.momentumFinished),(()=>this.navigation.stop()))}begin(t,i){this.navigation.begin(),this.momentumEstimator.reset(),this.addToEstimator(i),this._previousDrag=i}update(t,i){this.addToEstimator(i);let o=i.center.x,e=i.center.y;const s=this._previousDrag;o=s?s.center.x-o:-o,e=s?e-s.center.y:e,t.viewpoint=c(this.viewpoint,t.viewpoint,[o||0,e||0]),this._previousDrag=i}end(t,i){this.addToEstimator(i);const o=t.navigation.momentumEnabled;this.momentum=o?this.momentumEstimator.evaluateMomentum():null,this.animationTime=0,this.momentum&&this.onAnimationUpdate(t),this._previousDrag=null,this.navigation.end()}addToEstimator(t){const i=t.center.x,o=t.center.y,e=s(-i,o),n=p(-i,o,0);this.momentumEstimator.add(e,n,.001*t.timestamp)}onAnimationUpdate(t){this.navigation.animationManager?.animateContinous(t.viewpoint,((i,o)=>{const{momentum:e,animationTime:s,tmpMomentum:n}=this,m=.001*o;if(!(this.momentumFinished=!e||e.isFinished(s))){const o=e.valueDelta(s,m);r(n,e.direction,o),c(i,i,n),t.constraints.constrainByGeometry(i)}this.animationTime+=m}))}stopMomentumNavigation(){this.momentum&&(this.momentumEstimator.reset(),this.momentum=null,this.navigation.stop())}};t([n()],v.prototype,\"momentumFinished\",void 0),t([n()],v.prototype,\"viewpoint\",void 0),t([n()],v.prototype,\"navigation\",void 0),v=t([m(\"esri.views.2d.navigation.actions.Pan\")],v);const d=v;export{d as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}