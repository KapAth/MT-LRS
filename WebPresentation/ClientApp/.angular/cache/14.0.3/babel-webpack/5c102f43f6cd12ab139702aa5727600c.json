{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../geometry.js\";\nimport has from \"../../../core/has.js\";\nimport e from \"../../../core/Loadable.js\";\nimport { isSome as o } from \"../../../core/maybe.js\";\nimport { debounce as r } from \"../../../core/promiseUtils.js\";\nimport { open as s } from \"../../../core/workers/workers.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as n } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport a from \"../../../rest/support/FeatureSet.js\";\nimport c from \"../../../geometry/Extent.js\";\nlet u = class extends e {\n  constructor(t) {\n    var _this;\n\n    (super(t), _this = this), this.type = \"csv\", this.refresh = r( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (t) {\n        yield _this.load();\n        const {\n          extent: e,\n          timeExtent: o\n        } = yield _this._connection.invoke(\"refresh\", t);\n        return e && (_this.sourceJSON.extent = e), o && (_this.sourceJSON.timeInfo.timeExtent = [o.start, o.end]), {\n          dataChanged: !0,\n          updates: {\n            extent: _this.sourceJSON.extent,\n            timeInfo: _this.sourceJSON.timeInfo\n          }\n        };\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  load(t) {\n    const e = o(t) ? t.signal : null;\n    return this.addResolvingPromise(this._startWorker(e)), Promise.resolve(this);\n  }\n\n  destroy() {\n    this._connection?.close(), this._connection = null;\n  }\n\n  openPorts() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      return yield _this2.load(), _this2._connection.openPorts();\n    })();\n  }\n\n  queryFeatures(t, e = {}) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3.load(e);\n      const o = yield _this3._connection.invoke(\"queryFeatures\", t ? t.toJSON() : null, e);\n      return a.fromJSON(o);\n    })();\n  }\n\n  queryFeaturesJSON(t, e = {}) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      return yield _this4.load(e), _this4._connection.invoke(\"queryFeatures\", t ? t.toJSON() : null, e);\n    })();\n  }\n\n  queryFeatureCount(t, e = {}) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      return yield _this5.load(e), _this5._connection.invoke(\"queryFeatureCount\", t ? t.toJSON() : null, e);\n    })();\n  }\n\n  queryObjectIds(t, e = {}) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      return yield _this6.load(e), _this6._connection.invoke(\"queryObjectIds\", t ? t.toJSON() : null, e);\n    })();\n  }\n\n  queryExtent(t, e = {}) {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this7.load(e);\n      const o = yield _this7._connection.invoke(\"queryExtent\", t ? t.toJSON() : null, e);\n      return {\n        count: o.count,\n        extent: c.fromJSON(o.extent)\n      };\n    })();\n  }\n\n  querySnapping(t, e = {}) {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      return yield _this8.load(e), _this8._connection.invoke(\"querySnapping\", t, e);\n    })();\n  }\n\n  _startWorker(t) {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      _this9._connection = yield s(\"CSVSourceWorker\", {\n        strategy: has(\"feature-layers-workers\") ? \"dedicated\" : \"local\",\n        signal: t\n      });\n      const {\n        url: e,\n        delimiter: o,\n        fields: r,\n        latitudeField: i,\n        longitudeField: n,\n        spatialReference: a,\n        timeInfo: c\n      } = _this9.loadOptions,\n            u = yield _this9._connection.invoke(\"load\", {\n        url: e,\n        customParameters: _this9.customParameters,\n        parsingOptions: {\n          delimiter: o,\n          fields: r?.map(t => t.toJSON()),\n          latitudeField: i,\n          longitudeField: n,\n          spatialReference: a?.toJSON(),\n          timeInfo: c?.toJSON()\n        }\n      }, {\n        signal: t\n      });\n      _this9.locationInfo = u.locationInfo, _this9.sourceJSON = u.layerDefinition, _this9.delimiter = u.delimiter;\n    })();\n  }\n\n};\nt([i()], u.prototype, \"type\", void 0), t([i()], u.prototype, \"loadOptions\", void 0), t([i()], u.prototype, \"customParameters\", void 0), t([i()], u.prototype, \"locationInfo\", void 0), t([i()], u.prototype, \"sourceJSON\", void 0), t([i()], u.prototype, \"delimiter\", void 0), u = t([n(\"esri.layers.graphics.sources.CSVSource\")], u);\nexport { u as CSVSource };","map":{"version":3,"names":["_","t","has","e","isSome","o","debounce","r","open","s","property","i","subclass","n","a","c","u","constructor","type","refresh","load","extent","timeExtent","_connection","invoke","sourceJSON","timeInfo","start","end","dataChanged","updates","signal","addResolvingPromise","_startWorker","Promise","resolve","destroy","close","openPorts","queryFeatures","toJSON","fromJSON","queryFeaturesJSON","queryFeatureCount","queryObjectIds","queryExtent","count","querySnapping","strategy","url","delimiter","fields","latitudeField","longitudeField","spatialReference","loadOptions","customParameters","parsingOptions","map","locationInfo","layerDefinition","prototype","CSVSource"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/graphics/sources/CSVSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import has from\"../../../core/has.js\";import e from\"../../../core/Loadable.js\";import{isSome as o}from\"../../../core/maybe.js\";import{debounce as r}from\"../../../core/promiseUtils.js\";import{open as s}from\"../../../core/workers/workers.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../rest/support/FeatureSet.js\";import c from\"../../../geometry/Extent.js\";let u=class extends e{constructor(t){super(t),this.type=\"csv\",this.refresh=r((async t=>{await this.load();const{extent:e,timeExtent:o}=await this._connection.invoke(\"refresh\",t);return e&&(this.sourceJSON.extent=e),o&&(this.sourceJSON.timeInfo.timeExtent=[o.start,o.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}}))}load(t){const e=o(t)?t.signal:null;return this.addResolvingPromise(this._startWorker(e)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}async openPorts(){return await this.load(),this._connection.openPorts()}async queryFeatures(t,e={}){await this.load(e);const o=await this._connection.invoke(\"queryFeatures\",t?t.toJSON():null,e);return a.fromJSON(o)}async queryFeaturesJSON(t,e={}){return await this.load(e),this._connection.invoke(\"queryFeatures\",t?t.toJSON():null,e)}async queryFeatureCount(t,e={}){return await this.load(e),this._connection.invoke(\"queryFeatureCount\",t?t.toJSON():null,e)}async queryObjectIds(t,e={}){return await this.load(e),this._connection.invoke(\"queryObjectIds\",t?t.toJSON():null,e)}async queryExtent(t,e={}){await this.load(e);const o=await this._connection.invoke(\"queryExtent\",t?t.toJSON():null,e);return{count:o.count,extent:c.fromJSON(o.extent)}}async querySnapping(t,e={}){return await this.load(e),this._connection.invoke(\"querySnapping\",t,e)}async _startWorker(t){this._connection=await s(\"CSVSourceWorker\",{strategy:has(\"feature-layers-workers\")?\"dedicated\":\"local\",signal:t});const{url:e,delimiter:o,fields:r,latitudeField:i,longitudeField:n,spatialReference:a,timeInfo:c}=this.loadOptions,u=await this._connection.invoke(\"load\",{url:e,customParameters:this.customParameters,parsingOptions:{delimiter:o,fields:r?.map((t=>t.toJSON())),latitudeField:i,longitudeField:n,spatialReference:a?.toJSON(),timeInfo:c?.toJSON()}},{signal:t});this.locationInfo=u.locationInfo,this.sourceJSON=u.layerDefinition,this.delimiter=u.delimiter}};t([i()],u.prototype,\"type\",void 0),t([i()],u.prototype,\"loadOptions\",void 0),t([i()],u.prototype,\"customParameters\",void 0),t([i()],u.prototype,\"locationInfo\",void 0),t([i()],u.prototype,\"sourceJSON\",void 0),t([i()],u.prototype,\"delimiter\",void 0),u=t([n(\"esri.layers.graphics.sources.CSVSource\")],u);export{u as CSVSource};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}