{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction userdetailsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" ID: \", ctx_r0.selectedUser.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Name : \", ctx_r0.selectedUser.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Surname: \", ctx_r0.selectedUser.surname, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Email: \", ctx_r0.selectedUser.emailAddress, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Birth Date: \", ctx_r0.selectedUser.birthDate, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Title: \", ctx_r0.selectedUser.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Type: \", ctx_r0.selectedUser.type, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Is Active: \", ctx_r0.selectedUser.isActive, \" \");\n  }\n}\n\nconst _c0 = function () {\n  return [\"\"];\n};\n\nexport class userdetailsComponent {\n  constructor(userService, http, router) {\n    this.userService = userService;\n    this.http = http;\n    this.router = router;\n    this._newUser = {\n      id: 0,\n      name: '',\n      surname: '',\n      birthDate: new Date(),\n      emailAddress: '',\n      userTitleId: 1,\n      userTypeId: 4,\n      isActive: true\n    };\n  }\n\n  UpdateUser() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.selectedUser) {\n        _this._newUser.id = _this.selectedUser.id;\n        console.log(_this._newUser);\n        yield _this.http.put('https://localhost:7210/api/users/' + _this.selectedUser.id, _this._newUser).toPromise();\n\n        _this.router.navigate(['']);\n      }\n    })();\n  }\n\n  ngOnInit() {\n    this.selectedUser = this.userService._selectedUser;\n    console.log(this.selectedUser);\n  }\n\n}\n\nuserdetailsComponent.ɵfac = function userdetailsComponent_Factory(t) {\n  return new (t || userdetailsComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nuserdetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: userdetailsComponent,\n  selectors: [[\"user-details\"]],\n  decls: 16,\n  vars: 7,\n  consts: [[4, \"ngIf\"], [\"id\", \"userForm\", 3, \"ngSubmit\"], [1, \"form-group\"], [\"required\", \"\", \"maxlength\", \"20\", \"type\", \"text\", \"name\", \"AddNewUser\", \"placeholder\", \"Name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"required\", \"\", \"maxlength\", \"20\", \"type\", \"text\", \"name\", \"AddNewUser\", \"placeholder\", \"Surname\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"required\", \"\", \"type\", \"date\", \"name\", \"AddNewUser\", \"placeholder\", \"BirthDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"required\", \"\", \"maxlength\", \"50\", \"type\", \"text\", \"name\", \"AddNewUser\", \"placeholder\", \"Email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn-primary\"], [1, \"btn-primary\", 3, \"routerLink\"]],\n  template: function userdetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, userdetailsComponent_div_0_Template, 18, 8, \"div\", 0);\n      i0.ɵɵelement(1, \"br\");\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function userdetailsComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.UpdateUser();\n      });\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function userdetailsComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx._newUser.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 2)(6, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function userdetailsComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx._newUser.surname = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 2)(8, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function userdetailsComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx._newUser.birthDate = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 2)(10, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function userdetailsComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx._newUser.emailAddress = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\")(12, \"button\", 7);\n      i0.ɵɵtext(13, \"Update\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 8);\n      i0.ɵɵtext(15, \"cancel\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.selectedUser);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx._newUser.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx._newUser.surname);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx._newUser.birthDate);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx._newUser.emailAddress);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(6, _c0));\n    }\n  },\n  dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MaxLengthValidator, i5.NgModel, i5.NgForm, i3.RouterLink],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;;;;IACAA,4BAA0B,CAA1B,EAA0B,GAA1B;IAEIA;IAAuBA;IACvBA;IAA6BA;IAC7BA;IAAkCA;IAClCA;IAAqCA;IACrCA;IAAuCA;IACvCA;IAA8BA;IAC9BA;IAA4BA;IAC5BA;IAAqCA;IACvCA;;;;;IAREA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;;;;;;;;ACCJ,OAAM,MAAOC,oBAAP,CAA2B;EAE/BC,YAAoBC,WAApB,EAAsDC,IAAtD,EAAgFC,MAAhF,EAA8F;IAA1E;IAAkC;IAA0B;IAIhF,gBAAwB;MACtBC,EAAE,EAAC,CADmB;MAEtBC,IAAI,EAAE,EAFgB;MAGtBC,OAAO,EAAE,EAHa;MAItBC,SAAS,EAAE,IAAIC,IAAJ,EAJW;MAKtBC,YAAY,EAAE,EALQ;MAMtBC,WAAW,EAAE,CANS;MAOtBC,UAAU,EAAE,CAPU;MAQtBC,QAAQ,EAAE;IARY,CAAxB;EAJmG;;EAgB7FC,UAAU;IAAA;;IAAA;MACd,IAAI,KAAI,CAACC,YAAT,EAAuB;QACrB,KAAI,CAACC,QAAL,CAAcX,EAAd,GAAmB,KAAI,CAACU,YAAL,CAAkBV,EAArC;QACAY,OAAO,CAACC,GAAR,CAAY,KAAI,CAACF,QAAjB;QAEA,MAAM,KAAI,CAACb,IAAL,CAAUgB,GAAV,CAAc,sCAAsC,KAAI,CAACJ,YAAL,CAAkBV,EAAtE,EAA0E,KAAI,CAACW,QAA/E,EAAyFI,SAAzF,EAAN;;QACA,KAAI,CAAChB,MAAL,CAAYiB,QAAZ,CAAqB,CAAC,EAAD,CAArB;MAED;IARa;EASf;;EAEDC,QAAQ;IACP,KAAKP,YAAL,GAAoB,KAAKb,WAAL,CAAiBqB,aAArC;IACCN,OAAO,CAACC,GAAR,CAAY,KAAKH,YAAjB;EAGD;;AAlC8B;;;mBAApBf,sBAAoBD;AAAA;;;QAApBC;EAAoBwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDVjC7B;MAaAA;MACAA;MAAoBA;QAAA,OAAY8B,gBAAZ;MAAwB,CAAxB;MAClB9B,+BAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MACoFA;QAAA;MAAA;MAAlFA;MAGFA,+BAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MACoFA;QAAA;MAAA;MAAlFA;MAGFA,+BAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MACqEA;QAAA;MAAA;MAAnEA;MAGFA,+BAAwB,EAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MACoFA;QAAA;MAAA;MAAlFA;MAGFA,6BAAK,EAAL,EAAK,QAAL,EAAK,CAAL;MAC4CA;MAAMA;MAChDA;MAAgDA;MAAMA;;;;MAjCpDA;MAgBgFA;MAAAA;MAIAA;MAAAA;MAIfA;MAAAA;MAIeA;MAAAA;MAKtDA;MAAAA","names":["i0","userdetailsComponent","constructor","userService","http","router","id","name","surname","birthDate","Date","emailAddress","userTitleId","userTypeId","isActive","UpdateUser","selectedUser","_newUser","console","log","put","toPromise","navigate","ngOnInit","_selectedUser","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\akaps\\Documents\\Visual Studio 2022\\Projects\\MT_LRS\\WebPresentation\\ClientApp\\src\\app\\user-details\\user-details.component.html","C:\\Users\\akaps\\Documents\\Visual Studio 2022\\Projects\\MT_LRS\\WebPresentation\\ClientApp\\src\\app\\user-details\\user-details.component.ts"],"sourcesContent":["\r\n<div *ngIf=(selectedUser)>\r\n  <p>\r\n    ID: {{selectedUser.id}}<br />\r\n    Name : {{selectedUser.name}} <br />\r\n    Surname: {{selectedUser.surname}} <br />\r\n    Email: {{selectedUser.emailAddress}} <br />\r\n    Birth Date: {{selectedUser.birthDate}} <br />\r\n    Title: {{selectedUser.title}} <br />\r\n    Type: {{selectedUser.type}} <br />\r\n    Is Active: {{selectedUser.isActive}} <br />\r\n  </p>\r\n</div>\r\n\r\n<br />\r\n<form id=\"userForm\" (ngSubmit)=\"UpdateUser()\">\r\n  <div class=\"form-group\">\r\n    <input required maxlength=\"20\" class=\"form-control\" type=\"text\" name=\"AddNewUser\" [(ngModel)]=\"_newUser.name\" placeholder=\"Name\" />\r\n  </div>\r\n\r\n  <div class=\"form-group\">\r\n    <input required maxlength=\"20\" class=\"form-control\" type=\"text\" name=\"AddNewUser\" [(ngModel)]=\"_newUser.surname\" placeholder=\"Surname\" />\r\n  </div>\r\n\r\n  <div class=\"form-group\">\r\n    <input required class=\"form-control\" type=\"date\" name=\"AddNewUser\" [(ngModel)]=\"_newUser.birthDate\" placeholder=\"BirthDate\" />\r\n  </div>\r\n\r\n  <div class=\"form-group\">\r\n    <input required maxlength=\"50\" class=\"form-control\" type=\"text\" name=\"AddNewUser\" [(ngModel)]=\"_newUser.emailAddress\" placeholder=\"Email\" />\r\n  </div>\r\n\r\n  <div>\r\n    <button class=\"btn-primary\" type=\"submit\">Update</button>\r\n    <button class=\"btn-primary\" [routerLink]=\"['']\">cancel</button>\r\n\r\n  </div>\r\n</form>\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Component, Input, OnChanges, OnInit, SimpleChanges } from \"@angular/core\";\r\nimport { Router, RouterModule } from '@angular/router';\r\nimport { updatedUser, user } from \"../interfaces\";\r\nimport { UserService } from \"../user.service\";\r\n\r\n@Component({\r\n  selector: 'user-details',\r\n  templateUrl: './user-details.component.html',\r\n})\r\n\r\nexport class userdetailsComponent implements OnInit {\r\n \r\n  constructor(private userService: UserService, private http: HttpClient, private router: Router) { }\r\n\r\n  selectedUser: user | undefined;\r\n  \r\n  _newUser: updatedUser = {\r\n    id:0,\r\n    name: '',\r\n    surname: '',\r\n    birthDate: new Date(),\r\n    emailAddress: '',\r\n    userTitleId: 1,\r\n    userTypeId: 4,\r\n    isActive: true\r\n  }\r\n\r\n\r\n  async UpdateUser() {\r\n    if (this.selectedUser) {\r\n      this._newUser.id = this.selectedUser.id;\r\n      console.log(this._newUser);\r\n\r\n      await this.http.put('https://localhost:7210/api/users/' + this.selectedUser.id, this._newUser).toPromise();\r\n      this.router.navigate(['']);\r\n\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n   this.selectedUser = this.userService._selectedUser;\r\n    console.log(this.selectedUser);\r\n\r\n   \r\n  }\r\n\r\n \r\n \r\n}\r\n\r\n   \r\n"]},"metadata":{},"sourceType":"module"}