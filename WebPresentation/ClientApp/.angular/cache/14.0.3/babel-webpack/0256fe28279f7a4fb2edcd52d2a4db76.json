{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport r from \"../../core/Error.js\";\nimport { isSome as t } from \"../../core/maybe.js\";\nimport { throwIfAbortError as o } from \"../../core/promiseUtils.js\";\nimport { normalize as s, removeFile as n } from \"../../core/urlUtils.js\";\nimport l from \"../../portal/Portal.js\";\nimport a from \"../../portal/PortalQueryParams.js\";\nimport { enableWebStyleForceWOSR as u } from \"../../support/featureFlags.js\";\nlet f = {};\n\nfunction m(_x, _x2) {\n  return _m.apply(this, arguments);\n}\n\nfunction _m() {\n  _m = _asyncToGenerator(function* (e, r) {\n    try {\n      return {\n        data: (yield j(e, r)).data,\n        baseUrl: n(e),\n        styleUrl: e\n      };\n    } catch (t) {\n      return o(t), null;\n    }\n  });\n  return _m.apply(this, arguments);\n}\n\nfunction i(e, r, o) {\n  const s = t(r.portal) ? r.portal : l.getDefault();\n  let n;\n  const a = `${s.url} - ${s.user && s.user.username} - ${e}`;\n  return f[a] || (f[a] = c(e, s, o).then(e => (n = e, e.fetchData())).then(r => ({\n    data: r,\n    baseUrl: n.itemUrl ?? \"\",\n    styleName: e\n  }))), f[a];\n}\n\nfunction y() {\n  f && (f = {});\n}\n\nfunction c(e, t, o) {\n  return t.load(o).then(() => {\n    const r = new a({\n      disableExtraQuery: !0,\n      query: `owner:${h} AND type:${w} AND typekeywords:\"${e}\"`\n    });\n    return t.queryItems(r, o);\n  }).then(({\n    results: t\n  }) => {\n    let s = null;\n    const n = e.toLowerCase();\n    if (t && Array.isArray(t)) for (const e of t) {\n      const r = e.typeKeywords?.some(e => e.toLowerCase() === n);\n\n      if (r && e.type === w && e.owner === h) {\n        s = e;\n        break;\n      }\n    }\n    if (!s) throw new r(\"symbolstyleutils:style-not-found\", `The style '${e}' could not be found`, {\n      styleName: e\n    });\n    return s.load(o);\n  });\n}\n\nfunction p(e, o, s) {\n  return e && t(e.styleUrl) ? m(e.styleUrl, s) : e && t(e.styleName) ? i(e.styleName, o, s) : Promise.reject(new r(\"symbolstyleutils:style-url-and-name-missing\", \"Either styleUrl or styleName is required to resolve a style\"));\n}\n\nfunction d(e) {\n  return null === e || \"CIMSymbolReference\" === e.type ? e : {\n    type: \"CIMSymbolReference\",\n    symbol: e\n  };\n}\n\nfunction b(e, r) {\n  if (\"cimRef\" === r) return e.cimRef;\n  if (e.formatInfos && !u()) for (const t of e.formatInfos) if (\"gltf\" === t.type) return t.href;\n  return e.webRef;\n}\n\nfunction j(r, t) {\n  const o = {\n    responseType: \"json\",\n    query: {\n      f: \"json\"\n    },\n    ...t\n  };\n  return e(s(r), o);\n}\n\nconst h = \"esri_en\",\n      w = \"Style\",\n      U = \"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";\nexport { U as Style2DUrlTemplate, f as cachedStyles, y as cleanupStyleUtilsCache, p as fetchStyle, d as makeCIMSymbolRef, j as requestJSON, b as symbolUrlFromStyleItem };","map":{"version":3,"names":["e","r","isSome","t","throwIfAbortError","o","normalize","s","removeFile","n","l","a","enableWebStyleForceWOSR","u","f","m","data","j","baseUrl","styleUrl","i","portal","getDefault","url","user","username","c","then","fetchData","itemUrl","styleName","y","load","disableExtraQuery","query","h","w","queryItems","results","toLowerCase","Array","isArray","typeKeywords","some","type","owner","p","Promise","reject","d","symbol","b","cimRef","formatInfos","href","webRef","responseType","U","Style2DUrlTemplate","cachedStyles","cleanupStyleUtilsCache","fetchStyle","makeCIMSymbolRef","requestJSON","symbolUrlFromStyleItem"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/symbols/support/styleUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isSome as t}from\"../../core/maybe.js\";import{throwIfAbortError as o}from\"../../core/promiseUtils.js\";import{normalize as s,removeFile as n}from\"../../core/urlUtils.js\";import l from\"../../portal/Portal.js\";import a from\"../../portal/PortalQueryParams.js\";import{enableWebStyleForceWOSR as u}from\"../../support/featureFlags.js\";let f={};async function m(e,r){try{return{data:(await j(e,r)).data,baseUrl:n(e),styleUrl:e}}catch(t){return o(t),null}}function i(e,r,o){const s=t(r.portal)?r.portal:l.getDefault();let n;const a=`${s.url} - ${s.user&&s.user.username} - ${e}`;return f[a]||(f[a]=c(e,s,o).then((e=>(n=e,e.fetchData()))).then((r=>({data:r,baseUrl:n.itemUrl??\"\",styleName:e})))),f[a]}function y(){f&&(f={})}function c(e,t,o){return t.load(o).then((()=>{const r=new a({disableExtraQuery:!0,query:`owner:${h} AND type:${w} AND typekeywords:\"${e}\"`});return t.queryItems(r,o)})).then((({results:t})=>{let s=null;const n=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){const r=e.typeKeywords?.some((e=>e.toLowerCase()===n));if(r&&e.type===w&&e.owner===h){s=e;break}}if(!s)throw new r(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return s.load(o)}))}function p(e,o,s){return e&&t(e.styleUrl)?m(e.styleUrl,s):e&&t(e.styleName)?i(e.styleName,o,s):Promise.reject(new r(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function d(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function b(e,r){if(\"cimRef\"===r)return e.cimRef;if(e.formatInfos&&!u())for(const t of e.formatInfos)if(\"gltf\"===t.type)return t.href;return e.webRef}function j(r,t){const o={responseType:\"json\",query:{f:\"json\"},...t};return e(s(r),o)}const h=\"esri_en\",w=\"Style\",U=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{U as Style2DUrlTemplate,f as cachedStyles,y as cleanupStyleUtilsCache,p as fetchStyle,d as makeCIMSymbolRef,j as requestJSON,b as symbolUrlFromStyleItem};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}