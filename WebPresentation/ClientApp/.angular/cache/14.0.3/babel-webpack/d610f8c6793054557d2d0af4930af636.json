{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as n } from \"../../../core/maybe.js\";\nimport t from \"../DimensionalDefinition.js\";\n\nfunction i(e, n, t) {\n  const a = n.shift();\n\n  if (0 === t.length) {\n    const e = [];\n    t.push({\n      sliceId: -1,\n      multidimensionalDefinition: e\n    });\n  }\n\n  const s = t.length;\n\n  for (let i = 0; i < s; i++) {\n    const n = t.shift().multidimensionalDefinition;\n    a.values?.forEach(i => {\n      t.push({\n        sliceId: -1,\n        multidimensionalDefinition: [...n, {\n          variableName: e,\n          dimensionName: a.name,\n          values: [i]\n        }]\n      });\n    });\n  }\n\n  n.length && i(e, n, t);\n}\n\nfunction a(e, n) {\n  const t = [];\n  let a = 0;\n  return (n ? e.variables.filter(e => e.name.toLowerCase() === n.toLowerCase()) : [...e.variables].sort((e, n) => e.name > n.name ? 1 : -1)).forEach(e => {\n    const n = [],\n          s = [...e.dimensions].sort((e, n) => e.name > n.name ? -1 : 1);\n    i(e.name, s, n), n.forEach(e => {\n      t.push({ ...e,\n        sliceId: a++\n      });\n    });\n  }), t;\n}\n\nfunction s(n, t, i) {\n  let a = n;\n\n  if (t && (t = [...t].sort((e, n) => e.dimensionName < n.dimensionName ? -1 : 1)).forEach(({\n    dimensionName: e,\n    values: n,\n    isSlice: t\n  }) => {\n    n.length && (a = a.filter(i => {\n      const a = i.multidimensionalDefinition.find(n => n.dimensionName === e);\n      if (null == a) return !1;\n      const s = a.values[0];\n      return \"number\" == typeof s ? \"number\" == typeof n[0] ? n.includes(s) : n.some(e => e[0] <= s && e[1] >= s) : \"number\" == typeof n[0] ? n.some(e => s[0] <= e && s[1] >= e) : t ? n.some(e => e[0] === s[0] && e[0] === s[1]) : n.some(e => e[0] >= s[0] && e[0] <= s[1] || e[1] >= s[0] && e[1] <= s[1] || e[0] < s[0] && e[1] > s[1]);\n    }));\n  }), a.length && i && e(i.start) && e(i.end)) {\n    const e = i.start.getTime(),\n          n = i.end.getTime(),\n          t = a[0].multidimensionalDefinition.findIndex(e => \"StdTime\" === e.dimensionName);\n    t > -1 && (a = a.filter(i => {\n      const a = i.multidimensionalDefinition[t].values[0];\n      return e <= a && n >= a;\n    }));\n  }\n\n  return a.map(e => e.sliceId);\n}\n\nfunction r(e, n) {\n  return Array.isArray(e) ? n[0] === n[1] ? e[0] === n[0] || e[1] === n[0] : e[0] >= n[0] && e[0] <= n[1] && e[1] >= n[0] && e[1] <= n[1] : e >= n[0] && e <= n[1];\n}\n\nfunction l(e, n) {\n  return e[0] <= n[0] && e[1] >= n[0] || e[0] <= n[1] && e[1] >= n[1] || e[0] >= n[0] && e[1] <= n[1];\n}\n\nfunction o(e) {\n  return 1 === e.length ? [e[0], e[0]] : [e[0], e[e.length - 1]];\n}\n\nfunction u(e, n, t) {\n  if (!n?.subsetDefinitions?.length) return e;\n  let i;\n\n  if (t) {\n    const {\n      variables: a\n    } = n;\n    if (a.length && !a.includes(t)) return null;\n    const s = n.subsetDefinitions.find(n => n.dimensionName === e.name && n.variableName === t);\n    if (!s?.values?.length) return e;\n    i = o(s.values);\n  } else {\n    i = n.dimensions.find(({\n      name: n\n    }) => n === e.name)?.extent;\n  }\n\n  const a = i;\n  if (!a || !a?.length) return e;\n  const s = e.values.filter(e => r(e, a));\n  return { ...e,\n    extent: [...a],\n    values: s\n  };\n}\n\nfunction m(e, n, t) {\n  if (!n?.subsetDefinitions?.length) return !1;\n  const {\n    variables: i\n  } = n;\n  if (i.length && e.some(({\n    variableName: e\n  }) => e && !i.includes(e))) return !0;\n\n  for (let a = 0; a < e.length; a++) {\n    const i = e[a],\n          s = n.subsetDefinitions.find(e => (\"\" === i.variableName || e.variableName === i.variableName) && e.dimensionName === i.dimensionName);\n\n    if (s?.values.length) {\n      const e = o(s.values);\n\n      if (!i.isSlice && 2 === i.values.length && !Array.isArray(i.values[0]) && i.values[0] !== i.values[1] && t) {\n        if (!l(i.values, e)) return !0;\n      } else if (i.values.some(n => !r(n, e))) return !0;\n    }\n  }\n\n  return !1;\n}\n\nfunction c(t, i) {\n  if (n(t)) return {\n    isOutside: !1\n  };\n  const {\n    geometry: a,\n    timeExtent: s,\n    multidimensionalDefinition: r\n  } = i;\n  let l = null;\n  if (e(s) && (l = f(t, s), n(l))) return {\n    isOutside: !0\n  };\n  const {\n    areaOfInterest: o\n  } = t;\n\n  if (o && a) {\n    const e = \"point\" === a.type ? a : \"extent\" === a.type ? a.center : \"polygon\" === a.type ? a.centroid : null;\n    if (e && !o.contains(e)) return {\n      isOutside: !0\n    };\n  }\n\n  return e(r) && r.length && m(r, t, !0) ? {\n    isOutside: !0\n  } : {\n    isOutside: !1,\n    intersection: {\n      geometry: a,\n      timeExtent: l,\n      multidimensionalDefinition: r\n    }\n  };\n}\n\nfunction f(e, i) {\n  const a = e.dimensions.find(({\n    name: e\n  }) => \"StdTime\" === e);\n  if (null == a || n(i.start) && n(i.end)) return i;\n  i = i.clone();\n  const {\n    start: s,\n    end: r\n  } = i.toJSON(),\n        l = s === r ? [s] : null != s && null != r ? [s, r] : [s ?? r];\n  if (2 === l.length && a?.extent.length && (l[0] = Math.max(l[0], a.extent[0]), l[1] = Math.min(l[1], a.extent[1] ?? a.extent[0]), l[1] < l[0])) return null;\n  return m([new t({\n    variableName: \"\",\n    dimensionName: \"StdTime\",\n    isSlice: 1 === l.length,\n    values: l\n  })], e, !0) ? null : (i.start = new Date(l[0]), i.end = new Date(l[1] ?? l[0]), i);\n}\n\nfunction d(t, i = {}) {\n  const {\n    multidimensionalInfo: a,\n    keyProperties: s\n  } = t;\n  if (n(a)) return null;\n  const {\n    variableName: r,\n    multidimensionalSubset: l,\n    multidimensionalDefinition: o\n  } = i,\n        u = e(o) ? o[0]?.variableName : null,\n        m = r || u || s?.DefaultVariable;\n  let {\n    variables: c\n  } = a;\n  l?.variables?.length && (c = c.filter(({\n    name: e\n  }) => l.variables.includes(e)));\n  return m ? c.find(({\n    name: e\n  }) => e === m) ?? c[0] : c[0];\n}\n\nfunction h(e, n = {}) {\n  const i = d(e, n);\n  if (!i) return null;\n  const a = [],\n        {\n    dimensions: s,\n    name: r\n  } = i;\n  if (0 === s.length) return [new t({\n    variableName: r,\n    dimensionName: \"\",\n    values: [],\n    isSlice: !0\n  })];\n\n  for (let l = 0; l < s.length; l++) {\n    const e = u(s[l], n.multidimensionalSubset, r);\n    if (!e) return null;\n    const {\n      values: i,\n      extent: o\n    } = e;\n    let m = i?.[0] ?? o[0];\n    \"stdz\" === e.name.toLowerCase() && !e.hasRanges && Math.abs(o[1]) <= Math.abs(o[0]) && (m = i?.length ? i[i.length - 1] : o[1]), a.push(new t({\n      variableName: r,\n      dimensionName: e.name,\n      values: [m],\n      isSlice: !n.useRangeForRangedDimensionInfo || !!e.hasRanges\n    }));\n  }\n\n  return a;\n}\n\nfunction g(e) {\n  return !(n(e) || !e.length) && e.some(e => {\n    if (null == e.values) return !0;\n    const n = e.values.length;\n    return 0 === n || n > 1 || !e.isSlice && Array.isArray(e.values[0]);\n  });\n}\n\nfunction v(t, i) {\n  if (n(i) || n(t)) return null;\n  let a = i.variables.map(e => ({ ...e\n  }));\n  return t?.variables?.length && (a = a.filter(({\n    name: e\n  }) => t.variables.includes(e)), a.forEach(n => {\n    n.dimensions = n.dimensions.map(e => u(e, t, n.name)).filter(e);\n  })), a;\n}\n\nfunction b(e, n) {\n  const {\n    values: t\n  } = n;\n  if (t?.length) return Array.isArray(t[0]) !== Array.isArray(e) ? -1 : Array.isArray(t[0]) ? t.findIndex(n => n[0] === e[0] && n[1] === e[1]) : t.indexOf(e);\n  const {\n    extent: i\n  } = n;\n  if (Array.isArray(e) || e < i[0] || e > i[1]) return -1;\n  const a = n.interval || 1;\n  if (\"ISO8601\" !== n.unit) return Math.round((e - i[0]) / a);\n  const s = i[0];\n  let r = -1;\n\n  switch (n.intervalUnit?.toLowerCase() || \"seconds\") {\n    case \"seconds\":\n      r = Math.round((e - s) / 1e3 / a);\n      break;\n\n    case \"minutes\":\n      r = Math.round((e - s) / 6e4 / a);\n      break;\n\n    case \"hours\":\n      r = Math.round((e - s) / 36e5 / a);\n      break;\n\n    case \"days\":\n      r = Math.round((e - s) / 864e5 / a);\n      break;\n\n    case \"months\":\n      {\n        const n = new Date(e).getUTCFullYear() - new Date(s).getUTCFullYear(),\n              t = new Date(s).getUTCMonth(),\n              i = new Date(e).getUTCMonth();\n        r = 0 === n ? i - t : i + 11 - t + 12 * (n - 1);\n      }\n      break;\n\n    case \"years\":\n      r = Math.round((new Date(e).getUTCFullYear() - new Date(s).getUTCFullYear()) / a);\n      break;\n\n    case \"decades\":\n      r = Math.round((new Date(e).getUTCFullYear() - new Date(s).getUTCFullYear()) / 10 / a);\n  }\n\n  return r;\n}\n\nfunction D(e) {\n  let n = e.values?.length;\n  if (n) return n;\n  const {\n    extent: t,\n    unit: i\n  } = e,\n        a = e.interval || 1,\n        s = t ? t[1] - t[0] : 0;\n  if (\"ISO8601\" !== i) return Math.round(s / a);\n\n  switch (e.intervalUnit?.toLowerCase() ?? \"seconds\") {\n    case \"seconds\":\n      n = Math.round(s / 1e3 / a);\n      break;\n\n    case \"minutes\":\n      n = Math.round(s / 6e4 / a);\n      break;\n\n    case \"hours\":\n      n = Math.round(s / 36e5 / a);\n      break;\n\n    case \"days\":\n      n = Math.round(s / 864e5 / a);\n      break;\n\n    case \"months\":\n      {\n        const e = new Date(t[1]).getUTCFullYear() - new Date(t[0]).getUTCFullYear(),\n              i = new Date(t[1][0]).getUTCMonth(),\n              a = new Date(t[1][1]).getUTCMonth();\n        n = 0 === e ? a - i + 1 : a + 11 - i + 12 * (e - 1) + 1;\n      }\n      break;\n\n    case \"years\":\n      n = Math.round((new Date(t[1]).getUTCFullYear() - new Date(t[0]).getUTCFullYear()) / a);\n      break;\n\n    case \"decades\":\n      n = Math.round((new Date(t[1]).getUTCFullYear() - new Date(t[0]).getUTCFullYear()) / 10 / a);\n      break;\n\n    default:\n      n = 0;\n  }\n\n  return n;\n}\n\nfunction y(e, n) {\n  let t = 0;\n  const i = e[0].variableName,\n        a = [...n.variables].sort((e, n) => e.name > n.name ? 1 : -1);\n\n  for (let s = 0; s < a.length; s++) {\n    const n = a[s],\n          r = [...n.dimensions].sort((e, n) => e.name > n.name ? -1 : 1);\n\n    if (n.name !== i) {\n      t += r.map(e => D(e)).reduce((e, n) => e * n);\n      continue;\n    }\n\n    const l = r.map(e => D(e)),\n          o = r.length;\n\n    for (let i = 0; i < o; i++) {\n      const n = e.find(e => e.dimensionName === r[i].name);\n      if (null == n) return null;\n      const a = b(n.values[0], r[i]);\n      if (-1 === a) return null;\n      l.shift(), t += i === o - 1 ? a : a * l.reduce((e, n) => e * n);\n    }\n\n    break;\n  }\n\n  return t;\n}\n\nexport { a as createSlices, h as getDefaultMultidimensionalDefinition, d as getDefaultVariablInfo, s as getSliceIds, y as getSliceIndex, v as getSubsetVariablesFromMdInfo, m as hasExcludedVariableOrDimension, c as intersectMultimensionalSubset, g as isMultiSliceOrRangeDefinition };","map":{"version":3,"names":["isSome","e","isNone","n","t","i","a","shift","length","push","sliceId","multidimensionalDefinition","s","values","forEach","variableName","dimensionName","name","variables","filter","toLowerCase","sort","dimensions","isSlice","find","includes","some","start","end","getTime","findIndex","map","r","Array","isArray","l","o","u","subsetDefinitions","extent","m","c","isOutside","geometry","timeExtent","f","areaOfInterest","type","center","centroid","contains","intersection","clone","toJSON","Math","max","min","Date","d","multidimensionalInfo","keyProperties","multidimensionalSubset","DefaultVariable","h","hasRanges","abs","useRangeForRangedDimensionInfo","g","v","b","indexOf","interval","unit","round","intervalUnit","getUTCFullYear","getUTCMonth","D","y","reduce","createSlices","getDefaultMultidimensionalDefinition","getDefaultVariablInfo","getSliceIds","getSliceIndex","getSubsetVariablesFromMdInfo","hasExcludedVariableOrDimension","intersectMultimensionalSubset","isMultiSliceOrRangeDefinition"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as n}from\"../../../core/maybe.js\";import t from\"../DimensionalDefinition.js\";function i(e,n,t){const a=n.shift();if(0===t.length){const e=[];t.push({sliceId:-1,multidimensionalDefinition:e})}const s=t.length;for(let i=0;i<s;i++){const n=t.shift().multidimensionalDefinition;a.values?.forEach((i=>{t.push({sliceId:-1,multidimensionalDefinition:[...n,{variableName:e,dimensionName:a.name,values:[i]}]})}))}n.length&&i(e,n,t)}function a(e,n){const t=[];let a=0;return(n?e.variables.filter((e=>e.name.toLowerCase()===n.toLowerCase())):[...e.variables].sort(((e,n)=>e.name>n.name?1:-1))).forEach((e=>{const n=[],s=[...e.dimensions].sort(((e,n)=>e.name>n.name?-1:1));i(e.name,s,n),n.forEach((e=>{t.push({...e,sliceId:a++})}))})),t}function s(n,t,i){let a=n;if(t&&(t=[...t].sort(((e,n)=>e.dimensionName<n.dimensionName?-1:1))).forEach((({dimensionName:e,values:n,isSlice:t})=>{n.length&&(a=a.filter((i=>{const a=i.multidimensionalDefinition.find((n=>n.dimensionName===e));if(null==a)return!1;const s=a.values[0];return\"number\"==typeof s?\"number\"==typeof n[0]?n.includes(s):n.some((e=>e[0]<=s&&e[1]>=s)):\"number\"==typeof n[0]?n.some((e=>s[0]<=e&&s[1]>=e)):t?n.some((e=>e[0]===s[0]&&e[0]===s[1])):n.some((e=>e[0]>=s[0]&&e[0]<=s[1]||e[1]>=s[0]&&e[1]<=s[1]||e[0]<s[0]&&e[1]>s[1]))})))})),a.length&&i&&e(i.start)&&e(i.end)){const e=i.start.getTime(),n=i.end.getTime(),t=a[0].multidimensionalDefinition.findIndex((e=>\"StdTime\"===e.dimensionName));t>-1&&(a=a.filter((i=>{const a=i.multidimensionalDefinition[t].values[0];return e<=a&&n>=a})))}return a.map((e=>e.sliceId))}function r(e,n){return Array.isArray(e)?n[0]===n[1]?e[0]===n[0]||e[1]===n[0]:e[0]>=n[0]&&e[0]<=n[1]&&e[1]>=n[0]&&e[1]<=n[1]:e>=n[0]&&e<=n[1]}function l(e,n){return e[0]<=n[0]&&e[1]>=n[0]||e[0]<=n[1]&&e[1]>=n[1]||e[0]>=n[0]&&e[1]<=n[1]}function o(e){return 1===e.length?[e[0],e[0]]:[e[0],e[e.length-1]]}function u(e,n,t){if(!n?.subsetDefinitions?.length)return e;let i;if(t){const{variables:a}=n;if(a.length&&!a.includes(t))return null;const s=n.subsetDefinitions.find((n=>n.dimensionName===e.name&&n.variableName===t));if(!s?.values?.length)return e;i=o(s.values)}else{i=n.dimensions.find((({name:n})=>n===e.name))?.extent}const a=i;if(!a||!a?.length)return e;const s=e.values.filter((e=>r(e,a)));return{...e,extent:[...a],values:s}}function m(e,n,t){if(!n?.subsetDefinitions?.length)return!1;const{variables:i}=n;if(i.length&&e.some((({variableName:e})=>e&&!i.includes(e))))return!0;for(let a=0;a<e.length;a++){const i=e[a],s=n.subsetDefinitions.find((e=>(\"\"===i.variableName||e.variableName===i.variableName)&&e.dimensionName===i.dimensionName));if(s?.values.length){const e=o(s.values);if(!i.isSlice&&2===i.values.length&&!Array.isArray(i.values[0])&&i.values[0]!==i.values[1]&&t){if(!l(i.values,e))return!0}else if(i.values.some((n=>!r(n,e))))return!0}}return!1}function c(t,i){if(n(t))return{isOutside:!1};const{geometry:a,timeExtent:s,multidimensionalDefinition:r}=i;let l=null;if(e(s)&&(l=f(t,s),n(l)))return{isOutside:!0};const{areaOfInterest:o}=t;if(o&&a){const e=\"point\"===a.type?a:\"extent\"===a.type?a.center:\"polygon\"===a.type?a.centroid:null;if(e&&!o.contains(e))return{isOutside:!0}}return e(r)&&r.length&&m(r,t,!0)?{isOutside:!0}:{isOutside:!1,intersection:{geometry:a,timeExtent:l,multidimensionalDefinition:r}}}function f(e,i){const a=e.dimensions.find((({name:e})=>\"StdTime\"===e));if(null==a||n(i.start)&&n(i.end))return i;i=i.clone();const{start:s,end:r}=i.toJSON(),l=s===r?[s]:null!=s&&null!=r?[s,r]:[s??r];if(2===l.length&&a?.extent.length&&(l[0]=Math.max(l[0],a.extent[0]),l[1]=Math.min(l[1],a.extent[1]??a.extent[0]),l[1]<l[0]))return null;return m([new t({variableName:\"\",dimensionName:\"StdTime\",isSlice:1===l.length,values:l})],e,!0)?null:(i.start=new Date(l[0]),i.end=new Date(l[1]??l[0]),i)}function d(t,i={}){const{multidimensionalInfo:a,keyProperties:s}=t;if(n(a))return null;const{variableName:r,multidimensionalSubset:l,multidimensionalDefinition:o}=i,u=e(o)?o[0]?.variableName:null,m=r||u||s?.DefaultVariable;let{variables:c}=a;l?.variables?.length&&(c=c.filter((({name:e})=>l.variables.includes(e))));return m?c.find((({name:e})=>e===m))??c[0]:c[0]}function h(e,n={}){const i=d(e,n);if(!i)return null;const a=[],{dimensions:s,name:r}=i;if(0===s.length)return[new t({variableName:r,dimensionName:\"\",values:[],isSlice:!0})];for(let l=0;l<s.length;l++){const e=u(s[l],n.multidimensionalSubset,r);if(!e)return null;const{values:i,extent:o}=e;let m=i?.[0]??o[0];\"stdz\"===e.name.toLowerCase()&&!e.hasRanges&&Math.abs(o[1])<=Math.abs(o[0])&&(m=i?.length?i[i.length-1]:o[1]),a.push(new t({variableName:r,dimensionName:e.name,values:[m],isSlice:!n.useRangeForRangedDimensionInfo||!!e.hasRanges}))}return a}function g(e){return!(n(e)||!e.length)&&e.some((e=>{if(null==e.values)return!0;const n=e.values.length;return 0===n||n>1||!e.isSlice&&Array.isArray(e.values[0])}))}function v(t,i){if(n(i)||n(t))return null;let a=i.variables.map((e=>({...e})));return t?.variables?.length&&(a=a.filter((({name:e})=>t.variables.includes(e))),a.forEach((n=>{n.dimensions=n.dimensions.map((e=>u(e,t,n.name))).filter(e)}))),a}function b(e,n){const{values:t}=n;if(t?.length)return Array.isArray(t[0])!==Array.isArray(e)?-1:Array.isArray(t[0])?t.findIndex((n=>n[0]===e[0]&&n[1]===e[1])):t.indexOf(e);const{extent:i}=n;if(Array.isArray(e)||e<i[0]||e>i[1])return-1;const a=n.interval||1;if(\"ISO8601\"!==n.unit)return Math.round((e-i[0])/a);const s=i[0];let r=-1;switch(n.intervalUnit?.toLowerCase()||\"seconds\"){case\"seconds\":r=Math.round((e-s)/1e3/a);break;case\"minutes\":r=Math.round((e-s)/6e4/a);break;case\"hours\":r=Math.round((e-s)/36e5/a);break;case\"days\":r=Math.round((e-s)/864e5/a);break;case\"months\":{const n=new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear(),t=new Date(s).getUTCMonth(),i=new Date(e).getUTCMonth();r=0===n?i-t:i+11-t+12*(n-1)}break;case\"years\":r=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/a);break;case\"decades\":r=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/10/a)}return r}function D(e){let n=e.values?.length;if(n)return n;const{extent:t,unit:i}=e,a=e.interval||1,s=t?t[1]-t[0]:0;if(\"ISO8601\"!==i)return Math.round(s/a);switch(e.intervalUnit?.toLowerCase()??\"seconds\"){case\"seconds\":n=Math.round(s/1e3/a);break;case\"minutes\":n=Math.round(s/6e4/a);break;case\"hours\":n=Math.round(s/36e5/a);break;case\"days\":n=Math.round(s/864e5/a);break;case\"months\":{const e=new Date(t[1]).getUTCFullYear()-new Date(t[0]).getUTCFullYear(),i=new Date(t[1][0]).getUTCMonth(),a=new Date(t[1][1]).getUTCMonth();n=0===e?a-i+1:a+11-i+12*(e-1)+1}break;case\"years\":n=Math.round((new Date(t[1]).getUTCFullYear()-new Date(t[0]).getUTCFullYear())/a);break;case\"decades\":n=Math.round((new Date(t[1]).getUTCFullYear()-new Date(t[0]).getUTCFullYear())/10/a);break;default:n=0}return n}function y(e,n){let t=0;const i=e[0].variableName,a=[...n.variables].sort(((e,n)=>e.name>n.name?1:-1));for(let s=0;s<a.length;s++){const n=a[s],r=[...n.dimensions].sort(((e,n)=>e.name>n.name?-1:1));if(n.name!==i){t+=r.map((e=>D(e))).reduce(((e,n)=>e*n));continue}const l=r.map((e=>D(e))),o=r.length;for(let i=0;i<o;i++){const n=e.find((e=>e.dimensionName===r[i].name));if(null==n)return null;const a=b(n.values[0],r[i]);if(-1===a)return null;l.shift(),t+=i===o-1?a:a*l.reduce(((e,n)=>e*n))}break}return t}export{a as createSlices,h as getDefaultMultidimensionalDefinition,d as getDefaultVariablInfo,s as getSliceIds,y as getSliceIndex,v as getSubsetVariablesFromMdInfo,m as hasExcludedVariableOrDimension,c as intersectMultimensionalSubset,g as isMultiSliceOrRangeDefinition};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,wBAAnC;AAA4D,OAAOC,CAAP,MAAa,6BAAb;;AAA2C,SAASC,CAAT,CAAWJ,CAAX,EAAaE,CAAb,EAAeC,CAAf,EAAiB;EAAC,MAAME,CAAC,GAACH,CAAC,CAACI,KAAF,EAAR;;EAAkB,IAAG,MAAIH,CAAC,CAACI,MAAT,EAAgB;IAAC,MAAMP,CAAC,GAAC,EAAR;IAAWG,CAAC,CAACK,IAAF,CAAO;MAACC,OAAO,EAAC,CAAC,CAAV;MAAYC,0BAA0B,EAACV;IAAvC,CAAP;EAAkD;;EAAA,MAAMW,CAAC,GAACR,CAAC,CAACI,MAAV;;EAAiB,KAAI,IAAIH,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACO,CAAd,EAAgBP,CAAC,EAAjB,EAAoB;IAAC,MAAMF,CAAC,GAACC,CAAC,CAACG,KAAF,GAAUI,0BAAlB;IAA6CL,CAAC,CAACO,MAAF,EAAUC,OAAV,CAAmBT,CAAC,IAAE;MAACD,CAAC,CAACK,IAAF,CAAO;QAACC,OAAO,EAAC,CAAC,CAAV;QAAYC,0BAA0B,EAAC,CAAC,GAAGR,CAAJ,EAAM;UAACY,YAAY,EAACd,CAAd;UAAgBe,aAAa,EAACV,CAAC,CAACW,IAAhC;UAAqCJ,MAAM,EAAC,CAACR,CAAD;QAA5C,CAAN;MAAvC,CAAP;IAAwG,CAA/H;EAAkI;;EAAAF,CAAC,CAACK,MAAF,IAAUH,CAAC,CAACJ,CAAD,EAAGE,CAAH,EAAKC,CAAL,CAAX;AAAmB;;AAAA,SAASE,CAAT,CAAWL,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAMC,CAAC,GAAC,EAAR;EAAW,IAAIE,CAAC,GAAC,CAAN;EAAQ,OAAM,CAACH,CAAC,GAACF,CAAC,CAACiB,SAAF,CAAYC,MAAZ,CAAoBlB,CAAC,IAAEA,CAAC,CAACgB,IAAF,CAAOG,WAAP,OAAuBjB,CAAC,CAACiB,WAAF,EAA9C,CAAD,GAAiE,CAAC,GAAGnB,CAAC,CAACiB,SAAN,EAAiBG,IAAjB,CAAuB,CAACpB,CAAD,EAAGE,CAAH,KAAOF,CAAC,CAACgB,IAAF,GAAOd,CAAC,CAACc,IAAT,GAAc,CAAd,GAAgB,CAAC,CAA/C,CAAnE,EAAuHH,OAAvH,CAAgIb,CAAC,IAAE;IAAC,MAAME,CAAC,GAAC,EAAR;IAAA,MAAWS,CAAC,GAAC,CAAC,GAAGX,CAAC,CAACqB,UAAN,EAAkBD,IAAlB,CAAwB,CAACpB,CAAD,EAAGE,CAAH,KAAOF,CAAC,CAACgB,IAAF,GAAOd,CAAC,CAACc,IAAT,GAAc,CAAC,CAAf,GAAiB,CAAhD,CAAb;IAAiEZ,CAAC,CAACJ,CAAC,CAACgB,IAAH,EAAQL,CAAR,EAAUT,CAAV,CAAD,EAAcA,CAAC,CAACW,OAAF,CAAWb,CAAC,IAAE;MAACG,CAAC,CAACK,IAAF,CAAO,EAAC,GAAGR,CAAJ;QAAMS,OAAO,EAACJ,CAAC;MAAf,CAAP;IAA2B,CAA1C,CAAd;EAA2D,CAAhQ,GAAmQF,CAAzQ;AAA2Q;;AAAA,SAASQ,CAAT,CAAWT,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;EAAC,IAAIC,CAAC,GAACH,CAAN;;EAAQ,IAAGC,CAAC,IAAE,CAACA,CAAC,GAAC,CAAC,GAAGA,CAAJ,EAAOiB,IAAP,CAAa,CAACpB,CAAD,EAAGE,CAAH,KAAOF,CAAC,CAACe,aAAF,GAAgBb,CAAC,CAACa,aAAlB,GAAgC,CAAC,CAAjC,GAAmC,CAAvD,CAAH,EAA+DF,OAA/D,CAAwE,CAAC;IAACE,aAAa,EAACf,CAAf;IAAiBY,MAAM,EAACV,CAAxB;IAA0BoB,OAAO,EAACnB;EAAlC,CAAD,KAAwC;IAACD,CAAC,CAACK,MAAF,KAAWF,CAAC,GAACA,CAAC,CAACa,MAAF,CAAUd,CAAC,IAAE;MAAC,MAAMC,CAAC,GAACD,CAAC,CAACM,0BAAF,CAA6Ba,IAA7B,CAAmCrB,CAAC,IAAEA,CAAC,CAACa,aAAF,KAAkBf,CAAxD,CAAR;MAAoE,IAAG,QAAMK,CAAT,EAAW,OAAM,CAAC,CAAP;MAAS,MAAMM,CAAC,GAACN,CAAC,CAACO,MAAF,CAAS,CAAT,CAAR;MAAoB,OAAM,YAAU,OAAOD,CAAjB,GAAmB,YAAU,OAAOT,CAAC,CAAC,CAAD,CAAlB,GAAsBA,CAAC,CAACsB,QAAF,CAAWb,CAAX,CAAtB,GAAoCT,CAAC,CAACuB,IAAF,CAAQzB,CAAC,IAAEA,CAAC,CAAC,CAAD,CAAD,IAAMW,CAAN,IAASX,CAAC,CAAC,CAAD,CAAD,IAAMW,CAA1B,CAAvD,GAAqF,YAAU,OAAOT,CAAC,CAAC,CAAD,CAAlB,GAAsBA,CAAC,CAACuB,IAAF,CAAQzB,CAAC,IAAEW,CAAC,CAAC,CAAD,CAAD,IAAMX,CAAN,IAASW,CAAC,CAAC,CAAD,CAAD,IAAMX,CAA1B,CAAtB,GAAoDG,CAAC,GAACD,CAAC,CAACuB,IAAF,CAAQzB,CAAC,IAAEA,CAAC,CAAC,CAAD,CAAD,KAAOW,CAAC,CAAC,CAAD,CAAR,IAAaX,CAAC,CAAC,CAAD,CAAD,KAAOW,CAAC,CAAC,CAAD,CAAhC,CAAD,GAAuCT,CAAC,CAACuB,IAAF,CAAQzB,CAAC,IAAEA,CAAC,CAAC,CAAD,CAAD,IAAMW,CAAC,CAAC,CAAD,CAAP,IAAYX,CAAC,CAAC,CAAD,CAAD,IAAMW,CAAC,CAAC,CAAD,CAAnB,IAAwBX,CAAC,CAAC,CAAD,CAAD,IAAMW,CAAC,CAAC,CAAD,CAAP,IAAYX,CAAC,CAAC,CAAD,CAAD,IAAMW,CAAC,CAAC,CAAD,CAA3C,IAAgDX,CAAC,CAAC,CAAD,CAAD,GAAKW,CAAC,CAAC,CAAD,CAAN,IAAWX,CAAC,CAAC,CAAD,CAAD,GAAKW,CAAC,CAAC,CAAD,CAA5E,CAAvL;IAAyQ,CAAnY,CAAb;EAAoZ,CAArgB,CAAH,EAA2gBN,CAAC,CAACE,MAAF,IAAUH,CAAV,IAAaJ,CAAC,CAACI,CAAC,CAACsB,KAAH,CAAd,IAAyB1B,CAAC,CAACI,CAAC,CAACuB,GAAH,CAAxiB,EAAgjB;IAAC,MAAM3B,CAAC,GAACI,CAAC,CAACsB,KAAF,CAAQE,OAAR,EAAR;IAAA,MAA0B1B,CAAC,GAACE,CAAC,CAACuB,GAAF,CAAMC,OAAN,EAA5B;IAAA,MAA4CzB,CAAC,GAACE,CAAC,CAAC,CAAD,CAAD,CAAKK,0BAAL,CAAgCmB,SAAhC,CAA2C7B,CAAC,IAAE,cAAYA,CAAC,CAACe,aAA5D,CAA9C;IAA0HZ,CAAC,GAAC,CAAC,CAAH,KAAOE,CAAC,GAACA,CAAC,CAACa,MAAF,CAAUd,CAAC,IAAE;MAAC,MAAMC,CAAC,GAACD,CAAC,CAACM,0BAAF,CAA6BP,CAA7B,EAAgCS,MAAhC,CAAuC,CAAvC,CAAR;MAAkD,OAAOZ,CAAC,IAAEK,CAAH,IAAMH,CAAC,IAAEG,CAAhB;IAAkB,CAAlF,CAAT;EAA+F;;EAAA,OAAOA,CAAC,CAACyB,GAAF,CAAO9B,CAAC,IAAEA,CAAC,CAACS,OAAZ,CAAP;AAA6B;;AAAA,SAASsB,CAAT,CAAW/B,CAAX,EAAaE,CAAb,EAAe;EAAC,OAAO8B,KAAK,CAACC,OAAN,CAAcjC,CAAd,IAAiBE,CAAC,CAAC,CAAD,CAAD,KAAOA,CAAC,CAAC,CAAD,CAAR,GAAYF,CAAC,CAAC,CAAD,CAAD,KAAOE,CAAC,CAAC,CAAD,CAAR,IAAaF,CAAC,CAAC,CAAD,CAAD,KAAOE,CAAC,CAAC,CAAD,CAAjC,GAAqCF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAP,IAAYF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAnB,IAAwBF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAA/B,IAAoCF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAjG,GAAqGF,CAAC,IAAEE,CAAC,CAAC,CAAD,CAAJ,IAASF,CAAC,IAAEE,CAAC,CAAC,CAAD,CAAzH;AAA6H;;AAAA,SAASgC,CAAT,CAAWlC,CAAX,EAAaE,CAAb,EAAe;EAAC,OAAOF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAP,IAAYF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAnB,IAAwBF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAP,IAAYF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAA3C,IAAgDF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAP,IAAYF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAA1E;AAA8E;;AAAA,SAASiC,CAAT,CAAWnC,CAAX,EAAa;EAAC,OAAO,MAAIA,CAAC,CAACO,MAAN,GAAa,CAACP,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAb,GAAyB,CAACA,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAACA,CAAC,CAACO,MAAF,GAAS,CAAV,CAAP,CAAhC;AAAqD;;AAAA,SAAS6B,CAAT,CAAWpC,CAAX,EAAaE,CAAb,EAAeC,CAAf,EAAiB;EAAC,IAAG,CAACD,CAAC,EAAEmC,iBAAH,EAAsB9B,MAA1B,EAAiC,OAAOP,CAAP;EAAS,IAAII,CAAJ;;EAAM,IAAGD,CAAH,EAAK;IAAC,MAAK;MAACc,SAAS,EAACZ;IAAX,IAAcH,CAAnB;IAAqB,IAAGG,CAAC,CAACE,MAAF,IAAU,CAACF,CAAC,CAACmB,QAAF,CAAWrB,CAAX,CAAd,EAA4B,OAAO,IAAP;IAAY,MAAMQ,CAAC,GAACT,CAAC,CAACmC,iBAAF,CAAoBd,IAApB,CAA0BrB,CAAC,IAAEA,CAAC,CAACa,aAAF,KAAkBf,CAAC,CAACgB,IAApB,IAA0Bd,CAAC,CAACY,YAAF,KAAiBX,CAAxE,CAAR;IAAoF,IAAG,CAACQ,CAAC,EAAEC,MAAH,EAAWL,MAAf,EAAsB,OAAOP,CAAP;IAASI,CAAC,GAAC+B,CAAC,CAACxB,CAAC,CAACC,MAAH,CAAH;EAAc,CAApM,MAAwM;IAACR,CAAC,GAACF,CAAC,CAACmB,UAAF,CAAaE,IAAb,CAAmB,CAAC;MAACP,IAAI,EAACd;IAAN,CAAD,KAAYA,CAAC,KAAGF,CAAC,CAACgB,IAArC,GAA6CsB,MAA/C;EAAsD;;EAAA,MAAMjC,CAAC,GAACD,CAAR;EAAU,IAAG,CAACC,CAAD,IAAI,CAACA,CAAC,EAAEE,MAAX,EAAkB,OAAOP,CAAP;EAAS,MAAMW,CAAC,GAACX,CAAC,CAACY,MAAF,CAASM,MAAT,CAAiBlB,CAAC,IAAE+B,CAAC,CAAC/B,CAAD,EAAGK,CAAH,CAArB,CAAR;EAAqC,OAAM,EAAC,GAAGL,CAAJ;IAAMsC,MAAM,EAAC,CAAC,GAAGjC,CAAJ,CAAb;IAAoBO,MAAM,EAACD;EAA3B,CAAN;AAAoC;;AAAA,SAAS4B,CAAT,CAAWvC,CAAX,EAAaE,CAAb,EAAeC,CAAf,EAAiB;EAAC,IAAG,CAACD,CAAC,EAAEmC,iBAAH,EAAsB9B,MAA1B,EAAiC,OAAM,CAAC,CAAP;EAAS,MAAK;IAACU,SAAS,EAACb;EAAX,IAAcF,CAAnB;EAAqB,IAAGE,CAAC,CAACG,MAAF,IAAUP,CAAC,CAACyB,IAAF,CAAQ,CAAC;IAACX,YAAY,EAACd;EAAd,CAAD,KAAoBA,CAAC,IAAE,CAACI,CAAC,CAACoB,QAAF,CAAWxB,CAAX,CAAhC,CAAb,EAA6D,OAAM,CAAC,CAAP;;EAAS,KAAI,IAAIK,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACL,CAAC,CAACO,MAAhB,EAAuBF,CAAC,EAAxB,EAA2B;IAAC,MAAMD,CAAC,GAACJ,CAAC,CAACK,CAAD,CAAT;IAAA,MAAaM,CAAC,GAACT,CAAC,CAACmC,iBAAF,CAAoBd,IAApB,CAA0BvB,CAAC,IAAE,CAAC,OAAKI,CAAC,CAACU,YAAP,IAAqBd,CAAC,CAACc,YAAF,KAAiBV,CAAC,CAACU,YAAzC,KAAwDd,CAAC,CAACe,aAAF,KAAkBX,CAAC,CAACW,aAAzG,CAAf;;IAAwI,IAAGJ,CAAC,EAAEC,MAAH,CAAUL,MAAb,EAAoB;MAAC,MAAMP,CAAC,GAACmC,CAAC,CAACxB,CAAC,CAACC,MAAH,CAAT;;MAAoB,IAAG,CAACR,CAAC,CAACkB,OAAH,IAAY,MAAIlB,CAAC,CAACQ,MAAF,CAASL,MAAzB,IAAiC,CAACyB,KAAK,CAACC,OAAN,CAAc7B,CAAC,CAACQ,MAAF,CAAS,CAAT,CAAd,CAAlC,IAA8DR,CAAC,CAACQ,MAAF,CAAS,CAAT,MAAcR,CAAC,CAACQ,MAAF,CAAS,CAAT,CAA5E,IAAyFT,CAA5F,EAA8F;QAAC,IAAG,CAAC+B,CAAC,CAAC9B,CAAC,CAACQ,MAAH,EAAUZ,CAAV,CAAL,EAAkB,OAAM,CAAC,CAAP;MAAS,CAA1H,MAA+H,IAAGI,CAAC,CAACQ,MAAF,CAASa,IAAT,CAAevB,CAAC,IAAE,CAAC6B,CAAC,CAAC7B,CAAD,EAAGF,CAAH,CAApB,CAAH,EAA+B,OAAM,CAAC,CAAP;IAAS;EAAC;;EAAA,OAAM,CAAC,CAAP;AAAS;;AAAA,SAASwC,CAAT,CAAWrC,CAAX,EAAaC,CAAb,EAAe;EAAC,IAAGF,CAAC,CAACC,CAAD,CAAJ,EAAQ,OAAM;IAACsC,SAAS,EAAC,CAAC;EAAZ,CAAN;EAAqB,MAAK;IAACC,QAAQ,EAACrC,CAAV;IAAYsC,UAAU,EAAChC,CAAvB;IAAyBD,0BAA0B,EAACqB;EAApD,IAAuD3B,CAA5D;EAA8D,IAAI8B,CAAC,GAAC,IAAN;EAAW,IAAGlC,CAAC,CAACW,CAAD,CAAD,KAAOuB,CAAC,GAACU,CAAC,CAACzC,CAAD,EAAGQ,CAAH,CAAH,EAAST,CAAC,CAACgC,CAAD,CAAjB,CAAH,EAAyB,OAAM;IAACO,SAAS,EAAC,CAAC;EAAZ,CAAN;EAAqB,MAAK;IAACI,cAAc,EAACV;EAAhB,IAAmBhC,CAAxB;;EAA0B,IAAGgC,CAAC,IAAE9B,CAAN,EAAQ;IAAC,MAAML,CAAC,GAAC,YAAUK,CAAC,CAACyC,IAAZ,GAAiBzC,CAAjB,GAAmB,aAAWA,CAAC,CAACyC,IAAb,GAAkBzC,CAAC,CAAC0C,MAApB,GAA2B,cAAY1C,CAAC,CAACyC,IAAd,GAAmBzC,CAAC,CAAC2C,QAArB,GAA8B,IAApF;IAAyF,IAAGhD,CAAC,IAAE,CAACmC,CAAC,CAACc,QAAF,CAAWjD,CAAX,CAAP,EAAqB,OAAM;MAACyC,SAAS,EAAC,CAAC;IAAZ,CAAN;EAAqB;;EAAA,OAAOzC,CAAC,CAAC+B,CAAD,CAAD,IAAMA,CAAC,CAACxB,MAAR,IAAgBgC,CAAC,CAACR,CAAD,EAAG5B,CAAH,EAAK,CAAC,CAAN,CAAjB,GAA0B;IAACsC,SAAS,EAAC,CAAC;EAAZ,CAA1B,GAAyC;IAACA,SAAS,EAAC,CAAC,CAAZ;IAAcS,YAAY,EAAC;MAACR,QAAQ,EAACrC,CAAV;MAAYsC,UAAU,EAACT,CAAvB;MAAyBxB,0BAA0B,EAACqB;IAApD;EAA3B,CAAhD;AAAmI;;AAAA,SAASa,CAAT,CAAW5C,CAAX,EAAaI,CAAb,EAAe;EAAC,MAAMC,CAAC,GAACL,CAAC,CAACqB,UAAF,CAAaE,IAAb,CAAmB,CAAC;IAACP,IAAI,EAAChB;EAAN,CAAD,KAAY,cAAYA,CAA3C,CAAR;EAAuD,IAAG,QAAMK,CAAN,IAASH,CAAC,CAACE,CAAC,CAACsB,KAAH,CAAD,IAAYxB,CAAC,CAACE,CAAC,CAACuB,GAAH,CAAzB,EAAiC,OAAOvB,CAAP;EAASA,CAAC,GAACA,CAAC,CAAC+C,KAAF,EAAF;EAAY,MAAK;IAACzB,KAAK,EAACf,CAAP;IAASgB,GAAG,EAACI;EAAb,IAAgB3B,CAAC,CAACgD,MAAF,EAArB;EAAA,MAAgClB,CAAC,GAACvB,CAAC,KAAGoB,CAAJ,GAAM,CAACpB,CAAD,CAAN,GAAU,QAAMA,CAAN,IAAS,QAAMoB,CAAf,GAAiB,CAACpB,CAAD,EAAGoB,CAAH,CAAjB,GAAuB,CAACpB,CAAC,IAAEoB,CAAJ,CAAnE;EAA0E,IAAG,MAAIG,CAAC,CAAC3B,MAAN,IAAcF,CAAC,EAAEiC,MAAH,CAAU/B,MAAxB,KAAiC2B,CAAC,CAAC,CAAD,CAAD,GAAKmB,IAAI,CAACC,GAAL,CAASpB,CAAC,CAAC,CAAD,CAAV,EAAc7B,CAAC,CAACiC,MAAF,CAAS,CAAT,CAAd,CAAL,EAAgCJ,CAAC,CAAC,CAAD,CAAD,GAAKmB,IAAI,CAACE,GAAL,CAASrB,CAAC,CAAC,CAAD,CAAV,EAAc7B,CAAC,CAACiC,MAAF,CAAS,CAAT,KAAajC,CAAC,CAACiC,MAAF,CAAS,CAAT,CAA3B,CAArC,EAA6EJ,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAApH,CAAH,EAA4H,OAAO,IAAP;EAAY,OAAOK,CAAC,CAAC,CAAC,IAAIpC,CAAJ,CAAM;IAACW,YAAY,EAAC,EAAd;IAAiBC,aAAa,EAAC,SAA/B;IAAyCO,OAAO,EAAC,MAAIY,CAAC,CAAC3B,MAAvD;IAA8DK,MAAM,EAACsB;EAArE,CAAN,CAAD,CAAD,EAAkFlC,CAAlF,EAAoF,CAAC,CAArF,CAAD,GAAyF,IAAzF,IAA+FI,CAAC,CAACsB,KAAF,GAAQ,IAAI8B,IAAJ,CAAStB,CAAC,CAAC,CAAD,CAAV,CAAR,EAAuB9B,CAAC,CAACuB,GAAF,GAAM,IAAI6B,IAAJ,CAAStB,CAAC,CAAC,CAAD,CAAD,IAAMA,CAAC,CAAC,CAAD,CAAhB,CAA7B,EAAkD9B,CAAjJ,CAAP;AAA2J;;AAAA,SAASqD,CAAT,CAAWtD,CAAX,EAAaC,CAAC,GAAC,EAAf,EAAkB;EAAC,MAAK;IAACsD,oBAAoB,EAACrD,CAAtB;IAAwBsD,aAAa,EAAChD;EAAtC,IAAyCR,CAA9C;EAAgD,IAAGD,CAAC,CAACG,CAAD,CAAJ,EAAQ,OAAO,IAAP;EAAY,MAAK;IAACS,YAAY,EAACiB,CAAd;IAAgB6B,sBAAsB,EAAC1B,CAAvC;IAAyCxB,0BAA0B,EAACyB;EAApE,IAAuE/B,CAA5E;EAAA,MAA8EgC,CAAC,GAACpC,CAAC,CAACmC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAD,EAAMrB,YAAX,GAAwB,IAAxG;EAAA,MAA6GyB,CAAC,GAACR,CAAC,IAAEK,CAAH,IAAMzB,CAAC,EAAEkD,eAAxH;EAAwI,IAAG;IAAC5C,SAAS,EAACuB;EAAX,IAAcnC,CAAjB;EAAmB6B,CAAC,EAAEjB,SAAH,EAAcV,MAAd,KAAuBiC,CAAC,GAACA,CAAC,CAACtB,MAAF,CAAU,CAAC;IAACF,IAAI,EAAChB;EAAN,CAAD,KAAYkC,CAAC,CAACjB,SAAF,CAAYO,QAAZ,CAAqBxB,CAArB,CAAtB,CAAzB;EAA0E,OAAOuC,CAAC,GAACC,CAAC,CAACjB,IAAF,CAAQ,CAAC;IAACP,IAAI,EAAChB;EAAN,CAAD,KAAYA,CAAC,KAAGuC,CAAxB,KAA6BC,CAAC,CAAC,CAAD,CAA/B,GAAmCA,CAAC,CAAC,CAAD,CAA5C;AAAgD;;AAAA,SAASsB,CAAT,CAAW9D,CAAX,EAAaE,CAAC,GAAC,EAAf,EAAkB;EAAC,MAAME,CAAC,GAACqD,CAAC,CAACzD,CAAD,EAAGE,CAAH,CAAT;EAAe,IAAG,CAACE,CAAJ,EAAM,OAAO,IAAP;EAAY,MAAMC,CAAC,GAAC,EAAR;EAAA,MAAW;IAACgB,UAAU,EAACV,CAAZ;IAAcK,IAAI,EAACe;EAAnB,IAAsB3B,CAAjC;EAAmC,IAAG,MAAIO,CAAC,CAACJ,MAAT,EAAgB,OAAM,CAAC,IAAIJ,CAAJ,CAAM;IAACW,YAAY,EAACiB,CAAd;IAAgBhB,aAAa,EAAC,EAA9B;IAAiCH,MAAM,EAAC,EAAxC;IAA2CU,OAAO,EAAC,CAAC;EAApD,CAAN,CAAD,CAAN;;EAAsE,KAAI,IAAIY,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACvB,CAAC,CAACJ,MAAhB,EAAuB2B,CAAC,EAAxB,EAA2B;IAAC,MAAMlC,CAAC,GAACoC,CAAC,CAACzB,CAAC,CAACuB,CAAD,CAAF,EAAMhC,CAAC,CAAC0D,sBAAR,EAA+B7B,CAA/B,CAAT;IAA2C,IAAG,CAAC/B,CAAJ,EAAM,OAAO,IAAP;IAAY,MAAK;MAACY,MAAM,EAACR,CAAR;MAAUkC,MAAM,EAACH;IAAjB,IAAoBnC,CAAzB;IAA2B,IAAIuC,CAAC,GAACnC,CAAC,GAAG,CAAH,CAAD,IAAQ+B,CAAC,CAAC,CAAD,CAAf;IAAmB,WAASnC,CAAC,CAACgB,IAAF,CAAOG,WAAP,EAAT,IAA+B,CAACnB,CAAC,CAAC+D,SAAlC,IAA6CV,IAAI,CAACW,GAAL,CAAS7B,CAAC,CAAC,CAAD,CAAV,KAAgBkB,IAAI,CAACW,GAAL,CAAS7B,CAAC,CAAC,CAAD,CAAV,CAA7D,KAA8EI,CAAC,GAACnC,CAAC,EAAEG,MAAH,GAAUH,CAAC,CAACA,CAAC,CAACG,MAAF,GAAS,CAAV,CAAX,GAAwB4B,CAAC,CAAC,CAAD,CAAzG,GAA8G9B,CAAC,CAACG,IAAF,CAAO,IAAIL,CAAJ,CAAM;MAACW,YAAY,EAACiB,CAAd;MAAgBhB,aAAa,EAACf,CAAC,CAACgB,IAAhC;MAAqCJ,MAAM,EAAC,CAAC2B,CAAD,CAA5C;MAAgDjB,OAAO,EAAC,CAACpB,CAAC,CAAC+D,8BAAH,IAAmC,CAAC,CAACjE,CAAC,CAAC+D;IAA/F,CAAN,CAAP,CAA9G;EAAuO;;EAAA,OAAO1D,CAAP;AAAS;;AAAA,SAAS6D,CAAT,CAAWlE,CAAX,EAAa;EAAC,OAAM,EAAEE,CAAC,CAACF,CAAD,CAAD,IAAM,CAACA,CAAC,CAACO,MAAX,KAAoBP,CAAC,CAACyB,IAAF,CAAQzB,CAAC,IAAE;IAAC,IAAG,QAAMA,CAAC,CAACY,MAAX,EAAkB,OAAM,CAAC,CAAP;IAAS,MAAMV,CAAC,GAACF,CAAC,CAACY,MAAF,CAASL,MAAjB;IAAwB,OAAO,MAAIL,CAAJ,IAAOA,CAAC,GAAC,CAAT,IAAY,CAACF,CAAC,CAACsB,OAAH,IAAYU,KAAK,CAACC,OAAN,CAAcjC,CAAC,CAACY,MAAF,CAAS,CAAT,CAAd,CAA/B;EAA0D,CAAzH,CAA1B;AAAsJ;;AAAA,SAASuD,CAAT,CAAWhE,CAAX,EAAaC,CAAb,EAAe;EAAC,IAAGF,CAAC,CAACE,CAAD,CAAD,IAAMF,CAAC,CAACC,CAAD,CAAV,EAAc,OAAO,IAAP;EAAY,IAAIE,CAAC,GAACD,CAAC,CAACa,SAAF,CAAYa,GAAZ,CAAiB9B,CAAC,KAAG,EAAC,GAAGA;EAAJ,CAAH,CAAlB,CAAN;EAAqC,OAAOG,CAAC,EAAEc,SAAH,EAAcV,MAAd,KAAuBF,CAAC,GAACA,CAAC,CAACa,MAAF,CAAU,CAAC;IAACF,IAAI,EAAChB;EAAN,CAAD,KAAYG,CAAC,CAACc,SAAF,CAAYO,QAAZ,CAAqBxB,CAArB,CAAtB,CAAF,EAAkDK,CAAC,CAACQ,OAAF,CAAWX,CAAC,IAAE;IAACA,CAAC,CAACmB,UAAF,GAAanB,CAAC,CAACmB,UAAF,CAAaS,GAAb,CAAkB9B,CAAC,IAAEoC,CAAC,CAACpC,CAAD,EAAGG,CAAH,EAAKD,CAAC,CAACc,IAAP,CAAtB,EAAqCE,MAArC,CAA4ClB,CAA5C,CAAb;EAA4D,CAA3E,CAAzE,GAAwJK,CAA/J;AAAiK;;AAAA,SAAS+D,CAAT,CAAWpE,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAK;IAACU,MAAM,EAACT;EAAR,IAAWD,CAAhB;EAAkB,IAAGC,CAAC,EAAEI,MAAN,EAAa,OAAOyB,KAAK,CAACC,OAAN,CAAc9B,CAAC,CAAC,CAAD,CAAf,MAAsB6B,KAAK,CAACC,OAAN,CAAcjC,CAAd,CAAtB,GAAuC,CAAC,CAAxC,GAA0CgC,KAAK,CAACC,OAAN,CAAc9B,CAAC,CAAC,CAAD,CAAf,IAAoBA,CAAC,CAAC0B,SAAF,CAAa3B,CAAC,IAAEA,CAAC,CAAC,CAAD,CAAD,KAAOF,CAAC,CAAC,CAAD,CAAR,IAAaE,CAAC,CAAC,CAAD,CAAD,KAAOF,CAAC,CAAC,CAAD,CAArC,CAApB,GAA+DG,CAAC,CAACkE,OAAF,CAAUrE,CAAV,CAAhH;EAA6H,MAAK;IAACsC,MAAM,EAAClC;EAAR,IAAWF,CAAhB;EAAkB,IAAG8B,KAAK,CAACC,OAAN,CAAcjC,CAAd,KAAkBA,CAAC,GAACI,CAAC,CAAC,CAAD,CAArB,IAA0BJ,CAAC,GAACI,CAAC,CAAC,CAAD,CAAhC,EAAoC,OAAM,CAAC,CAAP;EAAS,MAAMC,CAAC,GAACH,CAAC,CAACoE,QAAF,IAAY,CAApB;EAAsB,IAAG,cAAYpE,CAAC,CAACqE,IAAjB,EAAsB,OAAOlB,IAAI,CAACmB,KAAL,CAAW,CAACxE,CAAC,GAACI,CAAC,CAAC,CAAD,CAAJ,IAASC,CAApB,CAAP;EAA8B,MAAMM,CAAC,GAACP,CAAC,CAAC,CAAD,CAAT;EAAa,IAAI2B,CAAC,GAAC,CAAC,CAAP;;EAAS,QAAO7B,CAAC,CAACuE,YAAF,EAAgBtD,WAAhB,MAA+B,SAAtC;IAAiD,KAAI,SAAJ;MAAcY,CAAC,GAACsB,IAAI,CAACmB,KAAL,CAAW,CAACxE,CAAC,GAACW,CAAH,IAAM,GAAN,GAAUN,CAArB,CAAF;MAA0B;;IAAM,KAAI,SAAJ;MAAc0B,CAAC,GAACsB,IAAI,CAACmB,KAAL,CAAW,CAACxE,CAAC,GAACW,CAAH,IAAM,GAAN,GAAUN,CAArB,CAAF;MAA0B;;IAAM,KAAI,OAAJ;MAAY0B,CAAC,GAACsB,IAAI,CAACmB,KAAL,CAAW,CAACxE,CAAC,GAACW,CAAH,IAAM,IAAN,GAAWN,CAAtB,CAAF;MAA2B;;IAAM,KAAI,MAAJ;MAAW0B,CAAC,GAACsB,IAAI,CAACmB,KAAL,CAAW,CAACxE,CAAC,GAACW,CAAH,IAAM,KAAN,GAAYN,CAAvB,CAAF;MAA4B;;IAAM,KAAI,QAAJ;MAAa;QAAC,MAAMH,CAAC,GAAC,IAAIsD,IAAJ,CAASxD,CAAT,EAAY0E,cAAZ,KAA6B,IAAIlB,IAAJ,CAAS7C,CAAT,EAAY+D,cAAZ,EAArC;QAAA,MAAkEvE,CAAC,GAAC,IAAIqD,IAAJ,CAAS7C,CAAT,EAAYgE,WAAZ,EAApE;QAAA,MAA8FvE,CAAC,GAAC,IAAIoD,IAAJ,CAASxD,CAAT,EAAY2E,WAAZ,EAAhG;QAA0H5C,CAAC,GAAC,MAAI7B,CAAJ,GAAME,CAAC,GAACD,CAAR,GAAUC,CAAC,GAAC,EAAF,GAAKD,CAAL,GAAO,MAAID,CAAC,GAAC,CAAN,CAAnB;MAA4B;MAAA;;IAAM,KAAI,OAAJ;MAAY6B,CAAC,GAACsB,IAAI,CAACmB,KAAL,CAAW,CAAC,IAAIhB,IAAJ,CAASxD,CAAT,EAAY0E,cAAZ,KAA6B,IAAIlB,IAAJ,CAAS7C,CAAT,EAAY+D,cAAZ,EAA9B,IAA4DrE,CAAvE,CAAF;MAA4E;;IAAM,KAAI,SAAJ;MAAc0B,CAAC,GAACsB,IAAI,CAACmB,KAAL,CAAW,CAAC,IAAIhB,IAAJ,CAASxD,CAAT,EAAY0E,cAAZ,KAA6B,IAAIlB,IAAJ,CAAS7C,CAAT,EAAY+D,cAAZ,EAA9B,IAA4D,EAA5D,GAA+DrE,CAA1E,CAAF;EAA7f;;EAA4kB,OAAO0B,CAAP;AAAS;;AAAA,SAAS6C,CAAT,CAAW5E,CAAX,EAAa;EAAC,IAAIE,CAAC,GAACF,CAAC,CAACY,MAAF,EAAUL,MAAhB;EAAuB,IAAGL,CAAH,EAAK,OAAOA,CAAP;EAAS,MAAK;IAACoC,MAAM,EAACnC,CAAR;IAAUoE,IAAI,EAACnE;EAAf,IAAkBJ,CAAvB;EAAA,MAAyBK,CAAC,GAACL,CAAC,CAACsE,QAAF,IAAY,CAAvC;EAAA,MAAyC3D,CAAC,GAACR,CAAC,GAACA,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAP,GAAW,CAAvD;EAAyD,IAAG,cAAYC,CAAf,EAAiB,OAAOiD,IAAI,CAACmB,KAAL,CAAW7D,CAAC,GAACN,CAAb,CAAP;;EAAuB,QAAOL,CAAC,CAACyE,YAAF,EAAgBtD,WAAhB,MAA+B,SAAtC;IAAiD,KAAI,SAAJ;MAAcjB,CAAC,GAACmD,IAAI,CAACmB,KAAL,CAAW7D,CAAC,GAAC,GAAF,GAAMN,CAAjB,CAAF;MAAsB;;IAAM,KAAI,SAAJ;MAAcH,CAAC,GAACmD,IAAI,CAACmB,KAAL,CAAW7D,CAAC,GAAC,GAAF,GAAMN,CAAjB,CAAF;MAAsB;;IAAM,KAAI,OAAJ;MAAYH,CAAC,GAACmD,IAAI,CAACmB,KAAL,CAAW7D,CAAC,GAAC,IAAF,GAAON,CAAlB,CAAF;MAAuB;;IAAM,KAAI,MAAJ;MAAWH,CAAC,GAACmD,IAAI,CAACmB,KAAL,CAAW7D,CAAC,GAAC,KAAF,GAAQN,CAAnB,CAAF;MAAwB;;IAAM,KAAI,QAAJ;MAAa;QAAC,MAAML,CAAC,GAAC,IAAIwD,IAAJ,CAASrD,CAAC,CAAC,CAAD,CAAV,EAAeuE,cAAf,KAAgC,IAAIlB,IAAJ,CAASrD,CAAC,CAAC,CAAD,CAAV,EAAeuE,cAAf,EAAxC;QAAA,MAAwEtE,CAAC,GAAC,IAAIoD,IAAJ,CAASrD,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAT,EAAkBwE,WAAlB,EAA1E;QAAA,MAA0GtE,CAAC,GAAC,IAAImD,IAAJ,CAASrD,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAT,EAAkBwE,WAAlB,EAA5G;QAA4IzE,CAAC,GAAC,MAAIF,CAAJ,GAAMK,CAAC,GAACD,CAAF,GAAI,CAAV,GAAYC,CAAC,GAAC,EAAF,GAAKD,CAAL,GAAO,MAAIJ,CAAC,GAAC,CAAN,CAAP,GAAgB,CAA9B;MAAgC;MAAA;;IAAM,KAAI,OAAJ;MAAYE,CAAC,GAACmD,IAAI,CAACmB,KAAL,CAAW,CAAC,IAAIhB,IAAJ,CAASrD,CAAC,CAAC,CAAD,CAAV,EAAeuE,cAAf,KAAgC,IAAIlB,IAAJ,CAASrD,CAAC,CAAC,CAAD,CAAV,EAAeuE,cAAf,EAAjC,IAAkErE,CAA7E,CAAF;MAAkF;;IAAM,KAAI,SAAJ;MAAcH,CAAC,GAACmD,IAAI,CAACmB,KAAL,CAAW,CAAC,IAAIhB,IAAJ,CAASrD,CAAC,CAAC,CAAD,CAAV,EAAeuE,cAAf,KAAgC,IAAIlB,IAAJ,CAASrD,CAAC,CAAC,CAAD,CAAV,EAAeuE,cAAf,EAAjC,IAAkE,EAAlE,GAAqErE,CAAhF,CAAF;MAAqF;;IAAM;MAAQH,CAAC,GAAC,CAAF;EAA5mB;;EAAgnB,OAAOA,CAAP;AAAS;;AAAA,SAAS2E,CAAT,CAAW7E,CAAX,EAAaE,CAAb,EAAe;EAAC,IAAIC,CAAC,GAAC,CAAN;EAAQ,MAAMC,CAAC,GAACJ,CAAC,CAAC,CAAD,CAAD,CAAKc,YAAb;EAAA,MAA0BT,CAAC,GAAC,CAAC,GAAGH,CAAC,CAACe,SAAN,EAAiBG,IAAjB,CAAuB,CAACpB,CAAD,EAAGE,CAAH,KAAOF,CAAC,CAACgB,IAAF,GAAOd,CAAC,CAACc,IAAT,GAAc,CAAd,GAAgB,CAAC,CAA/C,CAA5B;;EAA+E,KAAI,IAAIL,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACN,CAAC,CAACE,MAAhB,EAAuBI,CAAC,EAAxB,EAA2B;IAAC,MAAMT,CAAC,GAACG,CAAC,CAACM,CAAD,CAAT;IAAA,MAAaoB,CAAC,GAAC,CAAC,GAAG7B,CAAC,CAACmB,UAAN,EAAkBD,IAAlB,CAAwB,CAACpB,CAAD,EAAGE,CAAH,KAAOF,CAAC,CAACgB,IAAF,GAAOd,CAAC,CAACc,IAAT,GAAc,CAAC,CAAf,GAAiB,CAAhD,CAAf;;IAAmE,IAAGd,CAAC,CAACc,IAAF,KAASZ,CAAZ,EAAc;MAACD,CAAC,IAAE4B,CAAC,CAACD,GAAF,CAAO9B,CAAC,IAAE4E,CAAC,CAAC5E,CAAD,CAAX,EAAiB8E,MAAjB,CAAyB,CAAC9E,CAAD,EAAGE,CAAH,KAAOF,CAAC,GAACE,CAAlC,CAAH;MAAyC;IAAS;;IAAA,MAAMgC,CAAC,GAACH,CAAC,CAACD,GAAF,CAAO9B,CAAC,IAAE4E,CAAC,CAAC5E,CAAD,CAAX,CAAR;IAAA,MAAyBmC,CAAC,GAACJ,CAAC,CAACxB,MAA7B;;IAAoC,KAAI,IAAIH,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC+B,CAAd,EAAgB/B,CAAC,EAAjB,EAAoB;MAAC,MAAMF,CAAC,GAACF,CAAC,CAACuB,IAAF,CAAQvB,CAAC,IAAEA,CAAC,CAACe,aAAF,KAAkBgB,CAAC,CAAC3B,CAAD,CAAD,CAAKY,IAAlC,CAAR;MAAiD,IAAG,QAAMd,CAAT,EAAW,OAAO,IAAP;MAAY,MAAMG,CAAC,GAAC+D,CAAC,CAAClE,CAAC,CAACU,MAAF,CAAS,CAAT,CAAD,EAAamB,CAAC,CAAC3B,CAAD,CAAd,CAAT;MAA4B,IAAG,CAAC,CAAD,KAAKC,CAAR,EAAU,OAAO,IAAP;MAAY6B,CAAC,CAAC5B,KAAF,IAAUH,CAAC,IAAEC,CAAC,KAAG+B,CAAC,GAAC,CAAN,GAAQ9B,CAAR,GAAUA,CAAC,GAAC6B,CAAC,CAAC4C,MAAF,CAAU,CAAC9E,CAAD,EAAGE,CAAH,KAAOF,CAAC,GAACE,CAAnB,CAAzB;IAAgD;;IAAA;EAAM;;EAAA,OAAOC,CAAP;AAAS;;AAAA,SAAOE,CAAC,IAAI0E,YAAZ,EAAyBjB,CAAC,IAAIkB,oCAA9B,EAAmEvB,CAAC,IAAIwB,qBAAxE,EAA8FtE,CAAC,IAAIuE,WAAnG,EAA+GL,CAAC,IAAIM,aAApH,EAAkIhB,CAAC,IAAIiB,4BAAvI,EAAoK7C,CAAC,IAAI8C,8BAAzK,EAAwM7C,CAAC,IAAI8C,6BAA7M,EAA2OpB,CAAC,IAAIqB,6BAAhP"},"metadata":{},"sourceType":"module"}