{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport t from \"../../Graphic.js\";\nimport \"../../symbols.js\";\nimport s from \"../../core/Collection.js\";\nimport i from \"../../core/Error.js\";\nimport r from \"../../core/Handles.js\";\nimport o from \"../../core/Logger.js\";\nimport { unwrap as a } from \"../../core/maybe.js\";\nimport { watch as n, when as l, sync as h } from \"../../core/reactiveUtils.js\";\nimport { property as u } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as c } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { geographicToWebMercator as d } from \"../../geometry/support/webMercatorUtils.js\";\nimport p from \"../../layers/Layer.js\";\nimport { fallbackObjectIDAttribute as g } from \"../../layers/LayerConstants.js\";\nimport f from \"../../support/actions/ActionBase.js\";\nimport m from \"../../support/actions/ActionButton.js\";\nimport y from \"../../support/actions/ActionToggle.js\";\nimport { getDisplayedSymbol as w } from \"../../symbols/support/symbolUtils.js\";\nimport { ViewEventPriorities as F } from \"../../views/input/InputManager.js\";\nimport { highlightsSupported as v } from \"../../views/support/layerViewUtils.js\";\nimport _ from \"../Feature/FeatureViewModel.js\";\nimport { zoomToFeature as b, zoomToClusteredFeatures as C, browseClusteredFeatures as P } from \"./actions.js\";\nimport { triggerAction as E, isClusterFeature as A, getSelectedTarget as V, removeClusteredFeaturesForBrowsing as M, displayClusterExtent as j, browseAggregateFeatures as L, getPointFromGeometry as O } from \"./actionUtils.js\";\nimport T from \"../support/AnchorElementViewModel.js\";\nimport { GoToMixin as I } from \"../support/GoTo.js\";\nimport x from \"../../symbols/SimpleFillSymbol.js\";\nimport S from \"../../geometry/Point.js\";\n\nconst B = s.ofType({\n  key: \"type\",\n  defaultKeyValue: \"button\",\n  base: f,\n  typeMap: {\n    button: m,\n    toggle: y\n  }\n}),\n      R = () => [b.clone()],\n      G = () => [C.clone(), P.clone()];\n\nlet z = class extends I(T) {\n  get isLoadingFeature() {\n    return this.featureViewModels.some(e => e.waitingForContent);\n  }\n\n  constructor(e) {\n    super(e), this._handles = new r(), this._pendingPromises = new Set(), this._fetchFeaturesController = null, this._highlightSelectedFeaturePromise = null, this._highlightActiveFeaturePromise = null, this._selectedClusterFeature = null, this.featurePage = null, this.actions = new B(), this.activeFeature = null, this.defaultPopupTemplateEnabled = !1, this.autoCloseEnabled = !1, this.autoOpenEnabled = !0, this.browseClusterEnabled = !1, this.content = null, this.featuresPerPage = 20, this.featureViewModelAbilities = null, this.featureViewModels = [], this.highlightEnabled = !0, this.includeDefaultActions = !0, this.selectedClusterBoundaryFeature = new t({\n      symbol: new x({\n        outline: {\n          width: 1.5,\n          color: \"cyan\"\n        },\n        style: \"none\"\n      })\n    }), this.title = null, this.updateLocationEnabled = !1, this.view = null, this.visible = !1, this.zoomFactor = 4, this.zoomToLocation = null;\n  }\n\n  initialize() {\n    this._handles.add([n(() => [this.autoOpenEnabled, this.view], () => this._autoOpenEnabledChange()), this.on(\"view-change\", () => this._autoClose()), n(() => [this.highlightEnabled, this.selectedFeature, this.visible, this.view], () => this._highlightSelectedFeature()), n(() => [this.highlightEnabled, this.activeFeature, this.visible, this.view], () => this._highlightActiveFeature()), n(() => this.view?.animation?.state, e => this._animationStateChange(e)), n(() => this.location, e => this._locationChange(e)), n(() => this.selectedFeature, e => this._selectedFeatureChange(e)), n(() => [this.selectedFeatureIndex, this.featureCount, this.featuresPerPage], () => this._selectedFeatureIndexChange()), n(() => [this.featurePage, this.selectedFeatureIndex, this.featureCount, this.featuresPerPage, this.featureViewModels], () => this._setGraphicOnFeatureViewModels()), n(() => this.featureViewModels, () => this._featureViewModelsChange()), this.on(\"trigger-action\", e => E({\n      event: e,\n      view: this.view\n    })), l(() => !this.waitingForResult, () => this._waitingForResultChange(), h), n(() => [this.features, this.view?.map, this.view?.spatialReference], () => this._updateFeatureVMs()), n(() => this.view?.scale, () => this._viewScaleChange()), l(() => !this.visible, () => this.browseClusterEnabled = !1), n(() => this.browseClusterEnabled, e => e ? this.enableClusterBrowsing() : this.disableClusterBrowsing())]);\n  }\n\n  destroy() {\n    this._cancelFetchingFeatures(), this._handles.destroy(), this._pendingPromises.clear(), this.browseClusterEnabled = !1, this.view = null;\n  }\n\n  get active() {\n    return !(!this.visible || this.waitingForResult);\n  }\n\n  get allActions() {\n    const e = this._get(\"allActions\") || new B();\n    e.removeAll();\n    const {\n      actions: t,\n      defaultActions: s,\n      defaultPopupTemplateEnabled: i,\n      includeDefaultActions: r,\n      selectedFeature: o\n    } = this,\n          a = r ? s.concat(t) : t,\n          n = o && (\"function\" == typeof o.getEffectivePopupTemplate && o.getEffectivePopupTemplate(i) || o.popupTemplate),\n          l = n && n.actions,\n          h = n && n.overwriteActions ? l : l ? l.concat(a) : a;\n    return h && h.filter(Boolean).forEach(t => e.add(t)), e;\n  }\n\n  get defaultActions() {\n    const e = this._get(\"defaultActions\") || new B();\n    return e.removeAll(), e.addMany(A(this.selectedFeature) ? G() : R()), e;\n  }\n\n  get featureCount() {\n    return this.features.length;\n  }\n\n  get features() {\n    return this._get(\"features\") || [];\n  }\n\n  set features(e) {\n    const t = e || [];\n\n    this._set(\"features\", t);\n\n    const {\n      pendingPromisesCount: s,\n      promiseCount: i,\n      selectedFeatureIndex: r\n    } = this,\n          o = i && t.length;\n    o && s && -1 === r ? this.selectedFeatureIndex = 0 : o && -1 !== r || (this.selectedFeatureIndex = t.length ? 0 : -1);\n  }\n\n  get location() {\n    return this._get(\"location\") || null;\n  }\n\n  set location(e) {\n    let t = e;\n    const s = this.view?.spatialReference?.isWebMercator;\n    e && e?.spatialReference?.isWGS84 && s && (t = d(e)), this._set(\"location\", t);\n  }\n\n  get pendingPromisesCount() {\n    return this._pendingPromises.size;\n  }\n\n  get waitingForResult() {\n    return !(!(!!this._fetchFeaturesController || this.pendingPromisesCount > 0) || 0 !== this.featureCount);\n  }\n\n  get promiseCount() {\n    return this.promises.length;\n  }\n\n  get promises() {\n    return this._get(\"promises\") || [];\n  }\n\n  set promises(e) {\n    if (this._pendingPromises.clear(), this.features = [], !Array.isArray(e) || !e.length) return this._set(\"promises\", []), void this.notifyChange(\"pendingPromisesCount\");\n    this._set(\"promises\", e), (e = e.slice(0)).forEach(e => {\n      this._pendingPromises.add(e);\n\n      const t = t => {\n        this._pendingPromises.has(e) && this._updateFeatures(t), this._updatePendingPromises(e);\n      },\n            s = () => this._updatePendingPromises(e);\n\n      e.then(t, s);\n    }), this.notifyChange(\"pendingPromisesCount\");\n  }\n\n  get selectedFeature() {\n    const {\n      features: e,\n      selectedFeatureIndex: t\n    } = this;\n    if (-1 === t) return null;\n    return e[t] || null;\n  }\n\n  get selectedFeatureIndex() {\n    const e = this._get(\"selectedFeatureIndex\");\n\n    return \"number\" == typeof e ? e : -1;\n  }\n\n  set selectedFeatureIndex(e) {\n    const {\n      featureCount: t\n    } = this;\n    e = isNaN(e) || e < -1 || !t ? -1 : (e + t) % t, this.activeFeature = null, this._set(\"selectedFeatureIndex\", e);\n  }\n\n  get selectedFeatureViewModel() {\n    return this.featureViewModels[this.selectedFeatureIndex] || null;\n  }\n\n  get state() {\n    return this.get(\"view.ready\") ? \"ready\" : \"disabled\";\n  }\n\n  centerAtLocation() {\n    const {\n      view: e\n    } = this,\n          t = V(this);\n    return t && e ? this.callGoTo({\n      target: {\n        target: t,\n        scale: e.scale\n      }\n    }) : Promise.reject(new i(\"center-at-location:invalid-target-or-view\", \"Cannot center at a location without a target and view.\", {\n      target: t,\n      view: e\n    }));\n  }\n\n  zoomTo(e) {\n    return this.callGoTo(e);\n  }\n\n  clear() {\n    this.set({\n      promises: [],\n      features: [],\n      content: null,\n      title: null,\n      location: null,\n      activeFeature: null\n    });\n  }\n\n  fetchFeatures(e, t) {\n    const {\n      view: s\n    } = this;\n    if (!s || !e) throw new i(\"fetch-features:invalid-screenpoint-or-view\", \"Cannot fetch features without a screenPoint and view.\", {\n      screenPoint: e,\n      view: s\n    });\n    return s.fetchPopupFeatures(e, {\n      event: t && t.event,\n      defaultPopupTemplateEnabled: this.defaultPopupTemplateEnabled,\n      signal: t && t.signal\n    });\n  }\n\n  open(e) {\n    const t = {\n      updateLocationEnabled: !1,\n      promises: [],\n      fetchFeatures: !1,\n      ...e,\n      visible: !0\n    },\n          {\n      fetchFeatures: s\n    } = t;\n    delete t.fetchFeatures, s && this._setFetchFeaturesPromises(t.location);\n    const i = [\"actionsMenuOpen\", \"collapsed\", \"featureMenuOpen\"];\n\n    for (const r of i) delete t[r];\n\n    this.set(t);\n  }\n\n  triggerAction(e) {\n    const t = this.allActions.getItemAt(e);\n    t && !t.disabled && this.emit(\"trigger-action\", {\n      action: t\n    });\n  }\n\n  next() {\n    return this.selectedFeatureIndex = this.selectedFeatureIndex + 1, this;\n  }\n\n  previous() {\n    return this.selectedFeatureIndex = this.selectedFeatureIndex - 1, this;\n  }\n\n  disableClusterBrowsing() {\n    M(this), this._clearBrowsedClusterGraphics();\n  }\n\n  enableClusterBrowsing() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const {\n        view: e,\n        selectedFeature: t\n      } = _this;\n      \"2d\" === e?.type ? A(t) ? (yield j(_this), yield L(_this)) : o.getLogger(_this.declaredClass).warn(\"enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.\", t) : o.getLogger(_this.declaredClass).warn(\"enableClusterBrowsing:invalid-view: View must be 2d MapView.\", t);\n    })();\n  }\n\n  _animationStateChange(e) {\n    this.zoomToLocation || (b.disabled = \"waiting-for-target\" === e);\n  }\n\n  _clearBrowsedClusterGraphics() {\n    const e = this.view?.graphics;\n    e && (e.remove(this.selectedClusterBoundaryFeature), this._selectedClusterFeature && e.remove(this._selectedClusterFeature)), this._selectedClusterFeature = null, this.selectedClusterBoundaryFeature.geometry = null;\n  }\n\n  _viewScaleChange() {\n    if (A(this.selectedFeature)) return this.browseClusterEnabled = !1, this.visible = !1, void this.clear();\n    this.browseClusterEnabled && (this.features = this.selectedFeature ? [this.selectedFeature] : []);\n  }\n\n  _locationChange(e) {\n    const {\n      selectedFeature: t,\n      updateLocationEnabled: s\n    } = this;\n    s && e && (!t || t.geometry) && this.centerAtLocation();\n  }\n\n  _selectedFeatureIndexChange() {\n    this.featurePage = this.featureCount > 1 ? Math.floor(this.selectedFeatureIndex / this.featuresPerPage) + 1 : null;\n  }\n\n  _featureViewModelsChange() {\n    this.featurePage = this.featureCount > 1 ? 1 : null;\n  }\n\n  _setGraphicOnFeatureViewModels() {\n    const {\n      features: e,\n      featureCount: t,\n      featurePage: s,\n      featuresPerPage: i,\n      featureViewModels: r\n    } = this;\n    if (null === s) return;\n    const o = ((s - 1) * i + t) % t,\n          a = o + i;\n    r.slice(o, a).forEach((t, s) => {\n      t && !t.graphic && (t.graphic = e[o + s]);\n    });\n  }\n\n  _selectedFeatureChange(e) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const {\n        location: t,\n        updateLocationEnabled: s,\n        view: i\n      } = _this2;\n\n      if (e && i) {\n        if (_this2.browseClusterEnabled) {\n          if (_this2._selectedClusterFeature && (i.graphics.remove(_this2._selectedClusterFeature), _this2._selectedClusterFeature = null), A(e)) return;\n          return e.symbol = yield w(e), _this2._selectedClusterFeature = e, void i.graphics.add(_this2._selectedClusterFeature);\n        }\n\n        !s && t || !e.geometry ? s && !e.geometry && _this2.centerAtLocation().then(() => {\n          const e = i.center?.clone();\n          e && (_this2.location = e);\n        }) : _this2.location = a(O(e.geometry));\n      }\n    })();\n  }\n\n  _waitingForResultChange() {\n    !this.featureCount && this.promises && (this.visible = !1);\n  }\n\n  _setFetchFeaturesPromises(e) {\n    return this._fetchFeaturesWithController(this._getScreenPoint(e || this.location)).then(e => {\n      const {\n        clientOnlyGraphics: t,\n        promisesPerLayerView: s\n      } = e,\n            i = Promise.resolve(t),\n            r = s.map(e => e.promise);\n      this.promises = [i, ...r];\n    });\n  }\n\n  _destroyFeatureVMs() {\n    this.featureViewModels.forEach(e => e && !e.destroyed && e.destroy()), this._set(\"featureViewModels\", []);\n  }\n\n  _updateFeatureVMs() {\n    const {\n      selectedFeature: e,\n      features: t,\n      featureViewModels: s\n    } = this;\n    if (A(e) || (this.browseClusterEnabled = !1), this._destroyFeatureVMs(), !t || !t.length) return;\n    const i = s.slice(0),\n          r = [];\n    t.forEach((t, s) => {\n      if (!t) return;\n      let o = null;\n      if (i.some((e, s) => (e && e.graphic === t && (o = e, i.splice(s, 1)), !!o)), o) r[s] = o;else {\n        const i = new _({\n          abilities: this.featureViewModelAbilities,\n          defaultPopupTemplateEnabled: this.defaultPopupTemplateEnabled,\n          spatialReference: this.view?.spatialReference,\n          graphic: t === e ? t : null,\n          map: this.view?.map,\n          view: this.view\n        });\n        r[s] = i;\n      }\n    }), i.forEach(e => e && !e.destroyed && e.destroy()), this._set(\"featureViewModels\", r);\n  }\n\n  _getScreenPoint(e) {\n    const {\n      view: t\n    } = this;\n    return t && e && \"function\" == typeof t.toScreen ? t.toScreen(e) : null;\n  }\n\n  _autoOpenEnabledChange() {\n    const e = \"auto-fetch-features\",\n          {\n      _handles: t,\n      autoOpenEnabled: s\n    } = this;\n\n    if (t.remove(e), s && this.view) {\n      const s = this.view.on(\"click\", e => {\n        \"mouse\" === e.pointerType && 0 !== e.button || this._fetchFeaturesAndOpen(e);\n      }, F.WIDGET);\n      t.add(s, e);\n    }\n  }\n\n  _cancelFetchingFeatures() {\n    const e = this._fetchFeaturesController;\n    e && e.abort(), this._fetchFeaturesController = null, this.notifyChange(\"waitingForResult\");\n  }\n\n  _fetchFeaturesWithController(e, t) {\n    this._cancelFetchingFeatures();\n\n    const s = new AbortController(),\n          {\n      signal: i\n    } = s;\n    this._fetchFeaturesController = s, this.notifyChange(\"waitingForResult\");\n    const r = this.fetchFeatures(e, {\n      signal: i,\n      event: t\n    });\n    return r.catch(() => {}).then(() => {\n      this._fetchFeaturesController = null, this.notifyChange(\"waitingForResult\");\n    }), r;\n  }\n\n  _fetchFeaturesAndOpen(e) {\n    const {\n      screenPoint: t,\n      mapPoint: s\n    } = e,\n          {\n      view: i\n    } = this;\n\n    this._fetchFeaturesWithController(t, e).then(e => {\n      const {\n        clientOnlyGraphics: t,\n        promisesPerLayerView: r,\n        location: o\n      } = e,\n            a = [Promise.resolve(t), ...r.map(e => e.promise)];\n      return i?.popup?.open({\n        location: o || s,\n        promises: a\n      }), e;\n    });\n  }\n\n  _updatePendingPromises(e) {\n    e && this._pendingPromises.has(e) && (this._pendingPromises.delete(e), this.notifyChange(\"pendingPromisesCount\"));\n  }\n\n  _autoClose() {\n    this.autoCloseEnabled && (this.visible = !1);\n  }\n\n  _getLayerView(e, t) {\n    return _asyncToGenerator(function* () {\n      return yield e.when(), e.whenLayerView(t);\n    })();\n  }\n\n  _getHighlightLayer(e) {\n    const {\n      layer: t,\n      sourceLayer: s\n    } = e;\n    return s && \"layer\" in s && s.layer ? s.layer : \"map-notes\" === s?.type || \"subtype-group\" === s?.type ? s : t;\n  }\n\n  _getHighlightTarget(e, t) {\n    const s = \"imagery\" === t.type ? void 0 : \"objectIdField\" in t ? t.objectIdField || g : null,\n          i = e.attributes;\n    return i && s && i[s] || e;\n  }\n\n  _highlightActiveFeature() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const e = \"highlight-active-feature\";\n\n      _this3._handles.remove(e);\n\n      const {\n        highlightEnabled: t,\n        view: s,\n        activeFeature: i,\n        visible: r\n      } = _this3;\n      if (!(i && s && t && r)) return;\n\n      const o = _this3._getHighlightLayer(i);\n\n      if (!(o && o instanceof p)) return;\n\n      const a = _this3._getLayerView(s, o);\n\n      _this3._highlightActiveFeaturePromise = a;\n      const n = yield a;\n      if (!(n && v(n) && _this3._highlightActiveFeaturePromise === a && _this3.activeFeature && _this3.highlightEnabled)) return;\n      const l = n.highlight(_this3._getHighlightTarget(i, o));\n\n      _this3._handles.add(l, e);\n    })();\n  }\n\n  _highlightSelectedFeature() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      const e = \"highlight-selected-feature\";\n\n      _this4._handles.remove(e);\n\n      const {\n        selectedFeature: t,\n        highlightEnabled: s,\n        view: i,\n        visible: r\n      } = _this4;\n      if (!(t && i && s && r)) return;\n\n      const o = _this4._getHighlightLayer(t);\n\n      if (!(o && o instanceof p)) return;\n\n      const a = _this4._getLayerView(i, o);\n\n      _this4._highlightSelectedFeaturePromise = a;\n      const n = yield a;\n      if (!(n && v(n) && _this4._highlightSelectedFeaturePromise === a && _this4.selectedFeature && _this4.highlightEnabled && _this4.visible)) return;\n      const l = n.highlight(_this4._getHighlightTarget(t, o));\n\n      _this4._handles.add(l, e);\n    })();\n  }\n\n  _updateFeatures(e) {\n    const {\n      features: t\n    } = this;\n    if (!e || !e.length) return;\n    if (!t.length) return void (this.features = e);\n    const s = e.filter(e => !t.includes(e));\n    this.features = t.concat(s);\n  }\n\n};\ne([u()], z.prototype, \"featurePage\", void 0), e([u()], z.prototype, \"isLoadingFeature\", null), e([u({\n  type: B\n})], z.prototype, \"actions\", void 0), e([u({\n  readOnly: !0\n})], z.prototype, \"active\", null), e([u()], z.prototype, \"activeFeature\", void 0), e([u({\n  readOnly: !0\n})], z.prototype, \"allActions\", null), e([u({\n  type: Boolean\n})], z.prototype, \"defaultPopupTemplateEnabled\", void 0), e([u()], z.prototype, \"autoCloseEnabled\", void 0), e([u()], z.prototype, \"autoOpenEnabled\", void 0), e([u()], z.prototype, \"browseClusterEnabled\", void 0), e([u()], z.prototype, \"content\", void 0), e([u({\n  type: B,\n  readOnly: !0\n})], z.prototype, \"defaultActions\", null), e([u({\n  readOnly: !0\n})], z.prototype, \"featureCount\", null), e([u()], z.prototype, \"features\", null), e([u()], z.prototype, \"featuresPerPage\", void 0), e([u()], z.prototype, \"featureViewModelAbilities\", void 0), e([u({\n  readOnly: !0\n})], z.prototype, \"featureViewModels\", void 0), e([u()], z.prototype, \"highlightEnabled\", void 0), e([u()], z.prototype, \"includeDefaultActions\", void 0), e([u({\n  type: S\n})], z.prototype, \"location\", null), e([u({\n  readOnly: !0\n})], z.prototype, \"pendingPromisesCount\", null), e([u({\n  readOnly: !0\n})], z.prototype, \"selectedClusterBoundaryFeature\", void 0), e([u({\n  readOnly: !0\n})], z.prototype, \"waitingForResult\", null), e([u({\n  readOnly: !0\n})], z.prototype, \"promiseCount\", null), e([u()], z.prototype, \"promises\", null), e([u({\n  value: null,\n  readOnly: !0\n})], z.prototype, \"selectedFeature\", null), e([u({\n  value: -1\n})], z.prototype, \"selectedFeatureIndex\", null), e([u({\n  readOnly: !0\n})], z.prototype, \"selectedFeatureViewModel\", null), e([u({\n  readOnly: !0\n})], z.prototype, \"state\", null), e([u()], z.prototype, \"title\", void 0), e([u()], z.prototype, \"updateLocationEnabled\", void 0), e([u()], z.prototype, \"view\", void 0), e([u()], z.prototype, \"visible\", void 0), e([u()], z.prototype, \"zoomFactor\", void 0), e([u()], z.prototype, \"zoomToLocation\", void 0), e([u()], z.prototype, \"centerAtLocation\", null), z = e([c(\"esri.widgets.Popup.PopupViewModel\")], z);\nconst H = z;\nexport { H as default };","map":{"version":3,"names":["_","e","t","s","i","r","o","unwrap","a","watch","n","when","l","sync","h","property","u","subclass","c","geographicToWebMercator","d","p","fallbackObjectIDAttribute","g","f","m","y","getDisplayedSymbol","w","ViewEventPriorities","F","highlightsSupported","v","zoomToFeature","b","zoomToClusteredFeatures","C","browseClusteredFeatures","P","triggerAction","E","isClusterFeature","A","getSelectedTarget","V","removeClusteredFeaturesForBrowsing","M","displayClusterExtent","j","browseAggregateFeatures","L","getPointFromGeometry","O","T","GoToMixin","I","x","S","B","ofType","key","defaultKeyValue","base","typeMap","button","toggle","R","clone","G","z","isLoadingFeature","featureViewModels","some","waitingForContent","constructor","_handles","_pendingPromises","Set","_fetchFeaturesController","_highlightSelectedFeaturePromise","_highlightActiveFeaturePromise","_selectedClusterFeature","featurePage","actions","activeFeature","defaultPopupTemplateEnabled","autoCloseEnabled","autoOpenEnabled","browseClusterEnabled","content","featuresPerPage","featureViewModelAbilities","highlightEnabled","includeDefaultActions","selectedClusterBoundaryFeature","symbol","outline","width","color","style","title","updateLocationEnabled","view","visible","zoomFactor","zoomToLocation","initialize","add","_autoOpenEnabledChange","on","_autoClose","selectedFeature","_highlightSelectedFeature","_highlightActiveFeature","animation","state","_animationStateChange","location","_locationChange","_selectedFeatureChange","selectedFeatureIndex","featureCount","_selectedFeatureIndexChange","_setGraphicOnFeatureViewModels","_featureViewModelsChange","event","waitingForResult","_waitingForResultChange","features","map","spatialReference","_updateFeatureVMs","scale","_viewScaleChange","enableClusterBrowsing","disableClusterBrowsing","destroy","_cancelFetchingFeatures","clear","active","allActions","_get","removeAll","defaultActions","concat","getEffectivePopupTemplate","popupTemplate","overwriteActions","filter","Boolean","forEach","addMany","length","_set","pendingPromisesCount","promiseCount","isWebMercator","isWGS84","size","promises","Array","isArray","notifyChange","slice","has","_updateFeatures","_updatePendingPromises","then","isNaN","selectedFeatureViewModel","get","centerAtLocation","callGoTo","target","Promise","reject","zoomTo","set","fetchFeatures","screenPoint","fetchPopupFeatures","signal","open","_setFetchFeaturesPromises","getItemAt","disabled","emit","action","next","previous","_clearBrowsedClusterGraphics","type","getLogger","declaredClass","warn","graphics","remove","geometry","Math","floor","graphic","center","_fetchFeaturesWithController","_getScreenPoint","clientOnlyGraphics","promisesPerLayerView","resolve","promise","_destroyFeatureVMs","destroyed","splice","abilities","toScreen","pointerType","_fetchFeaturesAndOpen","WIDGET","abort","AbortController","catch","mapPoint","popup","delete","_getLayerView","whenLayerView","_getHighlightLayer","layer","sourceLayer","_getHighlightTarget","objectIdField","attributes","highlight","includes","prototype","readOnly","value","H","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/widgets/Popup/PopupViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../Graphic.js\";import\"../../symbols.js\";import s from\"../../core/Collection.js\";import i from\"../../core/Error.js\";import r from\"../../core/Handles.js\";import o from\"../../core/Logger.js\";import{unwrap as a}from\"../../core/maybe.js\";import{watch as n,when as l,sync as h}from\"../../core/reactiveUtils.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{geographicToWebMercator as d}from\"../../geometry/support/webMercatorUtils.js\";import p from\"../../layers/Layer.js\";import{fallbackObjectIDAttribute as g}from\"../../layers/LayerConstants.js\";import f from\"../../support/actions/ActionBase.js\";import m from\"../../support/actions/ActionButton.js\";import y from\"../../support/actions/ActionToggle.js\";import{getDisplayedSymbol as w}from\"../../symbols/support/symbolUtils.js\";import{ViewEventPriorities as F}from\"../../views/input/InputManager.js\";import{highlightsSupported as v}from\"../../views/support/layerViewUtils.js\";import _ from\"../Feature/FeatureViewModel.js\";import{zoomToFeature as b,zoomToClusteredFeatures as C,browseClusteredFeatures as P}from\"./actions.js\";import{triggerAction as E,isClusterFeature as A,getSelectedTarget as V,removeClusteredFeaturesForBrowsing as M,displayClusterExtent as j,browseAggregateFeatures as L,getPointFromGeometry as O}from\"./actionUtils.js\";import T from\"../support/AnchorElementViewModel.js\";import{GoToMixin as I}from\"../support/GoTo.js\";import x from\"../../symbols/SimpleFillSymbol.js\";import S from\"../../geometry/Point.js\";const B=s.ofType({key:\"type\",defaultKeyValue:\"button\",base:f,typeMap:{button:m,toggle:y}}),R=()=>[b.clone()],G=()=>[C.clone(),P.clone()];let z=class extends(I(T)){get isLoadingFeature(){return this.featureViewModels.some((e=>e.waitingForContent))}constructor(e){super(e),this._handles=new r,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._highlightSelectedFeaturePromise=null,this._highlightActiveFeaturePromise=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new B,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new t({symbol:new x({outline:{width:1.5,color:\"cyan\"},style:\"none\"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}initialize(){this._handles.add([n((()=>[this.autoOpenEnabled,this.view]),(()=>this._autoOpenEnabledChange())),this.on(\"view-change\",(()=>this._autoClose())),n((()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view]),(()=>this._highlightSelectedFeature())),n((()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view]),(()=>this._highlightActiveFeature())),n((()=>this.view?.animation?.state),(e=>this._animationStateChange(e))),n((()=>this.location),(e=>this._locationChange(e))),n((()=>this.selectedFeature),(e=>this._selectedFeatureChange(e))),n((()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage]),(()=>this._selectedFeatureIndexChange())),n((()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels]),(()=>this._setGraphicOnFeatureViewModels())),n((()=>this.featureViewModels),(()=>this._featureViewModelsChange())),this.on(\"trigger-action\",(e=>E({event:e,view:this.view}))),l((()=>!this.waitingForResult),(()=>this._waitingForResultChange()),h),n((()=>[this.features,this.view?.map,this.view?.spatialReference]),(()=>this._updateFeatureVMs())),n((()=>this.view?.scale),(()=>this._viewScaleChange())),l((()=>!this.visible),(()=>this.browseClusterEnabled=!1)),n((()=>this.browseClusterEnabled),(e=>e?this.enableClusterBrowsing():this.disableClusterBrowsing()))])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get(\"allActions\")||new B;e.removeAll();const{actions:t,defaultActions:s,defaultPopupTemplateEnabled:i,includeDefaultActions:r,selectedFeature:o}=this,a=r?s.concat(t):t,n=o&&(\"function\"==typeof o.getEffectivePopupTemplate&&o.getEffectivePopupTemplate(i)||o.popupTemplate),l=n&&n.actions,h=n&&n.overwriteActions?l:l?l.concat(a):a;return h&&h.filter(Boolean).forEach((t=>e.add(t))),e}get defaultActions(){const e=this._get(\"defaultActions\")||new B;return e.removeAll(),e.addMany(A(this.selectedFeature)?G():R()),e}get featureCount(){return this.features.length}get features(){return this._get(\"features\")||[]}set features(e){const t=e||[];this._set(\"features\",t);const{pendingPromisesCount:s,promiseCount:i,selectedFeatureIndex:r}=this,o=i&&t.length;o&&s&&-1===r?this.selectedFeatureIndex=0:o&&-1!==r||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get(\"location\")||null}set location(e){let t=e;const s=this.view?.spatialReference?.isWebMercator;e&&e?.spatialReference?.isWGS84&&s&&(t=d(e)),this._set(\"location\",t)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get(\"promises\")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set(\"promises\",[]),void this.notifyChange(\"pendingPromisesCount\");this._set(\"promises\",e),(e=e.slice(0)).forEach((e=>{this._pendingPromises.add(e);const t=t=>{this._pendingPromises.has(e)&&this._updateFeatures(t),this._updatePendingPromises(e)},s=()=>this._updatePendingPromises(e);e.then(t,s)})),this.notifyChange(\"pendingPromisesCount\")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;if(-1===t)return null;return e[t]||null}get selectedFeatureIndex(){const e=this._get(\"selectedFeatureIndex\");return\"number\"==typeof e?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this.activeFeature=null,this._set(\"selectedFeatureIndex\",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}centerAtLocation(){const{view:e}=this,t=V(this);return t&&e?this.callGoTo({target:{target:t,scale:e.scale}}):Promise.reject(new i(\"center-at-location:invalid-target-or-view\",\"Cannot center at a location without a target and view.\",{target:t,view:e}))}zoomTo(e){return this.callGoTo(e)}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(e,t){const{view:s}=this;if(!s||!e)throw new i(\"fetch-features:invalid-screenpoint-or-view\",\"Cannot fetch features without a screenPoint and view.\",{screenPoint:e,view:s});return s.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...e,visible:!0},{fetchFeatures:s}=t;delete t.fetchFeatures,s&&this._setFetchFeaturesPromises(t.location);const i=[\"actionsMenuOpen\",\"collapsed\",\"featureMenuOpen\"];for(const r of i)delete t[r];this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit(\"trigger-action\",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){M(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){const{view:e,selectedFeature:t}=this;\"2d\"===e?.type?A(t)?(await j(this),await L(this)):o.getLogger(this.declaredClass).warn(\"enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.\",t):o.getLogger(this.declaredClass).warn(\"enableClusterBrowsing:invalid-view: View must be 2d MapView.\",t)}_animationStateChange(e){this.zoomToLocation||(b.disabled=\"waiting-for-target\"===e)}_clearBrowsedClusterGraphics(){const e=this.view?.graphics;e&&(e.remove(this.selectedClusterBoundaryFeature),this._selectedClusterFeature&&e.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(A(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=this.selectedFeature?[this.selectedFeature]:[])}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:s}=this;s&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:e,featureCount:t,featurePage:s,featuresPerPage:i,featureViewModels:r}=this;if(null===s)return;const o=((s-1)*i+t)%t,a=o+i;r.slice(o,a).forEach(((t,s)=>{t&&!t.graphic&&(t.graphic=e[o+s])}))}async _selectedFeatureChange(e){const{location:t,updateLocationEnabled:s,view:i}=this;if(e&&i){if(this.browseClusterEnabled){if(this._selectedClusterFeature&&(i.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),A(e))return;return e.symbol=await w(e),this._selectedClusterFeature=e,void i.graphics.add(this._selectedClusterFeature)}!s&&t||!e.geometry?s&&!e.geometry&&this.centerAtLocation().then((()=>{const e=i.center?.clone();e&&(this.location=e)})):this.location=a(O(e.geometry))}}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:s}=e,i=Promise.resolve(t),r=s.map((e=>e.promise));this.promises=[i,...r]}))}_destroyFeatureVMs(){this.featureViewModels.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",[])}_updateFeatureVMs(){const{selectedFeature:e,features:t,featureViewModels:s}=this;if(A(e)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!t||!t.length)return;const i=s.slice(0),r=[];t.forEach(((t,s)=>{if(!t)return;let o=null;if(i.some(((e,s)=>(e&&e.graphic===t&&(o=e,i.splice(s,1)),!!o))),o)r[s]=o;else{const i=new _({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:this.view?.spatialReference,graphic:t===e?t:null,map:this.view?.map,view:this.view});r[s]=i}})),i.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",r)}_getScreenPoint(e){const{view:t}=this;return t&&e&&\"function\"==typeof t.toScreen?t.toScreen(e):null}_autoOpenEnabledChange(){const e=\"auto-fetch-features\",{_handles:t,autoOpenEnabled:s}=this;if(t.remove(e),s&&this.view){const s=this.view.on(\"click\",(e=>{\"mouse\"===e.pointerType&&0!==e.button||this._fetchFeaturesAndOpen(e)}),F.WIDGET);t.add(s,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const s=new AbortController,{signal:i}=s;this._fetchFeaturesController=s,this.notifyChange(\"waitingForResult\");const r=this.fetchFeatures(e,{signal:i,event:t});return r.catch((()=>{})).then((()=>{this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")})),r}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:s}=e,{view:i}=this;this._fetchFeaturesWithController(t,e).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:r,location:o}=e,a=[Promise.resolve(t),...r.map((e=>e.promise))];return i?.popup?.open({location:o||s,promises:a}),e}))}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange(\"pendingPromisesCount\"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}_getHighlightLayer(e){const{layer:t,sourceLayer:s}=e;return s&&\"layer\"in s&&s.layer?s.layer:\"map-notes\"===s?.type||\"subtype-group\"===s?.type?s:t}_getHighlightTarget(e,t){const s=\"imagery\"===t.type?void 0:\"objectIdField\"in t?t.objectIdField||g:null,i=e.attributes;return i&&s&&i[s]||e}async _highlightActiveFeature(){const e=\"highlight-active-feature\";this._handles.remove(e);const{highlightEnabled:t,view:s,activeFeature:i,visible:r}=this;if(!(i&&s&&t&&r))return;const o=this._getHighlightLayer(i);if(!(o&&o instanceof p))return;const a=this._getLayerView(s,o);this._highlightActiveFeaturePromise=a;const n=await a;if(!(n&&v(n)&&this._highlightActiveFeaturePromise===a&&this.activeFeature&&this.highlightEnabled))return;const l=n.highlight(this._getHighlightTarget(i,o));this._handles.add(l,e)}async _highlightSelectedFeature(){const e=\"highlight-selected-feature\";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:s,view:i,visible:r}=this;if(!(t&&i&&s&&r))return;const o=this._getHighlightLayer(t);if(!(o&&o instanceof p))return;const a=this._getLayerView(i,o);this._highlightSelectedFeaturePromise=a;const n=await a;if(!(n&&v(n)&&this._highlightSelectedFeaturePromise===a&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const l=n.highlight(this._getHighlightTarget(t,o));this._handles.add(l,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const s=e.filter((e=>!t.includes(e)));this.features=t.concat(s)}};e([u()],z.prototype,\"featurePage\",void 0),e([u()],z.prototype,\"isLoadingFeature\",null),e([u({type:B})],z.prototype,\"actions\",void 0),e([u({readOnly:!0})],z.prototype,\"active\",null),e([u()],z.prototype,\"activeFeature\",void 0),e([u({readOnly:!0})],z.prototype,\"allActions\",null),e([u({type:Boolean})],z.prototype,\"defaultPopupTemplateEnabled\",void 0),e([u()],z.prototype,\"autoCloseEnabled\",void 0),e([u()],z.prototype,\"autoOpenEnabled\",void 0),e([u()],z.prototype,\"browseClusterEnabled\",void 0),e([u()],z.prototype,\"content\",void 0),e([u({type:B,readOnly:!0})],z.prototype,\"defaultActions\",null),e([u({readOnly:!0})],z.prototype,\"featureCount\",null),e([u()],z.prototype,\"features\",null),e([u()],z.prototype,\"featuresPerPage\",void 0),e([u()],z.prototype,\"featureViewModelAbilities\",void 0),e([u({readOnly:!0})],z.prototype,\"featureViewModels\",void 0),e([u()],z.prototype,\"highlightEnabled\",void 0),e([u()],z.prototype,\"includeDefaultActions\",void 0),e([u({type:S})],z.prototype,\"location\",null),e([u({readOnly:!0})],z.prototype,\"pendingPromisesCount\",null),e([u({readOnly:!0})],z.prototype,\"selectedClusterBoundaryFeature\",void 0),e([u({readOnly:!0})],z.prototype,\"waitingForResult\",null),e([u({readOnly:!0})],z.prototype,\"promiseCount\",null),e([u()],z.prototype,\"promises\",null),e([u({value:null,readOnly:!0})],z.prototype,\"selectedFeature\",null),e([u({value:-1})],z.prototype,\"selectedFeatureIndex\",null),e([u({readOnly:!0})],z.prototype,\"selectedFeatureViewModel\",null),e([u({readOnly:!0})],z.prototype,\"state\",null),e([u()],z.prototype,\"title\",void 0),e([u()],z.prototype,\"updateLocationEnabled\",void 0),e([u()],z.prototype,\"view\",void 0),e([u()],z.prototype,\"visible\",void 0),e([u()],z.prototype,\"zoomFactor\",void 0),e([u()],z.prototype,\"zoomToLocation\",void 0),e([u()],z.prototype,\"centerAtLocation\",null),z=e([c(\"esri.widgets.Popup.PopupViewModel\")],z);const H=z;export{H as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}