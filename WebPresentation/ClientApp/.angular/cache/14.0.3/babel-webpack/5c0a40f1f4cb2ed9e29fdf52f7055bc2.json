{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { c as t } from \"../../../../chunks/mat4f64.js\";\nimport { c as o } from \"../../../../chunks/vec3f64.js\";\nimport { getReferenceEllipsoid as r } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { computeTranslationToOriginAndRotation as a } from \"../../../../geometry/projection.js\";\n\nfunction n(o, r, n, s) {\n  const c = h(o, r, n),\n        i = t();\n  return a(n, c, i, s), i;\n}\n\nconst s = 1,\n      c = 5 - s;\n\nfunction h(t, a, n) {\n  const h = o(),\n        i = t[3],\n        e = 2 ** (Math.ceil(Math.log(i) * Math.LOG2E / c) * c + s);\n\n  if (n.isGeographic) {\n    const o = e / r(n).radius * 180 / Math.PI,\n          a = Math.round(t[1] / o),\n          s = Math.max(-90, Math.min(90, a * o)),\n          c = o / Math.cos((Math.abs(s) - o / 2) / 180 * Math.PI),\n          i = Math.round(t[0] / c) * c;\n    h[0] = i, h[1] = s;\n  } else {\n    const o = Math.round(t[0] / e),\n          r = Math.round(t[1] / e);\n    h[0] = o * e, h[1] = r * e;\n  }\n\n  const M = t[2] + a,\n        m = Math.round(M / e);\n  return h[2] = m * e, h;\n}\n\nexport { n as computeGlobalTransformation, h as getLocalOrigin };","map":{"version":3,"names":["c","t","o","getReferenceEllipsoid","r","computeTranslationToOriginAndRotation","a","n","s","h","i","e","Math","ceil","log","LOG2E","isGeographic","radius","PI","round","max","min","cos","abs","M","m","computeGlobalTransformation","getLocalOrigin"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../chunks/mat4f64.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as r}from\"../../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as a}from\"../../../../geometry/projection.js\";function n(o,r,n,s){const c=h(o,r,n),i=t();return a(n,c,i,s),i}const s=1,c=5-s;function h(t,a,n){const h=o(),i=t[3],e=2**(Math.ceil(Math.log(i)*Math.LOG2E/c)*c+s);if(n.isGeographic){const o=e/r(n).radius*180/Math.PI,a=Math.round(t[1]/o),s=Math.max(-90,Math.min(90,a*o)),c=o/Math.cos((Math.abs(s)-o/2)/180*Math.PI),i=Math.round(t[0]/c)*c;h[0]=i,h[1]=s}else{const o=Math.round(t[0]/e),r=Math.round(t[1]/e);h[0]=o*e,h[1]=r*e}const M=t[2]+a,m=Math.round(M/e);return h[2]=m*e,h}export{n as computeGlobalTransformation,h as getLocalOrigin};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,+BAAlB;AAAkD,SAAOD,CAAC,IAAIE,CAAZ,QAAkB,+BAAlB;AAAkD,SAAOC,qBAAqB,IAAIC,CAAhC,QAAsC,wCAAtC;AAA+E,SAAOC,qCAAqC,IAAIC,CAAhD,QAAsD,oCAAtD;;AAA2F,SAASC,CAAT,CAAWL,CAAX,EAAaE,CAAb,EAAeG,CAAf,EAAiBC,CAAjB,EAAmB;EAAC,MAAMR,CAAC,GAACS,CAAC,CAACP,CAAD,EAAGE,CAAH,EAAKG,CAAL,CAAT;EAAA,MAAiBG,CAAC,GAACT,CAAC,EAApB;EAAuB,OAAOK,CAAC,CAACC,CAAD,EAAGP,CAAH,EAAKU,CAAL,EAAOF,CAAP,CAAD,EAAWE,CAAlB;AAAoB;;AAAA,MAAMF,CAAC,GAAC,CAAR;AAAA,MAAUR,CAAC,GAAC,IAAEQ,CAAd;;AAAgB,SAASC,CAAT,CAAWR,CAAX,EAAaK,CAAb,EAAeC,CAAf,EAAiB;EAAC,MAAME,CAAC,GAACP,CAAC,EAAT;EAAA,MAAYQ,CAAC,GAACT,CAAC,CAAC,CAAD,CAAf;EAAA,MAAmBU,CAAC,GAAC,MAAIC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,GAAL,CAASJ,CAAT,IAAYE,IAAI,CAACG,KAAjB,GAAuBf,CAAjC,IAAoCA,CAApC,GAAsCQ,CAA1C,CAArB;;EAAkE,IAAGD,CAAC,CAACS,YAAL,EAAkB;IAAC,MAAMd,CAAC,GAACS,CAAC,GAACP,CAAC,CAACG,CAAD,CAAD,CAAKU,MAAP,GAAc,GAAd,GAAkBL,IAAI,CAACM,EAA/B;IAAA,MAAkCZ,CAAC,GAACM,IAAI,CAACO,KAAL,CAAWlB,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAhB,CAApC;IAAA,MAAuDM,CAAC,GAACI,IAAI,CAACQ,GAAL,CAAS,CAAC,EAAV,EAAaR,IAAI,CAACS,GAAL,CAAS,EAAT,EAAYf,CAAC,GAACJ,CAAd,CAAb,CAAzD;IAAA,MAAwFF,CAAC,GAACE,CAAC,GAACU,IAAI,CAACU,GAAL,CAAS,CAACV,IAAI,CAACW,GAAL,CAASf,CAAT,IAAYN,CAAC,GAAC,CAAf,IAAkB,GAAlB,GAAsBU,IAAI,CAACM,EAApC,CAA5F;IAAA,MAAoIR,CAAC,GAACE,IAAI,CAACO,KAAL,CAAWlB,CAAC,CAAC,CAAD,CAAD,GAAKD,CAAhB,IAAmBA,CAAzJ;IAA2JS,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAL,EAAOD,CAAC,CAAC,CAAD,CAAD,GAAKD,CAAZ;EAAc,CAA5L,MAAgM;IAAC,MAAMN,CAAC,GAACU,IAAI,CAACO,KAAL,CAAWlB,CAAC,CAAC,CAAD,CAAD,GAAKU,CAAhB,CAAR;IAAA,MAA2BP,CAAC,GAACQ,IAAI,CAACO,KAAL,CAAWlB,CAAC,CAAC,CAAD,CAAD,GAAKU,CAAhB,CAA7B;IAAgDF,CAAC,CAAC,CAAD,CAAD,GAAKP,CAAC,GAACS,CAAP,EAASF,CAAC,CAAC,CAAD,CAAD,GAAKL,CAAC,GAACO,CAAhB;EAAkB;;EAAA,MAAMa,CAAC,GAACvB,CAAC,CAAC,CAAD,CAAD,GAAKK,CAAb;EAAA,MAAemB,CAAC,GAACb,IAAI,CAACO,KAAL,CAAWK,CAAC,GAACb,CAAb,CAAjB;EAAiC,OAAOF,CAAC,CAAC,CAAD,CAAD,GAAKgB,CAAC,GAACd,CAAP,EAASF,CAAhB;AAAkB;;AAAA,SAAOF,CAAC,IAAImB,2BAAZ,EAAwCjB,CAAC,IAAIkB,cAA7C"},"metadata":{},"sourceType":"module"}