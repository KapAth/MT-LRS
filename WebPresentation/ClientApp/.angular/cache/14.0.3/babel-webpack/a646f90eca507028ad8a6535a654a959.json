{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"./Analysis.js\";\nimport r from \"./LineOfSightAnalysisObserver.js\";\nimport o from \"./LineOfSightAnalysisTarget.js\";\nimport s from \"../core/Collection.js\";\nimport { referenceSetter as i, castForReferenceSetter as n } from \"../core/collectionUtils.js\";\nimport { isNone as p, isSome as l, applySome as a, unwrap as c } from \"../core/maybe.js\";\nimport { watch as m, syncAndInitial as u } from \"../core/reactiveUtils.js\";\nimport { property as g } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/arrayUtils.js\";\nimport { subclass as y } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { projectOrLoad as f } from \"../geometry/projection.js\";\nimport { fromValues as h, expandWithVec3 as d, toExtent as v } from \"../geometry/support/aaBoundingBox.js\";\nimport { getGeometryEffectiveElevationMode as j } from \"../support/elevationInfoUtils.js\";\nconst b = s.ofType(o);\nlet x = class extends t {\n  constructor(e) {\n    super(e), this.type = \"line-of-sight\", this.observer = null, this.extent = null;\n  }\n\n  initialize() {\n    this.addHandles(m(() => this._computeExtent(), e => {\n      (p(e) || p(e.pending)) && this._set(\"extent\", l(e) ? e.extent : null);\n    }, u));\n  }\n\n  get targets() {\n    return this._get(\"targets\") || new b();\n  }\n\n  set targets(e) {\n    this._set(\"targets\", i(e, this.targets, b));\n  }\n\n  get spatialReference() {\n    return l(this.observer) && l(this.observer.position) ? this.observer.position.spatialReference : null;\n  }\n\n  get requiredPropertiesForEditing() {\n    return [a(this.observer, e => e.position)];\n  }\n\n  waitComputeExtent() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const e = _this._computeExtent();\n\n      return l(e) ? c(e.pending) : Promise.resolve();\n    })();\n  }\n\n  _computeExtent() {\n    const e = this.spatialReference;\n    if (p(this.observer) || p(this.observer.position) || p(e)) return null;\n\n    const t = e => \"absolute-height\" === j(e.position, e.elevationInfo),\n          r = this.observer.position,\n          o = h(r.x, r.y, r.z, r.x, r.y, r.z);\n\n    for (const i of this.targets) if (l(i.position)) {\n      const t = f(i.position, e);\n      if (l(t.pending)) return {\n        pending: t.pending,\n        extent: null\n      };\n\n      if (l(t.geometry)) {\n        const {\n          x: e,\n          y: r,\n          z: s\n        } = t.geometry;\n        d(o, [e, r, s]);\n      }\n    }\n\n    const s = v(o, e);\n    return t(this.observer) && this.targets.every(t) || (s.zmin = void 0, s.zmax = void 0), {\n      pending: null,\n      extent: s\n    };\n  }\n\n  clear() {\n    this.observer = null, this.targets.removeAll();\n  }\n\n};\ne([g({\n  type: [\"line-of-sight\"]\n})], x.prototype, \"type\", void 0), e([g({\n  type: r,\n  json: {\n    read: !0,\n    write: !0\n  }\n})], x.prototype, \"observer\", void 0), e([g({\n  cast: n,\n  type: b,\n  nonNullable: !0,\n  json: {\n    read: !0,\n    write: !0\n  }\n})], x.prototype, \"targets\", null), e([g({\n  value: null,\n  readOnly: !0\n})], x.prototype, \"extent\", void 0), e([g({\n  readOnly: !0\n})], x.prototype, \"spatialReference\", null), e([g({\n  readOnly: !0\n})], x.prototype, \"requiredPropertiesForEditing\", null), x = e([y(\"esri.analysis.LineOfSightAnalysis\")], x);\nconst O = x;\nexport { O as default };","map":{"version":3,"names":["_","e","t","r","o","s","referenceSetter","i","castForReferenceSetter","n","isNone","p","isSome","l","applySome","a","unwrap","c","watch","m","syncAndInitial","u","property","g","subclass","y","projectOrLoad","f","fromValues","h","expandWithVec3","d","toExtent","v","getGeometryEffectiveElevationMode","j","b","ofType","x","constructor","type","observer","extent","initialize","addHandles","_computeExtent","pending","_set","targets","_get","spatialReference","position","requiredPropertiesForEditing","waitComputeExtent","Promise","resolve","elevationInfo","z","geometry","every","zmin","zmax","clear","removeAll","prototype","json","read","write","cast","nonNullable","value","readOnly","O","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/analysis/LineOfSightAnalysis.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"./Analysis.js\";import r from\"./LineOfSightAnalysisObserver.js\";import o from\"./LineOfSightAnalysisTarget.js\";import s from\"../core/Collection.js\";import{referenceSetter as i,castForReferenceSetter as n}from\"../core/collectionUtils.js\";import{isNone as p,isSome as l,applySome as a,unwrap as c}from\"../core/maybe.js\";import{watch as m,syncAndInitial as u}from\"../core/reactiveUtils.js\";import{property as g}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import{projectOrLoad as f}from\"../geometry/projection.js\";import{fromValues as h,expandWithVec3 as d,toExtent as v}from\"../geometry/support/aaBoundingBox.js\";import{getGeometryEffectiveElevationMode as j}from\"../support/elevationInfoUtils.js\";const b=s.ofType(o);let x=class extends t{constructor(e){super(e),this.type=\"line-of-sight\",this.observer=null,this.extent=null}initialize(){this.addHandles(m((()=>this._computeExtent()),(e=>{(p(e)||p(e.pending))&&this._set(\"extent\",l(e)?e.extent:null)}),u))}get targets(){return this._get(\"targets\")||new b}set targets(e){this._set(\"targets\",i(e,this.targets,b))}get spatialReference(){return l(this.observer)&&l(this.observer.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[a(this.observer,(e=>e.position))]}async waitComputeExtent(){const e=this._computeExtent();return l(e)?c(e.pending):Promise.resolve()}_computeExtent(){const e=this.spatialReference;if(p(this.observer)||p(this.observer.position)||p(e))return null;const t=e=>\"absolute-height\"===j(e.position,e.elevationInfo),r=this.observer.position,o=h(r.x,r.y,r.z,r.x,r.y,r.z);for(const i of this.targets)if(l(i.position)){const t=f(i.position,e);if(l(t.pending))return{pending:t.pending,extent:null};if(l(t.geometry)){const{x:e,y:r,z:s}=t.geometry;d(o,[e,r,s])}}const s=v(o,e);return t(this.observer)&&this.targets.every(t)||(s.zmin=void 0,s.zmax=void 0),{pending:null,extent:s}}clear(){this.observer=null,this.targets.removeAll()}};e([g({type:[\"line-of-sight\"]})],x.prototype,\"type\",void 0),e([g({type:r,json:{read:!0,write:!0}})],x.prototype,\"observer\",void 0),e([g({cast:n,type:b,nonNullable:!0,json:{read:!0,write:!0}})],x.prototype,\"targets\",null),e([g({value:null,readOnly:!0})],x.prototype,\"extent\",void 0),e([g({readOnly:!0})],x.prototype,\"spatialReference\",null),e([g({readOnly:!0})],x.prototype,\"requiredPropertiesForEditing\",null),x=e([y(\"esri.analysis.LineOfSightAnalysis\")],x);const O=x;export{O as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}