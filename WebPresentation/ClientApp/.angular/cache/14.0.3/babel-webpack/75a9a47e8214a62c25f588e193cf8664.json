{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../Dictionary.js\";\nimport n from \"../Feature.js\";\nimport t from \"../ImmutablePointArray.js\";\nimport { y as r, m as a, x as i, q as o, F as s, G as l, v as c, c as f, j as u, k as m, b as h, a as p, i as w, f as d, C as y, w as g, s as R, H as I } from \"../../chunks/languageUtils.js\";\nimport v from \"../../geometry/Extent.js\";\nimport P from \"../../geometry/Geometry.js\";\nimport x from \"../../geometry/Multipoint.js\";\nimport b from \"../../geometry/Point.js\";\nimport F from \"../../geometry/Polygon.js\";\nimport j from \"../../geometry/Polyline.js\";\nimport { angle2D as O, angleBetween2D as S, bearing2D as N, bearingBetween2D as k, pathsSelfIntersecting as J } from \"./centroid.js\";\nimport { fromJSON as G } from \"../../geometry/support/jsonUtils.js\";\nimport { ArcadeExecutionError as z, ExecutionErrorCodes as D } from \"../executionError.js\";\nimport _ from \"../ImmutablePathArray.js\";\nimport { isClockwise as C } from \"../../geometry/support/coordsUtils.js\";\n\nfunction M(e) {\n  return e && \"esri.arcade.Feature\" === e.arcadeDeclaredClass;\n}\n\nfunction Z(_, Z) {\n  _.ringisclockwise = function (e, n) {\n    return Z(e, n, (o, s, l) => {\n      r(l, 1, 1, e, n);\n      let c = [],\n          f = !1,\n          u = !1;\n      if (null === l[0]) return !1;\n\n      if (a(l[0])) {\n        for (const t of l[0]) {\n          if (!(t instanceof b)) throw new z(e, D.InvalidParameter, n);\n          c.push(t.hasZ ? t.hasM ? [t.x, t.y, t.z, t.m] : [t.x, t.y, t.z] : [t.x, t.y]);\n        }\n\n        c.length > 0 && (f = l[0][0].hasZ, u = l[0][0].hasM);\n      } else if (l[0] instanceof t) c = l[0]._elements, c.length > 0 && (f = l[0]._hasZ, u = l[0]._hasM);else {\n        if (!i(l[0])) throw new z(e, D.InvalidParameter, n);\n\n        for (const t of l[0].toArray()) {\n          if (!(t instanceof b)) throw new z(e, D.InvalidParameter, n);\n          c.push(t.hasZ ? t.hasM ? [t.x, t.y, t.z, t.m] : [t.x, t.y, t.z] : [t.x, t.y]);\n        }\n\n        c.length > 0 && (f = l[0].get(0).hasZ, u = l[0].get(0).hasM);\n      }\n\n      return !(c.length < 3) && C(c, u, f);\n    });\n  }, _.polygon = function (t, a) {\n    return Z(t, a, (i, l, c) => {\n      r(c, 1, 1, t, a);\n      let f = null;\n\n      if (c[0] instanceof e) {\n        if (f = o(n.parseGeometryFromDictionary(c[0]), t.spatialReference), f instanceof F == !1) throw new z(t, D.InvalidParameter, a);\n      } else f = c[0] instanceof F ? G(c[0].toJSON()) : o(new F(JSON.parse(c[0])), t.spatialReference);\n\n      if (null !== f && !1 === f.spatialReference.equals(t.spatialReference)) throw new z(t, D.WrongSpatialReference, a);\n      return s(f);\n    });\n  }, _.polyline = function (t, a) {\n    return Z(t, a, (i, l, c) => {\n      r(c, 1, 1, t, a);\n      let f = null;\n\n      if (c[0] instanceof e) {\n        if (f = o(n.parseGeometryFromDictionary(c[0]), t.spatialReference), f instanceof j == !1) throw new z(t, D.InvalidParameter, a);\n      } else f = c[0] instanceof j ? G(c[0].toJSON()) : o(new j(JSON.parse(c[0])), t.spatialReference);\n\n      if (null !== f && !1 === f.spatialReference.equals(t.spatialReference)) throw new z(t, D.WrongSpatialReference, a);\n      return s(f);\n    });\n  }, _.point = function (t, a) {\n    return Z(t, a, (i, l, c) => {\n      r(c, 1, 1, t, a);\n      let f = null;\n\n      if (c[0] instanceof e) {\n        if (f = o(n.parseGeometryFromDictionary(c[0]), t.spatialReference), f instanceof b == !1) throw new z(t, D.InvalidParameter, a);\n      } else f = c[0] instanceof b ? G(c[0].toJSON()) : o(new b(JSON.parse(c[0])), t.spatialReference);\n\n      if (null !== f && !1 === f.spatialReference.equals(t.spatialReference)) throw new z(t, D.WrongSpatialReference, a);\n      return s(f);\n    });\n  }, _.multipoint = function (t, a) {\n    return Z(t, a, (i, l, c) => {\n      r(c, 1, 1, t, a);\n      let f = null;\n\n      if (c[0] instanceof e) {\n        if (f = o(n.parseGeometryFromDictionary(c[0]), t.spatialReference), f instanceof x == !1) throw new z(t, D.InvalidParameter, a);\n      } else f = c[0] instanceof x ? G(c[0].toJSON()) : o(new x(JSON.parse(c[0])), t.spatialReference);\n\n      if (null !== f && !1 === f.spatialReference.equals(t.spatialReference)) throw new z(t, D.WrongSpatialReference, a);\n      return s(f);\n    });\n  }, _.extent = function (t, a) {\n    return Z(t, a, (i, c, f) => {\n      f = l(f), r(f, 1, 1, t, a);\n      let u = null;\n      if (f[0] instanceof e) u = o(n.parseGeometryFromDictionary(f[0]), t.spatialReference);else if (f[0] instanceof b) {\n        const e = {\n          xmin: f[0].x,\n          ymin: f[0].y,\n          xmax: f[0].x,\n          ymax: f[0].y,\n          spatialReference: f[0].spatialReference.toJSON()\n        },\n              n = f[0];\n        n.hasZ ? (e.zmin = n.z, e.zmax = n.z) : n.hasM && (e.mmin = n.m, e.mmax = n.m), u = G(e);\n      } else u = f[0] instanceof F || f[0] instanceof j || f[0] instanceof x ? G(f[0].extent?.toJSON()) : f[0] instanceof v ? G(f[0].toJSON()) : o(new v(JSON.parse(f[0])), t.spatialReference);\n      if (null !== u && !1 === u.spatialReference.equals(t.spatialReference)) throw new z(t, D.WrongSpatialReference, a);\n      return s(u);\n    });\n  }, _.geometry = function (t, a) {\n    return Z(t, a, (i, l, c) => {\n      r(c, 1, 1, t, a);\n      let f = null;\n      if (null === c[0]) return null;\n      if (f = M(c[0]) ? o(c[0].geometry(), t.spatialReference) : c[0] instanceof e ? o(n.parseGeometryFromDictionary(c[0]), t.spatialReference) : o(G(JSON.parse(c[0])), t.spatialReference), null !== f && !1 === f.spatialReference.equals(t.spatialReference)) throw new z(t, D.WrongSpatialReference, a);\n      return s(f);\n    });\n  }, _.setgeometry = function (e, n) {\n    return Z(e, n, (t, a, i) => {\n      if (r(i, 2, 2, e, n), !M(i[0])) throw new z(e, D.InvalidParameter, n);\n      if (!0 === i[0].immutable) throw new z(e, D.Immutable, n);\n      if (!(i[1] instanceof P || null === i[1])) throw new z(e, D.InvalidParameter, n);\n      return i[0]._geometry = i[1], c;\n    });\n  }, _.feature = function (t, r) {\n    return Z(t, r, (a, i, s) => {\n      if (0 === s.length) throw new z(t, D.WrongNumberOfParameters, r);\n      let l = null;\n      if (1 === s.length) {\n        if (f(s[0])) l = n.fromJson(JSON.parse(s[0]), t.timeReference);else if (M(s[0])) l = n.createFromArcadeFeature(s[0]);else if (s[0] instanceof P) l = n.createFromGraphicLikeObject(s[0], null, null, t.timeReference);else {\n          if (!(s[0] instanceof e)) throw new z(t, D.InvalidParameter, r);\n          {\n            let r = s[0].hasField(\"geometry\") ? s[0].field(\"geometry\") : null,\n                a = s[0].hasField(\"attributes\") ? s[0].field(\"attributes\") : null;\n            null !== r && r instanceof e && (r = n.parseGeometryFromDictionary(r)), null !== a && (a = n.parseAttributesFromDictionary(a)), l = n.createFromGraphicLikeObject(r, a, null, t.timeReference);\n          }\n        }\n      } else if (2 === s.length) {\n        let a = null,\n            i = null;\n        if (null !== s[0]) if (s[0] instanceof P) a = s[0];else {\n          if (!(a instanceof e)) throw new z(t, D.InvalidParameter, r);\n          a = n.parseGeometryFromDictionary(s[0]);\n        }\n\n        if (null !== s[1]) {\n          if (!(s[1] instanceof e)) throw new z(t, D.InvalidParameter, r);\n          i = n.parseAttributesFromDictionary(s[1]);\n        }\n\n        l = n.createFromGraphicLikeObject(a, i, null, t.timeReference);\n      } else {\n        let a = null;\n        const i = {};\n        if (null !== s[0]) if (s[0] instanceof P) a = s[0];else {\n          if (!(a instanceof e)) throw new z(t, D.InvalidParameter, r);\n          a = n.parseGeometryFromDictionary(s[0]);\n        }\n\n        for (let e = 1; e < s.length; e += 2) {\n          const n = u(s[e]),\n                a = s[e + 1];\n          if (!(null == a || f(a) || isNaN(a) || m(a) || h(a) || p(a))) throw new z(t, D.InvalidParameter, r);\n          if (w(a) || !1 === d(a)) throw new z(t, D.InvalidParameter, r);\n          i[n] = a === c ? null : a;\n        }\n\n        l = n.createFromGraphicLikeObject(a, i, null, t.timeReference);\n      }\n      return l._geometry = o(l.geometry(), t.spatialReference), l.immutable = !1, l;\n    });\n  }, _.dictionary = function (n, t) {\n    return Z(n, t, (r, o, s) => {\n      if (0 === s.length) {\n        const n = new e();\n        return n.immutable = !1, n;\n      }\n\n      if (1 === s.length && f(s[0])) try {\n        const t = JSON.parse(s[0]),\n              r = e.convertObjectToArcadeDictionary(t, y(n), !1);\n        return r.immutable = !1, r;\n      } catch (g) {\n        throw new z(n, D.InvalidParameter, t);\n      }\n      if (s.length % 2 != 0) throw new z(n, D.WrongNumberOfParameters, t);\n      const l = {};\n\n      for (let e = 0; e < s.length; e += 2) {\n        const r = u(s[e]),\n              o = s[e + 1];\n        if (!(null == o || f(o) || isNaN(o) || m(o) || h(o) || p(o) || a(o) || i(o))) throw new z(n, D.InvalidParameter, t);\n        if (w(o)) throw new z(n, D.InvalidParameter, t);\n        l[r] = o === c ? null : o;\n      }\n\n      const d = new e(l);\n      return d.immutable = !1, d;\n    });\n  }, _.haskey = function (n, t) {\n    return Z(n, t, (a, i, o) => {\n      r(o, 2, 2, n, t);\n      const s = u(o[1]);\n      if (M(o[0])) return o[0].hasField(s);\n      if (o[0] instanceof e) return o[0].hasField(s);\n\n      if (o[0] instanceof P) {\n        const e = q(o[0], s, null, null, 2);\n        return !e || \"notfound\" !== e.keystate;\n      }\n\n      throw new z(n, D.InvalidParameter, t);\n    });\n  }, _.hasvalue = function (n, t) {\n    return Z(n, t, (a, i, o) => {\n      if (r(o, 2, 2, n, t), null === o[0] || null === o[1]) return !1;\n      const s = u(o[1]);\n      if (g(o[0])) return !!o[0].hasField(s) && null !== o[0].field(s);\n      if (o[0] instanceof e) return !!o[0].hasField(s) && null !== o[0].field(s);\n\n      if (o[0] instanceof P) {\n        return null !== q(o[0], s, null, null, 0);\n      }\n\n      return !1;\n    });\n  }, _.indexof = function (e, n) {\n    return Z(e, n, (t, o, s) => {\n      r(s, 2, 2, e, n);\n      const l = s[1];\n\n      if (a(s[0])) {\n        for (let e = 0; e < s[0].length; e++) if (R(l, s[0][e])) return e;\n\n        return -1;\n      }\n\n      if (i(s[0])) {\n        const e = s[0].length();\n\n        for (let n = 0; n < e; n++) if (R(l, s[0].get(n))) return n;\n\n        return -1;\n      }\n\n      throw new z(e, D.InvalidParameter, n);\n    });\n  }, _.angle = function (e, n) {\n    return Z(e, n, (t, a, i) => {\n      if (i = l(i), r(i, 2, 3, e, n), !(i[0] instanceof b)) throw new z(e, D.InvalidParameter, n);\n      if (!(i[1] instanceof b)) throw new z(e, D.InvalidParameter, n);\n      if (i.length > 2 && !(i[2] instanceof b)) throw new z(e, D.InvalidParameter, n);\n      return 2 === i.length ? O(i[0], i[1]) : S(i[0], i[1], i[2]);\n    });\n  }, _.bearing = function (e, n) {\n    return Z(e, n, (t, a, i) => {\n      if (i = l(i), r(i, 2, 3, e, n), !(i[0] instanceof b)) throw new z(e, D.InvalidParameter, n);\n      if (!(i[1] instanceof b)) throw new z(e, D.InvalidParameter, n);\n      if (i.length > 2 && !(i[2] instanceof b)) throw new z(e, D.InvalidParameter, n);\n      return 2 === i.length ? N(i[0], i[1]) : k(i[0], i[1], i[2]);\n    });\n  }, _.isselfintersecting = function (e, n) {\n    return Z(e, n, (t, o, s) => {\n      s = l(s), r(s, 1, 1, e, n);\n      let c = s[0];\n      if (c instanceof F) return c.isSelfIntersecting;\n      if (c instanceof j) return c = c.paths, J(c);\n\n      if (c instanceof x) {\n        const e = c.points;\n\n        for (let n = 0; n < e.length; n++) for (let t = 0; t < e.length; t++) if (t !== n) {\n          let r = !0;\n\n          for (let a = 0; a < e[n].length; a++) if (e[n][a] !== e[t][a]) {\n            r = !1;\n            break;\n          }\n\n          if (!0 === r) return !0;\n        }\n      }\n\n      return !(!a(c) && !i(c)) && (c = I(c, e.spatialReference), null !== c && (c = c.paths), J(c));\n    });\n  };\n}\n\nlet W = 0;\n\nfunction q(n, r, a, i, o = 1) {\n  let s;\n\n  switch (r = r.toLowerCase()) {\n    case \"hasz\":\n      {\n        const e = n.hasZ;\n        return void 0 !== e && e;\n      }\n\n    case \"hasm\":\n      {\n        const e = n.hasM;\n        return void 0 !== e && e;\n      }\n\n    case \"spatialreference\":\n      {\n        let t = n.spatialReference._arcadeCacheId;\n\n        if (void 0 === t) {\n          let e = !0;\n          Object.freeze && Object.isFrozen(n.spatialReference) && (e = !1), e && (W++, n.spatialReference._arcadeCacheId = W, t = W);\n        }\n\n        const r = new e({\n          wkt: n.spatialReference.wkt,\n          wkid: n.spatialReference.wkid\n        });\n        return void 0 !== t && (r._arcadeCacheId = \"SPREF\" + t.toString()), r;\n      }\n  }\n\n  switch (n.type) {\n    case \"extent\":\n      switch (r) {\n        case \"xmin\":\n        case \"xmax\":\n        case \"ymin\":\n        case \"ymax\":\n        case \"zmin\":\n        case \"zmax\":\n        case \"mmin\":\n        case \"mmax\":\n          {\n            const e = n[r];\n            return void 0 !== e ? e : null;\n          }\n\n        case \"type\":\n          return \"Extent\";\n      }\n\n      break;\n\n    case \"polygon\":\n      switch (r) {\n        case \"rings\":\n          s = n.cache._arcadeCacheId, void 0 === s && (W++, s = W, n.cache._arcadeCacheId = s);\n          return new _(n.rings, n.spatialReference, !0 === n.hasZ, !0 === n.hasM, s);\n\n        case \"type\":\n          return \"Polygon\";\n      }\n\n      break;\n\n    case \"point\":\n      switch (r) {\n        case \"x\":\n        case \"y\":\n        case \"z\":\n        case \"m\":\n          return void 0 !== n[r] ? n[r] : null;\n\n        case \"type\":\n          return \"Point\";\n      }\n\n      break;\n\n    case \"polyline\":\n      switch (r) {\n        case \"paths\":\n          s = n.cache._arcadeCacheId, void 0 === s && (W++, s = W, n.cache._arcadeCacheId = s);\n          return new _(n.paths, n.spatialReference, !0 === n.hasZ, !0 === n.hasM, s);\n\n        case \"type\":\n          return \"Polyline\";\n      }\n\n      break;\n\n    case \"multipoint\":\n      switch (r) {\n        case \"points\":\n          s = n.cache._arcadeCacheId, void 0 === s && (W++, s = W, n.cache._arcadeCacheId = s);\n          return new t(n.points, n.spatialReference, !0 === n.hasZ, !0 === n.hasM, s, 1);\n\n        case \"type\":\n          return \"Multipoint\";\n      }\n\n  }\n\n  if (1 === o) throw new z(a, D.InvalidIdentifier, i);\n  return 2 === o ? {\n    keystate: \"notfound\"\n  } : null;\n}\n\nexport { q as geometryMember, Z as registerFunctions };","map":{"version":3,"names":["e","n","t","y","r","m","a","x","i","q","o","F","s","G","l","v","c","f","j","u","k","b","h","p","w","d","C","g","R","H","I","P","angle2D","O","angleBetween2D","S","bearing2D","N","bearingBetween2D","pathsSelfIntersecting","J","fromJSON","ArcadeExecutionError","z","ExecutionErrorCodes","D","_","isClockwise","M","arcadeDeclaredClass","Z","ringisclockwise","InvalidParameter","push","hasZ","hasM","length","_elements","_hasZ","_hasM","toArray","get","polygon","parseGeometryFromDictionary","spatialReference","toJSON","JSON","parse","equals","WrongSpatialReference","polyline","point","multipoint","extent","xmin","ymin","xmax","ymax","zmin","zmax","mmin","mmax","geometry","setgeometry","immutable","Immutable","_geometry","feature","WrongNumberOfParameters","fromJson","timeReference","createFromArcadeFeature","createFromGraphicLikeObject","hasField","field","parseAttributesFromDictionary","isNaN","dictionary","convertObjectToArcadeDictionary","haskey","keystate","hasvalue","indexof","angle","bearing","isselfintersecting","isSelfIntersecting","paths","points","W","toLowerCase","_arcadeCacheId","Object","freeze","isFrozen","wkt","wkid","toString","type","cache","rings","InvalidIdentifier","geometryMember","registerFunctions"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/arcade/functions/geometry.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../Dictionary.js\";import n from\"../Feature.js\";import t from\"../ImmutablePointArray.js\";import{y as r,m as a,x as i,q as o,F as s,G as l,v as c,c as f,j as u,k as m,b as h,a as p,i as w,f as d,C as y,w as g,s as R,H as I}from\"../../chunks/languageUtils.js\";import v from\"../../geometry/Extent.js\";import P from\"../../geometry/Geometry.js\";import x from\"../../geometry/Multipoint.js\";import b from\"../../geometry/Point.js\";import F from\"../../geometry/Polygon.js\";import j from\"../../geometry/Polyline.js\";import{angle2D as O,angleBetween2D as S,bearing2D as N,bearingBetween2D as k,pathsSelfIntersecting as J}from\"./centroid.js\";import{fromJSON as G}from\"../../geometry/support/jsonUtils.js\";import{ArcadeExecutionError as z,ExecutionErrorCodes as D}from\"../executionError.js\";import _ from\"../ImmutablePathArray.js\";import{isClockwise as C}from\"../../geometry/support/coordsUtils.js\";function M(e){return e&&\"esri.arcade.Feature\"===e.arcadeDeclaredClass}function Z(_,Z){_.ringisclockwise=function(e,n){return Z(e,n,((o,s,l)=>{r(l,1,1,e,n);let c=[],f=!1,u=!1;if(null===l[0])return!1;if(a(l[0])){for(const t of l[0]){if(!(t instanceof b))throw new z(e,D.InvalidParameter,n);c.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}c.length>0&&(f=l[0][0].hasZ,u=l[0][0].hasM)}else if(l[0]instanceof t)c=l[0]._elements,c.length>0&&(f=l[0]._hasZ,u=l[0]._hasM);else{if(!i(l[0]))throw new z(e,D.InvalidParameter,n);for(const t of l[0].toArray()){if(!(t instanceof b))throw new z(e,D.InvalidParameter,n);c.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}c.length>0&&(f=l[0].get(0).hasZ,u=l[0].get(0).hasM)}return!(c.length<3)&&C(c,u,f)}))},_.polygon=function(t,a){return Z(t,a,((i,l,c)=>{r(c,1,1,t,a);let f=null;if(c[0]instanceof e){if(f=o(n.parseGeometryFromDictionary(c[0]),t.spatialReference),f instanceof F==!1)throw new z(t,D.InvalidParameter,a)}else f=c[0]instanceof F?G(c[0].toJSON()):o(new F(JSON.parse(c[0])),t.spatialReference);if(null!==f&&!1===f.spatialReference.equals(t.spatialReference))throw new z(t,D.WrongSpatialReference,a);return s(f)}))},_.polyline=function(t,a){return Z(t,a,((i,l,c)=>{r(c,1,1,t,a);let f=null;if(c[0]instanceof e){if(f=o(n.parseGeometryFromDictionary(c[0]),t.spatialReference),f instanceof j==!1)throw new z(t,D.InvalidParameter,a)}else f=c[0]instanceof j?G(c[0].toJSON()):o(new j(JSON.parse(c[0])),t.spatialReference);if(null!==f&&!1===f.spatialReference.equals(t.spatialReference))throw new z(t,D.WrongSpatialReference,a);return s(f)}))},_.point=function(t,a){return Z(t,a,((i,l,c)=>{r(c,1,1,t,a);let f=null;if(c[0]instanceof e){if(f=o(n.parseGeometryFromDictionary(c[0]),t.spatialReference),f instanceof b==!1)throw new z(t,D.InvalidParameter,a)}else f=c[0]instanceof b?G(c[0].toJSON()):o(new b(JSON.parse(c[0])),t.spatialReference);if(null!==f&&!1===f.spatialReference.equals(t.spatialReference))throw new z(t,D.WrongSpatialReference,a);return s(f)}))},_.multipoint=function(t,a){return Z(t,a,((i,l,c)=>{r(c,1,1,t,a);let f=null;if(c[0]instanceof e){if(f=o(n.parseGeometryFromDictionary(c[0]),t.spatialReference),f instanceof x==!1)throw new z(t,D.InvalidParameter,a)}else f=c[0]instanceof x?G(c[0].toJSON()):o(new x(JSON.parse(c[0])),t.spatialReference);if(null!==f&&!1===f.spatialReference.equals(t.spatialReference))throw new z(t,D.WrongSpatialReference,a);return s(f)}))},_.extent=function(t,a){return Z(t,a,((i,c,f)=>{f=l(f),r(f,1,1,t,a);let u=null;if(f[0]instanceof e)u=o(n.parseGeometryFromDictionary(f[0]),t.spatialReference);else if(f[0]instanceof b){const e={xmin:f[0].x,ymin:f[0].y,xmax:f[0].x,ymax:f[0].y,spatialReference:f[0].spatialReference.toJSON()},n=f[0];n.hasZ?(e.zmin=n.z,e.zmax=n.z):n.hasM&&(e.mmin=n.m,e.mmax=n.m),u=G(e)}else u=f[0]instanceof F||f[0]instanceof j||f[0]instanceof x?G(f[0].extent?.toJSON()):f[0]instanceof v?G(f[0].toJSON()):o(new v(JSON.parse(f[0])),t.spatialReference);if(null!==u&&!1===u.spatialReference.equals(t.spatialReference))throw new z(t,D.WrongSpatialReference,a);return s(u)}))},_.geometry=function(t,a){return Z(t,a,((i,l,c)=>{r(c,1,1,t,a);let f=null;if(null===c[0])return null;if(f=M(c[0])?o(c[0].geometry(),t.spatialReference):c[0]instanceof e?o(n.parseGeometryFromDictionary(c[0]),t.spatialReference):o(G(JSON.parse(c[0])),t.spatialReference),null!==f&&!1===f.spatialReference.equals(t.spatialReference))throw new z(t,D.WrongSpatialReference,a);return s(f)}))},_.setgeometry=function(e,n){return Z(e,n,((t,a,i)=>{if(r(i,2,2,e,n),!M(i[0]))throw new z(e,D.InvalidParameter,n);if(!0===i[0].immutable)throw new z(e,D.Immutable,n);if(!(i[1]instanceof P||null===i[1]))throw new z(e,D.InvalidParameter,n);return i[0]._geometry=i[1],c}))},_.feature=function(t,r){return Z(t,r,((a,i,s)=>{if(0===s.length)throw new z(t,D.WrongNumberOfParameters,r);let l=null;if(1===s.length)if(f(s[0]))l=n.fromJson(JSON.parse(s[0]),t.timeReference);else if(M(s[0]))l=n.createFromArcadeFeature(s[0]);else if(s[0]instanceof P)l=n.createFromGraphicLikeObject(s[0],null,null,t.timeReference);else{if(!(s[0]instanceof e))throw new z(t,D.InvalidParameter,r);{let r=s[0].hasField(\"geometry\")?s[0].field(\"geometry\"):null,a=s[0].hasField(\"attributes\")?s[0].field(\"attributes\"):null;null!==r&&r instanceof e&&(r=n.parseGeometryFromDictionary(r)),null!==a&&(a=n.parseAttributesFromDictionary(a)),l=n.createFromGraphicLikeObject(r,a,null,t.timeReference)}}else if(2===s.length){let a=null,i=null;if(null!==s[0])if(s[0]instanceof P)a=s[0];else{if(!(a instanceof e))throw new z(t,D.InvalidParameter,r);a=n.parseGeometryFromDictionary(s[0])}if(null!==s[1]){if(!(s[1]instanceof e))throw new z(t,D.InvalidParameter,r);i=n.parseAttributesFromDictionary(s[1])}l=n.createFromGraphicLikeObject(a,i,null,t.timeReference)}else{let a=null;const i={};if(null!==s[0])if(s[0]instanceof P)a=s[0];else{if(!(a instanceof e))throw new z(t,D.InvalidParameter,r);a=n.parseGeometryFromDictionary(s[0])}for(let e=1;e<s.length;e+=2){const n=u(s[e]),a=s[e+1];if(!(null==a||f(a)||isNaN(a)||m(a)||h(a)||p(a)))throw new z(t,D.InvalidParameter,r);if(w(a)||!1===d(a))throw new z(t,D.InvalidParameter,r);i[n]=a===c?null:a}l=n.createFromGraphicLikeObject(a,i,null,t.timeReference)}return l._geometry=o(l.geometry(),t.spatialReference),l.immutable=!1,l}))},_.dictionary=function(n,t){return Z(n,t,((r,o,s)=>{if(0===s.length){const n=new e;return n.immutable=!1,n}if(1===s.length&&f(s[0]))try{const t=JSON.parse(s[0]),r=e.convertObjectToArcadeDictionary(t,y(n),!1);return r.immutable=!1,r}catch(g){throw new z(n,D.InvalidParameter,t)}if(s.length%2!=0)throw new z(n,D.WrongNumberOfParameters,t);const l={};for(let e=0;e<s.length;e+=2){const r=u(s[e]),o=s[e+1];if(!(null==o||f(o)||isNaN(o)||m(o)||h(o)||p(o)||a(o)||i(o)))throw new z(n,D.InvalidParameter,t);if(w(o))throw new z(n,D.InvalidParameter,t);l[r]=o===c?null:o}const d=new e(l);return d.immutable=!1,d}))},_.haskey=function(n,t){return Z(n,t,((a,i,o)=>{r(o,2,2,n,t);const s=u(o[1]);if(M(o[0]))return o[0].hasField(s);if(o[0]instanceof e)return o[0].hasField(s);if(o[0]instanceof P){const e=q(o[0],s,null,null,2);return!e||\"notfound\"!==e.keystate}throw new z(n,D.InvalidParameter,t)}))},_.hasvalue=function(n,t){return Z(n,t,((a,i,o)=>{if(r(o,2,2,n,t),null===o[0]||null===o[1])return!1;const s=u(o[1]);if(g(o[0]))return!!o[0].hasField(s)&&null!==o[0].field(s);if(o[0]instanceof e)return!!o[0].hasField(s)&&null!==o[0].field(s);if(o[0]instanceof P){return null!==q(o[0],s,null,null,0)}return!1}))},_.indexof=function(e,n){return Z(e,n,((t,o,s)=>{r(s,2,2,e,n);const l=s[1];if(a(s[0])){for(let e=0;e<s[0].length;e++)if(R(l,s[0][e]))return e;return-1}if(i(s[0])){const e=s[0].length();for(let n=0;n<e;n++)if(R(l,s[0].get(n)))return n;return-1}throw new z(e,D.InvalidParameter,n)}))},_.angle=function(e,n){return Z(e,n,((t,a,i)=>{if(i=l(i),r(i,2,3,e,n),!(i[0]instanceof b))throw new z(e,D.InvalidParameter,n);if(!(i[1]instanceof b))throw new z(e,D.InvalidParameter,n);if(i.length>2&&!(i[2]instanceof b))throw new z(e,D.InvalidParameter,n);return 2===i.length?O(i[0],i[1]):S(i[0],i[1],i[2])}))},_.bearing=function(e,n){return Z(e,n,((t,a,i)=>{if(i=l(i),r(i,2,3,e,n),!(i[0]instanceof b))throw new z(e,D.InvalidParameter,n);if(!(i[1]instanceof b))throw new z(e,D.InvalidParameter,n);if(i.length>2&&!(i[2]instanceof b))throw new z(e,D.InvalidParameter,n);return 2===i.length?N(i[0],i[1]):k(i[0],i[1],i[2])}))},_.isselfintersecting=function(e,n){return Z(e,n,((t,o,s)=>{s=l(s),r(s,1,1,e,n);let c=s[0];if(c instanceof F)return c.isSelfIntersecting;if(c instanceof j)return c=c.paths,J(c);if(c instanceof x){const e=c.points;for(let n=0;n<e.length;n++)for(let t=0;t<e.length;t++)if(t!==n){let r=!0;for(let a=0;a<e[n].length;a++)if(e[n][a]!==e[t][a]){r=!1;break}if(!0===r)return!0}}return!(!a(c)&&!i(c))&&(c=I(c,e.spatialReference),null!==c&&(c=c.paths),J(c))}))}}let W=0;function q(n,r,a,i,o=1){let s;switch(r=r.toLowerCase()){case\"hasz\":{const e=n.hasZ;return void 0!==e&&e}case\"hasm\":{const e=n.hasM;return void 0!==e&&e}case\"spatialreference\":{let t=n.spatialReference._arcadeCacheId;if(void 0===t){let e=!0;Object.freeze&&Object.isFrozen(n.spatialReference)&&(e=!1),e&&(W++,n.spatialReference._arcadeCacheId=W,t=W)}const r=new e({wkt:n.spatialReference.wkt,wkid:n.spatialReference.wkid});return void 0!==t&&(r._arcadeCacheId=\"SPREF\"+t.toString()),r}}switch(n.type){case\"extent\":switch(r){case\"xmin\":case\"xmax\":case\"ymin\":case\"ymax\":case\"zmin\":case\"zmax\":case\"mmin\":case\"mmax\":{const e=n[r];return void 0!==e?e:null}case\"type\":return\"Extent\"}break;case\"polygon\":switch(r){case\"rings\":s=n.cache._arcadeCacheId,void 0===s&&(W++,s=W,n.cache._arcadeCacheId=s);return new _(n.rings,n.spatialReference,!0===n.hasZ,!0===n.hasM,s);case\"type\":return\"Polygon\"}break;case\"point\":switch(r){case\"x\":case\"y\":case\"z\":case\"m\":return void 0!==n[r]?n[r]:null;case\"type\":return\"Point\"}break;case\"polyline\":switch(r){case\"paths\":s=n.cache._arcadeCacheId,void 0===s&&(W++,s=W,n.cache._arcadeCacheId=s);return new _(n.paths,n.spatialReference,!0===n.hasZ,!0===n.hasM,s);case\"type\":return\"Polyline\"}break;case\"multipoint\":switch(r){case\"points\":s=n.cache._arcadeCacheId,void 0===s&&(W++,s=W,n.cache._arcadeCacheId=s);return new t(n.points,n.spatialReference,!0===n.hasZ,!0===n.hasM,s,1);case\"type\":return\"Multipoint\"}}if(1===o)throw new z(a,D.InvalidIdentifier,i);return 2===o?{keystate:\"notfound\"}:null}export{q as geometryMember,Z as registerFunctions};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}