{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { isNone as e } from \"../../../core/maybe.js\";\nimport { isExtent as i, isPolygon as t, isPolyline as s } from \"../../../geometry/support/jsonUtils.js\";\nimport { clipPolygonToTileExtent as r, clipPolylineToTileExtent as n } from \"../CIMEffects.js\";\nimport { CurveHelper as m, PIXEL_TOLERANCE as o } from \"../CurveHelper.js\";\nimport { GeometricEffectOffsetMethod as a } from \"../enums.js\";\nimport h from \"../../../geometry/SpatialReference.js\";\n\nclass l {\n  static local() {\n    return null === l.instance && (l.instance = new l()), l.instance;\n  }\n\n  execute(e, i, t, s, r) {\n    return new f(e, i, t, s, r);\n  }\n\n}\n\nl.instance = null;\n\nclass f {\n  constructor(e, i, t, s, r) {\n    this._inputGeometries = e, this._tileKey = s, this._geometryEngine = r, this._curveHelper = new m(), this._size = (void 0 !== i.size ? i.size : 1) * t, this._offsetFlattenError = o * t;\n  }\n\n  next() {\n    let m;\n\n    for (; m = this._inputGeometries.next();) {\n      if (0 === this._size) return m;\n      if (i(m)) if (this._size > 0) {\n        const e = [[m.xmin, m.ymin], [m.xmin, m.ymax], [m.xmax, m.ymax], [m.xmax, m.ymin], [m.xmin, m.ymin]],\n              i = this._curveHelper.offset(e, this._size, a.Rounded, 4, this._offsetFlattenError);\n\n        if (i) return {\n          rings: [i]\n        };\n      } else if (this._size < 0 && Math.min(m.xmax - m.xmin, m.ymax - m.ymin) + 2 * this._size > 0) return {\n        xmin: m.xmin - this._size,\n        xmax: m.xmax + this._size,\n        ymin: m.ymin - this._size,\n        ymax: m.ymax + this._size\n      };\n      const o = this._geometryEngine;\n      if (e(o)) return null;\n      let l = m;\n      if ((!t(m) || !this._tileKey || (l = r(m, Math.abs(this._size) + 1), l && l.rings && 0 !== l.rings.length)) && (!s(m) || !this._tileKey || (l = n(m, Math.abs(this._size) + 1), l && l.paths && 0 !== l.paths.length))) return o.buffer(h.WebMercator, l, this._size, 1);\n    }\n\n    return null;\n  }\n\n}\n\nexport { l as EffectBuffer };","map":{"version":3,"names":["isNone","e","isExtent","i","isPolygon","t","isPolyline","s","clipPolygonToTileExtent","r","clipPolylineToTileExtent","n","CurveHelper","m","PIXEL_TOLERANCE","o","GeometricEffectOffsetMethod","a","h","l","local","instance","execute","f","constructor","_inputGeometries","_tileKey","_geometryEngine","_curveHelper","_size","size","_offsetFlattenError","next","xmin","ymin","ymax","xmax","offset","Rounded","rings","Math","min","abs","length","paths","buffer","WebMercator","EffectBuffer"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/symbols/cim/effects/EffectBuffer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isNone as e}from\"../../../core/maybe.js\";import{isExtent as i,isPolygon as t,isPolyline as s}from\"../../../geometry/support/jsonUtils.js\";import{clipPolygonToTileExtent as r,clipPolylineToTileExtent as n}from\"../CIMEffects.js\";import{CurveHelper as m,PIXEL_TOLERANCE as o}from\"../CurveHelper.js\";import{GeometricEffectOffsetMethod as a}from\"../enums.js\";import h from\"../../../geometry/SpatialReference.js\";class l{static local(){return null===l.instance&&(l.instance=new l),l.instance}execute(e,i,t,s,r){return new f(e,i,t,s,r)}}l.instance=null;class f{constructor(e,i,t,s,r){this._inputGeometries=e,this._tileKey=s,this._geometryEngine=r,this._curveHelper=new m,this._size=(void 0!==i.size?i.size:1)*t,this._offsetFlattenError=o*t}next(){let m;for(;m=this._inputGeometries.next();){if(0===this._size)return m;if(i(m))if(this._size>0){const e=[[m.xmin,m.ymin],[m.xmin,m.ymax],[m.xmax,m.ymax],[m.xmax,m.ymin],[m.xmin,m.ymin]],i=this._curveHelper.offset(e,this._size,a.Rounded,4,this._offsetFlattenError);if(i)return{rings:[i]}}else if(this._size<0&&Math.min(m.xmax-m.xmin,m.ymax-m.ymin)+2*this._size>0)return{xmin:m.xmin-this._size,xmax:m.xmax+this._size,ymin:m.ymin-this._size,ymax:m.ymax+this._size};const o=this._geometryEngine;if(e(o))return null;let l=m;if((!t(m)||!this._tileKey||(l=r(m,Math.abs(this._size)+1),l&&l.rings&&0!==l.rings.length))&&(!s(m)||!this._tileKey||(l=n(m,Math.abs(this._size)+1),l&&l.paths&&0!==l.paths.length)))return o.buffer(h.WebMercator,l,this._size,1)}return null}}export{l as EffectBuffer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}