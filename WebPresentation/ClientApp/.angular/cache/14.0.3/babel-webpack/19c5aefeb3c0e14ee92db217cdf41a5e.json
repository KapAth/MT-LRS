{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../geometry.js\";\nimport \"../../../Graphic.js\";\nimport \"../../../renderers/ClassBreaksRenderer.js\";\nimport \"../../../renderers/DictionaryRenderer.js\";\nimport \"../../../renderers/DotDensityRenderer.js\";\nimport \"../../../renderers/HeatmapRenderer.js\";\nimport \"../../../renderers/PieChartRenderer.js\";\nimport \"../../../renderers/Renderer.js\";\nimport \"../../../renderers/SimpleRenderer.js\";\nimport \"../../../renderers/UniqueValueRenderer.js\";\nimport \"../../../renderers/support/jsonUtils.js\";\nimport \"../../../symbols.js\";\nimport t from \"../../../core/Collection.js\";\nimport \"../../../core/has.js\";\nimport r from \"../../../core/Logger.js\";\nimport { getOrCreateMapValue as s } from \"../../../core/MapUtils.js\";\nimport { isSome as i, isNone as n } from \"../../../core/maybe.js\";\nimport { isAbortError as o } from \"../../../core/promiseUtils.js\";\nimport { on as l } from \"../../../core/reactiveUtils.js\";\nimport { property as a } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as m } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as p } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { ringsContainsCoords as c } from \"../../../geometry/support/contains.js\";\nimport { extentIntersectsPolygon as h } from \"../../../geometry/support/intersectsBase.js\";\nimport { MediaElementView as u } from \"../../../layers/support/MediaElementView.js\";\nimport \"../../../core/Error.js\";\nimport \"../../../core/scheduling.js\";\nimport \"../../../request.js\";\nimport \"../../../chunks/index2.js\";\nimport \"../../../core/urlUtils.js\";\nimport \"../../../chunks/index3.js\";\nimport \"../../../layers/effects/EffectView.js\";\nimport \"../engine/DisplayObject.js\";\nimport \"../engine/webgl/effects/highlight/HighlightGradient.js\";\nimport \"../engine/webgl/BufferPool.js\";\nimport \"../engine/webgl/enums.js\";\nimport \"../engine/webgl/brushes/BrushBitmap.js\";\nimport \"../../../chunks/vec4f32.js\";\nimport \"../engine/webgl/Utils.js\";\nimport \"../engine/webgl/shaders/BackgroundPrograms.js\";\nimport \"../../webgl/enums.js\";\nimport \"../../webgl/checkWebGLError.js\";\nimport \"../../webgl/context-util.js\";\nimport \"../../../chunks/builtins.js\";\nimport \"../../../core/RandomLCG.js\";\nimport \"../engine/webgl/materialKey/MaterialKey.js\";\nimport \"../engine/webgl/techniques/Technique.js\";\nimport \"../engine/webgl/techniques/dotDensity/TechniqueDotDensity.js\";\nimport \"../engine/webgl/techniques/heatmap/TechniqueHeatmap.js\";\nimport \"../engine/webgl/techniques/pieChart/TechniquePieChart.js\";\nimport \"../../webgl/BufferObject.js\";\nimport \"../../webgl/FramebufferObject.js\";\nimport \"../../webgl/Texture.js\";\nimport \"../../webgl/VertexArrayObject.js\";\nimport \"../engine/webgl/brushes/WGLBrushHeatmap.js\";\nimport \"../engine/webgl/DefaultVertexAttributeLayouts.js\";\nimport \"../engine/webgl/shaders/TileInfoPrograms.js\";\nimport \"../engine/webgl/brushes/WGLGeometryBrushMarker.js\";\nimport \"../../../core/mathUtils.js\";\nimport \"../engine/webgl/number.js\";\nimport \"../engine/vectorTiles/style/StyleDefinition.js\";\nimport \"../../../chunks/vec2f32.js\";\nimport \"../engine/vectorTiles/enums.js\";\nimport \"../engine/vectorTiles/shaders/sources/resolver.js\";\nimport \"../engine/webgl/shaders/BitBlitPrograms.js\";\nimport \"../engine/webgl/shaders/sources/resolver.js\";\nimport \"../engine/webgl/TextureManager.js\";\nimport \"../engine/webgl/shaders/StencilPrograms.js\";\nimport \"../engine/webgl/effects/BlendEffect.js\";\nimport \"../engine/webgl/shaders/HighlightPrograms.js\";\nimport \"../engine/webgl/Profiler.js\";\nimport \"../../webgl/renderState.js\";\nimport \"../../3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport \"../../../core/floatRGBA.js\";\nimport \"../../3d/webgl-engine/lib/OrderIndependentTransparency.js\";\nimport \"../../../chunks/webgl-debug.js\";\nimport \"../LabelManager.js\";\nimport \"./graphics/GraphicsView2D.js\";\nimport \"../engine/webgl/AttributeStoreView.js\";\nimport \"../../../chunks/earcut.js\";\nimport \"../../../layers/graphics/featureConversionUtils.js\";\nimport \"../../../core/unitUtils.js\";\nimport \"../../../renderers/support/lengthUtils.js\";\nimport \"../../../chunks/vec3f32.js\";\nimport \"../../../geometry/support/normalizeUtils.js\";\nimport \"../navigation/MapViewNavigation.js\";\nimport \"../../../core/asyncUtils.js\";\nimport \"../engine/webgl/shaders/MagnifierPrograms.js\";\nimport \"../tiling/PagedTileQueue.js\";\nimport \"../tiling/TileInfoView.js\";\nimport \"../tiling/TileKey.js\";\nimport d from \"../tiling/TileQueue.js\";\nimport g from \"../tiling/TileStrategy.js\";\nimport f from \"../engine/webgl/Overlay.js\";\nimport j from \"../engine/webgl/OverlayContainer.js\";\nimport { LayerView2DMixin as y } from \"./LayerView2D.js\";\nimport w from \"../../layers/LayerView.js\";\nimport b from \"../../../geometry/Extent.js\";\n\nlet _ = class extends y(w) {\n  constructor() {\n    super(...arguments), this._overlayContainer = null, this._fetchQueue = null, this._tileStrategy = null, this._elementReferences = new Map(), this._debugGraphicsView = null, this.layer = null, this.elements = new t();\n  }\n\n  attach() {\n    this.addAttachHandles([l(() => this.layer.effectiveSource, \"refresh\", () => {\n      for (const e of this._tileStrategy.tiles) this._updateTile(e);\n\n      this.requestUpdate();\n    }), l(() => this.layer.effectiveSource, \"change\", ({\n      element: e\n    }) => this._elementUpdateHandler(e))]), this._overlayContainer = new j(), this.container.addChild(this._overlayContainer), this._fetchQueue = new d({\n      tileInfoView: this.view.featuresTilingScheme,\n      concurrency: 10,\n      process: (e, t) => this._queryElements(e, t)\n    }), this._tileStrategy = new g({\n      cachePolicy: \"purge\",\n      resampling: !0,\n      acquireTile: e => this._acquireTile(e),\n      releaseTile: e => this._releaseTile(e),\n      tileInfoView: this.view.featuresTilingScheme\n    }), this.requestUpdate();\n  }\n\n  detach() {\n    this.elements.removeAll(), this._tileStrategy.destroy(), this._fetchQueue.destroy(), this._overlayContainer.removeAllChildren(), this.container.removeAllChildren(), this._elementReferences.clear(), this._debugGraphicsView?.destroy();\n  }\n\n  supportsSpatialReference(e) {\n    return !0;\n  }\n\n  moveStart() {\n    this.requestUpdate();\n  }\n\n  viewChange() {\n    this.requestUpdate();\n  }\n\n  moveEnd() {\n    this.requestUpdate();\n  }\n\n  update(e) {\n    this._tileStrategy.update(e), this._debugGraphicsView?.update(e);\n  }\n\n  hitTest(e, t) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const r = [],\n            s = e.normalize(),\n            n = [s.x, s.y];\n\n      for (const {\n        projectedElement: {\n          normalizedCoords: o,\n          element: l\n        }\n      } of _this._elementReferences.values()) i(o) && c(o.rings, n) && r.push({\n        type: \"media\",\n        element: l,\n        layer: _this.layer,\n        mapPoint: e\n      });\n\n      return r.reverse();\n    })();\n  }\n\n  canResume() {\n    return null != this.layer.source && super.canResume();\n  }\n\n  doRefresh() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2._fetchQueue.reset(), _this2._tileStrategy.tiles.forEach(e => _this2._updateTile(e));\n    })();\n  }\n\n  _acquireTile(e) {\n    const t = new E(e.clone());\n    return this._updateTile(t), t;\n  }\n\n  _updateTile(e) {\n    this.updatingHandles.addPromise(this._fetchQueue.push(e.key).then(t => {\n      const [r, s] = e.setElements(t);\n      this._referenceElements(e, r), this._dereferenceElements(e, s), this.requestUpdate();\n    }, e => {\n      o(e) || r.getLogger(this.declaredClass).error(e);\n    }));\n  }\n\n  _releaseTile(e) {\n    this._fetchQueue.abort(e.key.id), e.elements && this._dereferenceElements(e, e.elements), this.requestUpdate();\n  }\n\n  _queryElements(e, t) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const r = _this3.layer.effectiveSource;\n      if (n(r)) return [];\n\n      _this3.view.featuresTilingScheme.getTileBounds(v, e, !0);\n\n      const s = new b({\n        xmin: v[0],\n        ymin: v[1],\n        xmax: v[2],\n        ymax: v[3],\n        spatialReference: _this3.view.spatialReference\n      });\n      return r.queryElements(s, t);\n    })();\n  }\n\n  _referenceElements(e, t) {\n    const r = this.layer.source;\n    if (!n(r)) for (const s of t) this._referenceElement(e, s);\n  }\n\n  _referenceElement(e, t) {\n    s(this._elementReferences, t.uid, () => {\n      const e = new u({\n        element: t,\n        spatialReference: this.view.spatialReference\n      }),\n            r = new f(e);\n      this._overlayContainer.addChild(r), this.elements.add(t);\n      let s = null;\n      return {\n        tiles: new Set(),\n        projectedElement: e,\n        overlay: r,\n        debugGraphic: s\n      };\n    }).tiles.add(e);\n  }\n\n  _dereferenceElements(e, t) {\n    for (const r of t) this._dereferenceElement(e, r);\n  }\n\n  _dereferenceElement(e, t) {\n    const r = this._elementReferences.get(t.uid);\n\n    r.tiles.delete(e), r.tiles.size || (this._overlayContainer.removeChild(r.overlay), r.overlay.destroy(), r.projectedElement.destroy(), this._elementReferences.delete(t.uid), this.elements.remove(t), this._debugGraphicsView?.graphics.remove(r.debugGraphic));\n  }\n\n  _elementUpdateHandler(e) {\n    let t = this._elementReferences.get(e.uid);\n\n    if (t) {\n      const r = t.projectedElement.normalizedCoords;\n      if (n(r)) return this._overlayContainer.removeChild(t.overlay), t.overlay.destroy(), t.projectedElement.destroy(), this._elementReferences.delete(e.uid), this.elements.remove(e), void this._debugGraphicsView?.graphics.remove(t.debugGraphic);\n      const s = [],\n            i = [];\n\n      for (const e of this._tileStrategy.tiles) {\n        const n = R(this.view.featuresTilingScheme, e, r);\n        t.tiles.has(e) ? n || i.push(e) : n && s.push(e);\n      }\n\n      for (const t of s) this._referenceElement(t, e);\n\n      for (const t of i) this._dereferenceElement(t, e);\n\n      return t = this._elementReferences.get(e.uid), void (t?.debugGraphic && (t.debugGraphic.geometry = t.projectedElement.normalizedCoords, this._debugGraphicsView.graphicUpdateHandler({\n        graphic: t.debugGraphic,\n        property: \"geometry\"\n      })));\n    }\n\n    const r = new u({\n      element: e,\n      spatialReference: this.view.spatialReference\n    }).normalizedCoords;\n    if (i(r)) for (const s of this._tileStrategy.tiles) {\n      R(this.view.featuresTilingScheme, s, r) && this._referenceElement(s, e);\n    }\n  }\n\n};\n\ne([a()], _.prototype, \"_fetchQueue\", void 0), e([a()], _.prototype, \"layer\", void 0), e([a({\n  readOnly: !0\n})], _.prototype, \"elements\", void 0), _ = e([m(\"esri.views.2d.layers.MediaLayerView2D\")], _);\nconst v = p(),\n      T = {\n  xmin: 0,\n  ymin: 0,\n  xmax: 0,\n  ymax: 0\n};\n\nfunction R(e, t, r) {\n  return e.getTileBounds(v, t.key, !0), T.xmin = v[0], T.ymin = v[1], T.xmax = v[2], T.ymax = v[3], h(T, r);\n}\n\nclass E {\n  constructor(e) {\n    this.key = e, this.elements = null, this.isReady = !1, this.visible = !0;\n  }\n\n  setElements(e) {\n    const t = [],\n          r = new Set(this.elements);\n    this.elements = e;\n\n    for (const s of e) r.has(s) ? r.delete(s) : t.push(s);\n\n    return this.isReady = !0, [t, Array.from(r)];\n  }\n\n  destroy() {}\n\n}\n\nconst S = _;\nexport { S as default };","map":{"version":3,"names":["_","e","t","r","getOrCreateMapValue","s","isSome","i","isNone","n","isAbortError","o","on","l","property","a","subclass","m","create","p","ringsContainsCoords","c","extentIntersectsPolygon","h","MediaElementView","u","d","g","f","j","LayerView2DMixin","y","w","b","constructor","arguments","_overlayContainer","_fetchQueue","_tileStrategy","_elementReferences","Map","_debugGraphicsView","layer","elements","attach","addAttachHandles","effectiveSource","tiles","_updateTile","requestUpdate","element","_elementUpdateHandler","container","addChild","tileInfoView","view","featuresTilingScheme","concurrency","process","_queryElements","cachePolicy","resampling","acquireTile","_acquireTile","releaseTile","_releaseTile","detach","removeAll","destroy","removeAllChildren","clear","supportsSpatialReference","moveStart","viewChange","moveEnd","update","hitTest","normalize","x","projectedElement","normalizedCoords","values","rings","push","type","mapPoint","reverse","canResume","source","doRefresh","reset","forEach","E","clone","updatingHandles","addPromise","key","then","setElements","_referenceElements","_dereferenceElements","getLogger","declaredClass","error","abort","id","getTileBounds","v","xmin","ymin","xmax","ymax","spatialReference","queryElements","_referenceElement","uid","add","Set","overlay","debugGraphic","_dereferenceElement","get","delete","size","removeChild","remove","graphics","R","has","geometry","graphicUpdateHandler","graphic","prototype","readOnly","T","isReady","visible","Array","from","S","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/layers/MediaLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import\"../../../Graphic.js\";import\"../../../renderers/ClassBreaksRenderer.js\";import\"../../../renderers/DictionaryRenderer.js\";import\"../../../renderers/DotDensityRenderer.js\";import\"../../../renderers/HeatmapRenderer.js\";import\"../../../renderers/PieChartRenderer.js\";import\"../../../renderers/Renderer.js\";import\"../../../renderers/SimpleRenderer.js\";import\"../../../renderers/UniqueValueRenderer.js\";import\"../../../renderers/support/jsonUtils.js\";import\"../../../symbols.js\";import t from\"../../../core/Collection.js\";import\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{getOrCreateMapValue as s}from\"../../../core/MapUtils.js\";import{isSome as i,isNone as n}from\"../../../core/maybe.js\";import{isAbortError as o}from\"../../../core/promiseUtils.js\";import{on as l}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as p}from\"../../../geometry/support/aaBoundingRect.js\";import{ringsContainsCoords as c}from\"../../../geometry/support/contains.js\";import{extentIntersectsPolygon as h}from\"../../../geometry/support/intersectsBase.js\";import{MediaElementView as u}from\"../../../layers/support/MediaElementView.js\";import\"../../../core/Error.js\";import\"../../../core/scheduling.js\";import\"../../../request.js\";import\"../../../chunks/index2.js\";import\"../../../core/urlUtils.js\";import\"../../../chunks/index3.js\";import\"../../../layers/effects/EffectView.js\";import\"../engine/DisplayObject.js\";import\"../engine/webgl/effects/highlight/HighlightGradient.js\";import\"../engine/webgl/BufferPool.js\";import\"../engine/webgl/enums.js\";import\"../engine/webgl/brushes/BrushBitmap.js\";import\"../../../chunks/vec4f32.js\";import\"../engine/webgl/Utils.js\";import\"../engine/webgl/shaders/BackgroundPrograms.js\";import\"../../webgl/enums.js\";import\"../../webgl/checkWebGLError.js\";import\"../../webgl/context-util.js\";import\"../../../chunks/builtins.js\";import\"../../../core/RandomLCG.js\";import\"../engine/webgl/materialKey/MaterialKey.js\";import\"../engine/webgl/techniques/Technique.js\";import\"../engine/webgl/techniques/dotDensity/TechniqueDotDensity.js\";import\"../engine/webgl/techniques/heatmap/TechniqueHeatmap.js\";import\"../engine/webgl/techniques/pieChart/TechniquePieChart.js\";import\"../../webgl/BufferObject.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/Texture.js\";import\"../../webgl/VertexArrayObject.js\";import\"../engine/webgl/brushes/WGLBrushHeatmap.js\";import\"../engine/webgl/DefaultVertexAttributeLayouts.js\";import\"../engine/webgl/shaders/TileInfoPrograms.js\";import\"../engine/webgl/brushes/WGLGeometryBrushMarker.js\";import\"../../../core/mathUtils.js\";import\"../engine/webgl/number.js\";import\"../engine/vectorTiles/style/StyleDefinition.js\";import\"../../../chunks/vec2f32.js\";import\"../engine/vectorTiles/enums.js\";import\"../engine/vectorTiles/shaders/sources/resolver.js\";import\"../engine/webgl/shaders/BitBlitPrograms.js\";import\"../engine/webgl/shaders/sources/resolver.js\";import\"../engine/webgl/TextureManager.js\";import\"../engine/webgl/shaders/StencilPrograms.js\";import\"../engine/webgl/effects/BlendEffect.js\";import\"../engine/webgl/shaders/HighlightPrograms.js\";import\"../engine/webgl/Profiler.js\";import\"../../webgl/renderState.js\";import\"../../3d/webgl-engine/core/shaderModules/interfaces.js\";import\"../../../core/floatRGBA.js\";import\"../../3d/webgl-engine/lib/OrderIndependentTransparency.js\";import\"../../../chunks/webgl-debug.js\";import\"../LabelManager.js\";import\"./graphics/GraphicsView2D.js\";import\"../engine/webgl/AttributeStoreView.js\";import\"../../../chunks/earcut.js\";import\"../../../layers/graphics/featureConversionUtils.js\";import\"../../../core/unitUtils.js\";import\"../../../renderers/support/lengthUtils.js\";import\"../../../chunks/vec3f32.js\";import\"../../../geometry/support/normalizeUtils.js\";import\"../navigation/MapViewNavigation.js\";import\"../../../core/asyncUtils.js\";import\"../engine/webgl/shaders/MagnifierPrograms.js\";import\"../tiling/PagedTileQueue.js\";import\"../tiling/TileInfoView.js\";import\"../tiling/TileKey.js\";import d from\"../tiling/TileQueue.js\";import g from\"../tiling/TileStrategy.js\";import f from\"../engine/webgl/Overlay.js\";import j from\"../engine/webgl/OverlayContainer.js\";import{LayerView2DMixin as y}from\"./LayerView2D.js\";import w from\"../../layers/LayerView.js\";import b from\"../../../geometry/Extent.js\";let _=class extends(y(w)){constructor(){super(...arguments),this._overlayContainer=null,this._fetchQueue=null,this._tileStrategy=null,this._elementReferences=new Map,this._debugGraphicsView=null,this.layer=null,this.elements=new t}attach(){this.addAttachHandles([l((()=>this.layer.effectiveSource),\"refresh\",(()=>{for(const e of this._tileStrategy.tiles)this._updateTile(e);this.requestUpdate()})),l((()=>this.layer.effectiveSource),\"change\",(({element:e})=>this._elementUpdateHandler(e)))]),this._overlayContainer=new j,this.container.addChild(this._overlayContainer),this._fetchQueue=new d({tileInfoView:this.view.featuresTilingScheme,concurrency:10,process:(e,t)=>this._queryElements(e,t)}),this._tileStrategy=new g({cachePolicy:\"purge\",resampling:!0,acquireTile:e=>this._acquireTile(e),releaseTile:e=>this._releaseTile(e),tileInfoView:this.view.featuresTilingScheme}),this.requestUpdate()}detach(){this.elements.removeAll(),this._tileStrategy.destroy(),this._fetchQueue.destroy(),this._overlayContainer.removeAllChildren(),this.container.removeAllChildren(),this._elementReferences.clear(),this._debugGraphicsView?.destroy()}supportsSpatialReference(e){return!0}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}update(e){this._tileStrategy.update(e),this._debugGraphicsView?.update(e)}async hitTest(e,t){const r=[],s=e.normalize(),n=[s.x,s.y];for(const{projectedElement:{normalizedCoords:o,element:l}}of this._elementReferences.values())i(o)&&c(o.rings,n)&&r.push({type:\"media\",element:l,layer:this.layer,mapPoint:e});return r.reverse()}canResume(){return null!=this.layer.source&&super.canResume()}async doRefresh(){this._fetchQueue.reset(),this._tileStrategy.tiles.forEach((e=>this._updateTile(e)))}_acquireTile(e){const t=new E(e.clone());return this._updateTile(t),t}_updateTile(e){this.updatingHandles.addPromise(this._fetchQueue.push(e.key).then((t=>{const[r,s]=e.setElements(t);this._referenceElements(e,r),this._dereferenceElements(e,s),this.requestUpdate()}),(e=>{o(e)||r.getLogger(this.declaredClass).error(e)})))}_releaseTile(e){this._fetchQueue.abort(e.key.id),e.elements&&this._dereferenceElements(e,e.elements),this.requestUpdate()}async _queryElements(e,t){const r=this.layer.effectiveSource;if(n(r))return[];this.view.featuresTilingScheme.getTileBounds(v,e,!0);const s=new b({xmin:v[0],ymin:v[1],xmax:v[2],ymax:v[3],spatialReference:this.view.spatialReference});return r.queryElements(s,t)}_referenceElements(e,t){const r=this.layer.source;if(!n(r))for(const s of t)this._referenceElement(e,s)}_referenceElement(e,t){s(this._elementReferences,t.uid,(()=>{const e=new u({element:t,spatialReference:this.view.spatialReference}),r=new f(e);this._overlayContainer.addChild(r),this.elements.add(t);let s=null;return{tiles:new Set,projectedElement:e,overlay:r,debugGraphic:s}})).tiles.add(e)}_dereferenceElements(e,t){for(const r of t)this._dereferenceElement(e,r)}_dereferenceElement(e,t){const r=this._elementReferences.get(t.uid);r.tiles.delete(e),r.tiles.size||(this._overlayContainer.removeChild(r.overlay),r.overlay.destroy(),r.projectedElement.destroy(),this._elementReferences.delete(t.uid),this.elements.remove(t),this._debugGraphicsView?.graphics.remove(r.debugGraphic))}_elementUpdateHandler(e){let t=this._elementReferences.get(e.uid);if(t){const r=t.projectedElement.normalizedCoords;if(n(r))return this._overlayContainer.removeChild(t.overlay),t.overlay.destroy(),t.projectedElement.destroy(),this._elementReferences.delete(e.uid),this.elements.remove(e),void this._debugGraphicsView?.graphics.remove(t.debugGraphic);const s=[],i=[];for(const e of this._tileStrategy.tiles){const n=R(this.view.featuresTilingScheme,e,r);t.tiles.has(e)?n||i.push(e):n&&s.push(e)}for(const t of s)this._referenceElement(t,e);for(const t of i)this._dereferenceElement(t,e);return t=this._elementReferences.get(e.uid),void(t?.debugGraphic&&(t.debugGraphic.geometry=t.projectedElement.normalizedCoords,this._debugGraphicsView.graphicUpdateHandler({graphic:t.debugGraphic,property:\"geometry\"})))}const r=new u({element:e,spatialReference:this.view.spatialReference}).normalizedCoords;if(i(r))for(const s of this._tileStrategy.tiles){R(this.view.featuresTilingScheme,s,r)&&this._referenceElement(s,e)}}};e([a()],_.prototype,\"_fetchQueue\",void 0),e([a()],_.prototype,\"layer\",void 0),e([a({readOnly:!0})],_.prototype,\"elements\",void 0),_=e([m(\"esri.views.2d.layers.MediaLayerView2D\")],_);const v=p(),T={xmin:0,ymin:0,xmax:0,ymax:0};function R(e,t,r){return e.getTileBounds(v,t.key,!0),T.xmin=v[0],T.ymin=v[1],T.xmax=v[2],T.ymax=v[3],h(T,r)}class E{constructor(e){this.key=e,this.elements=null,this.isReady=!1,this.visible=!0}setElements(e){const t=[],r=new Set(this.elements);this.elements=e;for(const s of e)r.has(s)?r.delete(s):t.push(s);return this.isReady=!0,[t,Array.from(r)]}destroy(){}}const S=_;export{S as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}