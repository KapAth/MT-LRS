{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport t from \"../../core/Error.js\";\nimport { isAbortError as r } from \"../../core/promiseUtils.js\";\nimport { isAnimatedPNG as i, parseApng as s } from \"../../views/2d/engine/webgl/animatedFormats/apng.js\";\nimport { isAnimatedGIF as n, parseGif as a } from \"../../views/2d/engine/webgl/animatedFormats/gif.js\";\n\nclass o {\n  constructor() {\n    this._resourceMap = new Map(), this._inFlightResourceMap = new Map(), this.geometryEngine = null, this.geometryEnginePromise = null;\n  }\n\n  destroy() {\n    this._inFlightResourceMap.clear(), this._resourceMap.clear();\n  }\n\n  getResource(e) {\n    return this._resourceMap.get(e) ?? null;\n  }\n\n  fetchResource(e, t) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const r = _this._resourceMap.get(e);\n\n      if (r) return {\n        width: r.width,\n        height: r.height\n      };\n\n      let i = _this._inFlightResourceMap.get(e);\n\n      return i ? i.then(e => ({\n        width: e.width,\n        height: e.height\n      })) : (i = c(e, t), _this._inFlightResourceMap.set(e, i), i.then(t => (_this._inFlightResourceMap.delete(e), _this._resourceMap.set(e, t), {\n        width: t.width,\n        height: t.height\n      }), () => ({\n        width: 0,\n        height: 0\n      })));\n    })();\n  }\n\n  deleteResource(e) {\n    this._inFlightResourceMap.delete(e), this._resourceMap.delete(e);\n  }\n\n}\n\nfunction h(_x, _x2) {\n  return _h.apply(this, arguments);\n}\n\nfunction _h() {\n  _h = _asyncToGenerator(function* (i, s) {\n    const n = window.URL.createObjectURL(i);\n\n    try {\n      const {\n        data: t\n      } = yield e(n, { ...s,\n        responseType: \"image\"\n      });\n      return t;\n    } catch (a) {\n      if (!r(a)) throw new t(\"mapview-invalid-resource\", `Could not fetch requested resource at ${n}`);\n      throw a;\n    } finally {\n      window.URL.revokeObjectURL(n);\n    }\n  });\n  return _h.apply(this, arguments);\n}\n\nfunction c(_x3, _x4) {\n  return _c.apply(this, arguments);\n}\n\nfunction _c() {\n  _c = _asyncToGenerator(function* (e, t) {\n    const {\n      arrayBuffer: r,\n      mediaType: o\n    } = yield u(e, t),\n          c = \"image/png\" === o;\n    if (\"image/gif\" === o && n(r)) return a(r);\n    if (c && i(r)) return s(r, t);\n    return h(new Blob([r], {\n      type: o\n    }), t);\n  });\n  return _c.apply(this, arguments);\n}\n\nfunction u(_x5, _x6) {\n  return _u.apply(this, arguments);\n}\n\nfunction _u() {\n  _u = _asyncToGenerator(function* (i, s) {\n    let n;\n    const a = \";base64,\";\n\n    if (i.includes(a)) {\n      const e = i.indexOf(a),\n            t = i.indexOf(a) + a.length,\n            r = i.substring(t),\n            s = atob(r),\n            o = new Uint8Array(s.length);\n\n      for (let i = 0; i < s.length; i++) o[i] = s.charCodeAt(i);\n\n      n = {\n        arrayBuffer: o.buffer,\n        mediaType: i.substring(0, e).replace(\"data:\", \"\")\n      };\n    } else try {\n      const t = yield e(i, {\n        responseType: \"array-buffer\",\n        ...s\n      }),\n            r = t.data;\n      n = {\n        arrayBuffer: r,\n        mediaType: t.getHeader(\"Content-Type\")\n      };\n    } catch (o) {\n      if (!r(o)) throw new t(\"mapview-invalid-resource\", `Could not fetch requested resource at ${i}`);\n    }\n\n    return n;\n  });\n  return _u.apply(this, arguments);\n}\n\nexport { o as default };","map":{"version":3,"names":["e","t","isAbortError","r","isAnimatedPNG","i","parseApng","s","isAnimatedGIF","n","parseGif","a","o","constructor","_resourceMap","Map","_inFlightResourceMap","geometryEngine","geometryEnginePromise","destroy","clear","getResource","get","fetchResource","width","height","then","c","set","delete","deleteResource","h","window","URL","createObjectURL","data","responseType","revokeObjectURL","arrayBuffer","mediaType","u","Blob","type","includes","indexOf","length","substring","atob","Uint8Array","charCodeAt","buffer","replace","getHeader","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{isAbortError as r}from\"../../core/promiseUtils.js\";import{isAnimatedPNG as i,parseApng as s}from\"../../views/2d/engine/webgl/animatedFormats/apng.js\";import{isAnimatedGIF as n,parseGif as a}from\"../../views/2d/engine/webgl/animatedFormats/gif.js\";class o{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){return this._resourceMap.get(e)??null}async fetchResource(e,t){const r=this._resourceMap.get(e);if(r)return{width:r.width,height:r.height};let i=this._inFlightResourceMap.get(e);return i?i.then((e=>({width:e.width,height:e.height}))):(i=c(e,t),this._inFlightResourceMap.set(e,i),i.then((t=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,t),{width:t.width,height:t.height})),(()=>({width:0,height:0}))))}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}}async function h(i,s){const n=window.URL.createObjectURL(i);try{const{data:t}=await e(n,{...s,responseType:\"image\"});return t}catch(a){if(!r(a))throw new t(\"mapview-invalid-resource\",`Could not fetch requested resource at ${n}`);throw a}finally{window.URL.revokeObjectURL(n)}}async function c(e,t){const{arrayBuffer:r,mediaType:o}=await u(e,t),c=\"image/png\"===o;if(\"image/gif\"===o&&n(r))return a(r);if(c&&i(r))return s(r,t);return h(new Blob([r],{type:o}),t)}async function u(i,s){let n;const a=\";base64,\";if(i.includes(a)){const e=i.indexOf(a),t=i.indexOf(a)+a.length,r=i.substring(t),s=atob(r),o=new Uint8Array(s.length);for(let i=0;i<s.length;i++)o[i]=s.charCodeAt(i);n={arrayBuffer:o.buffer,mediaType:i.substring(0,e).replace(\"data:\",\"\")}}else try{const t=await e(i,{responseType:\"array-buffer\",...s}),r=t.data;n={arrayBuffer:r,mediaType:t.getHeader(\"Content-Type\")}}catch(o){if(!r(o))throw new t(\"mapview-invalid-resource\",`Could not fetch requested resource at ${i}`)}return n}export{o as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}