{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from \"../../../../core/CircularArray.js\";\nimport e from \"../../../../core/Evented.js\";\nimport \"../../../../core/has.js\";\nimport { isNone as s, isSome as a, unwrap as r } from \"../../../../core/maybe.js\";\nimport { r as n } from \"../../../../chunks/rbush.js\";\nimport { create as i, fromRectValues as o } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { Store2D as d } from \"./Store2D.js\";\nimport { FeatureSetReaderIndirect as h } from \"./support/FeatureSetReaderPBFIndirect.js\";\nconst c = i();\n\nfunction I(t, e) {\n  return t << 16 | e;\n}\n\nfunction u(t) {\n  return (4294901760 & t) >>> 16;\n}\n\nfunction l(t) {\n  return 65535 & t;\n}\n\nconst p = {\n  getObjectId: t => t.getObjectId(),\n  getAttributes: t => t.readAttributes(),\n  getAttribute: (t, e) => t.readAttribute(e),\n  cloneWithGeometry: (t, e) => t,\n  getGeometry: t => t.readHydratedGeometry(),\n  getCentroid: (t, e) => t.readCentroid()\n};\n\nclass g extends d {\n  constructor(s, a, r) {\n    super(s, a), this.featureAdapter = p, this.events = new e(), this._featureSetsByInstance = new Map(), this._objectIdToDisplayId = new Map(), this._spatialIndexInvalid = !0, this._indexSearchCache = new t(50), this._index = n(9, t => ({\n      minX: this._storage.getXMin(t),\n      minY: this._storage.getYMin(t),\n      maxX: this._storage.getXMax(t),\n      maxY: this._storage.getYMax(t)\n    })), this.mode = r;\n  }\n\n  get storeStatistics() {\n    let t = 0,\n        e = 0,\n        s = 0;\n    return this.forEach(a => {\n      const r = a.readGeometry();\n      r && (e += r.isPoint ? 1 : r.lengths.reduce((t, e) => t + e, 0), s += r.isPoint ? 1 : r.lengths.length, t += 1);\n    }), {\n      featureCount: t,\n      vertexCount: e,\n      ringCount: s\n    };\n  }\n\n  hasInstance(t) {\n    return this._featureSetsByInstance.has(t);\n  }\n\n  onTileData(t, e) {\n    if (s(e.addOrUpdate)) return e;\n\n    if (e.addOrUpdate.attachStorage(this._storage), \"snapshot\" === this.mode) {\n      const s = e.addOrUpdate.getCursor();\n\n      for (; s.next();) {\n        const e = s.getDisplayId();\n        this.setComputedAttributes(this._storage, s, e, t.scale);\n      }\n\n      return e;\n    }\n\n    this._featureSetsByInstance.set(e.addOrUpdate.instance, e.addOrUpdate);\n\n    const a = e.addOrUpdate.getCursor();\n\n    for (; a.next();) this._insertFeature(a, t.scale);\n\n    return this._spatialIndexInvalid = !0, this.events.emit(\"changed\"), e;\n  }\n\n  search(t) {\n    this._rebuildIndex();\n\n    const e = t.id,\n          s = this._indexSearchCache.find(t => t.tileId === e);\n\n    if (a(s)) return s.readers;\n\n    const r = new Map(),\n          n = this._searchIndex(t.bounds),\n          i = [];\n\n    for (const a of n) {\n      const t = this._storage.getInstanceId(a),\n            e = u(t),\n            s = l(t);\n\n      r.has(e) || r.set(e, []);\n      r.get(e).push(s);\n    }\n\n    return r.forEach((t, e) => {\n      const s = this._featureSetsByInstance.get(e);\n\n      i.push(h.from(s, t));\n    }), this._indexSearchCache.enqueue({\n      tileId: e,\n      readers: i\n    }), i;\n  }\n\n  insert(t) {\n    const e = t.getCursor(),\n          s = this._storage;\n\n    for (; e.next();) {\n      const t = I(e.instance, e.getIndex()),\n            a = e.getObjectId(),\n            r = this._objectIdToDisplayId.get(a) ?? this._storage.createDisplayId();\n\n      e.setDisplayId(r), s.setInstanceId(r, t), this._objectIdToDisplayId.set(a, r);\n    }\n\n    this._featureSetsByInstance.set(t.instance, t), this._spatialIndexInvalid = !0;\n  }\n\n  remove(t) {\n    const e = this._objectIdToDisplayId.get(t);\n\n    if (!e) return;\n\n    const s = this._storage.getInstanceId(e),\n          a = l(s),\n          r = u(s),\n          n = this._featureSetsByInstance.get(r);\n\n    this._objectIdToDisplayId.delete(t), this._storage.releaseDisplayId(e), n.removeAtIndex(a), n.isEmpty && this._featureSetsByInstance.delete(r), this._spatialIndexInvalid = !0;\n  }\n\n  forEach(t) {\n    this._objectIdToDisplayId.forEach(e => {\n      const s = this._storage.getInstanceId(e),\n            a = this._lookupFeature(s);\n\n      t(a);\n    });\n  }\n\n  forEachUnsafe(t) {\n    this._objectIdToDisplayId.forEach(e => {\n      const s = this._storage.getInstanceId(e),\n            a = u(s),\n            r = l(s),\n            n = this._getFeatureSet(a);\n\n      n.setIndex(r), t(n);\n    });\n  }\n\n  forEachInBounds(t, e) {\n    const s = this._searchIndex(t);\n\n    for (const a of s) {\n      const t = this.lookupFeatureByDisplayId(a, this._storage);\n      e(r(t));\n    }\n  }\n\n  forEachBounds(t, e) {\n    this._rebuildIndex();\n\n    for (const s of t) {\n      if (!s.readGeometry()) continue;\n      const t = s.getDisplayId();\n      o(c, this._storage.getXMin(t), this._storage.getYMin(t), this._storage.getXMax(t), this._storage.getYMax(t)), e(c);\n    }\n  }\n\n  sweepFeatures(t, e, s) {\n    this._spatialIndexInvalid = !0, this._objectIdToDisplayId.forEach((a, r) => {\n      t.has(a) || (e.releaseDisplayId(a), s && s.unsetAttributeData(a), this._objectIdToDisplayId.delete(r));\n    }), this.events.emit(\"changed\");\n  }\n\n  sweepFeatureSets(t) {\n    this._spatialIndexInvalid = !0, this._featureSetsByInstance.forEach((e, s) => {\n      t.has(s) || this._featureSetsByInstance.delete(s);\n    });\n  }\n\n  lookupObjectId(t, e) {\n    const a = this.lookupFeatureByDisplayId(t, e);\n    return s(a) ? null : a.getObjectId();\n  }\n\n  lookupDisplayId(t) {\n    return this._objectIdToDisplayId.get(t);\n  }\n\n  lookupFeatureByDisplayId(t, e) {\n    const s = e.getInstanceId(t);\n    return this._lookupFeature(s);\n  }\n\n  lookupByDisplayIdUnsafe(t) {\n    const e = this._storage.getInstanceId(t),\n          s = u(e),\n          a = l(e),\n          r = this._getFeatureSet(s);\n\n    return r ? (r.setIndex(a), r) : null;\n  }\n\n  _insertFeature(t, e) {\n    const s = this._storage,\n          a = t.getObjectId(),\n          r = I(t.instance, t.getIndex());\n    s.getInstanceId(t.getDisplayId());\n\n    let n = this._objectIdToDisplayId.get(a);\n\n    n || (n = s.createDisplayId(), this._objectIdToDisplayId.set(a, n), this._spatialIndexInvalid = !0), t.setDisplayId(n), s.setInstanceId(n, r), this.setComputedAttributes(s, t, n, e);\n  }\n\n  _searchIndex(t) {\n    this._rebuildIndex();\n\n    const e = {\n      minX: t[0],\n      minY: t[1],\n      maxX: t[2],\n      maxY: t[3]\n    };\n    return this._index.search(e);\n  }\n\n  _rebuildIndex() {\n    if (!this._spatialIndexInvalid) return;\n    const t = [];\n    \"snapshot\" === this.mode ? this._featureSetsByInstance.forEach(e => {\n      const s = e.getCursor();\n\n      for (; s.next();) {\n        const e = s.getDisplayId();\n        this._storage.setBounds(e, s) && t.push(e);\n      }\n    }) : this._objectIdToDisplayId.forEach(e => {\n      const s = this._storage.getInstanceId(e);\n\n      this._storage.setBounds(e, this._lookupFeature(s)) && t.push(e);\n    }), this._index.clear(), this._index.load(t), this._indexSearchCache.clear(), this._spatialIndexInvalid = !1;\n  }\n\n  _lookupFeature(t) {\n    const e = u(t),\n          s = this._getFeatureSet(e);\n\n    if (!s) return;\n    const a = s.getCursor(),\n          r = l(t);\n    return a.setIndex(r), a;\n  }\n\n  _getFeatureSet(t) {\n    return this._featureSetsByInstance.get(t);\n  }\n\n}\n\nexport { g as FeatureStore2D, p as featureAdapter };","map":{"version":3,"names":["t","e","isNone","s","isSome","a","unwrap","r","n","create","i","fromRectValues","o","Store2D","d","FeatureSetReaderIndirect","h","c","I","u","l","p","getObjectId","getAttributes","readAttributes","getAttribute","readAttribute","cloneWithGeometry","getGeometry","readHydratedGeometry","getCentroid","readCentroid","g","constructor","featureAdapter","events","_featureSetsByInstance","Map","_objectIdToDisplayId","_spatialIndexInvalid","_indexSearchCache","_index","minX","_storage","getXMin","minY","getYMin","maxX","getXMax","maxY","getYMax","mode","storeStatistics","forEach","readGeometry","isPoint","lengths","reduce","length","featureCount","vertexCount","ringCount","hasInstance","has","onTileData","addOrUpdate","attachStorage","getCursor","next","getDisplayId","setComputedAttributes","scale","set","instance","_insertFeature","emit","search","_rebuildIndex","id","find","tileId","readers","_searchIndex","bounds","getInstanceId","get","push","from","enqueue","insert","getIndex","createDisplayId","setDisplayId","setInstanceId","remove","delete","releaseDisplayId","removeAtIndex","isEmpty","_lookupFeature","forEachUnsafe","_getFeatureSet","setIndex","forEachInBounds","lookupFeatureByDisplayId","forEachBounds","sweepFeatures","unsetAttributeData","sweepFeatureSets","lookupObjectId","lookupDisplayId","lookupByDisplayIdUnsafe","setBounds","clear","load","FeatureStore2D"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/CircularArray.js\";import e from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{isNone as s,isSome as a,unwrap as r}from\"../../../../core/maybe.js\";import{r as n}from\"../../../../chunks/rbush.js\";import{create as i,fromRectValues as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{Store2D as d}from\"./Store2D.js\";import{FeatureSetReaderIndirect as h}from\"./support/FeatureSetReaderPBFIndirect.js\";const c=i();function I(t,e){return t<<16|e}function u(t){return(4294901760&t)>>>16}function l(t){return 65535&t}const p={getObjectId:t=>t.getObjectId(),getAttributes:t=>t.readAttributes(),getAttribute:(t,e)=>t.readAttribute(e),cloneWithGeometry:(t,e)=>t,getGeometry:t=>t.readHydratedGeometry(),getCentroid:(t,e)=>t.readCentroid()};class g extends d{constructor(s,a,r){super(s,a),this.featureAdapter=p,this.events=new e,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new t(50),this._index=n(9,(t=>({minX:this._storage.getXMin(t),minY:this._storage.getYMin(t),maxX:this._storage.getXMax(t),maxY:this._storage.getYMax(t)}))),this.mode=r}get storeStatistics(){let t=0,e=0,s=0;return this.forEach((a=>{const r=a.readGeometry();r&&(e+=r.isPoint?1:r.lengths.reduce(((t,e)=>t+e),0),s+=r.isPoint?1:r.lengths.length,t+=1)})),{featureCount:t,vertexCount:e,ringCount:s}}hasInstance(t){return this._featureSetsByInstance.has(t)}onTileData(t,e){if(s(e.addOrUpdate))return e;if(e.addOrUpdate.attachStorage(this._storage),\"snapshot\"===this.mode){const s=e.addOrUpdate.getCursor();for(;s.next();){const e=s.getDisplayId();this.setComputedAttributes(this._storage,s,e,t.scale)}return e}this._featureSetsByInstance.set(e.addOrUpdate.instance,e.addOrUpdate);const a=e.addOrUpdate.getCursor();for(;a.next();)this._insertFeature(a,t.scale);return this._spatialIndexInvalid=!0,this.events.emit(\"changed\"),e}search(t){this._rebuildIndex();const e=t.id,s=this._indexSearchCache.find((t=>t.tileId===e));if(a(s))return s.readers;const r=new Map,n=this._searchIndex(t.bounds),i=[];for(const a of n){const t=this._storage.getInstanceId(a),e=u(t),s=l(t);r.has(e)||r.set(e,[]);r.get(e).push(s)}return r.forEach(((t,e)=>{const s=this._featureSetsByInstance.get(e);i.push(h.from(s,t))})),this._indexSearchCache.enqueue({tileId:e,readers:i}),i}insert(t){const e=t.getCursor(),s=this._storage;for(;e.next();){const t=I(e.instance,e.getIndex()),a=e.getObjectId(),r=this._objectIdToDisplayId.get(a)??this._storage.createDisplayId();e.setDisplayId(r),s.setInstanceId(r,t),this._objectIdToDisplayId.set(a,r)}this._featureSetsByInstance.set(t.instance,t),this._spatialIndexInvalid=!0}remove(t){const e=this._objectIdToDisplayId.get(t);if(!e)return;const s=this._storage.getInstanceId(e),a=l(s),r=u(s),n=this._featureSetsByInstance.get(r);this._objectIdToDisplayId.delete(t),this._storage.releaseDisplayId(e),n.removeAtIndex(a),n.isEmpty&&this._featureSetsByInstance.delete(r),this._spatialIndexInvalid=!0}forEach(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=this._lookupFeature(s);t(a)}))}forEachUnsafe(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=u(s),r=l(s),n=this._getFeatureSet(a);n.setIndex(r),t(n)}))}forEachInBounds(t,e){const s=this._searchIndex(t);for(const a of s){const t=this.lookupFeatureByDisplayId(a,this._storage);e(r(t))}}forEachBounds(t,e){this._rebuildIndex();for(const s of t){if(!s.readGeometry())continue;const t=s.getDisplayId();o(c,this._storage.getXMin(t),this._storage.getYMin(t),this._storage.getXMax(t),this._storage.getYMax(t)),e(c)}}sweepFeatures(t,e,s){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach(((a,r)=>{t.has(a)||(e.releaseDisplayId(a),s&&s.unsetAttributeData(a),this._objectIdToDisplayId.delete(r))})),this.events.emit(\"changed\")}sweepFeatureSets(t){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach(((e,s)=>{t.has(s)||this._featureSetsByInstance.delete(s)}))}lookupObjectId(t,e){const a=this.lookupFeatureByDisplayId(t,e);return s(a)?null:a.getObjectId()}lookupDisplayId(t){return this._objectIdToDisplayId.get(t)}lookupFeatureByDisplayId(t,e){const s=e.getInstanceId(t);return this._lookupFeature(s)}lookupByDisplayIdUnsafe(t){const e=this._storage.getInstanceId(t),s=u(e),a=l(e),r=this._getFeatureSet(s);return r?(r.setIndex(a),r):null}_insertFeature(t,e){const s=this._storage,a=t.getObjectId(),r=I(t.instance,t.getIndex());s.getInstanceId(t.getDisplayId());let n=this._objectIdToDisplayId.get(a);n||(n=s.createDisplayId(),this._objectIdToDisplayId.set(a,n),this._spatialIndexInvalid=!0),t.setDisplayId(n),s.setInstanceId(n,r),this.setComputedAttributes(s,t,n,e)}_searchIndex(t){this._rebuildIndex();const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this._index.search(e)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const t=[];\"snapshot\"===this.mode?this._featureSetsByInstance.forEach((e=>{const s=e.getCursor();for(;s.next();){const e=s.getDisplayId();this._storage.setBounds(e,s)&&t.push(e)}})):this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e);this._storage.setBounds(e,this._lookupFeature(s))&&t.push(e)})),this._index.clear(),this._index.load(t),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(t){const e=u(t),s=this._getFeatureSet(e);if(!s)return;const a=s.getCursor(),r=l(t);return a.setIndex(r),a}_getFeatureSet(t){return this._featureSetsByInstance.get(t)}}export{g as FeatureStore2D,p as featureAdapter};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}