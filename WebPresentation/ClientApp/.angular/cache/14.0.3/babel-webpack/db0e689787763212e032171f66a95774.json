{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport r from \"../../PopupTemplate.js\";\nimport \"../../renderers/ClassBreaksRenderer.js\";\nimport \"../../renderers/DictionaryRenderer.js\";\nimport \"../../renderers/DotDensityRenderer.js\";\nimport \"../../renderers/HeatmapRenderer.js\";\nimport \"../../renderers/PieChartRenderer.js\";\nimport \"../../renderers/Renderer.js\";\nimport \"../../renderers/SimpleRenderer.js\";\nimport \"../../renderers/UniqueValueRenderer.js\";\nimport \"../../renderers/support/jsonUtils.js\";\nimport { rendererTypes as t, webSceneRendererTypes as i } from \"../../renderers/support/types.js\";\nimport o from \"../../request.js\";\nimport { isSymbol3D as s } from \"../../symbols.js\";\nimport a from \"../../core/Collection.js\";\nimport l from \"../../core/Error.js\";\nimport { HandleOwnerMixin as n } from \"../../core/HandleOwner.js\";\nimport has from \"../../core/has.js\";\nimport { IdentifiableMixin as p } from \"../../core/Identifiable.js\";\nimport { clone as y } from \"../../core/lang.js\";\nimport d from \"../../core/Loadable.js\";\nimport u from \"../../core/Logger.js\";\nimport { isSome as c } from \"../../core/maybe.js\";\nimport { MultiOriginJSONMixin as f } from \"../../core/MultiOriginJSONSupport.js\";\nimport { sqlAnd as m } from \"../../core/sql.js\";\nimport { objectToQuery as h } from \"../../core/urlUtils.js\";\nimport { property as b } from \"../../core/accessorSupport/decorators/property.js\";\nimport { cast as g } from \"../../core/accessorSupport/decorators/cast.js\";\nimport { reader as S } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as I } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as w } from \"../../core/accessorSupport/decorators/writer.js\";\nimport { ensureInteger as v, ensureType as j, Integer as L, ensureClass as D } from \"../../core/accessorSupport/ensureType.js\";\nimport { OriginId as E, nameToId as F } from \"../../core/accessorSupport/PropertyOrigin.js\";\nimport { getProperties as P } from \"../../core/accessorSupport/utils.js\";\nimport x from \"../graphics/sources/support/QueryTask.js\";\nimport O from \"./FeatureType.js\";\nimport T from \"./Field.js\";\nimport _ from \"./FieldsIndex.js\";\nimport A from \"./LabelClass.js\";\nimport { validateLabelingInfo as V } from \"./labelingInfo.js\";\nimport N from \"./LayerFloorInfo.js\";\nimport { getFeatureLayerCapabilities as M } from \"./serviceCapabilitiesUtils.js\";\nimport { DataLayerSource as C } from \"./source/DataLayerSource.js\";\nimport { MapLayerSource as q } from \"./source/MapLayerSource.js\";\nimport U from \"../../rest/support/AttachmentQuery.js\";\nimport k from \"../../rest/support/Query.js\";\nimport { createPopupTemplate as R } from \"../../support/popupUtils.js\";\nimport Q from \"../../geometry/Extent.js\";\nimport { featureGeometryTypeKebabDictionary as B } from \"../../geometry/support/typeUtils.js\";\nvar J;\n\nfunction $(e) {\n  return null != e && \"esriSMS\" === e.type;\n}\n\nfunction G(e, r, t) {\n  const i = this.originIdOf(r) >= F(t.origin);\n  return {\n    ignoreOrigin: !0,\n    allowNull: i,\n    enabled: !!t && \"map-image\" === t.layer?.type && (t.writeSublayerStructure || i)\n  };\n}\n\nfunction H(e, r, t) {\n  return {\n    enabled: !!t && \"tile\" === t.layer?.type && this._isOverridden(r)\n  };\n}\n\nfunction z(e, r, t) {\n  return {\n    ignoreOrigin: !0,\n    enabled: t && t.writeSublayerStructure || !1\n  };\n}\n\nfunction K(e, r, t) {\n  return {\n    ignoreOrigin: !0,\n    enabled: !!t && (t.writeSublayerStructure || this.originIdOf(r) >= F(t.origin))\n  };\n}\n\nlet W = 0;\nconst X = new Set();\nX.add(\"layer\"), X.add(\"parent\"), X.add(\"loaded\"), X.add(\"loadStatus\"), X.add(\"loadError\"), X.add(\"loadWarnings\");\nlet Y = J = class extends n(f(p(d))) {\n  constructor(e) {\n    super(e), this.capabilities = void 0, this.fields = null, this.fullExtent = null, this.geometryType = null, this.globalIdField = null, this.legendEnabled = !0, this.objectIdField = null, this.popupEnabled = !0, this.popupTemplate = null, this.sourceJSON = null, this.title = null, this.typeIdField = null, this.types = null, this._lastParsedUrl = null;\n  }\n\n  load(e) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      return _this.addResolvingPromise(_asyncToGenerator(function* () {\n        const {\n          layer: r,\n          source: t,\n          url: i\n        } = _this;\n        if (!r && !i) throw new l(\"sublayer:missing-layer\", \"Sublayer can't be loaded without being part of a layer\", {\n          sublayer: _this\n        });\n        let s = null;\n\n        if (!r || _this.originIdOf(\"url\") > E.SERVICE || \"data-layer\" === t?.type) {\n          s = (yield o(i, {\n            responseType: \"json\",\n            query: {\n              f: \"json\"\n            },\n            ...e\n          })).data;\n        } else {\n          let i = _this.id;\n          \"map-layer\" === t?.type && (i = t.mapLayerId), s = yield r.fetchSublayerInfo(i, e);\n        }\n\n        s && (_this.sourceJSON = s, _this.read({\n          layerDefinition: s\n        }, {\n          origin: \"service\"\n        }));\n      })()), _this;\n    })();\n  }\n\n  readCapabilities(e, r) {\n    r = r.layerDefinition || r;\n    const {\n      operations: {\n        supportsQuery: t,\n        supportsQueryAttachments: i\n      },\n      query: {\n        supportsFormatPBF: o\n      },\n      data: {\n        supportsAttachment: s\n      }\n    } = M(r, this.url);\n    return {\n      exportMap: {\n        supportsModification: !!r.canModifyLayer\n      },\n      operations: {\n        supportsQuery: t,\n        supportsQueryAttachments: i\n      },\n      data: {\n        supportsAttachment: s\n      },\n      query: {\n        supportsFormatPBF: o\n      }\n    };\n  }\n\n  get defaultPopupTemplate() {\n    return this.createPopupTemplate();\n  }\n\n  set definitionExpression(e) {\n    this._setAndNotifyLayer(\"definitionExpression\", e);\n  }\n\n  get fieldsIndex() {\n    return new _(this.fields || []);\n  }\n\n  set floorInfo(e) {\n    this._setAndNotifyLayer(\"floorInfo\", e);\n  }\n\n  readGlobalIdFieldFromService(e, r) {\n    if ((r = r.layerDefinition || r).globalIdField) return r.globalIdField;\n    if (r.fields) for (const t of r.fields) if (\"esriFieldTypeGlobalID\" === t.type) return t.name;\n  }\n\n  get id() {\n    const e = this._get(\"id\");\n\n    return e ?? W++;\n  }\n\n  set id(e) {\n    this._get(\"id\") !== e && (!1 !== this.layer?.capabilities?.exportMap?.supportsDynamicLayers ? this._set(\"id\", e) : this._logLockedError(\"id\", \"capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'\"));\n  }\n\n  set labelingInfo(e) {\n    this._setAndNotifyLayer(\"labelingInfo\", e);\n  }\n\n  writeLabelingInfo(e, r, t, i) {\n    e && e.length && (r.layerDefinition = {\n      drawingInfo: {\n        labelingInfo: e.map(e => e.write({}, i))\n      }\n    });\n  }\n\n  set labelsVisible(e) {\n    this._setAndNotifyLayer(\"labelsVisible\", e);\n  }\n\n  set layer(e) {\n    this._set(\"layer\", e), this.sublayers && this.sublayers.forEach(r => r.layer = e);\n  }\n\n  set listMode(e) {\n    this._set(\"listMode\", e);\n  }\n\n  set minScale(e) {\n    this._setAndNotifyLayer(\"minScale\", e);\n  }\n\n  readMinScale(e, r) {\n    return r.minScale || r.layerDefinition && r.layerDefinition.minScale || 0;\n  }\n\n  set maxScale(e) {\n    this._setAndNotifyLayer(\"maxScale\", e);\n  }\n\n  readMaxScale(e, r) {\n    return r.maxScale || r.layerDefinition && r.layerDefinition.maxScale || 0;\n  }\n\n  get effectiveScaleRange() {\n    const {\n      minScale: e,\n      maxScale: r\n    } = this;\n    return {\n      minScale: e,\n      maxScale: r\n    };\n  }\n\n  readObjectIdFieldFromService(e, r) {\n    if ((r = r.layerDefinition || r).objectIdField) return r.objectIdField;\n    if (r.fields) for (const t of r.fields) if (\"esriFieldTypeOID\" === t.type) return t.name;\n  }\n\n  set opacity(e) {\n    this._setAndNotifyLayer(\"opacity\", e);\n  }\n\n  readOpacity(e, r) {\n    const t = r.layerDefinition;\n    return 1 - .01 * ((null != t?.transparency ? t.transparency : t?.drawingInfo?.transparency) ?? 0);\n  }\n\n  writeOpacity(e, r, t, i) {\n    r.layerDefinition = {\n      drawingInfo: {\n        transparency: 100 - 100 * e\n      }\n    };\n  }\n\n  writeParent(e, r) {\n    this.parent && this.parent !== this.layer ? r.parentLayerId = v(this.parent.id) : r.parentLayerId = -1;\n  }\n\n  get queryTask() {\n    if (!this.layer) return null;\n    const {\n      spatialReference: e\n    } = this.layer,\n          r = \"gdbVersion\" in this.layer ? this.layer.gdbVersion : void 0,\n          {\n      capabilities: t,\n      fieldsIndex: i\n    } = this,\n          o = has(\"featurelayer-pbf\") && t?.query.supportsFormatPBF,\n          s = t?.operations?.supportsQueryAttachments ?? !1;\n    return new x({\n      url: this.url,\n      pbfSupported: o,\n      fieldsIndex: i,\n      gdbVersion: r,\n      sourceSpatialReference: e,\n      queryAttachmentsSupported: s\n    });\n  }\n\n  set renderer(e) {\n    if (e) for (const r of e.getSymbols()) if (s(r)) {\n      u.getLogger(this.declaredClass).warn(\"Sublayer renderer should use 2D symbols\");\n      break;\n    }\n\n    this._setAndNotifyLayer(\"renderer\", e);\n  }\n\n  get source() {\n    return this._get(\"source\") || new q({\n      mapLayerId: this.id\n    });\n  }\n\n  set source(e) {\n    this._setAndNotifyLayer(\"source\", e);\n  }\n\n  set sublayers(e) {\n    this._handleSublayersChange(e, this._get(\"sublayers\")), this._set(\"sublayers\", e);\n  }\n\n  castSublayers(e) {\n    return j(a.ofType(J), e);\n  }\n\n  writeSublayers(e, r, t) {\n    this.sublayers?.length && (r[t] = this.sublayers.map(e => e.id).toArray().reverse());\n  }\n\n  readTypeIdField(e, r) {\n    let t = (r = r.layerDefinition || r).typeIdField;\n\n    if (t && r.fields) {\n      t = t.toLowerCase();\n      const e = r.fields.find(e => e.name.toLowerCase() === t);\n      e && (t = e.name);\n    }\n\n    return t;\n  }\n\n  get url() {\n    const e = this.layer?.parsedUrl ?? this._lastParsedUrl,\n          r = this.source;\n    if (!e) return null;\n    if (this._lastParsedUrl = e, \"map-layer\" === r?.type) return `${e.path}/${r.mapLayerId}`;\n    const t = {\n      layer: JSON.stringify({\n        source: this.source\n      })\n    };\n    return `${e.path}/dynamicLayer?${h(t)}`;\n  }\n\n  set url(e) {\n    this._overrideIfSome(\"url\", e);\n  }\n\n  set visible(e) {\n    this._setAndNotifyLayer(\"visible\", e);\n  }\n\n  writeVisible(e, r, t, i) {\n    r[t] = this.getAtOrigin(\"defaultVisibility\", \"service\") || e;\n  }\n\n  clone() {\n    const {\n      store: e\n    } = P(this),\n          r = new J();\n    return P(r).store = e.clone(X), this.commitProperty(\"url\"), r._lastParsedUrl = this._lastParsedUrl, r;\n  }\n\n  createPopupTemplate(e) {\n    return R(this, e);\n  }\n\n  createQuery() {\n    return new k({\n      returnGeometry: !0,\n      where: this.definitionExpression || \"1=1\"\n    });\n  }\n\n  createFeatureLayer() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this2.hasOwnProperty(\"sublayers\")) return null;\n      const {\n        layer: e\n      } = _this2,\n            r = e?.parsedUrl,\n            t = new (0, (yield import(\"../FeatureLayer.js\")).default)({\n        url: r?.path\n      });\n      return r && _this2.source && (\"map-layer\" === _this2.source.type ? t.layerId = _this2.source.mapLayerId : t.dynamicDataSource = _this2.source), null != e?.refreshInterval && (t.refreshInterval = e.refreshInterval), _this2.definitionExpression && (t.definitionExpression = _this2.definitionExpression), _this2.floorInfo && (t.floorInfo = y(_this2.floorInfo)), _this2.originIdOf(\"labelingInfo\") > E.SERVICE && (t.labelingInfo = y(_this2.labelingInfo)), _this2.originIdOf(\"labelsVisible\") > E.DEFAULTS && (t.labelsVisible = _this2.labelsVisible), _this2.originIdOf(\"legendEnabled\") > E.DEFAULTS && (t.legendEnabled = _this2.legendEnabled), _this2.originIdOf(\"visible\") > E.DEFAULTS && (t.visible = _this2.visible), _this2.originIdOf(\"minScale\") > E.DEFAULTS && (t.minScale = _this2.minScale), _this2.originIdOf(\"maxScale\") > E.DEFAULTS && (t.maxScale = _this2.maxScale), _this2.originIdOf(\"opacity\") > E.DEFAULTS && (t.opacity = _this2.opacity), _this2.originIdOf(\"popupTemplate\") > E.DEFAULTS && (t.popupTemplate = y(_this2.popupTemplate)), _this2.originIdOf(\"renderer\") > E.SERVICE && (t.renderer = y(_this2.renderer)), \"data-layer\" === _this2.source?.type && (t.dynamicDataSource = _this2.source.clone()), _this2.originIdOf(\"title\") > E.DEFAULTS && (t.title = _this2.title), \"map-image\" === e?.type && e.originIdOf(\"customParameters\") > E.DEFAULTS && (t.customParameters = e.customParameters), \"tile\" === e?.type && e.originIdOf(\"customParameters\") > E.DEFAULTS && (t.customParameters = e.customParameters), t;\n    })();\n  }\n\n  getField(e) {\n    return this.fieldsIndex.get(e);\n  }\n\n  getFeatureType(e) {\n    const {\n      typeIdField: r,\n      types: t\n    } = this;\n    if (!r || !e) return null;\n    const i = e.attributes ? e.attributes[r] : void 0;\n    if (null == i) return null;\n    let o = null;\n    return t?.some(e => {\n      const {\n        id: r\n      } = e;\n      return null != r && (r.toString() === i.toString() && (o = e), !!o);\n    }), o;\n  }\n\n  getFieldDomain(e, r) {\n    const t = r && r.feature,\n          i = this.getFeatureType(t);\n\n    if (i) {\n      const r = i.domains && i.domains[e];\n      if (r && \"inherited\" !== r.type) return r;\n    }\n\n    return this._getLayerDomain(e);\n  }\n\n  queryAttachments(e, r) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3.load(), e = U.from(e);\n      const t = _this3.capabilities;\n      if (!t?.data?.supportsAttachment) throw new l(\"queryAttachments:not-supported\", \"this layer doesn't support attachments\");\n      const {\n        attachmentTypes: i,\n        objectIds: o,\n        globalIds: s,\n        num: a,\n        size: n,\n        start: p,\n        where: y\n      } = e;\n\n      if (!t?.operations?.supportsQueryAttachments) {\n        if (i?.length > 0 || s?.length > 0 || n?.length > 0 || a || p || y) throw new l(\"queryAttachments:option-not-supported\", \"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported\", e);\n      }\n\n      if (!(o?.length || s?.length || y)) throw new l(\"queryAttachments:invalid-query\", \"'objectIds', 'globalIds', or 'where' are required to perform attachment query\", e);\n      return _this3.queryTask.executeAttachmentQuery(e, r);\n    })();\n  }\n\n  queryFeatures(e = this.createQuery(), r) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      if (yield _this4.load(), !_this4.capabilities.operations.supportsQuery) throw new l(\"queryFeatures:not-supported\", \"this layer doesn't support queries.\");\n      if (!_this4.url) throw new l(\"queryFeatures:not-supported\", \"this layer has no url.\");\n      const t = yield _this4.queryTask.execute(e, { ...r,\n        query: { ..._this4.layer?.customParameters,\n          token: _this4.layer?.apiKey\n        }\n      });\n      if (t?.features) for (const i of t.features) i.sourceLayer = _this4;\n      return t;\n    })();\n  }\n\n  toExportImageJSON(e) {\n    const r = {\n      id: this.id,\n      source: this.source?.toJSON() || {\n        mapLayerId: this.id,\n        type: \"mapLayer\"\n      }\n    },\n          t = m(e, this.definitionExpression);\n    c(t) && (r.definitionExpression = t);\n    const i = [\"renderer\", \"labelingInfo\", \"opacity\", \"labelsVisible\"].reduce((e, r) => (e[r] = this.originIdOf(r), e), {}),\n          o = Object.keys(i).some(e => i[e] > E.SERVICE);\n\n    if (o) {\n      const e = r.drawingInfo = {};\n\n      if (i.renderer > E.SERVICE && (e.renderer = this.renderer ? this.renderer.toJSON() : null), i.labelsVisible > E.SERVICE && (e.showLabels = this.labelsVisible), this.labelsVisible && i.labelingInfo > E.SERVICE) {\n        !this.loaded && this.labelingInfo.some(e => !e.labelPlacement) && u.getLogger(this.declaredClass).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`, {\n          sublayer: this\n        });\n        let r = this.labelingInfo;\n        c(this.geometryType) && (r = V(this.labelingInfo, B.toJSON(this.geometryType))), e.labelingInfo = r.filter(e => e.labelPlacement).map(e => e.toJSON({\n          origin: \"service\",\n          layer: this.layer\n        })), e.showLabels = !0;\n      }\n\n      i.opacity > E.SERVICE && (e.transparency = 100 - 100 * this.opacity), this._assignDefaultSymbolColors(e.renderer);\n    }\n\n    return r;\n  }\n\n  _assignDefaultSymbolColors(e) {\n    this._forEachSimpleMarkerSymbols(e, e => {\n      e.color || \"esriSMSX\" !== e.style && \"esriSMSCross\" !== e.style || (e.outline && e.outline.color ? e.color = e.outline.color : e.color = [0, 0, 0, 0]);\n    });\n  }\n\n  _forEachSimpleMarkerSymbols(e, r) {\n    if (e) {\n      const t = (\"uniqueValueInfos\" in e ? e.uniqueValueInfos : \"classBreakInfos\" in e ? e.classBreakInfos : null) ?? [];\n\n      for (const e of t) $(e.symbol) && r(e.symbol);\n\n      \"symbol\" in e && $(e.symbol) && r(e.symbol), \"defaultSymbol\" in e && $(e.defaultSymbol) && r(e.defaultSymbol);\n    }\n  }\n\n  _setAndNotifyLayer(e, r) {\n    const t = this.layer,\n          i = this._get(e);\n\n    let o, s;\n\n    switch (e) {\n      case \"definitionExpression\":\n      case \"floorInfo\":\n        o = \"supportsSublayerDefinitionExpression\";\n        break;\n\n      case \"minScale\":\n      case \"maxScale\":\n      case \"visible\":\n        o = \"supportsSublayerVisibility\";\n        break;\n\n      case \"labelingInfo\":\n      case \"labelsVisible\":\n      case \"opacity\":\n      case \"renderer\":\n      case \"source\":\n        o = \"supportsDynamicLayers\", s = \"supportsModification\";\n    }\n\n    const a = P(this).getDefaultOrigin();\n\n    if (\"service\" !== a) {\n      if (o && !1 === this.layer?.capabilities?.exportMap?.[o]) return void this._logLockedError(e, `capability not available 'layer.capabilities.exportMap.${o}'`);\n      if (s && !1 === this.capabilities?.exportMap[s]) return void this._logLockedError(e, `capability not available 'capabilities.exportMap.${s}'`);\n    }\n\n    \"source\" !== e || \"not-loaded\" === this.loadStatus ? (this._set(e, r), \"service\" !== a && i !== r && t && t.emit && t.emit(\"sublayer-update\", {\n      propertyName: e,\n      target: this\n    })) : this._logLockedError(e, \"'source' can't be changed after calling sublayer.load()\");\n  }\n\n  _handleSublayersChange(e, r) {\n    r && (r.forEach(e => {\n      e.parent = null, e.layer = null;\n    }), this.handles.removeAll()), e && (e.forEach(e => {\n      e.parent = this, e.layer = this.layer;\n    }), this.handles.add([e.on(\"after-add\", ({\n      item: e\n    }) => {\n      e.parent = this, e.layer = this.layer;\n    }), e.on(\"after-remove\", ({\n      item: e\n    }) => {\n      e.parent = null, e.layer = null;\n    }), e.on(\"before-changes\", e => {\n      const r = this.layer?.capabilities?.exportMap?.supportsSublayersChanges;\n      null == r || r || (u.getLogger(this.declaredClass).error(new l(\"sublayer:sublayers-non-modifiable\", \"Sublayer can't be added, moved, or removed from the layer's sublayers\", {\n        sublayer: this,\n        layer: this.layer\n      })), e.preventDefault());\n    })]));\n  }\n\n  _logLockedError(e, r) {\n    const {\n      layer: t,\n      declaredClass: i\n    } = this;\n    u.getLogger(i).error(new l(\"sublayer:locked\", `Property '${String(e)}' can't be changed on Sublayer from the layer '${t?.id}'`, {\n      reason: r,\n      sublayer: this,\n      layer: t\n    }));\n  }\n\n  _getLayerDomain(e) {\n    const r = this.fieldsIndex.get(e);\n    return r ? r.domain : null;\n  }\n\n};\nY.test = {\n  isMapImageLayerOverridePolicy: e => e === z || e === G,\n  isTileImageLayerOverridePolicy: e => e === H\n}, e([b({\n  readOnly: !0\n})], Y.prototype, \"capabilities\", void 0), e([S(\"service\", \"capabilities\", [\"layerDefinition.canModifyLayer\", \"layerDefinition.capabilities\"])], Y.prototype, \"readCapabilities\", null), e([b()], Y.prototype, \"defaultPopupTemplate\", null), e([b({\n  type: String,\n  value: null,\n  json: {\n    name: \"layerDefinition.definitionExpression\",\n    write: {\n      allowNull: !0,\n      overridePolicy: G\n    }\n  }\n})], Y.prototype, \"definitionExpression\", null), e([b({\n  type: [T],\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.fields\"\n        }\n      }\n    }\n  }\n})], Y.prototype, \"fields\", void 0), e([b({\n  readOnly: !0\n})], Y.prototype, \"fieldsIndex\", null), e([b({\n  type: N,\n  value: null,\n  json: {\n    name: \"layerDefinition.floorInfo\",\n    read: {\n      source: \"layerDefinition.floorInfo\"\n    },\n    write: {\n      target: \"layerDefinition.floorInfo\",\n      overridePolicy: G\n    },\n    origins: {\n      \"web-scene\": {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], Y.prototype, \"floorInfo\", null), e([b({\n  type: Q,\n  json: {\n    read: {\n      source: \"layerDefinition.extent\"\n    }\n  }\n})], Y.prototype, \"fullExtent\", void 0), e([b({\n  type: B.apiValues,\n  json: {\n    origins: {\n      service: {\n        name: \"layerDefinition.geometryType\",\n        read: {\n          reader: B.read\n        }\n      }\n    }\n  }\n})], Y.prototype, \"geometryType\", void 0), e([b({\n  type: String\n})], Y.prototype, \"globalIdField\", void 0), e([S(\"service\", \"globalIdField\", [\"layerDefinition.globalIdField\", \"layerDefinition.fields\"])], Y.prototype, \"readGlobalIdFieldFromService\", null), e([b({\n  type: L,\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], Y.prototype, \"id\", null), e([b({\n  value: null,\n  type: [A],\n  json: {\n    read: {\n      source: \"layerDefinition.drawingInfo.labelingInfo\"\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.labelingInfo\",\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"labelingInfo\", null), e([w(\"labelingInfo\")], Y.prototype, \"writeLabelingInfo\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"layerDefinition.drawingInfo.showLabels\"\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.showLabels\",\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"labelsVisible\", null), e([b({\n  value: null\n})], Y.prototype, \"layer\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    origins: {\n      service: {\n        read: {\n          enabled: !1\n        }\n      }\n    },\n    read: {\n      source: \"showLegend\"\n    },\n    write: {\n      target: \"showLegend\",\n      overridePolicy: K\n    }\n  }\n})], Y.prototype, \"legendEnabled\", void 0), e([b({\n  type: [\"show\", \"hide\", \"hide-children\"],\n  value: \"show\",\n  json: {\n    read: !1,\n    write: !1,\n    origins: {\n      \"web-scene\": {\n        read: !0,\n        write: !0\n      }\n    }\n  }\n})], Y.prototype, \"listMode\", null), e([b({\n  type: Number,\n  value: 0,\n  json: {\n    write: {\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"minScale\", null), e([S(\"minScale\", [\"minScale\", \"layerDefinition.minScale\"])], Y.prototype, \"readMinScale\", null), e([b({\n  type: Number,\n  value: 0,\n  json: {\n    write: {\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"maxScale\", null), e([S(\"maxScale\", [\"maxScale\", \"layerDefinition.maxScale\"])], Y.prototype, \"readMaxScale\", null), e([b({\n  readOnly: !0\n})], Y.prototype, \"effectiveScaleRange\", null), e([b({\n  type: String\n})], Y.prototype, \"objectIdField\", void 0), e([S(\"service\", \"objectIdField\", [\"layerDefinition.objectIdField\", \"layerDefinition.fields\"])], Y.prototype, \"readObjectIdFieldFromService\", null), e([b({\n  type: Number,\n  value: 1,\n  json: {\n    write: {\n      target: \"layerDefinition.drawingInfo.transparency\",\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"opacity\", null), e([S(\"opacity\", [\"layerDefinition.drawingInfo.transparency\", \"layerDefinition.transparency\"])], Y.prototype, \"readOpacity\", null), e([w(\"opacity\")], Y.prototype, \"writeOpacity\", null), e([b({\n  json: {\n    type: L,\n    write: {\n      target: \"parentLayerId\",\n      writerEnsuresNonNull: !0,\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"parent\", void 0), e([w(\"parent\")], Y.prototype, \"writeParent\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"disablePopup\",\n      reader: (e, r) => !r.disablePopup\n    },\n    write: {\n      target: \"disablePopup\",\n      overridePolicy: K,\n\n      writer(e, r, t) {\n        r[t] = !e;\n      }\n\n    }\n  }\n})], Y.prototype, \"popupEnabled\", void 0), e([b({\n  type: r,\n  json: {\n    read: {\n      source: \"popupInfo\"\n    },\n    write: {\n      target: \"popupInfo\",\n      overridePolicy: K\n    }\n  }\n})], Y.prototype, \"popupTemplate\", void 0), e([b({\n  readOnly: !0\n})], Y.prototype, \"queryTask\", null), e([b({\n  types: t,\n  value: null,\n  json: {\n    name: \"layerDefinition.drawingInfo.renderer\",\n    write: {\n      overridePolicy: z\n    },\n    origins: {\n      \"web-scene\": {\n        types: i,\n        name: \"layerDefinition.drawingInfo.renderer\",\n        write: {\n          overridePolicy: z\n        }\n      }\n    }\n  }\n})], Y.prototype, \"renderer\", null), e([b({\n  types: {\n    key: \"type\",\n    base: null,\n    typeMap: {\n      \"data-layer\": C,\n      \"map-layer\": q\n    }\n  },\n\n  cast(e) {\n    if (e) {\n      if (\"mapLayerId\" in e) return D(q, e);\n      if (\"dataSource\" in e) return D(C, e);\n    }\n\n    return e;\n  },\n\n  json: {\n    name: \"layerDefinition.source\",\n    write: {\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"source\", null), e([b()], Y.prototype, \"sourceJSON\", void 0), e([b({\n  value: null,\n  json: {\n    type: [L],\n    write: {\n      target: \"subLayerIds\",\n      allowNull: !0,\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"sublayers\", null), e([g(\"sublayers\")], Y.prototype, \"castSublayers\", null), e([w(\"sublayers\")], Y.prototype, \"writeSublayers\", null), e([b({\n  type: String,\n  json: {\n    name: \"name\",\n    write: {\n      overridePolicy: K\n    }\n  }\n})], Y.prototype, \"title\", void 0), e([b({\n  type: String\n})], Y.prototype, \"typeIdField\", void 0), e([S(\"typeIdField\", [\"layerDefinition.typeIdField\"])], Y.prototype, \"readTypeIdField\", null), e([b({\n  type: [O],\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.types\"\n        }\n      }\n    }\n  }\n})], Y.prototype, \"types\", void 0), e([b({\n  type: String,\n  json: {\n    read: {\n      source: \"layerUrl\"\n    },\n    write: {\n      target: \"layerUrl\",\n      overridePolicy: H\n    }\n  }\n})], Y.prototype, \"url\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"defaultVisibility\"\n    },\n    write: {\n      target: \"defaultVisibility\",\n      overridePolicy: z\n    }\n  }\n})], Y.prototype, \"visible\", null), e([w(\"visible\")], Y.prototype, \"writeVisible\", null), Y = J = e([I(\"esri.layers.support.Sublayer\")], Y);\nconst Z = Y;\nexport { Z as default };","map":{"version":3,"names":["_","e","r","rendererTypes","t","webSceneRendererTypes","i","o","isSymbol3D","s","a","l","HandleOwnerMixin","n","has","IdentifiableMixin","p","clone","y","d","u","isSome","c","MultiOriginJSONMixin","f","sqlAnd","m","objectToQuery","h","property","b","cast","g","reader","S","subclass","I","writer","w","ensureInteger","v","ensureType","j","Integer","L","ensureClass","D","OriginId","E","nameToId","F","getProperties","P","x","O","T","A","validateLabelingInfo","V","N","getFeatureLayerCapabilities","M","DataLayerSource","C","MapLayerSource","q","U","k","createPopupTemplate","R","Q","featureGeometryTypeKebabDictionary","B","J","$","type","G","originIdOf","origin","ignoreOrigin","allowNull","enabled","layer","writeSublayerStructure","H","_isOverridden","z","K","W","X","Set","add","Y","constructor","capabilities","fields","fullExtent","geometryType","globalIdField","legendEnabled","objectIdField","popupEnabled","popupTemplate","sourceJSON","title","typeIdField","types","_lastParsedUrl","load","addResolvingPromise","source","url","sublayer","SERVICE","responseType","query","data","id","mapLayerId","fetchSublayerInfo","read","layerDefinition","readCapabilities","operations","supportsQuery","supportsQueryAttachments","supportsFormatPBF","supportsAttachment","exportMap","supportsModification","canModifyLayer","defaultPopupTemplate","definitionExpression","_setAndNotifyLayer","fieldsIndex","floorInfo","readGlobalIdFieldFromService","name","_get","supportsDynamicLayers","_set","_logLockedError","labelingInfo","writeLabelingInfo","length","drawingInfo","map","write","labelsVisible","sublayers","forEach","listMode","minScale","readMinScale","maxScale","readMaxScale","effectiveScaleRange","readObjectIdFieldFromService","opacity","readOpacity","transparency","writeOpacity","writeParent","parent","parentLayerId","queryTask","spatialReference","gdbVersion","pbfSupported","sourceSpatialReference","queryAttachmentsSupported","renderer","getSymbols","getLogger","declaredClass","warn","_handleSublayersChange","castSublayers","ofType","writeSublayers","toArray","reverse","readTypeIdField","toLowerCase","find","parsedUrl","path","JSON","stringify","_overrideIfSome","visible","writeVisible","getAtOrigin","store","commitProperty","createQuery","returnGeometry","where","createFeatureLayer","hasOwnProperty","default","layerId","dynamicDataSource","refreshInterval","DEFAULTS","customParameters","getField","get","getFeatureType","attributes","some","toString","getFieldDomain","feature","domains","_getLayerDomain","queryAttachments","from","attachmentTypes","objectIds","globalIds","num","size","start","executeAttachmentQuery","queryFeatures","execute","token","apiKey","features","sourceLayer","toExportImageJSON","toJSON","reduce","Object","keys","showLabels","loaded","labelPlacement","warnOnce","filter","_assignDefaultSymbolColors","_forEachSimpleMarkerSymbols","color","style","outline","uniqueValueInfos","classBreakInfos","symbol","defaultSymbol","getDefaultOrigin","loadStatus","emit","propertyName","target","handles","removeAll","on","item","supportsSublayersChanges","error","preventDefault","String","reason","domain","test","isMapImageLayerOverridePolicy","isTileImageLayerOverridePolicy","readOnly","prototype","value","json","overridePolicy","origins","service","apiValues","Boolean","Number","writerEnsuresNonNull","disablePopup","key","base","typeMap","Z"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/Sublayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{rendererTypes as t,webSceneRendererTypes as i}from\"../../renderers/support/types.js\";import o from\"../../request.js\";import{isSymbol3D as s}from\"../../symbols.js\";import a from\"../../core/Collection.js\";import l from\"../../core/Error.js\";import{HandleOwnerMixin as n}from\"../../core/HandleOwner.js\";import has from\"../../core/has.js\";import{IdentifiableMixin as p}from\"../../core/Identifiable.js\";import{clone as y}from\"../../core/lang.js\";import d from\"../../core/Loadable.js\";import u from\"../../core/Logger.js\";import{isSome as c}from\"../../core/maybe.js\";import{MultiOriginJSONMixin as f}from\"../../core/MultiOriginJSONSupport.js\";import{sqlAnd as m}from\"../../core/sql.js\";import{objectToQuery as h}from\"../../core/urlUtils.js\";import{property as b}from\"../../core/accessorSupport/decorators/property.js\";import{cast as g}from\"../../core/accessorSupport/decorators/cast.js\";import{reader as S}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as I}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as w}from\"../../core/accessorSupport/decorators/writer.js\";import{ensureInteger as v,ensureType as j,Integer as L,ensureClass as D}from\"../../core/accessorSupport/ensureType.js\";import{OriginId as E,nameToId as F}from\"../../core/accessorSupport/PropertyOrigin.js\";import{getProperties as P}from\"../../core/accessorSupport/utils.js\";import x from\"../graphics/sources/support/QueryTask.js\";import O from\"./FeatureType.js\";import T from\"./Field.js\";import _ from\"./FieldsIndex.js\";import A from\"./LabelClass.js\";import{validateLabelingInfo as V}from\"./labelingInfo.js\";import N from\"./LayerFloorInfo.js\";import{getFeatureLayerCapabilities as M}from\"./serviceCapabilitiesUtils.js\";import{DataLayerSource as C}from\"./source/DataLayerSource.js\";import{MapLayerSource as q}from\"./source/MapLayerSource.js\";import U from\"../../rest/support/AttachmentQuery.js\";import k from\"../../rest/support/Query.js\";import{createPopupTemplate as R}from\"../../support/popupUtils.js\";import Q from\"../../geometry/Extent.js\";import{featureGeometryTypeKebabDictionary as B}from\"../../geometry/support/typeUtils.js\";var J;function $(e){return null!=e&&\"esriSMS\"===e.type}function G(e,r,t){const i=this.originIdOf(r)>=F(t.origin);return{ignoreOrigin:!0,allowNull:i,enabled:!!t&&(\"map-image\"===t.layer?.type&&(t.writeSublayerStructure||i))}}function H(e,r,t){return{enabled:!!t&&(\"tile\"===t.layer?.type&&this._isOverridden(r))}}function z(e,r,t){return{ignoreOrigin:!0,enabled:t&&t.writeSublayerStructure||!1}}function K(e,r,t){return{ignoreOrigin:!0,enabled:!!t&&(t.writeSublayerStructure||this.originIdOf(r)>=F(t.origin))}}let W=0;const X=new Set;X.add(\"layer\"),X.add(\"parent\"),X.add(\"loaded\"),X.add(\"loadStatus\"),X.add(\"loadError\"),X.add(\"loadWarnings\");let Y=J=class extends(n(f(p(d)))){constructor(e){super(e),this.capabilities=void 0,this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.types=null,this._lastParsedUrl=null}async load(e){return this.addResolvingPromise((async()=>{const{layer:r,source:t,url:i}=this;if(!r&&!i)throw new l(\"sublayer:missing-layer\",\"Sublayer can't be loaded without being part of a layer\",{sublayer:this});let s=null;if(!r||this.originIdOf(\"url\")>E.SERVICE||\"data-layer\"===t?.type){s=(await o(i,{responseType:\"json\",query:{f:\"json\"},...e})).data}else{let i=this.id;\"map-layer\"===t?.type&&(i=t.mapLayerId),s=await r.fetchSublayerInfo(i,e)}s&&(this.sourceJSON=s,this.read({layerDefinition:s},{origin:\"service\"}))})()),this}readCapabilities(e,r){r=r.layerDefinition||r;const{operations:{supportsQuery:t,supportsQueryAttachments:i},query:{supportsFormatPBF:o},data:{supportsAttachment:s}}=M(r,this.url);return{exportMap:{supportsModification:!!r.canModifyLayer},operations:{supportsQuery:t,supportsQueryAttachments:i},data:{supportsAttachment:s},query:{supportsFormatPBF:o}}}get defaultPopupTemplate(){return this.createPopupTemplate()}set definitionExpression(e){this._setAndNotifyLayer(\"definitionExpression\",e)}get fieldsIndex(){return new _(this.fields||[])}set floorInfo(e){this._setAndNotifyLayer(\"floorInfo\",e)}readGlobalIdFieldFromService(e,r){if((r=r.layerDefinition||r).globalIdField)return r.globalIdField;if(r.fields)for(const t of r.fields)if(\"esriFieldTypeGlobalID\"===t.type)return t.name}get id(){const e=this._get(\"id\");return e??W++}set id(e){this._get(\"id\")!==e&&(!1!==this.layer?.capabilities?.exportMap?.supportsDynamicLayers?this._set(\"id\",e):this._logLockedError(\"id\",\"capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'\"))}set labelingInfo(e){this._setAndNotifyLayer(\"labelingInfo\",e)}writeLabelingInfo(e,r,t,i){e&&e.length&&(r.layerDefinition={drawingInfo:{labelingInfo:e.map((e=>e.write({},i)))}})}set labelsVisible(e){this._setAndNotifyLayer(\"labelsVisible\",e)}set layer(e){this._set(\"layer\",e),this.sublayers&&this.sublayers.forEach((r=>r.layer=e))}set listMode(e){this._set(\"listMode\",e)}set minScale(e){this._setAndNotifyLayer(\"minScale\",e)}readMinScale(e,r){return r.minScale||r.layerDefinition&&r.layerDefinition.minScale||0}set maxScale(e){this._setAndNotifyLayer(\"maxScale\",e)}readMaxScale(e,r){return r.maxScale||r.layerDefinition&&r.layerDefinition.maxScale||0}get effectiveScaleRange(){const{minScale:e,maxScale:r}=this;return{minScale:e,maxScale:r}}readObjectIdFieldFromService(e,r){if((r=r.layerDefinition||r).objectIdField)return r.objectIdField;if(r.fields)for(const t of r.fields)if(\"esriFieldTypeOID\"===t.type)return t.name}set opacity(e){this._setAndNotifyLayer(\"opacity\",e)}readOpacity(e,r){const t=r.layerDefinition;return 1-.01*((null!=t?.transparency?t.transparency:t?.drawingInfo?.transparency)??0)}writeOpacity(e,r,t,i){r.layerDefinition={drawingInfo:{transparency:100-100*e}}}writeParent(e,r){this.parent&&this.parent!==this.layer?r.parentLayerId=v(this.parent.id):r.parentLayerId=-1}get queryTask(){if(!this.layer)return null;const{spatialReference:e}=this.layer,r=\"gdbVersion\"in this.layer?this.layer.gdbVersion:void 0,{capabilities:t,fieldsIndex:i}=this,o=has(\"featurelayer-pbf\")&&t?.query.supportsFormatPBF,s=t?.operations?.supportsQueryAttachments??!1;return new x({url:this.url,pbfSupported:o,fieldsIndex:i,gdbVersion:r,sourceSpatialReference:e,queryAttachmentsSupported:s})}set renderer(e){if(e)for(const r of e.getSymbols())if(s(r)){u.getLogger(this.declaredClass).warn(\"Sublayer renderer should use 2D symbols\");break}this._setAndNotifyLayer(\"renderer\",e)}get source(){return this._get(\"source\")||new q({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer(\"source\",e)}set sublayers(e){this._handleSublayersChange(e,this._get(\"sublayers\")),this._set(\"sublayers\",e)}castSublayers(e){return j(a.ofType(J),e)}writeSublayers(e,r,t){this.sublayers?.length&&(r[t]=this.sublayers.map((e=>e.id)).toArray().reverse())}readTypeIdField(e,r){let t=(r=r.layerDefinition||r).typeIdField;if(t&&r.fields){t=t.toLowerCase();const e=r.fields.find((e=>e.name.toLowerCase()===t));e&&(t=e.name)}return t}get url(){const e=this.layer?.parsedUrl??this._lastParsedUrl,r=this.source;if(!e)return null;if(this._lastParsedUrl=e,\"map-layer\"===r?.type)return`${e.path}/${r.mapLayerId}`;const t={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${h(t)}`}set url(e){this._overrideIfSome(\"url\",e)}set visible(e){this._setAndNotifyLayer(\"visible\",e)}writeVisible(e,r,t,i){r[t]=this.getAtOrigin(\"defaultVisibility\",\"service\")||e}clone(){const{store:e}=P(this),r=new J;return P(r).store=e.clone(X),this.commitProperty(\"url\"),r._lastParsedUrl=this._lastParsedUrl,r}createPopupTemplate(e){return R(this,e)}createQuery(){return new k({returnGeometry:!0,where:this.definitionExpression||\"1=1\"})}async createFeatureLayer(){if(this.hasOwnProperty(\"sublayers\"))return null;const{layer:e}=this,r=e?.parsedUrl,t=new(0,(await import(\"../FeatureLayer.js\")).default)({url:r?.path});return r&&this.source&&(\"map-layer\"===this.source.type?t.layerId=this.source.mapLayerId:t.dynamicDataSource=this.source),null!=e?.refreshInterval&&(t.refreshInterval=e.refreshInterval),this.definitionExpression&&(t.definitionExpression=this.definitionExpression),this.floorInfo&&(t.floorInfo=y(this.floorInfo)),this.originIdOf(\"labelingInfo\")>E.SERVICE&&(t.labelingInfo=y(this.labelingInfo)),this.originIdOf(\"labelsVisible\")>E.DEFAULTS&&(t.labelsVisible=this.labelsVisible),this.originIdOf(\"legendEnabled\")>E.DEFAULTS&&(t.legendEnabled=this.legendEnabled),this.originIdOf(\"visible\")>E.DEFAULTS&&(t.visible=this.visible),this.originIdOf(\"minScale\")>E.DEFAULTS&&(t.minScale=this.minScale),this.originIdOf(\"maxScale\")>E.DEFAULTS&&(t.maxScale=this.maxScale),this.originIdOf(\"opacity\")>E.DEFAULTS&&(t.opacity=this.opacity),this.originIdOf(\"popupTemplate\")>E.DEFAULTS&&(t.popupTemplate=y(this.popupTemplate)),this.originIdOf(\"renderer\")>E.SERVICE&&(t.renderer=y(this.renderer)),\"data-layer\"===this.source?.type&&(t.dynamicDataSource=this.source.clone()),this.originIdOf(\"title\")>E.DEFAULTS&&(t.title=this.title),\"map-image\"===e?.type&&e.originIdOf(\"customParameters\")>E.DEFAULTS&&(t.customParameters=e.customParameters),\"tile\"===e?.type&&e.originIdOf(\"customParameters\")>E.DEFAULTS&&(t.customParameters=e.customParameters),t}getField(e){return this.fieldsIndex.get(e)}getFeatureType(e){const{typeIdField:r,types:t}=this;if(!r||!e)return null;const i=e.attributes?e.attributes[r]:void 0;if(null==i)return null;let o=null;return t?.some((e=>{const{id:r}=e;return null!=r&&(r.toString()===i.toString()&&(o=e),!!o)})),o}getFieldDomain(e,r){const t=r&&r.feature,i=this.getFeatureType(t);if(i){const r=i.domains&&i.domains[e];if(r&&\"inherited\"!==r.type)return r}return this._getLayerDomain(e)}async queryAttachments(e,r){await this.load(),e=U.from(e);const t=this.capabilities;if(!t?.data?.supportsAttachment)throw new l(\"queryAttachments:not-supported\",\"this layer doesn't support attachments\");const{attachmentTypes:i,objectIds:o,globalIds:s,num:a,size:n,start:p,where:y}=e;if(!t?.operations?.supportsQueryAttachments){if(i?.length>0||s?.length>0||n?.length>0||a||p||y)throw new l(\"queryAttachments:option-not-supported\",\"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported\",e)}if(!(o?.length||s?.length||y))throw new l(\"queryAttachments:invalid-query\",\"'objectIds', 'globalIds', or 'where' are required to perform attachment query\",e);return this.queryTask.executeAttachmentQuery(e,r)}async queryFeatures(e=this.createQuery(),r){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new l(\"queryFeatures:not-supported\",\"this layer doesn't support queries.\");if(!this.url)throw new l(\"queryFeatures:not-supported\",\"this layer has no url.\");const t=await this.queryTask.execute(e,{...r,query:{...this.layer?.customParameters,token:this.layer?.apiKey}});if(t?.features)for(const i of t.features)i.sourceLayer=this;return t}toExportImageJSON(e){const r={id:this.id,source:this.source?.toJSON()||{mapLayerId:this.id,type:\"mapLayer\"}},t=m(e,this.definitionExpression);c(t)&&(r.definitionExpression=t);const i=[\"renderer\",\"labelingInfo\",\"opacity\",\"labelsVisible\"].reduce(((e,r)=>(e[r]=this.originIdOf(r),e)),{}),o=Object.keys(i).some((e=>i[e]>E.SERVICE));if(o){const e=r.drawingInfo={};if(i.renderer>E.SERVICE&&(e.renderer=this.renderer?this.renderer.toJSON():null),i.labelsVisible>E.SERVICE&&(e.showLabels=this.labelsVisible),this.labelsVisible&&i.labelingInfo>E.SERVICE){!this.loaded&&this.labelingInfo.some((e=>!e.labelPlacement))&&u.getLogger(this.declaredClass).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`,{sublayer:this});let r=this.labelingInfo;c(this.geometryType)&&(r=V(this.labelingInfo,B.toJSON(this.geometryType))),e.labelingInfo=r.filter((e=>e.labelPlacement)).map((e=>e.toJSON({origin:\"service\",layer:this.layer}))),e.showLabels=!0}i.opacity>E.SERVICE&&(e.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(e.renderer)}return r}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,(e=>{e.color||\"esriSMSX\"!==e.style&&\"esriSMSCross\"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(e,r){if(e){const t=(\"uniqueValueInfos\"in e?e.uniqueValueInfos:\"classBreakInfos\"in e?e.classBreakInfos:null)??[];for(const e of t)$(e.symbol)&&r(e.symbol);\"symbol\"in e&&$(e.symbol)&&r(e.symbol),\"defaultSymbol\"in e&&$(e.defaultSymbol)&&r(e.defaultSymbol)}}_setAndNotifyLayer(e,r){const t=this.layer,i=this._get(e);let o,s;switch(e){case\"definitionExpression\":case\"floorInfo\":o=\"supportsSublayerDefinitionExpression\";break;case\"minScale\":case\"maxScale\":case\"visible\":o=\"supportsSublayerVisibility\";break;case\"labelingInfo\":case\"labelsVisible\":case\"opacity\":case\"renderer\":case\"source\":o=\"supportsDynamicLayers\",s=\"supportsModification\"}const a=P(this).getDefaultOrigin();if(\"service\"!==a){if(o&&!1===this.layer?.capabilities?.exportMap?.[o])return void this._logLockedError(e,`capability not available 'layer.capabilities.exportMap.${o}'`);if(s&&!1===this.capabilities?.exportMap[s])return void this._logLockedError(e,`capability not available 'capabilities.exportMap.${s}'`)}\"source\"!==e||\"not-loaded\"===this.loadStatus?(this._set(e,r),\"service\"!==a&&i!==r&&t&&t.emit&&t.emit(\"sublayer-update\",{propertyName:e,target:this})):this._logLockedError(e,\"'source' can't be changed after calling sublayer.load()\")}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this.handles.add([e.on(\"after-add\",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on(\"after-remove\",(({item:e})=>{e.parent=null,e.layer=null})),e.on(\"before-changes\",(e=>{const r=this.layer?.capabilities?.exportMap?.supportsSublayersChanges;null==r||r||(u.getLogger(this.declaredClass).error(new l(\"sublayer:sublayers-non-modifiable\",\"Sublayer can't be added, moved, or removed from the layer's sublayers\",{sublayer:this,layer:this.layer})),e.preventDefault())}))]))}_logLockedError(e,r){const{layer:t,declaredClass:i}=this;u.getLogger(i).error(new l(\"sublayer:locked\",`Property '${String(e)}' can't be changed on Sublayer from the layer '${t?.id}'`,{reason:r,sublayer:this,layer:t}))}_getLayerDomain(e){const r=this.fieldsIndex.get(e);return r?r.domain:null}};Y.test={isMapImageLayerOverridePolicy:e=>e===z||e===G,isTileImageLayerOverridePolicy:e=>e===H},e([b({readOnly:!0})],Y.prototype,\"capabilities\",void 0),e([S(\"service\",\"capabilities\",[\"layerDefinition.canModifyLayer\",\"layerDefinition.capabilities\"])],Y.prototype,\"readCapabilities\",null),e([b()],Y.prototype,\"defaultPopupTemplate\",null),e([b({type:String,value:null,json:{name:\"layerDefinition.definitionExpression\",write:{allowNull:!0,overridePolicy:G}}})],Y.prototype,\"definitionExpression\",null),e([b({type:[T],json:{origins:{service:{read:{source:\"layerDefinition.fields\"}}}}})],Y.prototype,\"fields\",void 0),e([b({readOnly:!0})],Y.prototype,\"fieldsIndex\",null),e([b({type:N,value:null,json:{name:\"layerDefinition.floorInfo\",read:{source:\"layerDefinition.floorInfo\"},write:{target:\"layerDefinition.floorInfo\",overridePolicy:G},origins:{\"web-scene\":{read:!1,write:!1}}}})],Y.prototype,\"floorInfo\",null),e([b({type:Q,json:{read:{source:\"layerDefinition.extent\"}}})],Y.prototype,\"fullExtent\",void 0),e([b({type:B.apiValues,json:{origins:{service:{name:\"layerDefinition.geometryType\",read:{reader:B.read}}}}})],Y.prototype,\"geometryType\",void 0),e([b({type:String})],Y.prototype,\"globalIdField\",void 0),e([S(\"service\",\"globalIdField\",[\"layerDefinition.globalIdField\",\"layerDefinition.fields\"])],Y.prototype,\"readGlobalIdFieldFromService\",null),e([b({type:L,json:{write:{ignoreOrigin:!0}}})],Y.prototype,\"id\",null),e([b({value:null,type:[A],json:{read:{source:\"layerDefinition.drawingInfo.labelingInfo\"},write:{target:\"layerDefinition.drawingInfo.labelingInfo\",overridePolicy:z}}})],Y.prototype,\"labelingInfo\",null),e([w(\"labelingInfo\")],Y.prototype,\"writeLabelingInfo\",null),e([b({type:Boolean,value:!0,json:{read:{source:\"layerDefinition.drawingInfo.showLabels\"},write:{target:\"layerDefinition.drawingInfo.showLabels\",overridePolicy:z}}})],Y.prototype,\"labelsVisible\",null),e([b({value:null})],Y.prototype,\"layer\",null),e([b({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:\"showLegend\"},write:{target:\"showLegend\",overridePolicy:K}}})],Y.prototype,\"legendEnabled\",void 0),e([b({type:[\"show\",\"hide\",\"hide-children\"],value:\"show\",json:{read:!1,write:!1,origins:{\"web-scene\":{read:!0,write:!0}}}})],Y.prototype,\"listMode\",null),e([b({type:Number,value:0,json:{write:{overridePolicy:z}}})],Y.prototype,\"minScale\",null),e([S(\"minScale\",[\"minScale\",\"layerDefinition.minScale\"])],Y.prototype,\"readMinScale\",null),e([b({type:Number,value:0,json:{write:{overridePolicy:z}}})],Y.prototype,\"maxScale\",null),e([S(\"maxScale\",[\"maxScale\",\"layerDefinition.maxScale\"])],Y.prototype,\"readMaxScale\",null),e([b({readOnly:!0})],Y.prototype,\"effectiveScaleRange\",null),e([b({type:String})],Y.prototype,\"objectIdField\",void 0),e([S(\"service\",\"objectIdField\",[\"layerDefinition.objectIdField\",\"layerDefinition.fields\"])],Y.prototype,\"readObjectIdFieldFromService\",null),e([b({type:Number,value:1,json:{write:{target:\"layerDefinition.drawingInfo.transparency\",overridePolicy:z}}})],Y.prototype,\"opacity\",null),e([S(\"opacity\",[\"layerDefinition.drawingInfo.transparency\",\"layerDefinition.transparency\"])],Y.prototype,\"readOpacity\",null),e([w(\"opacity\")],Y.prototype,\"writeOpacity\",null),e([b({json:{type:L,write:{target:\"parentLayerId\",writerEnsuresNonNull:!0,overridePolicy:z}}})],Y.prototype,\"parent\",void 0),e([w(\"parent\")],Y.prototype,\"writeParent\",null),e([b({type:Boolean,value:!0,json:{read:{source:\"disablePopup\",reader:(e,r)=>!r.disablePopup},write:{target:\"disablePopup\",overridePolicy:K,writer(e,r,t){r[t]=!e}}}})],Y.prototype,\"popupEnabled\",void 0),e([b({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\",overridePolicy:K}}})],Y.prototype,\"popupTemplate\",void 0),e([b({readOnly:!0})],Y.prototype,\"queryTask\",null),e([b({types:t,value:null,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:z},origins:{\"web-scene\":{types:i,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:z}}}}})],Y.prototype,\"renderer\",null),e([b({types:{key:\"type\",base:null,typeMap:{\"data-layer\":C,\"map-layer\":q}},cast(e){if(e){if(\"mapLayerId\"in e)return D(q,e);if(\"dataSource\"in e)return D(C,e)}return e},json:{name:\"layerDefinition.source\",write:{overridePolicy:z}}})],Y.prototype,\"source\",null),e([b()],Y.prototype,\"sourceJSON\",void 0),e([b({value:null,json:{type:[L],write:{target:\"subLayerIds\",allowNull:!0,overridePolicy:z}}})],Y.prototype,\"sublayers\",null),e([g(\"sublayers\")],Y.prototype,\"castSublayers\",null),e([w(\"sublayers\")],Y.prototype,\"writeSublayers\",null),e([b({type:String,json:{name:\"name\",write:{overridePolicy:K}}})],Y.prototype,\"title\",void 0),e([b({type:String})],Y.prototype,\"typeIdField\",void 0),e([S(\"typeIdField\",[\"layerDefinition.typeIdField\"])],Y.prototype,\"readTypeIdField\",null),e([b({type:[O],json:{origins:{service:{read:{source:\"layerDefinition.types\"}}}}})],Y.prototype,\"types\",void 0),e([b({type:String,json:{read:{source:\"layerUrl\"},write:{target:\"layerUrl\",overridePolicy:H}}})],Y.prototype,\"url\",null),e([b({type:Boolean,value:!0,json:{read:{source:\"defaultVisibility\"},write:{target:\"defaultVisibility\",overridePolicy:z}}})],Y.prototype,\"visible\",null),e([w(\"visible\")],Y.prototype,\"writeVisible\",null),Y=J=e([I(\"esri.layers.support.Sublayer\")],Y);const Z=Y;export{Z as default};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,2BAAlB;AAA8C,OAAM,mBAAN;AAA0B,OAAOC,CAAP,MAAa,wBAAb;AAAsC,OAAM,wCAAN;AAA+C,OAAM,uCAAN;AAA8C,OAAM,uCAAN;AAA8C,OAAM,oCAAN;AAA2C,OAAM,qCAAN;AAA4C,OAAM,6BAAN;AAAoC,OAAM,mCAAN;AAA0C,OAAM,wCAAN;AAA+C,OAAM,sCAAN;AAA6C,SAAOC,aAAa,IAAIC,CAAxB,EAA0BC,qBAAqB,IAAIC,CAAnD,QAAyD,kCAAzD;AAA4F,OAAOC,CAAP,MAAa,kBAAb;AAAgC,SAAOC,UAAU,IAAIC,CAArB,QAA2B,kBAA3B;AAA8C,OAAOC,CAAP,MAAa,0BAAb;AAAwC,OAAOC,CAAP,MAAa,qBAAb;AAAmC,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,2BAAjC;AAA6D,OAAOC,GAAP,MAAe,mBAAf;AAAmC,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,4BAAlC;AAA+D,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,oBAAtB;AAA2C,OAAOC,CAAP,MAAa,wBAAb;AAAsC,OAAOC,CAAP,MAAa,sBAAb;AAAoC,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,qBAAvB;AAA6C,SAAOC,oBAAoB,IAAIC,CAA/B,QAAqC,sCAArC;AAA4E,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,mBAAvB;AAA2C,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,wBAA9B;AAAuD,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,mDAAzB;AAA6E,SAAOC,IAAI,IAAIC,CAAf,QAAqB,+CAArB;AAAqE,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,iDAAvB;AAAyE,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,mDAAzB;AAA6E,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,iDAAvB;AAAyE,SAAOC,aAAa,IAAIC,CAAxB,EAA0BC,UAAU,IAAIC,CAAxC,EAA0CC,OAAO,IAAIC,CAArD,EAAuDC,WAAW,IAAIC,CAAtE,QAA4E,0CAA5E;AAAuH,SAAOC,QAAQ,IAAIC,CAAnB,EAAqBC,QAAQ,IAAIC,CAAjC,QAAuC,8CAAvC;AAAsF,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,qCAA9B;AAAoE,OAAOC,CAAP,MAAa,0CAAb;AAAwD,OAAOC,CAAP,MAAa,kBAAb;AAAgC,OAAOC,CAAP,MAAa,YAAb;AAA0B,OAAOvD,CAAP,MAAa,kBAAb;AAAgC,OAAOwD,CAAP,MAAa,iBAAb;AAA+B,SAAOC,oBAAoB,IAAIC,CAA/B,QAAqC,mBAArC;AAAyD,OAAOC,CAAP,MAAa,qBAAb;AAAmC,SAAOC,2BAA2B,IAAIC,CAAtC,QAA4C,+BAA5C;AAA4E,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,6BAAhC;AAA8D,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,4BAA/B;AAA4D,OAAOC,CAAP,MAAa,uCAAb;AAAqD,OAAOC,CAAP,MAAa,6BAAb;AAA2C,SAAOC,mBAAmB,IAAIC,CAA9B,QAAoC,6BAApC;AAAkE,OAAOC,CAAP,MAAa,0BAAb;AAAwC,SAAOC,kCAAkC,IAAIC,CAA7C,QAAmD,qCAAnD;AAAyF,IAAIC,CAAJ;;AAAM,SAASC,CAAT,CAAWzE,CAAX,EAAa;EAAC,OAAO,QAAMA,CAAN,IAAS,cAAYA,CAAC,CAAC0E,IAA9B;AAAmC;;AAAA,SAASC,CAAT,CAAW3E,CAAX,EAAaC,CAAb,EAAeE,CAAf,EAAiB;EAAC,MAAME,CAAC,GAAC,KAAKuE,UAAL,CAAgB3E,CAAhB,KAAoBgD,CAAC,CAAC9C,CAAC,CAAC0E,MAAH,CAA7B;EAAwC,OAAM;IAACC,YAAY,EAAC,CAAC,CAAf;IAAiBC,SAAS,EAAC1E,CAA3B;IAA6B2E,OAAO,EAAC,CAAC,CAAC7E,CAAF,IAAM,gBAAcA,CAAC,CAAC8E,KAAF,EAASP,IAAvB,KAA8BvE,CAAC,CAAC+E,sBAAF,IAA0B7E,CAAxD;EAA3C,CAAN;AAA8G;;AAAA,SAAS8E,CAAT,CAAWnF,CAAX,EAAaC,CAAb,EAAeE,CAAf,EAAiB;EAAC,OAAM;IAAC6E,OAAO,EAAC,CAAC,CAAC7E,CAAF,IAAM,WAASA,CAAC,CAAC8E,KAAF,EAASP,IAAlB,IAAwB,KAAKU,aAAL,CAAmBnF,CAAnB;EAAvC,CAAN;AAAqE;;AAAA,SAASoF,CAAT,CAAWrF,CAAX,EAAaC,CAAb,EAAeE,CAAf,EAAiB;EAAC,OAAM;IAAC2E,YAAY,EAAC,CAAC,CAAf;IAAiBE,OAAO,EAAC7E,CAAC,IAAEA,CAAC,CAAC+E,sBAAL,IAA6B,CAAC;EAAvD,CAAN;AAAgE;;AAAA,SAASI,CAAT,CAAWtF,CAAX,EAAaC,CAAb,EAAeE,CAAf,EAAiB;EAAC,OAAM;IAAC2E,YAAY,EAAC,CAAC,CAAf;IAAiBE,OAAO,EAAC,CAAC,CAAC7E,CAAF,KAAMA,CAAC,CAAC+E,sBAAF,IAA0B,KAAKN,UAAL,CAAgB3E,CAAhB,KAAoBgD,CAAC,CAAC9C,CAAC,CAAC0E,MAAH,CAArD;EAAzB,CAAN;AAAiG;;AAAA,IAAIU,CAAC,GAAC,CAAN;AAAQ,MAAMC,CAAC,GAAC,IAAIC,GAAJ,EAAR;AAAgBD,CAAC,CAACE,GAAF,CAAM,OAAN,GAAeF,CAAC,CAACE,GAAF,CAAM,QAAN,CAAf,EAA+BF,CAAC,CAACE,GAAF,CAAM,QAAN,CAA/B,EAA+CF,CAAC,CAACE,GAAF,CAAM,YAAN,CAA/C,EAAmEF,CAAC,CAACE,GAAF,CAAM,WAAN,CAAnE,EAAsFF,CAAC,CAACE,GAAF,CAAM,cAAN,CAAtF;AAA4G,IAAIC,CAAC,GAACnB,CAAC,GAAC,cAAc5D,CAAC,CAACW,CAAC,CAACR,CAAC,CAACG,CAAD,CAAF,CAAF,CAAf,CAAyB;EAAC0E,WAAW,CAAC5F,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAK6F,YAAL,GAAkB,KAAK,CAAhC,EAAkC,KAAKC,MAAL,GAAY,IAA9C,EAAmD,KAAKC,UAAL,GAAgB,IAAnE,EAAwE,KAAKC,YAAL,GAAkB,IAA1F,EAA+F,KAAKC,aAAL,GAAmB,IAAlH,EAAuH,KAAKC,aAAL,GAAmB,CAAC,CAA3I,EAA6I,KAAKC,aAAL,GAAmB,IAAhK,EAAqK,KAAKC,YAAL,GAAkB,CAAC,CAAxL,EAA0L,KAAKC,aAAL,GAAmB,IAA7M,EAAkN,KAAKC,UAAL,GAAgB,IAAlO,EAAuO,KAAKC,KAAL,GAAW,IAAlP,EAAuP,KAAKC,WAAL,GAAiB,IAAxQ,EAA6Q,KAAKC,KAAL,GAAW,IAAxR,EAA6R,KAAKC,cAAL,GAAoB,IAAjT;EAAsT;;EAAMC,IAAI,CAAC3G,CAAD,EAAG;IAAA;;IAAA;MAAC,OAAO,KAAI,CAAC4G,mBAAL,CAAyB,kBAAC,aAAS;QAAC,MAAK;UAAC3B,KAAK,EAAChF,CAAP;UAAS4G,MAAM,EAAC1G,CAAhB;UAAkB2G,GAAG,EAACzG;QAAtB,IAAyB,KAA9B;QAAmC,IAAG,CAACJ,CAAD,IAAI,CAACI,CAAR,EAAU,MAAM,IAAIK,CAAJ,CAAM,wBAAN,EAA+B,wDAA/B,EAAwF;UAACqG,QAAQ,EAAC;QAAV,CAAxF,CAAN;QAA+G,IAAIvG,CAAC,GAAC,IAAN;;QAAW,IAAG,CAACP,CAAD,IAAI,KAAI,CAAC2E,UAAL,CAAgB,KAAhB,IAAuB7B,CAAC,CAACiE,OAA7B,IAAsC,iBAAe7G,CAAC,EAAEuE,IAA3D,EAAgE;UAAClE,CAAC,GAAC,OAAOF,CAAC,CAACD,CAAD,EAAG;YAAC4G,YAAY,EAAC,MAAd;YAAqBC,KAAK,EAAC;cAAC3F,CAAC,EAAC;YAAH,CAA3B;YAAsC,GAAGvB;UAAzC,CAAH,CAAR,EAAyDmH,IAA3D;QAAgE,CAAjI,MAAqI;UAAC,IAAI9G,CAAC,GAAC,KAAI,CAAC+G,EAAX;UAAc,gBAAcjH,CAAC,EAAEuE,IAAjB,KAAwBrE,CAAC,GAACF,CAAC,CAACkH,UAA5B,GAAwC7G,CAAC,SAAOP,CAAC,CAACqH,iBAAF,CAAoBjH,CAApB,EAAsBL,CAAtB,CAAhD;QAAyE;;QAAAQ,CAAC,KAAG,KAAI,CAAC8F,UAAL,GAAgB9F,CAAhB,EAAkB,KAAI,CAAC+G,IAAL,CAAU;UAACC,eAAe,EAAChH;QAAjB,CAAV,EAA8B;UAACqE,MAAM,EAAC;QAAR,CAA9B,CAArB,CAAD;MAAyE,CAAxd,GAAzB,GAAsf,KAA7f;IAAD;EAAmgB;;EAAA4C,gBAAgB,CAACzH,CAAD,EAAGC,CAAH,EAAK;IAACA,CAAC,GAACA,CAAC,CAACuH,eAAF,IAAmBvH,CAArB;IAAuB,MAAK;MAACyH,UAAU,EAAC;QAACC,aAAa,EAACxH,CAAf;QAAiByH,wBAAwB,EAACvH;MAA1C,CAAZ;MAAyD6G,KAAK,EAAC;QAACW,iBAAiB,EAACvH;MAAnB,CAA/D;MAAqF6G,IAAI,EAAC;QAACW,kBAAkB,EAACtH;MAApB;IAA1F,IAAkHoD,CAAC,CAAC3D,CAAD,EAAG,KAAK6G,GAAR,CAAxH;IAAqI,OAAM;MAACiB,SAAS,EAAC;QAACC,oBAAoB,EAAC,CAAC,CAAC/H,CAAC,CAACgI;MAA1B,CAAX;MAAqDP,UAAU,EAAC;QAACC,aAAa,EAACxH,CAAf;QAAiByH,wBAAwB,EAACvH;MAA1C,CAAhE;MAA6G8G,IAAI,EAAC;QAACW,kBAAkB,EAACtH;MAApB,CAAlH;MAAyI0G,KAAK,EAAC;QAACW,iBAAiB,EAACvH;MAAnB;IAA/I,CAAN;EAA4K;;EAAwB,IAApB4H,oBAAoB,GAAE;IAAC,OAAO,KAAK/D,mBAAL,EAAP;EAAkC;;EAAwB,IAApBgE,oBAAoB,CAACnI,CAAD,EAAG;IAAC,KAAKoI,kBAAL,CAAwB,sBAAxB,EAA+CpI,CAA/C;EAAkD;;EAAe,IAAXqI,WAAW,GAAE;IAAC,OAAO,IAAItI,CAAJ,CAAM,KAAK+F,MAAL,IAAa,EAAnB,CAAP;EAA8B;;EAAa,IAATwC,SAAS,CAACtI,CAAD,EAAG;IAAC,KAAKoI,kBAAL,CAAwB,WAAxB,EAAoCpI,CAApC;EAAuC;;EAAAuI,4BAA4B,CAACvI,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAG,CAACA,CAAC,GAACA,CAAC,CAACuH,eAAF,IAAmBvH,CAAtB,EAAyBgG,aAA5B,EAA0C,OAAOhG,CAAC,CAACgG,aAAT;IAAuB,IAAGhG,CAAC,CAAC6F,MAAL,EAAY,KAAI,MAAM3F,CAAV,IAAeF,CAAC,CAAC6F,MAAjB,EAAwB,IAAG,4BAA0B3F,CAAC,CAACuE,IAA/B,EAAoC,OAAOvE,CAAC,CAACqI,IAAT;EAAc;;EAAM,IAAFpB,EAAE,GAAE;IAAC,MAAMpH,CAAC,GAAC,KAAKyI,IAAL,CAAU,IAAV,CAAR;;IAAwB,OAAOzI,CAAC,IAAEuF,CAAC,EAAX;EAAc;;EAAM,IAAF6B,EAAE,CAACpH,CAAD,EAAG;IAAC,KAAKyI,IAAL,CAAU,IAAV,MAAkBzI,CAAlB,KAAsB,CAAC,CAAD,KAAK,KAAKiF,KAAL,EAAYY,YAAZ,EAA0BkC,SAA1B,EAAqCW,qBAA1C,GAAgE,KAAKC,IAAL,CAAU,IAAV,EAAe3I,CAAf,CAAhE,GAAkF,KAAK4I,eAAL,CAAqB,IAArB,EAA0B,+EAA1B,CAAxG;EAAoN;;EAAgB,IAAZC,YAAY,CAAC7I,CAAD,EAAG;IAAC,KAAKoI,kBAAL,CAAwB,cAAxB,EAAuCpI,CAAvC;EAA0C;;EAAA8I,iBAAiB,CAAC9I,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAACL,CAAC,IAAEA,CAAC,CAAC+I,MAAL,KAAc9I,CAAC,CAACuH,eAAF,GAAkB;MAACwB,WAAW,EAAC;QAACH,YAAY,EAAC7I,CAAC,CAACiJ,GAAF,CAAOjJ,CAAC,IAAEA,CAAC,CAACkJ,KAAF,CAAQ,EAAR,EAAW7I,CAAX,CAAV;MAAd;IAAb,CAAhC;EAAwF;;EAAiB,IAAb8I,aAAa,CAACnJ,CAAD,EAAG;IAAC,KAAKoI,kBAAL,CAAwB,eAAxB,EAAwCpI,CAAxC;EAA2C;;EAAS,IAALiF,KAAK,CAACjF,CAAD,EAAG;IAAC,KAAK2I,IAAL,CAAU,OAAV,EAAkB3I,CAAlB,GAAqB,KAAKoJ,SAAL,IAAgB,KAAKA,SAAL,CAAeC,OAAf,CAAwBpJ,CAAC,IAAEA,CAAC,CAACgF,KAAF,GAAQjF,CAAnC,CAArC;EAA4E;;EAAY,IAARsJ,QAAQ,CAACtJ,CAAD,EAAG;IAAC,KAAK2I,IAAL,CAAU,UAAV,EAAqB3I,CAArB;EAAwB;;EAAY,IAARuJ,QAAQ,CAACvJ,CAAD,EAAG;IAAC,KAAKoI,kBAAL,CAAwB,UAAxB,EAAmCpI,CAAnC;EAAsC;;EAAAwJ,YAAY,CAACxJ,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAOA,CAAC,CAACsJ,QAAF,IAAYtJ,CAAC,CAACuH,eAAF,IAAmBvH,CAAC,CAACuH,eAAF,CAAkB+B,QAAjD,IAA2D,CAAlE;EAAoE;;EAAY,IAARE,QAAQ,CAACzJ,CAAD,EAAG;IAAC,KAAKoI,kBAAL,CAAwB,UAAxB,EAAmCpI,CAAnC;EAAsC;;EAAA0J,YAAY,CAAC1J,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAOA,CAAC,CAACwJ,QAAF,IAAYxJ,CAAC,CAACuH,eAAF,IAAmBvH,CAAC,CAACuH,eAAF,CAAkBiC,QAAjD,IAA2D,CAAlE;EAAoE;;EAAuB,IAAnBE,mBAAmB,GAAE;IAAC,MAAK;MAACJ,QAAQ,EAACvJ,CAAV;MAAYyJ,QAAQ,EAACxJ;IAArB,IAAwB,IAA7B;IAAkC,OAAM;MAACsJ,QAAQ,EAACvJ,CAAV;MAAYyJ,QAAQ,EAACxJ;IAArB,CAAN;EAA8B;;EAAA2J,4BAA4B,CAAC5J,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAG,CAACA,CAAC,GAACA,CAAC,CAACuH,eAAF,IAAmBvH,CAAtB,EAAyBkG,aAA5B,EAA0C,OAAOlG,CAAC,CAACkG,aAAT;IAAuB,IAAGlG,CAAC,CAAC6F,MAAL,EAAY,KAAI,MAAM3F,CAAV,IAAeF,CAAC,CAAC6F,MAAjB,EAAwB,IAAG,uBAAqB3F,CAAC,CAACuE,IAA1B,EAA+B,OAAOvE,CAAC,CAACqI,IAAT;EAAc;;EAAW,IAAPqB,OAAO,CAAC7J,CAAD,EAAG;IAAC,KAAKoI,kBAAL,CAAwB,SAAxB,EAAkCpI,CAAlC;EAAqC;;EAAA8J,WAAW,CAAC9J,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAME,CAAC,GAACF,CAAC,CAACuH,eAAV;IAA0B,OAAO,IAAE,OAAK,CAAC,QAAMrH,CAAC,EAAE4J,YAAT,GAAsB5J,CAAC,CAAC4J,YAAxB,GAAqC5J,CAAC,EAAE6I,WAAH,EAAgBe,YAAtD,KAAqE,CAA1E,CAAT;EAAsF;;EAAAC,YAAY,CAAChK,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAACJ,CAAC,CAACuH,eAAF,GAAkB;MAACwB,WAAW,EAAC;QAACe,YAAY,EAAC,MAAI,MAAI/J;MAAtB;IAAb,CAAlB;EAAyD;;EAAAiK,WAAW,CAACjK,CAAD,EAAGC,CAAH,EAAK;IAAC,KAAKiK,MAAL,IAAa,KAAKA,MAAL,KAAc,KAAKjF,KAAhC,GAAsChF,CAAC,CAACkK,aAAF,GAAgB5H,CAAC,CAAC,KAAK2H,MAAL,CAAY9C,EAAb,CAAvD,GAAwEnH,CAAC,CAACkK,aAAF,GAAgB,CAAC,CAAzF;EAA2F;;EAAa,IAATC,SAAS,GAAE;IAAC,IAAG,CAAC,KAAKnF,KAAT,EAAe,OAAO,IAAP;IAAY,MAAK;MAACoF,gBAAgB,EAACrK;IAAlB,IAAqB,KAAKiF,KAA/B;IAAA,MAAqChF,CAAC,GAAC,gBAAe,KAAKgF,KAApB,GAA0B,KAAKA,KAAL,CAAWqF,UAArC,GAAgD,KAAK,CAA5F;IAAA,MAA8F;MAACzE,YAAY,EAAC1F,CAAd;MAAgBkI,WAAW,EAAChI;IAA5B,IAA+B,IAA7H;IAAA,MAAkIC,CAAC,GAACO,GAAG,CAAC,kBAAD,CAAH,IAAyBV,CAAC,EAAE+G,KAAH,CAASW,iBAAtK;IAAA,MAAwLrH,CAAC,GAACL,CAAC,EAAEuH,UAAH,EAAeE,wBAAf,IAAyC,CAAC,CAApO;IAAsO,OAAO,IAAIxE,CAAJ,CAAM;MAAC0D,GAAG,EAAC,KAAKA,GAAV;MAAcyD,YAAY,EAACjK,CAA3B;MAA6B+H,WAAW,EAAChI,CAAzC;MAA2CiK,UAAU,EAACrK,CAAtD;MAAwDuK,sBAAsB,EAACxK,CAA/E;MAAiFyK,yBAAyB,EAACjK;IAA3G,CAAN,CAAP;EAA4H;;EAAY,IAARkK,QAAQ,CAAC1K,CAAD,EAAG;IAAC,IAAGA,CAAH,EAAK,KAAI,MAAMC,CAAV,IAAeD,CAAC,CAAC2K,UAAF,EAAf,EAA8B,IAAGnK,CAAC,CAACP,CAAD,CAAJ,EAAQ;MAACkB,CAAC,CAACyJ,SAAF,CAAY,KAAKC,aAAjB,EAAgCC,IAAhC,CAAqC,yCAArC;MAAgF;IAAM;;IAAA,KAAK1C,kBAAL,CAAwB,UAAxB,EAAmCpI,CAAnC;EAAsC;;EAAU,IAAN6G,MAAM,GAAE;IAAC,OAAO,KAAK4B,IAAL,CAAU,QAAV,KAAqB,IAAIzE,CAAJ,CAAM;MAACqD,UAAU,EAAC,KAAKD;IAAjB,CAAN,CAA5B;EAAwD;;EAAU,IAANP,MAAM,CAAC7G,CAAD,EAAG;IAAC,KAAKoI,kBAAL,CAAwB,QAAxB,EAAiCpI,CAAjC;EAAoC;;EAAa,IAAToJ,SAAS,CAACpJ,CAAD,EAAG;IAAC,KAAK+K,sBAAL,CAA4B/K,CAA5B,EAA8B,KAAKyI,IAAL,CAAU,WAAV,CAA9B,GAAsD,KAAKE,IAAL,CAAU,WAAV,EAAsB3I,CAAtB,CAAtD;EAA+E;;EAAAgL,aAAa,CAAChL,CAAD,EAAG;IAAC,OAAOyC,CAAC,CAAChC,CAAC,CAACwK,MAAF,CAASzG,CAAT,CAAD,EAAaxE,CAAb,CAAR;EAAwB;;EAAAkL,cAAc,CAAClL,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAO;IAAC,KAAKiJ,SAAL,EAAgBL,MAAhB,KAAyB9I,CAAC,CAACE,CAAD,CAAD,GAAK,KAAKiJ,SAAL,CAAeH,GAAf,CAAoBjJ,CAAC,IAAEA,CAAC,CAACoH,EAAzB,EAA8B+D,OAA9B,GAAwCC,OAAxC,EAA9B;EAAiF;;EAAAC,eAAe,CAACrL,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAIE,CAAC,GAAC,CAACF,CAAC,GAACA,CAAC,CAACuH,eAAF,IAAmBvH,CAAtB,EAAyBuG,WAA/B;;IAA2C,IAAGrG,CAAC,IAAEF,CAAC,CAAC6F,MAAR,EAAe;MAAC3F,CAAC,GAACA,CAAC,CAACmL,WAAF,EAAF;MAAkB,MAAMtL,CAAC,GAACC,CAAC,CAAC6F,MAAF,CAASyF,IAAT,CAAevL,CAAC,IAAEA,CAAC,CAACwI,IAAF,CAAO8C,WAAP,OAAuBnL,CAAzC,CAAR;MAAqDH,CAAC,KAAGG,CAAC,GAACH,CAAC,CAACwI,IAAP,CAAD;IAAc;;IAAA,OAAOrI,CAAP;EAAS;;EAAO,IAAH2G,GAAG,GAAE;IAAC,MAAM9G,CAAC,GAAC,KAAKiF,KAAL,EAAYuG,SAAZ,IAAuB,KAAK9E,cAApC;IAAA,MAAmDzG,CAAC,GAAC,KAAK4G,MAA1D;IAAiE,IAAG,CAAC7G,CAAJ,EAAM,OAAO,IAAP;IAAY,IAAG,KAAK0G,cAAL,GAAoB1G,CAApB,EAAsB,gBAAcC,CAAC,EAAEyE,IAA1C,EAA+C,OAAO,GAAE1E,CAAC,CAACyL,IAAK,IAAGxL,CAAC,CAACoH,UAAW,EAAhC;IAAkC,MAAMlH,CAAC,GAAC;MAAC8E,KAAK,EAACyG,IAAI,CAACC,SAAL,CAAe;QAAC9E,MAAM,EAAC,KAAKA;MAAb,CAAf;IAAP,CAAR;IAAqD,OAAO,GAAE7G,CAAC,CAACyL,IAAK,iBAAgB9J,CAAC,CAACxB,CAAD,CAAI,EAArC;EAAuC;;EAAO,IAAH2G,GAAG,CAAC9G,CAAD,EAAG;IAAC,KAAK4L,eAAL,CAAqB,KAArB,EAA2B5L,CAA3B;EAA8B;;EAAW,IAAP6L,OAAO,CAAC7L,CAAD,EAAG;IAAC,KAAKoI,kBAAL,CAAwB,SAAxB,EAAkCpI,CAAlC;EAAqC;;EAAA8L,YAAY,CAAC9L,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAACJ,CAAC,CAACE,CAAD,CAAD,GAAK,KAAK4L,WAAL,CAAiB,mBAAjB,EAAqC,SAArC,KAAiD/L,CAAtD;EAAwD;;EAAAgB,KAAK,GAAE;IAAC,MAAK;MAACgL,KAAK,EAAChM;IAAP,IAAUmD,CAAC,CAAC,IAAD,CAAhB;IAAA,MAAuBlD,CAAC,GAAC,IAAIuE,CAAJ,EAAzB;IAA+B,OAAOrB,CAAC,CAAClD,CAAD,CAAD,CAAK+L,KAAL,GAAWhM,CAAC,CAACgB,KAAF,CAAQwE,CAAR,CAAX,EAAsB,KAAKyG,cAAL,CAAoB,KAApB,CAAtB,EAAiDhM,CAAC,CAACyG,cAAF,GAAiB,KAAKA,cAAvE,EAAsFzG,CAA7F;EAA+F;;EAAAkE,mBAAmB,CAACnE,CAAD,EAAG;IAAC,OAAOoE,CAAC,CAAC,IAAD,EAAMpE,CAAN,CAAR;EAAiB;;EAAAkM,WAAW,GAAE;IAAC,OAAO,IAAIhI,CAAJ,CAAM;MAACiI,cAAc,EAAC,CAAC,CAAjB;MAAmBC,KAAK,EAAC,KAAKjE,oBAAL,IAA2B;IAApD,CAAN,CAAP;EAAyE;;EAAMkE,kBAAkB,GAAE;IAAA;;IAAA;MAAC,IAAG,MAAI,CAACC,cAAL,CAAoB,WAApB,CAAH,EAAoC,OAAO,IAAP;MAAY,MAAK;QAACrH,KAAK,EAACjF;MAAP,IAAU,MAAf;MAAA,MAAoBC,CAAC,GAACD,CAAC,EAAEwL,SAAzB;MAAA,MAAmCrL,CAAC,GAAC,KAAI,GAAE,OAAO,OAAO,oBAAP,CAAP,EAAqCoM,OAA3C,EAAoD;QAACzF,GAAG,EAAC7G,CAAC,EAAEwL;MAAR,CAApD,CAArC;MAAwG,OAAOxL,CAAC,IAAE,MAAI,CAAC4G,MAAR,KAAiB,gBAAc,MAAI,CAACA,MAAL,CAAYnC,IAA1B,GAA+BvE,CAAC,CAACqM,OAAF,GAAU,MAAI,CAAC3F,MAAL,CAAYQ,UAArD,GAAgElH,CAAC,CAACsM,iBAAF,GAAoB,MAAI,CAAC5F,MAA1G,GAAkH,QAAM7G,CAAC,EAAE0M,eAAT,KAA2BvM,CAAC,CAACuM,eAAF,GAAkB1M,CAAC,CAAC0M,eAA/C,CAAlH,EAAkL,MAAI,CAACvE,oBAAL,KAA4BhI,CAAC,CAACgI,oBAAF,GAAuB,MAAI,CAACA,oBAAxD,CAAlL,EAAgQ,MAAI,CAACG,SAAL,KAAiBnI,CAAC,CAACmI,SAAF,GAAYrH,CAAC,CAAC,MAAI,CAACqH,SAAN,CAA9B,CAAhQ,EAAgT,MAAI,CAAC1D,UAAL,CAAgB,cAAhB,IAAgC7B,CAAC,CAACiE,OAAlC,KAA4C7G,CAAC,CAAC0I,YAAF,GAAe5H,CAAC,CAAC,MAAI,CAAC4H,YAAN,CAA5D,CAAhT,EAAiY,MAAI,CAACjE,UAAL,CAAgB,eAAhB,IAAiC7B,CAAC,CAAC4J,QAAnC,KAA8CxM,CAAC,CAACgJ,aAAF,GAAgB,MAAI,CAACA,aAAnE,CAAjY,EAAmd,MAAI,CAACvE,UAAL,CAAgB,eAAhB,IAAiC7B,CAAC,CAAC4J,QAAnC,KAA8CxM,CAAC,CAAC+F,aAAF,GAAgB,MAAI,CAACA,aAAnE,CAAnd,EAAqiB,MAAI,CAACtB,UAAL,CAAgB,SAAhB,IAA2B7B,CAAC,CAAC4J,QAA7B,KAAwCxM,CAAC,CAAC0L,OAAF,GAAU,MAAI,CAACA,OAAvD,CAAriB,EAAqmB,MAAI,CAACjH,UAAL,CAAgB,UAAhB,IAA4B7B,CAAC,CAAC4J,QAA9B,KAAyCxM,CAAC,CAACoJ,QAAF,GAAW,MAAI,CAACA,QAAzD,CAArmB,EAAwqB,MAAI,CAAC3E,UAAL,CAAgB,UAAhB,IAA4B7B,CAAC,CAAC4J,QAA9B,KAAyCxM,CAAC,CAACsJ,QAAF,GAAW,MAAI,CAACA,QAAzD,CAAxqB,EAA2uB,MAAI,CAAC7E,UAAL,CAAgB,SAAhB,IAA2B7B,CAAC,CAAC4J,QAA7B,KAAwCxM,CAAC,CAAC0J,OAAF,GAAU,MAAI,CAACA,OAAvD,CAA3uB,EAA2yB,MAAI,CAACjF,UAAL,CAAgB,eAAhB,IAAiC7B,CAAC,CAAC4J,QAAnC,KAA8CxM,CAAC,CAACkG,aAAF,GAAgBpF,CAAC,CAAC,MAAI,CAACoF,aAAN,CAA/D,CAA3yB,EAAg4B,MAAI,CAACzB,UAAL,CAAgB,UAAhB,IAA4B7B,CAAC,CAACiE,OAA9B,KAAwC7G,CAAC,CAACuK,QAAF,GAAWzJ,CAAC,CAAC,MAAI,CAACyJ,QAAN,CAApD,CAAh4B,EAAq8B,iBAAe,MAAI,CAAC7D,MAAL,EAAanC,IAA5B,KAAmCvE,CAAC,CAACsM,iBAAF,GAAoB,MAAI,CAAC5F,MAAL,CAAY7F,KAAZ,EAAvD,CAAr8B,EAAihC,MAAI,CAAC4D,UAAL,CAAgB,OAAhB,IAAyB7B,CAAC,CAAC4J,QAA3B,KAAsCxM,CAAC,CAACoG,KAAF,GAAQ,MAAI,CAACA,KAAnD,CAAjhC,EAA2kC,gBAAcvG,CAAC,EAAE0E,IAAjB,IAAuB1E,CAAC,CAAC4E,UAAF,CAAa,kBAAb,IAAiC7B,CAAC,CAAC4J,QAA1D,KAAqExM,CAAC,CAACyM,gBAAF,GAAmB5M,CAAC,CAAC4M,gBAA1F,CAA3kC,EAAurC,WAAS5M,CAAC,EAAE0E,IAAZ,IAAkB1E,CAAC,CAAC4E,UAAF,CAAa,kBAAb,IAAiC7B,CAAC,CAAC4J,QAArD,KAAgExM,CAAC,CAACyM,gBAAF,GAAmB5M,CAAC,CAAC4M,gBAArF,CAAvrC,EAA8xCzM,CAAryC;IAAzJ;EAAg8C;;EAAA0M,QAAQ,CAAC7M,CAAD,EAAG;IAAC,OAAO,KAAKqI,WAAL,CAAiByE,GAAjB,CAAqB9M,CAArB,CAAP;EAA+B;;EAAA+M,cAAc,CAAC/M,CAAD,EAAG;IAAC,MAAK;MAACwG,WAAW,EAACvG,CAAb;MAAewG,KAAK,EAACtG;IAArB,IAAwB,IAA7B;IAAkC,IAAG,CAACF,CAAD,IAAI,CAACD,CAAR,EAAU,OAAO,IAAP;IAAY,MAAMK,CAAC,GAACL,CAAC,CAACgN,UAAF,GAAahN,CAAC,CAACgN,UAAF,CAAa/M,CAAb,CAAb,GAA6B,KAAK,CAA1C;IAA4C,IAAG,QAAMI,CAAT,EAAW,OAAO,IAAP;IAAY,IAAIC,CAAC,GAAC,IAAN;IAAW,OAAOH,CAAC,EAAE8M,IAAH,CAASjN,CAAC,IAAE;MAAC,MAAK;QAACoH,EAAE,EAACnH;MAAJ,IAAOD,CAAZ;MAAc,OAAO,QAAMC,CAAN,KAAUA,CAAC,CAACiN,QAAF,OAAe7M,CAAC,CAAC6M,QAAF,EAAf,KAA8B5M,CAAC,GAACN,CAAhC,GAAmC,CAAC,CAACM,CAA/C,CAAP;IAAyD,CAApF,GAAuFA,CAA9F;EAAgG;;EAAA6M,cAAc,CAACnN,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAME,CAAC,GAACF,CAAC,IAAEA,CAAC,CAACmN,OAAb;IAAA,MAAqB/M,CAAC,GAAC,KAAK0M,cAAL,CAAoB5M,CAApB,CAAvB;;IAA8C,IAAGE,CAAH,EAAK;MAAC,MAAMJ,CAAC,GAACI,CAAC,CAACgN,OAAF,IAAWhN,CAAC,CAACgN,OAAF,CAAUrN,CAAV,CAAnB;MAAgC,IAAGC,CAAC,IAAE,gBAAcA,CAAC,CAACyE,IAAtB,EAA2B,OAAOzE,CAAP;IAAS;;IAAA,OAAO,KAAKqN,eAAL,CAAqBtN,CAArB,CAAP;EAA+B;;EAAMuN,gBAAgB,CAACvN,CAAD,EAAGC,CAAH,EAAK;IAAA;;IAAA;MAAC,MAAM,MAAI,CAAC0G,IAAL,EAAN,EAAkB3G,CAAC,GAACiE,CAAC,CAACuJ,IAAF,CAAOxN,CAAP,CAApB;MAA8B,MAAMG,CAAC,GAAC,MAAI,CAAC0F,YAAb;MAA0B,IAAG,CAAC1F,CAAC,EAAEgH,IAAH,EAASW,kBAAb,EAAgC,MAAM,IAAIpH,CAAJ,CAAM,gCAAN,EAAuC,wCAAvC,CAAN;MAAuF,MAAK;QAAC+M,eAAe,EAACpN,CAAjB;QAAmBqN,SAAS,EAACpN,CAA7B;QAA+BqN,SAAS,EAACnN,CAAzC;QAA2CoN,GAAG,EAACnN,CAA/C;QAAiDoN,IAAI,EAACjN,CAAtD;QAAwDkN,KAAK,EAAC/M,CAA9D;QAAgEqL,KAAK,EAACnL;MAAtE,IAAyEjB,CAA9E;;MAAgF,IAAG,CAACG,CAAC,EAAEuH,UAAH,EAAeE,wBAAnB,EAA4C;QAAC,IAAGvH,CAAC,EAAE0I,MAAH,GAAU,CAAV,IAAavI,CAAC,EAAEuI,MAAH,GAAU,CAAvB,IAA0BnI,CAAC,EAAEmI,MAAH,GAAU,CAApC,IAAuCtI,CAAvC,IAA0CM,CAA1C,IAA6CE,CAAhD,EAAkD,MAAM,IAAIP,CAAJ,CAAM,uCAAN,EAA8C,+FAA9C,EAA8IV,CAA9I,CAAN;MAAuJ;;MAAA,IAAG,EAAEM,CAAC,EAAEyI,MAAH,IAAWvI,CAAC,EAAEuI,MAAd,IAAsB9H,CAAxB,CAAH,EAA8B,MAAM,IAAIP,CAAJ,CAAM,gCAAN,EAAuC,+EAAvC,EAAuHV,CAAvH,CAAN;MAAgI,OAAO,MAAI,CAACoK,SAAL,CAAe2D,sBAAf,CAAsC/N,CAAtC,EAAwCC,CAAxC,CAAP;IAAppB;EAAssB;;EAAM+N,aAAa,CAAChO,CAAC,GAAC,KAAKkM,WAAL,EAAH,EAAsBjM,CAAtB,EAAwB;IAAA;;IAAA;MAAC,IAAG,MAAM,MAAI,CAAC0G,IAAL,EAAN,EAAkB,CAAC,MAAI,CAACd,YAAL,CAAkB6B,UAAlB,CAA6BC,aAAnD,EAAiE,MAAM,IAAIjH,CAAJ,CAAM,6BAAN,EAAoC,qCAApC,CAAN;MAAiF,IAAG,CAAC,MAAI,CAACoG,GAAT,EAAa,MAAM,IAAIpG,CAAJ,CAAM,6BAAN,EAAoC,wBAApC,CAAN;MAAoE,MAAMP,CAAC,SAAO,MAAI,CAACiK,SAAL,CAAe6D,OAAf,CAAuBjO,CAAvB,EAAyB,EAAC,GAAGC,CAAJ;QAAMiH,KAAK,EAAC,EAAC,GAAG,MAAI,CAACjC,KAAL,EAAY2H,gBAAhB;UAAiCsB,KAAK,EAAC,MAAI,CAACjJ,KAAL,EAAYkJ;QAAnD;MAAZ,CAAzB,CAAd;MAAgH,IAAGhO,CAAC,EAAEiO,QAAN,EAAe,KAAI,MAAM/N,CAAV,IAAeF,CAAC,CAACiO,QAAjB,EAA0B/N,CAAC,CAACgO,WAAF,GAAc,MAAd;MAAmB,OAAOlO,CAAP;IAAhZ;EAAyZ;;EAAAmO,iBAAiB,CAACtO,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC;MAACmH,EAAE,EAAC,KAAKA,EAAT;MAAYP,MAAM,EAAC,KAAKA,MAAL,EAAa0H,MAAb,MAAuB;QAAClH,UAAU,EAAC,KAAKD,EAAjB;QAAoB1C,IAAI,EAAC;MAAzB;IAA1C,CAAR;IAAA,MAAwFvE,CAAC,GAACsB,CAAC,CAACzB,CAAD,EAAG,KAAKmI,oBAAR,CAA3F;IAAyH9G,CAAC,CAAClB,CAAD,CAAD,KAAOF,CAAC,CAACkI,oBAAF,GAAuBhI,CAA9B;IAAiC,MAAME,CAAC,GAAC,CAAC,UAAD,EAAY,cAAZ,EAA2B,SAA3B,EAAqC,eAArC,EAAsDmO,MAAtD,CAA8D,CAACxO,CAAD,EAAGC,CAAH,MAAQD,CAAC,CAACC,CAAD,CAAD,GAAK,KAAK2E,UAAL,CAAgB3E,CAAhB,CAAL,EAAwBD,CAAhC,CAA9D,EAAkG,EAAlG,CAAR;IAAA,MAA8GM,CAAC,GAACmO,MAAM,CAACC,IAAP,CAAYrO,CAAZ,EAAe4M,IAAf,CAAqBjN,CAAC,IAAEK,CAAC,CAACL,CAAD,CAAD,GAAK+C,CAAC,CAACiE,OAA/B,CAAhH;;IAAyJ,IAAG1G,CAAH,EAAK;MAAC,MAAMN,CAAC,GAACC,CAAC,CAAC+I,WAAF,GAAc,EAAtB;;MAAyB,IAAG3I,CAAC,CAACqK,QAAF,GAAW3H,CAAC,CAACiE,OAAb,KAAuBhH,CAAC,CAAC0K,QAAF,GAAW,KAAKA,QAAL,GAAc,KAAKA,QAAL,CAAc6D,MAAd,EAAd,GAAqC,IAAvE,GAA6ElO,CAAC,CAAC8I,aAAF,GAAgBpG,CAAC,CAACiE,OAAlB,KAA4BhH,CAAC,CAAC2O,UAAF,GAAa,KAAKxF,aAA9C,CAA7E,EAA0I,KAAKA,aAAL,IAAoB9I,CAAC,CAACwI,YAAF,GAAe9F,CAAC,CAACiE,OAAlL,EAA0L;QAAC,CAAC,KAAK4H,MAAN,IAAc,KAAK/F,YAAL,CAAkBoE,IAAlB,CAAwBjN,CAAC,IAAE,CAACA,CAAC,CAAC6O,cAA9B,CAAd,IAA8D1N,CAAC,CAACyJ,SAAF,CAAY,KAAKC,aAAjB,EAAgCiE,QAAhC,CAA0C,sBAAqB,KAAKvI,KAAM,SAAQ,KAAKa,EAAG,sLAA1F,EAAgR;UAACL,QAAQ,EAAC;QAAV,CAAhR,CAA9D;QAA+V,IAAI9G,CAAC,GAAC,KAAK4I,YAAX;QAAwBxH,CAAC,CAAC,KAAK2E,YAAN,CAAD,KAAuB/F,CAAC,GAACwD,CAAC,CAAC,KAAKoF,YAAN,EAAmBtE,CAAC,CAACgK,MAAF,CAAS,KAAKvI,YAAd,CAAnB,CAA1B,GAA2EhG,CAAC,CAAC6I,YAAF,GAAe5I,CAAC,CAAC8O,MAAF,CAAU/O,CAAC,IAAEA,CAAC,CAAC6O,cAAf,EAAgC5F,GAAhC,CAAqCjJ,CAAC,IAAEA,CAAC,CAACuO,MAAF,CAAS;UAAC1J,MAAM,EAAC,SAAR;UAAkBI,KAAK,EAAC,KAAKA;QAA7B,CAAT,CAAxC,CAA1F,EAAkLjF,CAAC,CAAC2O,UAAF,GAAa,CAAC,CAAhM;MAAkM;;MAAAtO,CAAC,CAACwJ,OAAF,GAAU9G,CAAC,CAACiE,OAAZ,KAAsBhH,CAAC,CAAC+J,YAAF,GAAe,MAAI,MAAI,KAAKF,OAAlD,GAA2D,KAAKmF,0BAAL,CAAgChP,CAAC,CAAC0K,QAAlC,CAA3D;IAAuG;;IAAA,OAAOzK,CAAP;EAAS;;EAAA+O,0BAA0B,CAAChP,CAAD,EAAG;IAAC,KAAKiP,2BAAL,CAAiCjP,CAAjC,EAAoCA,CAAC,IAAE;MAACA,CAAC,CAACkP,KAAF,IAAS,eAAalP,CAAC,CAACmP,KAAf,IAAsB,mBAAiBnP,CAAC,CAACmP,KAAlD,KAA0DnP,CAAC,CAACoP,OAAF,IAAWpP,CAAC,CAACoP,OAAF,CAAUF,KAArB,GAA2BlP,CAAC,CAACkP,KAAF,GAAQlP,CAAC,CAACoP,OAAF,CAAUF,KAA7C,GAAmDlP,CAAC,CAACkP,KAAF,GAAQ,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CAArH;IAAgI,CAAxK;EAA2K;;EAAAD,2BAA2B,CAACjP,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAGD,CAAH,EAAK;MAAC,MAAMG,CAAC,GAAC,CAAC,sBAAqBH,CAArB,GAAuBA,CAAC,CAACqP,gBAAzB,GAA0C,qBAAoBrP,CAApB,GAAsBA,CAAC,CAACsP,eAAxB,GAAwC,IAAnF,KAA0F,EAAlG;;MAAqG,KAAI,MAAMtP,CAAV,IAAeG,CAAf,EAAiBsE,CAAC,CAACzE,CAAC,CAACuP,MAAH,CAAD,IAAatP,CAAC,CAACD,CAAC,CAACuP,MAAH,CAAd;;MAAyB,YAAWvP,CAAX,IAAcyE,CAAC,CAACzE,CAAC,CAACuP,MAAH,CAAf,IAA2BtP,CAAC,CAACD,CAAC,CAACuP,MAAH,CAA5B,EAAuC,mBAAkBvP,CAAlB,IAAqByE,CAAC,CAACzE,CAAC,CAACwP,aAAH,CAAtB,IAAyCvP,CAAC,CAACD,CAAC,CAACwP,aAAH,CAAjF;IAAmG;EAAC;;EAAApH,kBAAkB,CAACpI,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAME,CAAC,GAAC,KAAK8E,KAAb;IAAA,MAAmB5E,CAAC,GAAC,KAAKoI,IAAL,CAAUzI,CAAV,CAArB;;IAAkC,IAAIM,CAAJ,EAAME,CAAN;;IAAQ,QAAOR,CAAP;MAAU,KAAI,sBAAJ;MAA2B,KAAI,WAAJ;QAAgBM,CAAC,GAAC,sCAAF;QAAyC;;MAAM,KAAI,UAAJ;MAAe,KAAI,UAAJ;MAAe,KAAI,SAAJ;QAAcA,CAAC,GAAC,4BAAF;QAA+B;;MAAM,KAAI,cAAJ;MAAmB,KAAI,eAAJ;MAAoB,KAAI,SAAJ;MAAc,KAAI,UAAJ;MAAe,KAAI,QAAJ;QAAaA,CAAC,GAAC,uBAAF,EAA0BE,CAAC,GAAC,sBAA5B;IAAtQ;;IAAyT,MAAMC,CAAC,GAAC0C,CAAC,CAAC,IAAD,CAAD,CAAQsM,gBAAR,EAAR;;IAAmC,IAAG,cAAYhP,CAAf,EAAiB;MAAC,IAAGH,CAAC,IAAE,CAAC,CAAD,KAAK,KAAK2E,KAAL,EAAYY,YAAZ,EAA0BkC,SAA1B,GAAsCzH,CAAtC,CAAX,EAAoD,OAAO,KAAK,KAAKsI,eAAL,CAAqB5I,CAArB,EAAwB,0DAAyDM,CAAE,GAAnF,CAAZ;MAAmG,IAAGE,CAAC,IAAE,CAAC,CAAD,KAAK,KAAKqF,YAAL,EAAmBkC,SAAnB,CAA6BvH,CAA7B,CAAX,EAA2C,OAAO,KAAK,KAAKoI,eAAL,CAAqB5I,CAArB,EAAwB,oDAAmDQ,CAAE,GAA7E,CAAZ;IAA6F;;IAAA,aAAWR,CAAX,IAAc,iBAAe,KAAK0P,UAAlC,IAA8C,KAAK/G,IAAL,CAAU3I,CAAV,EAAYC,CAAZ,GAAe,cAAYQ,CAAZ,IAAeJ,CAAC,KAAGJ,CAAnB,IAAsBE,CAAtB,IAAyBA,CAAC,CAACwP,IAA3B,IAAiCxP,CAAC,CAACwP,IAAF,CAAO,iBAAP,EAAyB;MAACC,YAAY,EAAC5P,CAAd;MAAgB6P,MAAM,EAAC;IAAvB,CAAzB,CAA9F,IAAsJ,KAAKjH,eAAL,CAAqB5I,CAArB,EAAuB,yDAAvB,CAAtJ;EAAwO;;EAAA+K,sBAAsB,CAAC/K,CAAD,EAAGC,CAAH,EAAK;IAACA,CAAC,KAAGA,CAAC,CAACoJ,OAAF,CAAWrJ,CAAC,IAAE;MAACA,CAAC,CAACkK,MAAF,GAAS,IAAT,EAAclK,CAAC,CAACiF,KAAF,GAAQ,IAAtB;IAA2B,CAA1C,GAA6C,KAAK6K,OAAL,CAAaC,SAAb,EAAhD,CAAD,EAA2E/P,CAAC,KAAGA,CAAC,CAACqJ,OAAF,CAAWrJ,CAAC,IAAE;MAACA,CAAC,CAACkK,MAAF,GAAS,IAAT,EAAclK,CAAC,CAACiF,KAAF,GAAQ,KAAKA,KAA3B;IAAiC,CAAhD,GAAmD,KAAK6K,OAAL,CAAapK,GAAb,CAAiB,CAAC1F,CAAC,CAACgQ,EAAF,CAAK,WAAL,EAAkB,CAAC;MAACC,IAAI,EAACjQ;IAAN,CAAD,KAAY;MAACA,CAAC,CAACkK,MAAF,GAAS,IAAT,EAAclK,CAAC,CAACiF,KAAF,GAAQ,KAAKA,KAA3B;IAAiC,CAAhE,CAAD,EAAoEjF,CAAC,CAACgQ,EAAF,CAAK,cAAL,EAAqB,CAAC;MAACC,IAAI,EAACjQ;IAAN,CAAD,KAAY;MAACA,CAAC,CAACkK,MAAF,GAAS,IAAT,EAAclK,CAAC,CAACiF,KAAF,GAAQ,IAAtB;IAA2B,CAA7D,CAApE,EAAoIjF,CAAC,CAACgQ,EAAF,CAAK,gBAAL,EAAuBhQ,CAAC,IAAE;MAAC,MAAMC,CAAC,GAAC,KAAKgF,KAAL,EAAYY,YAAZ,EAA0BkC,SAA1B,EAAqCmI,wBAA7C;MAAsE,QAAMjQ,CAAN,IAASA,CAAT,KAAakB,CAAC,CAACyJ,SAAF,CAAY,KAAKC,aAAjB,EAAgCsF,KAAhC,CAAsC,IAAIzP,CAAJ,CAAM,mCAAN,EAA0C,uEAA1C,EAAkH;QAACqG,QAAQ,EAAC,IAAV;QAAe9B,KAAK,EAAC,KAAKA;MAA1B,CAAlH,CAAtC,GAA2LjF,CAAC,CAACoQ,cAAF,EAAxM;IAA4N,CAA7T,CAApI,CAAjB,CAAtD,CAA5E;EAA0lB;;EAAAxH,eAAe,CAAC5I,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAK;MAACgF,KAAK,EAAC9E,CAAP;MAAS0K,aAAa,EAACxK;IAAvB,IAA0B,IAA/B;IAAoCc,CAAC,CAACyJ,SAAF,CAAYvK,CAAZ,EAAe8P,KAAf,CAAqB,IAAIzP,CAAJ,CAAM,iBAAN,EAAyB,aAAY2P,MAAM,CAACrQ,CAAD,CAAI,kDAAiDG,CAAC,EAAEiH,EAAG,GAAtG,EAAyG;MAACkJ,MAAM,EAACrQ,CAAR;MAAU8G,QAAQ,EAAC,IAAnB;MAAwB9B,KAAK,EAAC9E;IAA9B,CAAzG,CAArB;EAAiK;;EAAAmN,eAAe,CAACtN,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAKoI,WAAL,CAAiByE,GAAjB,CAAqB9M,CAArB,CAAR;IAAgC,OAAOC,CAAC,GAACA,CAAC,CAACsQ,MAAH,GAAU,IAAlB;EAAuB;;AAAr9W,CAAjC;AAAw/W5K,CAAC,CAAC6K,IAAF,GAAO;EAACC,6BAA6B,EAACzQ,CAAC,IAAEA,CAAC,KAAGqF,CAAJ,IAAOrF,CAAC,KAAG2E,CAA7C;EAA+C+L,8BAA8B,EAAC1Q,CAAC,IAAEA,CAAC,KAAGmF;AAArF,CAAP,EAA+FnF,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC8O,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBhL,CAAC,CAACiL,SAAtB,EAAgC,cAAhC,EAA+C,KAAK,CAApD,CAAhG,EAAuJ5Q,CAAC,CAAC,CAACiC,CAAC,CAAC,SAAD,EAAW,cAAX,EAA0B,CAAC,gCAAD,EAAkC,8BAAlC,CAA1B,CAAF,CAAD,EAAiG0D,CAAC,CAACiL,SAAnG,EAA6G,kBAA7G,EAAgI,IAAhI,CAAxJ,EAA8R5Q,CAAC,CAAC,CAAC6B,CAAC,EAAF,CAAD,EAAO8D,CAAC,CAACiL,SAAT,EAAmB,sBAAnB,EAA0C,IAA1C,CAA/R,EAA+U5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC2L,MAAN;EAAaQ,KAAK,EAAC,IAAnB;EAAwBC,IAAI,EAAC;IAACtI,IAAI,EAAC,sCAAN;IAA6CU,KAAK,EAAC;MAACnE,SAAS,EAAC,CAAC,CAAZ;MAAcgM,cAAc,EAACpM;IAA7B;EAAnD;AAA7B,CAAD,CAAF,CAAD,EAAwHgB,CAAC,CAACiL,SAA1H,EAAoI,sBAApI,EAA2J,IAA3J,CAAhV,EAAif5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC,CAACpB,CAAD,CAAN;EAAUwN,IAAI,EAAC;IAACE,OAAO,EAAC;MAACC,OAAO,EAAC;QAAC1J,IAAI,EAAC;UAACV,MAAM,EAAC;QAAR;MAAN;IAAT;EAAT;AAAf,CAAD,CAAF,CAAD,EAAmFlB,CAAC,CAACiL,SAArF,EAA+F,QAA/F,EAAwG,KAAK,CAA7G,CAAlf,EAAkmB5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC8O,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBhL,CAAC,CAACiL,SAAtB,EAAgC,aAAhC,EAA8C,IAA9C,CAAnmB,EAAupB5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAChB,CAAN;EAAQmN,KAAK,EAAC,IAAd;EAAmBC,IAAI,EAAC;IAACtI,IAAI,EAAC,2BAAN;IAAkCjB,IAAI,EAAC;MAACV,MAAM,EAAC;IAAR,CAAvC;IAA4EqC,KAAK,EAAC;MAAC2G,MAAM,EAAC,2BAAR;MAAoCkB,cAAc,EAACpM;IAAnD,CAAlF;IAAwIqM,OAAO,EAAC;MAAC,aAAY;QAACzJ,IAAI,EAAC,CAAC,CAAP;QAAS2B,KAAK,EAAC,CAAC;MAAhB;IAAb;EAAhJ;AAAxB,CAAD,CAAF,CAAD,EAAiNvD,CAAC,CAACiL,SAAnN,EAA6N,WAA7N,EAAyO,IAAzO,CAAxpB,EAAu4B5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAACL,CAAN;EAAQyM,IAAI,EAAC;IAACvJ,IAAI,EAAC;MAACV,MAAM,EAAC;IAAR;EAAN;AAAb,CAAD,CAAF,CAAD,EAA6DlB,CAAC,CAACiL,SAA/D,EAAyE,YAAzE,EAAsF,KAAK,CAA3F,CAAx4B,EAAs+B5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAACH,CAAC,CAAC2M,SAAR;EAAkBJ,IAAI,EAAC;IAACE,OAAO,EAAC;MAACC,OAAO,EAAC;QAACzI,IAAI,EAAC,8BAAN;QAAqCjB,IAAI,EAAC;UAACvF,MAAM,EAACuC,CAAC,CAACgD;QAAV;MAA1C;IAAT;EAAT;AAAvB,CAAD,CAAF,CAAD,EAA6G5B,CAAC,CAACiL,SAA/G,EAAyH,cAAzH,EAAwI,KAAK,CAA7I,CAAv+B,EAAunC5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC2L;AAAN,CAAD,CAAF,CAAD,EAAoB1K,CAAC,CAACiL,SAAtB,EAAgC,eAAhC,EAAgD,KAAK,CAArD,CAAxnC,EAAgrC5Q,CAAC,CAAC,CAACiC,CAAC,CAAC,SAAD,EAAW,eAAX,EAA2B,CAAC,+BAAD,EAAiC,wBAAjC,CAA3B,CAAF,CAAD,EAA2F0D,CAAC,CAACiL,SAA7F,EAAuG,8BAAvG,EAAsI,IAAtI,CAAjrC,EAA6zC5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC/B,CAAN;EAAQmO,IAAI,EAAC;IAAC5H,KAAK,EAAC;MAACpE,YAAY,EAAC,CAAC;IAAf;EAAP;AAAb,CAAD,CAAF,CAAD,EAA8Ca,CAAC,CAACiL,SAAhD,EAA0D,IAA1D,EAA+D,IAA/D,CAA9zC,EAAm4C5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAACgP,KAAK,EAAC,IAAP;EAAYnM,IAAI,EAAC,CAACnB,CAAD,CAAjB;EAAqBuN,IAAI,EAAC;IAACvJ,IAAI,EAAC;MAACV,MAAM,EAAC;IAAR,CAAN;IAA0DqC,KAAK,EAAC;MAAC2G,MAAM,EAAC,0CAAR;MAAmDkB,cAAc,EAAC1L;IAAlE;EAAhE;AAA1B,CAAD,CAAF,CAAD,EAAuKM,CAAC,CAACiL,SAAzK,EAAmL,cAAnL,EAAkM,IAAlM,CAAp4C,EAA4kD5Q,CAAC,CAAC,CAACqC,CAAC,CAAC,cAAD,CAAF,CAAD,EAAqBsD,CAAC,CAACiL,SAAvB,EAAiC,mBAAjC,EAAqD,IAArD,CAA7kD,EAAwoD5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAACyM,OAAN;EAAcN,KAAK,EAAC,CAAC,CAArB;EAAuBC,IAAI,EAAC;IAACvJ,IAAI,EAAC;MAACV,MAAM,EAAC;IAAR,CAAN;IAAwDqC,KAAK,EAAC;MAAC2G,MAAM,EAAC,wCAAR;MAAiDkB,cAAc,EAAC1L;IAAhE;EAA9D;AAA5B,CAAD,CAAF,CAAD,EAAqKM,CAAC,CAACiL,SAAvK,EAAiL,eAAjL,EAAiM,IAAjM,CAAzoD,EAAg1D5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAACgP,KAAK,EAAC;AAAP,CAAD,CAAF,CAAD,EAAmBlL,CAAC,CAACiL,SAArB,EAA+B,OAA/B,EAAuC,IAAvC,CAAj1D,EAA83D5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAACyM,OAAN;EAAcN,KAAK,EAAC,CAAC,CAArB;EAAuBC,IAAI,EAAC;IAACE,OAAO,EAAC;MAACC,OAAO,EAAC;QAAC1J,IAAI,EAAC;UAACvC,OAAO,EAAC,CAAC;QAAV;MAAN;IAAT,CAAT;IAAuCuC,IAAI,EAAC;MAACV,MAAM,EAAC;IAAR,CAA5C;IAAkEqC,KAAK,EAAC;MAAC2G,MAAM,EAAC,YAAR;MAAqBkB,cAAc,EAACzL;IAApC;EAAxE;AAA5B,CAAD,CAAF,CAAD,EAAmJK,CAAC,CAACiL,SAArJ,EAA+J,eAA/J,EAA+K,KAAK,CAApL,CAA/3D,EAAsjE5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC,CAAC,MAAD,EAAQ,MAAR,EAAe,eAAf,CAAN;EAAsCmM,KAAK,EAAC,MAA5C;EAAmDC,IAAI,EAAC;IAACvJ,IAAI,EAAC,CAAC,CAAP;IAAS2B,KAAK,EAAC,CAAC,CAAhB;IAAkB8H,OAAO,EAAC;MAAC,aAAY;QAACzJ,IAAI,EAAC,CAAC,CAAP;QAAS2B,KAAK,EAAC,CAAC;MAAhB;IAAb;EAA1B;AAAxD,CAAD,CAAF,CAAD,EAA2HvD,CAAC,CAACiL,SAA7H,EAAuI,UAAvI,EAAkJ,IAAlJ,CAAvjE,EAA+sE5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC0M,MAAN;EAAaP,KAAK,EAAC,CAAnB;EAAqBC,IAAI,EAAC;IAAC5H,KAAK,EAAC;MAAC6H,cAAc,EAAC1L;IAAhB;EAAP;AAA1B,CAAD,CAAF,CAAD,EAA4DM,CAAC,CAACiL,SAA9D,EAAwE,UAAxE,EAAmF,IAAnF,CAAhtE,EAAyyE5Q,CAAC,CAAC,CAACiC,CAAC,CAAC,UAAD,EAAY,CAAC,UAAD,EAAY,0BAAZ,CAAZ,CAAF,CAAD,EAAyD0D,CAAC,CAACiL,SAA3D,EAAqE,cAArE,EAAoF,IAApF,CAA1yE,EAAo4E5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC0M,MAAN;EAAaP,KAAK,EAAC,CAAnB;EAAqBC,IAAI,EAAC;IAAC5H,KAAK,EAAC;MAAC6H,cAAc,EAAC1L;IAAhB;EAAP;AAA1B,CAAD,CAAF,CAAD,EAA4DM,CAAC,CAACiL,SAA9D,EAAwE,UAAxE,EAAmF,IAAnF,CAAr4E,EAA89E5Q,CAAC,CAAC,CAACiC,CAAC,CAAC,UAAD,EAAY,CAAC,UAAD,EAAY,0BAAZ,CAAZ,CAAF,CAAD,EAAyD0D,CAAC,CAACiL,SAA3D,EAAqE,cAArE,EAAoF,IAApF,CAA/9E,EAAyjF5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC8O,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBhL,CAAC,CAACiL,SAAtB,EAAgC,qBAAhC,EAAsD,IAAtD,CAA1jF,EAAsnF5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC2L;AAAN,CAAD,CAAF,CAAD,EAAoB1K,CAAC,CAACiL,SAAtB,EAAgC,eAAhC,EAAgD,KAAK,CAArD,CAAvnF,EAA+qF5Q,CAAC,CAAC,CAACiC,CAAC,CAAC,SAAD,EAAW,eAAX,EAA2B,CAAC,+BAAD,EAAiC,wBAAjC,CAA3B,CAAF,CAAD,EAA2F0D,CAAC,CAACiL,SAA7F,EAAuG,8BAAvG,EAAsI,IAAtI,CAAhrF,EAA4zF5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC0M,MAAN;EAAaP,KAAK,EAAC,CAAnB;EAAqBC,IAAI,EAAC;IAAC5H,KAAK,EAAC;MAAC2G,MAAM,EAAC,0CAAR;MAAmDkB,cAAc,EAAC1L;IAAlE;EAAP;AAA1B,CAAD,CAAF,CAAD,EAA8GM,CAAC,CAACiL,SAAhH,EAA0H,SAA1H,EAAoI,IAApI,CAA7zF,EAAu8F5Q,CAAC,CAAC,CAACiC,CAAC,CAAC,SAAD,EAAW,CAAC,0CAAD,EAA4C,8BAA5C,CAAX,CAAF,CAAD,EAA4F0D,CAAC,CAACiL,SAA9F,EAAwG,aAAxG,EAAsH,IAAtH,CAAx8F,EAAokG5Q,CAAC,CAAC,CAACqC,CAAC,CAAC,SAAD,CAAF,CAAD,EAAgBsD,CAAC,CAACiL,SAAlB,EAA4B,cAA5B,EAA2C,IAA3C,CAArkG,EAAsnG5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAACiP,IAAI,EAAC;IAACpM,IAAI,EAAC/B,CAAN;IAAQuG,KAAK,EAAC;MAAC2G,MAAM,EAAC,eAAR;MAAwBwB,oBAAoB,EAAC,CAAC,CAA9C;MAAgDN,cAAc,EAAC1L;IAA/D;EAAd;AAAN,CAAD,CAAF,CAAD,EAA8FM,CAAC,CAACiL,SAAhG,EAA0G,QAA1G,EAAmH,KAAK,CAAxH,CAAvnG,EAAkvG5Q,CAAC,CAAC,CAACqC,CAAC,CAAC,QAAD,CAAF,CAAD,EAAesD,CAAC,CAACiL,SAAjB,EAA2B,aAA3B,EAAyC,IAAzC,CAAnvG,EAAkyG5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAACyM,OAAN;EAAcN,KAAK,EAAC,CAAC,CAArB;EAAuBC,IAAI,EAAC;IAACvJ,IAAI,EAAC;MAACV,MAAM,EAAC,cAAR;MAAuB7E,MAAM,EAAC,CAAChC,CAAD,EAAGC,CAAH,KAAO,CAACA,CAAC,CAACqR;IAAxC,CAAN;IAA4DpI,KAAK,EAAC;MAAC2G,MAAM,EAAC,cAAR;MAAuBkB,cAAc,EAACzL,CAAtC;;MAAwClD,MAAM,CAACpC,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAO;QAACF,CAAC,CAACE,CAAD,CAAD,GAAK,CAACH,CAAN;MAAQ;;IAA9D;EAAlE;AAA5B,CAAD,CAAF,CAAD,EAAsK2F,CAAC,CAACiL,SAAxK,EAAkL,cAAlL,EAAiM,KAAK,CAAtM,CAAnyG,EAA4+G5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAACzE,CAAN;EAAQ6Q,IAAI,EAAC;IAACvJ,IAAI,EAAC;MAACV,MAAM,EAAC;IAAR,CAAN;IAA2BqC,KAAK,EAAC;MAAC2G,MAAM,EAAC,WAAR;MAAoBkB,cAAc,EAACzL;IAAnC;EAAjC;AAAb,CAAD,CAAF,CAAD,EAA4FK,CAAC,CAACiL,SAA9F,EAAwG,eAAxG,EAAwH,KAAK,CAA7H,CAA7+G,EAA6mH5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC8O,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBhL,CAAC,CAACiL,SAAtB,EAAgC,WAAhC,EAA4C,IAA5C,CAA9mH,EAAgqH5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC4E,KAAK,EAACtG,CAAP;EAAS0Q,KAAK,EAAC,IAAf;EAAoBC,IAAI,EAAC;IAACtI,IAAI,EAAC,sCAAN;IAA6CU,KAAK,EAAC;MAAC6H,cAAc,EAAC1L;IAAhB,CAAnD;IAAsE2L,OAAO,EAAC;MAAC,aAAY;QAACvK,KAAK,EAACpG,CAAP;QAASmI,IAAI,EAAC,sCAAd;QAAqDU,KAAK,EAAC;UAAC6H,cAAc,EAAC1L;QAAhB;MAA3D;IAAb;EAA9E;AAAzB,CAAD,CAAF,CAAD,EAA4MM,CAAC,CAACiL,SAA9M,EAAwN,UAAxN,EAAmO,IAAnO,CAAjqH,EAA04H5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC4E,KAAK,EAAC;IAAC8K,GAAG,EAAC,MAAL;IAAYC,IAAI,EAAC,IAAjB;IAAsBC,OAAO,EAAC;MAAC,cAAa3N,CAAd;MAAgB,aAAYE;IAA5B;EAA9B,CAAP;;EAAqElC,IAAI,CAAC9B,CAAD,EAAG;IAAC,IAAGA,CAAH,EAAK;MAAC,IAAG,gBAAeA,CAAlB,EAAoB,OAAO6C,CAAC,CAACmB,CAAD,EAAGhE,CAAH,CAAR;MAAc,IAAG,gBAAeA,CAAlB,EAAoB,OAAO6C,CAAC,CAACiB,CAAD,EAAG9D,CAAH,CAAR;IAAc;;IAAA,OAAOA,CAAP;EAAS,CAAhK;;EAAiK8Q,IAAI,EAAC;IAACtI,IAAI,EAAC,wBAAN;IAA+BU,KAAK,EAAC;MAAC6H,cAAc,EAAC1L;IAAhB;EAArC;AAAtK,CAAD,CAAF,CAAD,EAAsOM,CAAC,CAACiL,SAAxO,EAAkP,QAAlP,EAA2P,IAA3P,CAA34H,EAA4oI5Q,CAAC,CAAC,CAAC6B,CAAC,EAAF,CAAD,EAAO8D,CAAC,CAACiL,SAAT,EAAmB,YAAnB,EAAgC,KAAK,CAArC,CAA7oI,EAAqrI5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAACgP,KAAK,EAAC,IAAP;EAAYC,IAAI,EAAC;IAACpM,IAAI,EAAC,CAAC/B,CAAD,CAAN;IAAUuG,KAAK,EAAC;MAAC2G,MAAM,EAAC,aAAR;MAAsB9K,SAAS,EAAC,CAAC,CAAjC;MAAmCgM,cAAc,EAAC1L;IAAlD;EAAhB;AAAjB,CAAD,CAAF,CAAD,EAA8FM,CAAC,CAACiL,SAAhG,EAA0G,WAA1G,EAAsH,IAAtH,CAAtrI,EAAkzI5Q,CAAC,CAAC,CAAC+B,CAAC,CAAC,WAAD,CAAF,CAAD,EAAkB4D,CAAC,CAACiL,SAApB,EAA8B,eAA9B,EAA8C,IAA9C,CAAnzI,EAAu2I5Q,CAAC,CAAC,CAACqC,CAAC,CAAC,WAAD,CAAF,CAAD,EAAkBsD,CAAC,CAACiL,SAApB,EAA8B,gBAA9B,EAA+C,IAA/C,CAAx2I,EAA65I5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC2L,MAAN;EAAaS,IAAI,EAAC;IAACtI,IAAI,EAAC,MAAN;IAAaU,KAAK,EAAC;MAAC6H,cAAc,EAACzL;IAAhB;EAAnB;AAAlB,CAAD,CAAF,CAAD,EAAgEK,CAAC,CAACiL,SAAlE,EAA4E,OAA5E,EAAoF,KAAK,CAAzF,CAA95I,EAA0/I5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC2L;AAAN,CAAD,CAAF,CAAD,EAAoB1K,CAAC,CAACiL,SAAtB,EAAgC,aAAhC,EAA8C,KAAK,CAAnD,CAA3/I,EAAijJ5Q,CAAC,CAAC,CAACiC,CAAC,CAAC,aAAD,EAAe,CAAC,6BAAD,CAAf,CAAF,CAAD,EAAoD0D,CAAC,CAACiL,SAAtD,EAAgE,iBAAhE,EAAkF,IAAlF,CAAljJ,EAA0oJ5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC,CAACrB,CAAD,CAAN;EAAUyN,IAAI,EAAC;IAACE,OAAO,EAAC;MAACC,OAAO,EAAC;QAAC1J,IAAI,EAAC;UAACV,MAAM,EAAC;QAAR;MAAN;IAAT;EAAT;AAAf,CAAD,CAAF,CAAD,EAAkFlB,CAAC,CAACiL,SAApF,EAA8F,OAA9F,EAAsG,KAAK,CAA3G,CAA3oJ,EAAyvJ5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAAC2L,MAAN;EAAaS,IAAI,EAAC;IAACvJ,IAAI,EAAC;MAACV,MAAM,EAAC;IAAR,CAAN;IAA0BqC,KAAK,EAAC;MAAC2G,MAAM,EAAC,UAAR;MAAmBkB,cAAc,EAAC5L;IAAlC;EAAhC;AAAlB,CAAD,CAAF,CAAD,EAA+FQ,CAAC,CAACiL,SAAjG,EAA2G,KAA3G,EAAiH,IAAjH,CAA1vJ,EAAi3J5Q,CAAC,CAAC,CAAC6B,CAAC,CAAC;EAAC6C,IAAI,EAACyM,OAAN;EAAcN,KAAK,EAAC,CAAC,CAArB;EAAuBC,IAAI,EAAC;IAACvJ,IAAI,EAAC;MAACV,MAAM,EAAC;IAAR,CAAN;IAAmCqC,KAAK,EAAC;MAAC2G,MAAM,EAAC,mBAAR;MAA4BkB,cAAc,EAAC1L;IAA3C;EAAzC;AAA5B,CAAD,CAAF,CAAD,EAA2HM,CAAC,CAACiL,SAA7H,EAAuI,SAAvI,EAAiJ,IAAjJ,CAAl3J,EAAygK5Q,CAAC,CAAC,CAACqC,CAAC,CAAC,SAAD,CAAF,CAAD,EAAgBsD,CAAC,CAACiL,SAAlB,EAA4B,cAA5B,EAA2C,IAA3C,CAA1gK,EAA2jKjL,CAAC,GAACnB,CAAC,GAACxE,CAAC,CAAC,CAACmC,CAAC,CAAC,8BAAD,CAAF,CAAD,EAAqCwD,CAArC,CAAhkK;AAAwmK,MAAM+L,CAAC,GAAC/L,CAAR;AAAU,SAAO+L,CAAC,IAAInF,OAAZ"},"metadata":{},"sourceType":"module"}