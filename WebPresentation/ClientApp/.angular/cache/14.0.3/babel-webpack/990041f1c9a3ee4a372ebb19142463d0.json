{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as t, isNone as e, unwrap as i } from \"../../../../../../core/maybe.js\";\nimport { pt2px as r } from \"../../../../../../core/screenUtils.js\";\nimport { a as s, r as o } from \"../../../../../../chunks/mat2d.js\";\nimport { c as h } from \"../../../../../../chunks/mat2df32.js\";\nimport { s as n, t as f } from \"../../../../../../chunks/vec2.js\";\nimport { f as a, c as x } from \"../../../../../../chunks/vec2f32.js\";\nimport { deltaDecodeGeometry as m, convertFromGeometry as _ } from \"../../../../../../layers/graphics/featureConversionUtils.js\";\nimport { CIMMarkerPlacementHelper as l } from \"../../../../../../symbols/cim/placements/CIMMarkerPlacementHelper.js\";\nimport { TILE_SIZE as p } from \"../../definitions.js\";\nimport { WGLGeometryType as c, WGLSymbologyType as v } from \"../../enums.js\";\nimport { i1616to32 as d } from \"../../number.js\";\nimport { MarkerMaterialKey as W } from \"../../materialKey/MaterialKey.js\";\n\nconst g = 3.14159265359 / 180,\n      y = 8,\n      u = u => class extends u {\n  constructor(...t) {\n    super(...t), this.angle = 0, this.xOffset = 0, this.yOffset = 0, this.width = 0, this.height = 0, this.boundsType = \"square\", this._anchorX = 0, this._anchorY = 0, this._computedWidth = 0, this._computedHeight = 0, this._allowBorrowing = !0, this._vertexBoundsScaleX = 1, this._vertexBoundsScaleY = 1, this._offsets = {\n      xUpperLeft: 0,\n      yUpperLeft: 0,\n      xUpperRight: 0,\n      yUpperRight: 0,\n      xBottomLeft: 0,\n      yBottomLeft: 0,\n      xBottomRight: 0,\n      yBottomRight: 0\n    }, this.geometryType = c.MARKER;\n  }\n\n  _write(t, e, i, r) {\n    const s = e.getDisplayId();\n    t.recordStart(s, this._materialKey, this.geometryType, !0), this._writeGeometry(t, e, s, i, r), t.recordEnd();\n  }\n\n  _writeGeometry(i, r, s, o, h) {\n    if (t(this._markerPlacement)) return this._writePlacedMarkers(i, r, o, h);\n\n    if (this._allowBorrowing = !0, !h && \"esriGeometryPoint\" === r.geometryType) {\n      const t = r.getX(),\n            e = r.getY();\n      if (!i.hasAggregates && i.hasPixelBufferEnabled && (t < 0 || t >= 513 || e < 0 || e >= 513)) return;\n      return this._writeVertices(i, s, this._getPos(t, e), t, e);\n    }\n\n    const n = h ? m(_(h), 2) : \"esriGeometryPolygon\" === r.geometryType ? r.readCentroid() : r.readGeometryForDisplay();\n\n    if (!e(n)) {\n      if (n.isPoint) {\n        const [t, e] = n.coords;\n        if (!i.hasAggregates && i.hasPixelBufferEnabled && (t < 0 || t >= 512 || e < 0 || e >= 512)) return;\n        return this._writeVertices(i, s, this._getPos(t, e), t, e);\n      }\n\n      n.forEachVertex((t, e) => {\n        const r = 2 * p;\n        t < -r || t >= r || e < -r || e >= r || this._writeVertices(i, s, this._getPos(t, e), t, e);\n      });\n    }\n  }\n\n  _writePlacedMarkers(t, e, s, o) {\n    const n = o ?? e.readLegacyGeometryForDisplay(),\n          f = l.getPlacement(n, i(this._markerPlacement), r(1), t.tileKey, s.geometryEngine);\n    if (!f) return;\n    this._allowBorrowing = \"esriGeometryPolygon\" !== e.geometryType;\n\n    const a = e.getDisplayId(),\n          m = x(),\n          _ = h(),\n          p = -128,\n          c = 640;\n\n    let v = f.next();\n\n    for (; null != v;) {\n      const e = v.tx,\n            i = -v.ty;\n      e >= p && e <= c && i >= p && i <= c && (this._applyTransformation(_, m, -v.getAngle() / g), this._writeVertices(t, a, this._getPos(e, i), e, i)), v = f.next();\n    }\n  }\n\n  _writeVertices(t, e, i, r, s) {\n    const o = W.load(this._materialKey);\n    return o.symbologyType === v.HEATMAP ? this._writeHeatmapVertices(t, e, i) : this._writeMarkerVertices(t, e, o, i, r, s);\n  }\n\n  _writeMarkerVertices(t, e, i, r, s, o) {\n    const h = i.vvRotation,\n          n = t.vertexCount();\n    let f = this._computedWidth * this._vertexBoundsScaleX,\n        a = this._computedHeight * this._vertexBoundsScaleY;\n\n    if (this.angle) {\n      const t = Math.max(f, a);\n      f = t, a = t;\n    }\n\n    if (h) {\n      const t = Math.max(this.xOffset, this.yOffset);\n      f += t, a += t;\n    }\n\n    this._allowBorrowing && t.vertexBounds(s + this.xOffset, o - this.yOffset, f, a), t.vertexWrite(r), t.vertexWrite(this._offsetUpperLeft), t.vertexWrite(this._texUpperLeft), t.vertexWrite(this._bitestAndDistRatio), t.vertexWrite(e), t.vertexWrite(this._fillColor), t.vertexWrite(this._outlineColor), t.vertexWrite(this._sizeOutlineWidth), t.vertexWrite(this._minMaxZoom), t.vertexEnd(), t.vertexWrite(r), t.vertexWrite(this._offsetUpperRight), t.vertexWrite(this._texUpperRight), t.vertexWrite(this._bitestAndDistRatio), t.vertexWrite(e), t.vertexWrite(this._fillColor), t.vertexWrite(this._outlineColor), t.vertexWrite(this._sizeOutlineWidth), t.vertexWrite(this._minMaxZoom), t.vertexEnd(), t.vertexWrite(r), t.vertexWrite(this._offsetBottomLeft), t.vertexWrite(this._texBottomLeft), t.vertexWrite(this._bitestAndDistRatio), t.vertexWrite(e), t.vertexWrite(this._fillColor), t.vertexWrite(this._outlineColor), t.vertexWrite(this._sizeOutlineWidth), t.vertexWrite(this._minMaxZoom), t.vertexEnd(), t.vertexWrite(r), t.vertexWrite(this._offsetBottomRight), t.vertexWrite(this._texBottomRight), t.vertexWrite(this._bitestAndDistRatio), t.vertexWrite(e), t.vertexWrite(this._fillColor), t.vertexWrite(this._outlineColor), t.vertexWrite(this._sizeOutlineWidth), t.vertexWrite(this._minMaxZoom), t.vertexEnd(), this._writeIndices(t, n);\n  }\n\n  _writeHeatmapVertices(t, e, i) {\n    const r = t.vertexCount();\n    t.vertexWrite(i), t.vertexWrite(this._offsetUpperLeft), t.vertexWrite(e), t.vertexEnd(), t.vertexWrite(i), t.vertexWrite(this._offsetUpperRight), t.vertexWrite(e), t.vertexEnd(), t.vertexWrite(i), t.vertexWrite(this._offsetBottomLeft), t.vertexWrite(e), t.vertexEnd(), t.vertexWrite(i), t.vertexWrite(this._offsetBottomRight), t.vertexWrite(e), t.vertexEnd(), this._writeIndices(t, r);\n  }\n\n  _writeIndices(t, e) {\n    t.indexWrite(e + 0), t.indexWrite(e + 1), t.indexWrite(e + 2), t.indexWrite(e + 1), t.indexWrite(e + 3), t.indexWrite(e + 2);\n  }\n\n  _applyTransformation(t, e, i = 0) {\n    s(t, a(this.xOffset, -this.yOffset)), null != this.angle && this.angle + i !== 0 && o(t, t, g * (this.angle + i));\n    const r = this._computedWidth,\n          h = this._computedHeight,\n          x = -(.5 + this._anchorX) * r,\n          m = -(.5 - this._anchorY) * h;\n    n(e, x, m), f(e, e, t), this._offsetUpperLeft = d(16 * e[0], 16 * e[1]), this._offsets.xUpperLeft = e[0], this._offsets.yUpperLeft = e[1], n(e, x + r, m), f(e, e, t), this._offsetUpperRight = d(16 * e[0], 16 * e[1]), this._offsets.xUpperRight = e[0], this._offsets.yUpperRight = e[1], n(e, x, m + h), f(e, e, t), this._offsetBottomLeft = d(16 * e[0], 16 * e[1]), this._offsets.xBottomLeft = e[0], this._offsets.yBottomLeft = e[1], n(e, x + r, m + h), f(e, e, t), this._offsetBottomRight = d(16 * e[0], 16 * e[1]), this._offsets.xBottomRight = e[0], this._offsets.yBottomRight = e[1];\n  }\n\n  _getPos(t, e) {\n    return d(Math.round(y * t), Math.round(y * e));\n  }\n\n};\n\nexport { u as default };","map":{"version":3,"names":["isSome","t","isNone","e","unwrap","i","pt2px","r","a","s","o","c","h","n","f","x","deltaDecodeGeometry","m","convertFromGeometry","_","CIMMarkerPlacementHelper","l","TILE_SIZE","p","WGLGeometryType","WGLSymbologyType","v","i1616to32","d","MarkerMaterialKey","W","g","y","u","constructor","angle","xOffset","yOffset","width","height","boundsType","_anchorX","_anchorY","_computedWidth","_computedHeight","_allowBorrowing","_vertexBoundsScaleX","_vertexBoundsScaleY","_offsets","xUpperLeft","yUpperLeft","xUpperRight","yUpperRight","xBottomLeft","yBottomLeft","xBottomRight","yBottomRight","geometryType","MARKER","_write","getDisplayId","recordStart","_materialKey","_writeGeometry","recordEnd","_markerPlacement","_writePlacedMarkers","getX","getY","hasAggregates","hasPixelBufferEnabled","_writeVertices","_getPos","readCentroid","readGeometryForDisplay","isPoint","coords","forEachVertex","readLegacyGeometryForDisplay","getPlacement","tileKey","geometryEngine","next","tx","ty","_applyTransformation","getAngle","load","symbologyType","HEATMAP","_writeHeatmapVertices","_writeMarkerVertices","vvRotation","vertexCount","Math","max","vertexBounds","vertexWrite","_offsetUpperLeft","_texUpperLeft","_bitestAndDistRatio","_fillColor","_outlineColor","_sizeOutlineWidth","_minMaxZoom","vertexEnd","_offsetUpperRight","_texUpperRight","_offsetBottomLeft","_texBottomLeft","_offsetBottomRight","_texBottomRight","_writeIndices","indexWrite","round","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/WGLBaseMarkerTemplate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e,unwrap as i}from\"../../../../../../core/maybe.js\";import{pt2px as r}from\"../../../../../../core/screenUtils.js\";import{a as s,r as o}from\"../../../../../../chunks/mat2d.js\";import{c as h}from\"../../../../../../chunks/mat2df32.js\";import{s as n,t as f}from\"../../../../../../chunks/vec2.js\";import{f as a,c as x}from\"../../../../../../chunks/vec2f32.js\";import{deltaDecodeGeometry as m,convertFromGeometry as _}from\"../../../../../../layers/graphics/featureConversionUtils.js\";import{CIMMarkerPlacementHelper as l}from\"../../../../../../symbols/cim/placements/CIMMarkerPlacementHelper.js\";import{TILE_SIZE as p}from\"../../definitions.js\";import{WGLGeometryType as c,WGLSymbologyType as v}from\"../../enums.js\";import{i1616to32 as d}from\"../../number.js\";import{MarkerMaterialKey as W}from\"../../materialKey/MaterialKey.js\";const g=3.14159265359/180,y=8,u=u=>class extends u{constructor(...t){super(...t),this.angle=0,this.xOffset=0,this.yOffset=0,this.width=0,this.height=0,this.boundsType=\"square\",this._anchorX=0,this._anchorY=0,this._computedWidth=0,this._computedHeight=0,this._allowBorrowing=!0,this._vertexBoundsScaleX=1,this._vertexBoundsScaleY=1,this._offsets={xUpperLeft:0,yUpperLeft:0,xUpperRight:0,yUpperRight:0,xBottomLeft:0,yBottomLeft:0,xBottomRight:0,yBottomRight:0},this.geometryType=c.MARKER}_write(t,e,i,r){const s=e.getDisplayId();t.recordStart(s,this._materialKey,this.geometryType,!0),this._writeGeometry(t,e,s,i,r),t.recordEnd()}_writeGeometry(i,r,s,o,h){if(t(this._markerPlacement))return this._writePlacedMarkers(i,r,o,h);if(this._allowBorrowing=!0,!h&&\"esriGeometryPoint\"===r.geometryType){const t=r.getX(),e=r.getY();if(!i.hasAggregates&&i.hasPixelBufferEnabled&&(t<0||t>=513||e<0||e>=513))return;return this._writeVertices(i,s,this._getPos(t,e),t,e)}const n=h?m(_(h),2):\"esriGeometryPolygon\"===r.geometryType?r.readCentroid():r.readGeometryForDisplay();if(!e(n)){if(n.isPoint){const[t,e]=n.coords;if(!i.hasAggregates&&i.hasPixelBufferEnabled&&(t<0||t>=512||e<0||e>=512))return;return this._writeVertices(i,s,this._getPos(t,e),t,e)}n.forEachVertex(((t,e)=>{const r=2*p;t<-r||t>=r||e<-r||e>=r||this._writeVertices(i,s,this._getPos(t,e),t,e)}))}}_writePlacedMarkers(t,e,s,o){const n=o??e.readLegacyGeometryForDisplay(),f=l.getPlacement(n,i(this._markerPlacement),r(1),t.tileKey,s.geometryEngine);if(!f)return;this._allowBorrowing=\"esriGeometryPolygon\"!==e.geometryType;const a=e.getDisplayId(),m=x(),_=h(),p=-128,c=640;let v=f.next();for(;null!=v;){const e=v.tx,i=-v.ty;e>=p&&e<=c&&i>=p&&i<=c&&(this._applyTransformation(_,m,-v.getAngle()/g),this._writeVertices(t,a,this._getPos(e,i),e,i)),v=f.next()}}_writeVertices(t,e,i,r,s){const o=W.load(this._materialKey);return o.symbologyType===v.HEATMAP?this._writeHeatmapVertices(t,e,i):this._writeMarkerVertices(t,e,o,i,r,s)}_writeMarkerVertices(t,e,i,r,s,o){const h=i.vvRotation,n=t.vertexCount();let f=this._computedWidth*this._vertexBoundsScaleX,a=this._computedHeight*this._vertexBoundsScaleY;if(this.angle){const t=Math.max(f,a);f=t,a=t}if(h){const t=Math.max(this.xOffset,this.yOffset);f+=t,a+=t}this._allowBorrowing&&t.vertexBounds(s+this.xOffset,o-this.yOffset,f,a),t.vertexWrite(r),t.vertexWrite(this._offsetUpperLeft),t.vertexWrite(this._texUpperLeft),t.vertexWrite(this._bitestAndDistRatio),t.vertexWrite(e),t.vertexWrite(this._fillColor),t.vertexWrite(this._outlineColor),t.vertexWrite(this._sizeOutlineWidth),t.vertexWrite(this._minMaxZoom),t.vertexEnd(),t.vertexWrite(r),t.vertexWrite(this._offsetUpperRight),t.vertexWrite(this._texUpperRight),t.vertexWrite(this._bitestAndDistRatio),t.vertexWrite(e),t.vertexWrite(this._fillColor),t.vertexWrite(this._outlineColor),t.vertexWrite(this._sizeOutlineWidth),t.vertexWrite(this._minMaxZoom),t.vertexEnd(),t.vertexWrite(r),t.vertexWrite(this._offsetBottomLeft),t.vertexWrite(this._texBottomLeft),t.vertexWrite(this._bitestAndDistRatio),t.vertexWrite(e),t.vertexWrite(this._fillColor),t.vertexWrite(this._outlineColor),t.vertexWrite(this._sizeOutlineWidth),t.vertexWrite(this._minMaxZoom),t.vertexEnd(),t.vertexWrite(r),t.vertexWrite(this._offsetBottomRight),t.vertexWrite(this._texBottomRight),t.vertexWrite(this._bitestAndDistRatio),t.vertexWrite(e),t.vertexWrite(this._fillColor),t.vertexWrite(this._outlineColor),t.vertexWrite(this._sizeOutlineWidth),t.vertexWrite(this._minMaxZoom),t.vertexEnd(),this._writeIndices(t,n)}_writeHeatmapVertices(t,e,i){const r=t.vertexCount();t.vertexWrite(i),t.vertexWrite(this._offsetUpperLeft),t.vertexWrite(e),t.vertexEnd(),t.vertexWrite(i),t.vertexWrite(this._offsetUpperRight),t.vertexWrite(e),t.vertexEnd(),t.vertexWrite(i),t.vertexWrite(this._offsetBottomLeft),t.vertexWrite(e),t.vertexEnd(),t.vertexWrite(i),t.vertexWrite(this._offsetBottomRight),t.vertexWrite(e),t.vertexEnd(),this._writeIndices(t,r)}_writeIndices(t,e){t.indexWrite(e+0),t.indexWrite(e+1),t.indexWrite(e+2),t.indexWrite(e+1),t.indexWrite(e+3),t.indexWrite(e+2)}_applyTransformation(t,e,i=0){s(t,a(this.xOffset,-this.yOffset)),null!=this.angle&&this.angle+i!==0&&o(t,t,g*(this.angle+i));const r=this._computedWidth,h=this._computedHeight,x=-(.5+this._anchorX)*r,m=-(.5-this._anchorY)*h;n(e,x,m),f(e,e,t),this._offsetUpperLeft=d(16*e[0],16*e[1]),this._offsets.xUpperLeft=e[0],this._offsets.yUpperLeft=e[1],n(e,x+r,m),f(e,e,t),this._offsetUpperRight=d(16*e[0],16*e[1]),this._offsets.xUpperRight=e[0],this._offsets.yUpperRight=e[1],n(e,x,m+h),f(e,e,t),this._offsetBottomLeft=d(16*e[0],16*e[1]),this._offsets.xBottomLeft=e[0],this._offsets.yBottomLeft=e[1],n(e,x+r,m+h),f(e,e,t),this._offsetBottomRight=d(16*e[0],16*e[1]),this._offsets.xBottomRight=e[0],this._offsets.yBottomRight=e[1]}_getPos(t,e){return d(Math.round(y*t),Math.round(y*e))}};export{u as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}