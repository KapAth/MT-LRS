{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { isSome as t } from \"../../../core/maybe.js\";\nimport { isExtent as i, isPolygon as e } from \"../../../geometry/support/jsonUtils.js\";\nimport { clipPolygonToTileExtent as s } from \"../CIMEffects.js\";\nimport { GeometricEffectDonutMethod as n } from \"../enums.js\";\nimport r from \"../../../geometry/SpatialReference.js\";\n\nclass h {\n  static local() {\n    return null === h.instance && (h.instance = new h()), h.instance;\n  }\n\n  execute(t, i, e, s, n) {\n    return new m(t, i, e, s, n);\n  }\n\n}\n\nh.instance = null;\n\nclass m {\n  constructor(t, i, e, s, r) {\n    switch (this._inputGeometries = t, this._tileKey = s, this._geometryEngine = r, this._width = (void 0 !== i.width ? i.width : 2) * e, i.method) {\n      case n.Mitered:\n      case n.Bevelled:\n      case n.Rounded:\n      case n.TrueBuffer:\n      case n.Square:\n    }\n\n    this._option = i.option;\n  }\n\n  next() {\n    let n;\n\n    for (; n = this._inputGeometries.next();) {\n      if (i(n) && this._width > 0) {\n        if (Math.min(n.xmax - n.xmin, n.ymax - n.ymin) - 2 * this._width < 0) return n;\n        const t = [];\n        return t.push([[n.xmin, n.ymin], [n.xmin, n.ymax], [n.xmax, n.ymax], [n.xmax, n.ymin], [n.xmin, n.ymin]]), t.push([[n.xmin + this._width, n.ymin + this._width], [n.xmax - this._width, n.ymin + this._width], [n.xmax - this._width, n.ymax - this._width], [n.xmin + this._width, n.ymax - this._width], [n.xmin + this._width, n.ymin + this._width]]), {\n          rings: t\n        };\n      }\n\n      if (e(n)) {\n        let i = null;\n        const e = this._geometryEngine;\n        let h = n;\n        if (this._tileKey && (h = s(n, Math.abs(this._width) + 1), !h || !h.rings || 0 === h.rings.length)) continue;\n\n        if (t(e) && (i = e.buffer(r.WebMercator, h, -this._width, 1)), this._width > 0) {\n          const t = [];\n\n          for (const i of n.rings) i && t.push(i);\n\n          if (i) for (const e of i.rings) e && t.push(e.reverse());\n          if (t.length) return {\n            rings: t\n          };\n        }\n      }\n    }\n\n    return null;\n  }\n\n}\n\nexport { h as EffectDonut };","map":{"version":3,"names":["isSome","t","isExtent","i","isPolygon","e","clipPolygonToTileExtent","s","GeometricEffectDonutMethod","n","r","h","local","instance","execute","m","constructor","_inputGeometries","_tileKey","_geometryEngine","_width","width","method","Mitered","Bevelled","Rounded","TrueBuffer","Square","_option","option","next","Math","min","xmax","xmin","ymax","ymin","push","rings","abs","length","buffer","WebMercator","reverse","EffectDonut"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/symbols/cim/effects/EffectDonut.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t}from\"../../../core/maybe.js\";import{isExtent as i,isPolygon as e}from\"../../../geometry/support/jsonUtils.js\";import{clipPolygonToTileExtent as s}from\"../CIMEffects.js\";import{GeometricEffectDonutMethod as n}from\"../enums.js\";import r from\"../../../geometry/SpatialReference.js\";class h{static local(){return null===h.instance&&(h.instance=new h),h.instance}execute(t,i,e,s,n){return new m(t,i,e,s,n)}}h.instance=null;class m{constructor(t,i,e,s,r){switch(this._inputGeometries=t,this._tileKey=s,this._geometryEngine=r,this._width=(void 0!==i.width?i.width:2)*e,i.method){case n.Mitered:case n.Bevelled:case n.Rounded:case n.TrueBuffer:case n.Square:}this._option=i.option}next(){let n;for(;n=this._inputGeometries.next();){if(i(n)&&this._width>0){if(Math.min(n.xmax-n.xmin,n.ymax-n.ymin)-2*this._width<0)return n;const t=[];return t.push([[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]),t.push([[n.xmin+this._width,n.ymin+this._width],[n.xmax-this._width,n.ymin+this._width],[n.xmax-this._width,n.ymax-this._width],[n.xmin+this._width,n.ymax-this._width],[n.xmin+this._width,n.ymin+this._width]]),{rings:t}}if(e(n)){let i=null;const e=this._geometryEngine;let h=n;if(this._tileKey&&(h=s(n,Math.abs(this._width)+1),!h||!h.rings||0===h.rings.length))continue;if(t(e)&&(i=e.buffer(r.WebMercator,h,-this._width,1)),this._width>0){const t=[];for(const i of n.rings)i&&t.push(i);if(i)for(const e of i.rings)e&&t.push(e.reverse());if(t.length)return{rings:t}}}}return null}}export{h as EffectDonut};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}