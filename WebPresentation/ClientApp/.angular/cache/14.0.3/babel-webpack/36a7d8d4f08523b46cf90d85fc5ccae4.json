{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport t from \"../../../../core/ObjectPool.js\";\nimport n from \"../../../../core/PooledArray.js\";\nimport { g as o, a as s, d as i, c as r, h } from \"../../../../chunks/vec3.js\";\nimport { c as a, f as d } from \"../../../../chunks/vec3f64.js\";\nimport { intersectsSphere as l } from \"../../../../geometry/support/frustum.js\";\nimport { wrap as u } from \"../../../../geometry/support/ray.js\";\nimport { h as c, a as f, g as _, j as m, c as p } from \"../../../../chunks/sphere.js\";\nimport { rayBoxTest as b } from \"./Util.js\";\n\nclass g {\n  get bounds() {\n    return this._root.bounds;\n  }\n\n  get halfSize() {\n    return this._root.halfSize;\n  }\n\n  get root() {\n    return this._root.node;\n  }\n\n  get maximumObjectsPerNode() {\n    return this._maximumObjectsPerNode;\n  }\n\n  get maximumDepth() {\n    return this._maximumDepth;\n  }\n\n  get objectCount() {\n    return this._objectCount;\n  }\n\n  constructor(e, t) {\n    this._objectToBoundingSphere = e, this._maximumObjectsPerNode = 10, this._maximumDepth = 20, this._degenerateObjects = new Set(), this._root = new S(), this._objectCount = 0, t && (void 0 !== t.maximumObjectsPerNode && (this._maximumObjectsPerNode = t.maximumObjectsPerNode), void 0 !== t.maximumDepth && (this._maximumDepth = t.maximumDepth));\n  }\n\n  destroy() {\n    this._degenerateObjects.clear(), S.clearPool(), R[0] = null, w.prune(), K.prune();\n  }\n\n  add(e, t = e.length) {\n    this._objectCount += t, this._grow(e, t);\n    const n = S.acquire();\n\n    for (let o = 0; o < t; o++) {\n      const t = e[o];\n      this._isDegenerate(t) ? this._degenerateObjects.add(t) : (n.init(this._root), this._add(t, n));\n    }\n\n    S.release(n);\n  }\n\n  remove(t, n = null) {\n    this._objectCount -= t.length;\n    const o = S.acquire();\n\n    for (const s of t) {\n      const t = e(n) ? n : c(this._objectToBoundingSphere(s), C);\n      M(t[3]) ? (o.init(this._root), this._remove(s, t, o)) : this._degenerateObjects.delete(s);\n    }\n\n    S.release(o), this._shrink();\n  }\n\n  update(e, t) {\n    if (!M(t[3]) && this._isDegenerate(e)) return;\n    const n = v(e);\n    this.remove(n, t), this.add(n);\n  }\n\n  forEachAlongRay(e, t, n) {\n    const o = u(e, t);\n\n    this._forEachNode(this._root, e => {\n      if (!this._intersectsNode(o, e)) return !1;\n      const t = e.node;\n      return t.terminals.forAll(e => {\n        this._intersectsObject(o, e) && n(e);\n      }), null !== t.residents && t.residents.forAll(e => {\n        this._intersectsObject(o, e) && n(e);\n      }), !0;\n    });\n  }\n\n  forEachAlongRayWithVerticalOffset(e, t, n, o) {\n    const s = u(e, t);\n\n    this._forEachNode(this._root, e => {\n      if (!this._intersectsNodeWithOffset(s, e, o)) return !1;\n      const t = e.node;\n      return t.terminals.forAll(e => {\n        this._intersectsObjectWithOffset(s, e, o) && n(e);\n      }), null !== t.residents && t.residents.forAll(e => {\n        this._intersectsObjectWithOffset(s, e, o) && n(e);\n      }), !0;\n    });\n  }\n\n  forEach(e) {\n    this._forEachNode(this._root, t => {\n      const n = t.node;\n      return n.terminals.forAll(e), null !== n.residents && n.residents.forAll(e), !0;\n    }), this._degenerateObjects.forEach(e);\n  }\n\n  forEachDegenerateObject(e) {\n    this._degenerateObjects.forEach(e);\n  }\n\n  findClosest(e, t, n, i = () => !0, r = 1 / 0) {\n    let h = 1 / 0,\n        a = 1 / 0,\n        d = null;\n\n    const u = z(e, t),\n          c = o => {\n      if (--r, !i(o)) return;\n\n      const s = this._objectToBoundingSphere(o);\n\n      if (!l(n, s)) return;\n      const u = E(e, t, _(s)),\n            c = u - s[3],\n            f = u + s[3];\n      c < h && (h = c, a = f, d = o);\n    };\n\n    return this._forEachNodeDepthOrdered(this._root, i => {\n      if (r <= 0 || !l(n, i.bounds)) return !1;\n      o(y, u, i.halfSize), s(y, y, i.bounds);\n      if (E(e, t, y) > a) return !1;\n      const h = i.node;\n      return h.terminals.forAll(e => c(e)), null !== h.residents && h.residents.forAll(e => c(e)), !0;\n    }, e, t), d;\n  }\n\n  forEachInDepthRange(e, t, n, i, r, h, a) {\n    let d = -1 / 0,\n        u = 1 / 0;\n    const c = {\n      setRange: e => {\n        n === g.DepthOrder.FRONT_TO_BACK ? (d = Math.max(d, e.near), u = Math.min(u, e.far)) : (d = Math.max(d, -e.far), u = Math.min(u, -e.near));\n      }\n    };\n    c.setRange(i);\n\n    const f = E(t, n, e),\n          m = z(t, n),\n          p = z(t, -n),\n          b = e => {\n      if (!a(e)) return;\n\n      const o = this._objectToBoundingSphere(e),\n            s = _(o),\n            i = E(t, n, s) - f,\n            m = i - o[3],\n            p = i + o[3];\n\n      m > u || p < d || !l(h, o) || r(e, c);\n    };\n\n    this._forEachNodeDepthOrdered(this._root, e => {\n      if (!l(h, e.bounds)) return !1;\n      o(y, m, e.halfSize), s(y, y, e.bounds);\n      if (E(t, n, y) - f > u) return !1;\n      o(y, p, e.halfSize), s(y, y, e.bounds);\n      if (E(t, n, y) - f < d) return !1;\n      const i = e.node;\n      return i.terminals.forAll(e => b(e)), null !== i.residents && i.residents.forAll(e => b(e)), !0;\n    }, t, n);\n  }\n\n  forEachNode(e) {\n    this._forEachNode(this._root, t => e(t.node, t.bounds, t.halfSize));\n  }\n\n  forEachNeighbor(e, t) {\n    const n = f(t),\n          o = _(t),\n          s = t => {\n      const s = this._objectToBoundingSphere(t),\n            r = f(s),\n            h = n + r;\n\n      return !(i(_(s), o) - h * h <= 0) || e(t);\n    };\n\n    let r = !0;\n\n    const h = e => {\n      r && (r = s(e));\n    };\n\n    this._forEachNode(this._root, e => {\n      const t = f(e.bounds),\n            s = n + t;\n      if (i(_(e.bounds), o) - s * s > 0) return !1;\n      const a = e.node;\n      return a.terminals.forAll(h), r && null !== a.residents && a.residents.forAll(h), r;\n    }), r && this.forEachDegenerateObject(h);\n  }\n\n  _intersectsNode(e, t) {\n    return x(t.bounds, 2 * -t.halfSize, k), x(t.bounds, 2 * t.halfSize, q), b(e.origin, e.direction, k, q);\n  }\n\n  _intersectsNodeWithOffset(e, t, n) {\n    return x(t.bounds, 2 * -t.halfSize, k), x(t.bounds, 2 * t.halfSize, q), n.applyToMinMax(k, q), b(e.origin, e.direction, k, q);\n  }\n\n  _intersectsObject(e, t) {\n    const n = this._objectToBoundingSphere(t);\n\n    return !(n[3] > 0) || m(n, e);\n  }\n\n  _intersectsObjectWithOffset(e, t, n) {\n    const o = this._objectToBoundingSphere(t);\n\n    return !(o[3] > 0) || m(n.applyToBoundingSphere(o), e);\n  }\n\n  _forEachNode(e, t) {\n    let n = S.acquire().init(e);\n    const o = [n];\n\n    for (; 0 !== o.length;) {\n      if (n = o.pop(), t(n) && !n.isLeaf()) for (let e = 0; e < n.node.children.length; e++) {\n        n.node.children[e] && o.push(S.acquire().init(n).advance(e));\n      }\n      S.release(n);\n    }\n  }\n\n  _forEachNodeDepthOrdered(e, t, n, o = g.DepthOrder.FRONT_TO_BACK) {\n    let s = S.acquire().init(e);\n    const i = [s];\n\n    for (T(n, o, W); 0 !== i.length;) {\n      if (s = i.pop(), t(s) && !s.isLeaf()) for (let e = 7; e >= 0; --e) {\n        const t = W[e];\n        s.node.children[t] && i.push(S.acquire().init(s).advance(t));\n      }\n      S.release(s);\n    }\n  }\n\n  _remove(e, t, n) {\n    w.clear();\n    const o = n.advanceTo(t, (e, t) => {\n      w.push(e.node), w.push(t);\n    }) ? n.node.terminals : n.node.residents;\n    if (o.removeUnordered(e), 0 === o.length) for (let s = w.length - 2; s >= 0; s -= 2) {\n      const e = w.data[s],\n            t = w.data[s + 1];\n      if (!this._purge(e, t)) break;\n    }\n  }\n\n  _nodeIsEmpty(e) {\n    if (0 !== e.terminals.length) return !1;\n    if (null !== e.residents) return 0 === e.residents.length;\n\n    for (let t = 0; t < e.children.length; t++) if (e.children[t]) return !1;\n\n    return !0;\n  }\n\n  _purge(e, t) {\n    return t >= 0 && (e.children[t] = null), !!this._nodeIsEmpty(e) && (null === e.residents && (e.residents = new n({\n      shrink: !0\n    })), !0);\n  }\n\n  _add(e, t) {\n    t.advanceTo(this._objectToBoundingSphere(e)) ? t.node.terminals.push(e) : (t.node.residents.push(e), t.node.residents.length > this._maximumObjectsPerNode && t.depth < this._maximumDepth && this._split(t));\n  }\n\n  _split(e) {\n    const t = e.node.residents;\n    e.node.residents = null;\n\n    for (let n = 0; n < t.length; n++) {\n      const o = S.acquire().init(e);\n      this._add(t.getItemAt(n), o), S.release(o);\n    }\n  }\n\n  _grow(e, t) {\n    if (0 !== t && (N(e, t, e => this._objectToBoundingSphere(e), I), M(I[3]) && !this._fitsInsideTree(I))) if (this._nodeIsEmpty(this._root.node)) c(I, this._root.bounds), this._root.halfSize = 1.25 * this._root.bounds[3], this._root.updateBoundsRadiusFromHalfSize();else {\n      const e = this._rootBoundsForRootAsSubNode(I);\n\n      this._placingRootViolatesMaxDepth(e) ? this._rebuildTree(I, e) : this._growRootAsSubNode(e), S.release(e);\n    }\n  }\n\n  _rebuildTree(e, t) {\n    r(P, t.bounds), P[3] = t.halfSize, N([e, P], 2, e => e, L);\n    const n = S.acquire().init(this._root);\n    this._root.initFrom(null, L, L[3]), this._root.increaseHalfSize(1.25), this._forEachNode(n, e => (this.add(e.node.terminals.data, e.node.terminals.length), null !== e.node.residents && this.add(e.node.residents.data, e.node.residents.length), !0)), S.release(n);\n  }\n\n  _placingRootViolatesMaxDepth(e) {\n    const t = Math.log(e.halfSize / this._root.halfSize) * Math.LOG2E;\n    let n = 0;\n    return this._forEachNode(this._root, e => (n = Math.max(n, e.depth), n + t <= this._maximumDepth)), n + t > this._maximumDepth;\n  }\n\n  _rootBoundsForRootAsSubNode(e) {\n    const t = e[3],\n          n = e;\n    let o = -1 / 0;\n    const s = this._root.bounds,\n          i = this._root.halfSize;\n\n    for (let h = 0; h < 3; h++) {\n      const e = s[h] - i - (n[h] - t),\n            r = n[h] + t - (s[h] + i),\n            a = Math.max(0, Math.ceil(e / (2 * i))),\n            d = Math.max(0, Math.ceil(r / (2 * i))) + 1,\n            l = 2 ** Math.ceil(Math.log(a + d) * Math.LOG2E);\n      o = Math.max(o, l), H[h].min = a, H[h].max = d;\n    }\n\n    for (let h = 0; h < 3; h++) {\n      let e = H[h].min,\n          t = H[h].max;\n      const n = (o - (e + t)) / 2;\n      e += Math.ceil(n), t += Math.floor(n);\n      const r = s[h] - i - e * i * 2;\n      F[h] = r + (t + e) * i;\n    }\n\n    const r = o * i;\n    return F[3] = r * B, S.acquire().initFrom(null, F, r, 0);\n  }\n\n  _growRootAsSubNode(e) {\n    const t = this._root.node;\n    r(I, this._root.bounds), I[3] = this._root.halfSize, this._root.init(e), e.advanceTo(I, null, !0), e.node.children = t.children, e.node.residents = t.residents, e.node.terminals = t.terminals;\n  }\n\n  _shrink() {\n    for (;;) {\n      const e = this._findShrinkIndex();\n\n      if (-1 === e) break;\n      this._root.advance(e), this._root.depth = 0;\n    }\n  }\n\n  _findShrinkIndex() {\n    if (0 !== this._root.node.terminals.length || this._root.isLeaf()) return -1;\n    let e = null;\n    const t = this._root.node.children;\n    let n = 0,\n        o = 0;\n\n    for (; o < t.length && null == e;) n = o++, e = t[n];\n\n    for (; o < t.length;) if (t[o++]) return -1;\n\n    return n;\n  }\n\n  _isDegenerate(e) {\n    return !M(this._objectToBoundingSphere(e)[3]);\n  }\n\n  _fitsInsideTree(e) {\n    const t = this._root.bounds,\n          n = this._root.halfSize;\n    return e[3] <= n && e[0] >= t[0] - n && e[0] <= t[0] + n && e[1] >= t[1] - n && e[1] <= t[1] + n && e[2] >= t[2] - n && e[2] <= t[2] + n;\n  }\n\n}\n\nclass S {\n  constructor() {\n    this.bounds = p(), this.halfSize = 0, this.initFrom(null, null, 0, 0);\n  }\n\n  init(e) {\n    return this.initFrom(e.node, e.bounds, e.halfSize, e.depth);\n  }\n\n  initFrom(t, n, o, s = this.depth) {\n    return this.node = e(t) ? t : S.createEmptyNode(), e(n) && c(n, this.bounds), this.halfSize = o, this.depth = s, this;\n  }\n\n  increaseHalfSize(e) {\n    this.halfSize *= e, this.updateBoundsRadiusFromHalfSize();\n  }\n\n  updateBoundsRadiusFromHalfSize() {\n    this.bounds[3] = this.halfSize * B;\n  }\n\n  advance(e) {\n    let t = this.node.children[e];\n    t || (t = S.createEmptyNode(), this.node.children[e] = t), this.node = t, this.halfSize /= 2, this.depth++;\n    const n = A[e];\n    return this.bounds[0] += n[0] * this.halfSize, this.bounds[1] += n[1] * this.halfSize, this.bounds[2] += n[2] * this.halfSize, this.updateBoundsRadiusFromHalfSize(), this;\n  }\n\n  advanceTo(e, t, n = !1) {\n    for (;;) {\n      if (this.isTerminalFor(e)) return t && t(this, -1), !0;\n\n      if (this.isLeaf()) {\n        if (!n) return t && t(this, -1), !1;\n        this.node.residents = null;\n      }\n\n      const o = this._childIndex(e);\n\n      t && t(this, o), this.advance(o);\n    }\n  }\n\n  isLeaf() {\n    return null != this.node.residents;\n  }\n\n  isTerminalFor(e) {\n    return e[3] > this.halfSize / 2;\n  }\n\n  _childIndex(e) {\n    const t = this.bounds;\n    return (t[0] < e[0] ? 1 : 0) + (t[1] < e[1] ? 2 : 0) + (t[2] < e[2] ? 4 : 0);\n  }\n\n  static createEmptyNode() {\n    return {\n      children: [null, null, null, null, null, null, null, null],\n      terminals: new n({\n        shrink: !0\n      }),\n      residents: new n({\n        shrink: !0\n      })\n    };\n  }\n\n  static acquire() {\n    return S._pool.acquire();\n  }\n\n  static release(e) {\n    S._pool.release(e);\n  }\n\n  static clearPool() {\n    S._pool.prune();\n  }\n\n}\n\nfunction O(e, t) {\n  e[0] = Math.min(e[0], t[0] - t[3]), e[1] = Math.min(e[1], t[1] - t[3]), e[2] = Math.min(e[2], t[2] - t[3]);\n}\n\nfunction j(e, t) {\n  e[0] = Math.max(e[0], t[0] + t[3]), e[1] = Math.max(e[1], t[1] + t[3]), e[2] = Math.max(e[2], t[2] + t[3]);\n}\n\nfunction x(e, t, n) {\n  n[0] = e[0] + t, n[1] = e[1] + t, n[2] = e[2] + t;\n}\n\nfunction N(e, t, n, o) {\n  if (1 === t) {\n    const t = n(e[0]);\n    c(t, o);\n  } else {\n    k[0] = 1 / 0, k[1] = 1 / 0, k[2] = 1 / 0, q[0] = -1 / 0, q[1] = -1 / 0, q[2] = -1 / 0;\n\n    for (let o = 0; o < t; o++) {\n      const t = n(e[o]);\n      M(t[3]) && (O(k, t), j(q, t));\n    }\n\n    h(o, k, q, .5), o[3] = Math.max(q[0] - k[0], q[1] - k[1], q[2] - k[2]) / 2;\n  }\n}\n\nfunction T(e, t, n) {\n  if (!K.length) for (let o = 0; o < 8; ++o) K.push({\n    index: 0,\n    distance: 0\n  });\n\n  for (let o = 0; o < 8; ++o) {\n    const n = A[o];\n    K.data[o].index = o, K.data[o].distance = E(e, t, n);\n  }\n\n  K.sort((e, t) => e.distance - t.distance);\n\n  for (let o = 0; o < 8; ++o) n[o] = K.data[o].index;\n}\n\nfunction z(e, t) {\n  let n,\n      o = 1 / 0;\n\n  for (let s = 0; s < 8; ++s) {\n    const i = E(e, t, D[s]);\n    i < o && (o = i, n = D[s]);\n  }\n\n  return n;\n}\n\nfunction E(e, t, n) {\n  return t * (e[0] * n[0] + e[1] * n[1] + e[2] * n[2]);\n}\n\nfunction M(e) {\n  return !isNaN(e) && e !== -1 / 0 && e !== 1 / 0 && e > 0;\n}\n\nS._pool = new t(S), function (e) {\n  var t;\n  (t = e.DepthOrder || (e.DepthOrder = {}))[t.FRONT_TO_BACK = 1] = \"FRONT_TO_BACK\", t[t.BACK_TO_FRONT = -1] = \"BACK_TO_FRONT\";\n}(g || (g = {}));\nconst A = [d(-1, -1, -1), d(1, -1, -1), d(-1, 1, -1), d(1, 1, -1), d(-1, -1, 1), d(1, -1, 1), d(-1, 1, 1), d(1, 1, 1)],\n      D = [d(-1, -1, -1), d(-1, -1, 1), d(-1, 1, -1), d(-1, 1, 1), d(1, -1, -1), d(1, -1, 1), d(1, 1, -1), d(1, 1, 1)],\n      B = Math.sqrt(3),\n      R = [null];\n\nfunction v(e) {\n  return R[0] = e, R;\n}\n\nconst F = p(),\n      y = a(),\n      k = a(),\n      q = a(),\n      w = new n(),\n      C = p(),\n      I = p(),\n      P = p(),\n      L = p(),\n      H = [{\n  min: 0,\n  max: 0\n}, {\n  min: 0,\n  max: 0\n}, {\n  min: 0,\n  max: 0\n}],\n      K = new n(),\n      W = [0, 0, 0, 0, 0, 0, 0, 0],\n      V = g;\nexport { V as default };","map":{"version":3,"names":["isSome","e","t","n","g","o","a","s","d","i","c","r","h","f","intersectsSphere","l","wrap","u","_","j","m","p","rayBoxTest","b","bounds","_root","halfSize","root","node","maximumObjectsPerNode","_maximumObjectsPerNode","maximumDepth","_maximumDepth","objectCount","_objectCount","constructor","_objectToBoundingSphere","_degenerateObjects","Set","S","destroy","clear","clearPool","R","w","prune","K","add","length","_grow","acquire","_isDegenerate","init","_add","release","remove","C","M","_remove","delete","_shrink","update","v","forEachAlongRay","_forEachNode","_intersectsNode","terminals","forAll","_intersectsObject","residents","forEachAlongRayWithVerticalOffset","_intersectsNodeWithOffset","_intersectsObjectWithOffset","forEach","forEachDegenerateObject","findClosest","z","E","_forEachNodeDepthOrdered","y","forEachInDepthRange","setRange","DepthOrder","FRONT_TO_BACK","Math","max","near","min","far","forEachNode","forEachNeighbor","x","k","q","origin","direction","applyToMinMax","applyToBoundingSphere","pop","isLeaf","children","push","advance","T","W","advanceTo","removeUnordered","data","_purge","_nodeIsEmpty","shrink","depth","_split","getItemAt","N","I","_fitsInsideTree","updateBoundsRadiusFromHalfSize","_rootBoundsForRootAsSubNode","_placingRootViolatesMaxDepth","_rebuildTree","_growRootAsSubNode","P","L","initFrom","increaseHalfSize","log","LOG2E","ceil","H","floor","F","B","_findShrinkIndex","createEmptyNode","A","isTerminalFor","_childIndex","_pool","O","index","distance","sort","D","isNaN","BACK_TO_FRONT","sqrt","V","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/3d/webgl-engine/lib/Octree.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/ObjectPool.js\";import n from\"../../../../core/PooledArray.js\";import{g as o,a as s,d as i,c as r,h}from\"../../../../chunks/vec3.js\";import{c as a,f as d}from\"../../../../chunks/vec3f64.js\";import{intersectsSphere as l}from\"../../../../geometry/support/frustum.js\";import{wrap as u}from\"../../../../geometry/support/ray.js\";import{h as c,a as f,g as _,j as m,c as p}from\"../../../../chunks/sphere.js\";import{rayBoxTest as b}from\"./Util.js\";class g{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(e,t){this._objectToBoundingSphere=e,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new S,this._objectCount=0,t&&(void 0!==t.maximumObjectsPerNode&&(this._maximumObjectsPerNode=t.maximumObjectsPerNode),void 0!==t.maximumDepth&&(this._maximumDepth=t.maximumDepth))}destroy(){this._degenerateObjects.clear(),S.clearPool(),R[0]=null,w.prune(),K.prune()}add(e,t=e.length){this._objectCount+=t,this._grow(e,t);const n=S.acquire();for(let o=0;o<t;o++){const t=e[o];this._isDegenerate(t)?this._degenerateObjects.add(t):(n.init(this._root),this._add(t,n))}S.release(n)}remove(t,n=null){this._objectCount-=t.length;const o=S.acquire();for(const s of t){const t=e(n)?n:c(this._objectToBoundingSphere(s),C);M(t[3])?(o.init(this._root),this._remove(s,t,o)):this._degenerateObjects.delete(s)}S.release(o),this._shrink()}update(e,t){if(!M(t[3])&&this._isDegenerate(e))return;const n=v(e);this.remove(n,t),this.add(n)}forEachAlongRay(e,t,n){const o=u(e,t);this._forEachNode(this._root,(e=>{if(!this._intersectsNode(o,e))return!1;const t=e.node;return t.terminals.forAll((e=>{this._intersectsObject(o,e)&&n(e)})),null!==t.residents&&t.residents.forAll((e=>{this._intersectsObject(o,e)&&n(e)})),!0}))}forEachAlongRayWithVerticalOffset(e,t,n,o){const s=u(e,t);this._forEachNode(this._root,(e=>{if(!this._intersectsNodeWithOffset(s,e,o))return!1;const t=e.node;return t.terminals.forAll((e=>{this._intersectsObjectWithOffset(s,e,o)&&n(e)})),null!==t.residents&&t.residents.forAll((e=>{this._intersectsObjectWithOffset(s,e,o)&&n(e)})),!0}))}forEach(e){this._forEachNode(this._root,(t=>{const n=t.node;return n.terminals.forAll(e),null!==n.residents&&n.residents.forAll(e),!0})),this._degenerateObjects.forEach(e)}forEachDegenerateObject(e){this._degenerateObjects.forEach(e)}findClosest(e,t,n,i=(()=>!0),r=1/0){let h=1/0,a=1/0,d=null;const u=z(e,t),c=o=>{if(--r,!i(o))return;const s=this._objectToBoundingSphere(o);if(!l(n,s))return;const u=E(e,t,_(s)),c=u-s[3],f=u+s[3];c<h&&(h=c,a=f,d=o)};return this._forEachNodeDepthOrdered(this._root,(i=>{if(r<=0||!l(n,i.bounds))return!1;o(y,u,i.halfSize),s(y,y,i.bounds);if(E(e,t,y)>a)return!1;const h=i.node;return h.terminals.forAll((e=>c(e))),null!==h.residents&&h.residents.forAll((e=>c(e))),!0}),e,t),d}forEachInDepthRange(e,t,n,i,r,h,a){let d=-1/0,u=1/0;const c={setRange:e=>{n===g.DepthOrder.FRONT_TO_BACK?(d=Math.max(d,e.near),u=Math.min(u,e.far)):(d=Math.max(d,-e.far),u=Math.min(u,-e.near))}};c.setRange(i);const f=E(t,n,e),m=z(t,n),p=z(t,-n),b=e=>{if(!a(e))return;const o=this._objectToBoundingSphere(e),s=_(o),i=E(t,n,s)-f,m=i-o[3],p=i+o[3];m>u||p<d||!l(h,o)||r(e,c)};this._forEachNodeDepthOrdered(this._root,(e=>{if(!l(h,e.bounds))return!1;o(y,m,e.halfSize),s(y,y,e.bounds);if(E(t,n,y)-f>u)return!1;o(y,p,e.halfSize),s(y,y,e.bounds);if(E(t,n,y)-f<d)return!1;const i=e.node;return i.terminals.forAll((e=>b(e))),null!==i.residents&&i.residents.forAll((e=>b(e))),!0}),t,n)}forEachNode(e){this._forEachNode(this._root,(t=>e(t.node,t.bounds,t.halfSize)))}forEachNeighbor(e,t){const n=f(t),o=_(t),s=t=>{const s=this._objectToBoundingSphere(t),r=f(s),h=n+r;return!(i(_(s),o)-h*h<=0)||e(t)};let r=!0;const h=e=>{r&&(r=s(e))};this._forEachNode(this._root,(e=>{const t=f(e.bounds),s=n+t;if(i(_(e.bounds),o)-s*s>0)return!1;const a=e.node;return a.terminals.forAll(h),r&&null!==a.residents&&a.residents.forAll(h),r})),r&&this.forEachDegenerateObject(h)}_intersectsNode(e,t){return x(t.bounds,2*-t.halfSize,k),x(t.bounds,2*t.halfSize,q),b(e.origin,e.direction,k,q)}_intersectsNodeWithOffset(e,t,n){return x(t.bounds,2*-t.halfSize,k),x(t.bounds,2*t.halfSize,q),n.applyToMinMax(k,q),b(e.origin,e.direction,k,q)}_intersectsObject(e,t){const n=this._objectToBoundingSphere(t);return!(n[3]>0)||m(n,e)}_intersectsObjectWithOffset(e,t,n){const o=this._objectToBoundingSphere(t);return!(o[3]>0)||m(n.applyToBoundingSphere(o),e)}_forEachNode(e,t){let n=S.acquire().init(e);const o=[n];for(;0!==o.length;){if(n=o.pop(),t(n)&&!n.isLeaf())for(let e=0;e<n.node.children.length;e++){n.node.children[e]&&o.push(S.acquire().init(n).advance(e))}S.release(n)}}_forEachNodeDepthOrdered(e,t,n,o=g.DepthOrder.FRONT_TO_BACK){let s=S.acquire().init(e);const i=[s];for(T(n,o,W);0!==i.length;){if(s=i.pop(),t(s)&&!s.isLeaf())for(let e=7;e>=0;--e){const t=W[e];s.node.children[t]&&i.push(S.acquire().init(s).advance(t))}S.release(s)}}_remove(e,t,n){w.clear();const o=n.advanceTo(t,((e,t)=>{w.push(e.node),w.push(t)}))?n.node.terminals:n.node.residents;if(o.removeUnordered(e),0===o.length)for(let s=w.length-2;s>=0;s-=2){const e=w.data[s],t=w.data[s+1];if(!this._purge(e,t))break}}_nodeIsEmpty(e){if(0!==e.terminals.length)return!1;if(null!==e.residents)return 0===e.residents.length;for(let t=0;t<e.children.length;t++)if(e.children[t])return!1;return!0}_purge(e,t){return t>=0&&(e.children[t]=null),!!this._nodeIsEmpty(e)&&(null===e.residents&&(e.residents=new n({shrink:!0})),!0)}_add(e,t){t.advanceTo(this._objectToBoundingSphere(e))?t.node.terminals.push(e):(t.node.residents.push(e),t.node.residents.length>this._maximumObjectsPerNode&&t.depth<this._maximumDepth&&this._split(t))}_split(e){const t=e.node.residents;e.node.residents=null;for(let n=0;n<t.length;n++){const o=S.acquire().init(e);this._add(t.getItemAt(n),o),S.release(o)}}_grow(e,t){if(0!==t&&(N(e,t,(e=>this._objectToBoundingSphere(e)),I),M(I[3])&&!this._fitsInsideTree(I)))if(this._nodeIsEmpty(this._root.node))c(I,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize();else{const e=this._rootBoundsForRootAsSubNode(I);this._placingRootViolatesMaxDepth(e)?this._rebuildTree(I,e):this._growRootAsSubNode(e),S.release(e)}}_rebuildTree(e,t){r(P,t.bounds),P[3]=t.halfSize,N([e,P],2,(e=>e),L);const n=S.acquire().init(this._root);this._root.initFrom(null,L,L[3]),this._root.increaseHalfSize(1.25),this._forEachNode(n,(e=>(this.add(e.node.terminals.data,e.node.terminals.length),null!==e.node.residents&&this.add(e.node.residents.data,e.node.residents.length),!0))),S.release(n)}_placingRootViolatesMaxDepth(e){const t=Math.log(e.halfSize/this._root.halfSize)*Math.LOG2E;let n=0;return this._forEachNode(this._root,(e=>(n=Math.max(n,e.depth),n+t<=this._maximumDepth))),n+t>this._maximumDepth}_rootBoundsForRootAsSubNode(e){const t=e[3],n=e;let o=-1/0;const s=this._root.bounds,i=this._root.halfSize;for(let h=0;h<3;h++){const e=s[h]-i-(n[h]-t),r=n[h]+t-(s[h]+i),a=Math.max(0,Math.ceil(e/(2*i))),d=Math.max(0,Math.ceil(r/(2*i)))+1,l=2**Math.ceil(Math.log(a+d)*Math.LOG2E);o=Math.max(o,l),H[h].min=a,H[h].max=d}for(let h=0;h<3;h++){let e=H[h].min,t=H[h].max;const n=(o-(e+t))/2;e+=Math.ceil(n),t+=Math.floor(n);const r=s[h]-i-e*i*2;F[h]=r+(t+e)*i}const r=o*i;return F[3]=r*B,S.acquire().initFrom(null,F,r,0)}_growRootAsSubNode(e){const t=this._root.node;r(I,this._root.bounds),I[3]=this._root.halfSize,this._root.init(e),e.advanceTo(I,null,!0),e.node.children=t.children,e.node.residents=t.residents,e.node.terminals=t.terminals}_shrink(){for(;;){const e=this._findShrinkIndex();if(-1===e)break;this._root.advance(e),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let e=null;const t=this._root.node.children;let n=0,o=0;for(;o<t.length&&null==e;)n=o++,e=t[n];for(;o<t.length;)if(t[o++])return-1;return n}_isDegenerate(e){return!M(this._objectToBoundingSphere(e)[3])}_fitsInsideTree(e){const t=this._root.bounds,n=this._root.halfSize;return e[3]<=n&&e[0]>=t[0]-n&&e[0]<=t[0]+n&&e[1]>=t[1]-n&&e[1]<=t[1]+n&&e[2]>=t[2]-n&&e[2]<=t[2]+n}}class S{constructor(){this.bounds=p(),this.halfSize=0,this.initFrom(null,null,0,0)}init(e){return this.initFrom(e.node,e.bounds,e.halfSize,e.depth)}initFrom(t,n,o,s=this.depth){return this.node=e(t)?t:S.createEmptyNode(),e(n)&&c(n,this.bounds),this.halfSize=o,this.depth=s,this}increaseHalfSize(e){this.halfSize*=e,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*B}advance(e){let t=this.node.children[e];t||(t=S.createEmptyNode(),this.node.children[e]=t),this.node=t,this.halfSize/=2,this.depth++;const n=A[e];return this.bounds[0]+=n[0]*this.halfSize,this.bounds[1]+=n[1]*this.halfSize,this.bounds[2]+=n[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(e,t,n=!1){for(;;){if(this.isTerminalFor(e))return t&&t(this,-1),!0;if(this.isLeaf()){if(!n)return t&&t(this,-1),!1;this.node.residents=null}const o=this._childIndex(e);t&&t(this,o),this.advance(o)}}isLeaf(){return null!=this.node.residents}isTerminalFor(e){return e[3]>this.halfSize/2}_childIndex(e){const t=this.bounds;return(t[0]<e[0]?1:0)+(t[1]<e[1]?2:0)+(t[2]<e[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new n({shrink:!0}),residents:new n({shrink:!0})}}static acquire(){return S._pool.acquire()}static release(e){S._pool.release(e)}static clearPool(){S._pool.prune()}}function O(e,t){e[0]=Math.min(e[0],t[0]-t[3]),e[1]=Math.min(e[1],t[1]-t[3]),e[2]=Math.min(e[2],t[2]-t[3])}function j(e,t){e[0]=Math.max(e[0],t[0]+t[3]),e[1]=Math.max(e[1],t[1]+t[3]),e[2]=Math.max(e[2],t[2]+t[3])}function x(e,t,n){n[0]=e[0]+t,n[1]=e[1]+t,n[2]=e[2]+t}function N(e,t,n,o){if(1===t){const t=n(e[0]);c(t,o)}else{k[0]=1/0,k[1]=1/0,k[2]=1/0,q[0]=-1/0,q[1]=-1/0,q[2]=-1/0;for(let o=0;o<t;o++){const t=n(e[o]);M(t[3])&&(O(k,t),j(q,t))}h(o,k,q,.5),o[3]=Math.max(q[0]-k[0],q[1]-k[1],q[2]-k[2])/2}}function T(e,t,n){if(!K.length)for(let o=0;o<8;++o)K.push({index:0,distance:0});for(let o=0;o<8;++o){const n=A[o];K.data[o].index=o,K.data[o].distance=E(e,t,n)}K.sort(((e,t)=>e.distance-t.distance));for(let o=0;o<8;++o)n[o]=K.data[o].index}function z(e,t){let n,o=1/0;for(let s=0;s<8;++s){const i=E(e,t,D[s]);i<o&&(o=i,n=D[s])}return n}function E(e,t,n){return t*(e[0]*n[0]+e[1]*n[1]+e[2]*n[2])}function M(e){return!isNaN(e)&&e!==-1/0&&e!==1/0&&e>0}S._pool=new t(S),function(e){var t;(t=e.DepthOrder||(e.DepthOrder={}))[t.FRONT_TO_BACK=1]=\"FRONT_TO_BACK\",t[t.BACK_TO_FRONT=-1]=\"BACK_TO_FRONT\"}(g||(g={}));const A=[d(-1,-1,-1),d(1,-1,-1),d(-1,1,-1),d(1,1,-1),d(-1,-1,1),d(1,-1,1),d(-1,1,1),d(1,1,1)],D=[d(-1,-1,-1),d(-1,-1,1),d(-1,1,-1),d(-1,1,1),d(1,-1,-1),d(1,-1,1),d(1,1,-1),d(1,1,1)],B=Math.sqrt(3),R=[null];function v(e){return R[0]=e,R}const F=p(),y=a(),k=a(),q=a(),w=new n,C=p(),I=p(),P=p(),L=p(),H=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],K=new n,W=[0,0,0,0,0,0,0,0],V=g;export{V as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}