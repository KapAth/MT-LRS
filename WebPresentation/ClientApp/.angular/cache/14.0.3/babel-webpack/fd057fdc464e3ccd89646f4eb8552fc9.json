{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as t, applySome as e, isNone as s, isSome as i, unwrapOr as a } from \"../../core/maybe.js\";\nimport { after as r } from \"../../core/promiseUtils.js\";\nimport { Milliseconds as n } from \"../../core/time.js\";\nimport { webglDebugEnabled as l } from \"./checkWebGLError.js\";\nimport { ContextType as h } from \"./context-util.js\";\nimport { ContextState as f } from \"./ContextState.js\";\nimport { BufferType as o, Face as _, BASE_TEXTURE_UNIT as u, ClearBufferBit as c, FramebufferTarget as d, TextureSamplingMode as b, SyncCondition as F, ResourceType as g, ClientWaitSyncStatus as E, BlendFactor as B, BlendOperation as p, CullMode as m, CompareFunction as R, StencilOperation as T, ColorAttachment as A, TextureType as x, PrimitiveType as O } from \"./enums.js\";\nimport { InstanceCounter as U } from \"./InstanceCounter.js\";\nimport { ProgramCache as C } from \"./ProgramCache.js\";\nimport { StateTracker as S } from \"./renderState.js\";\nimport { Texture as P } from \"./Texture.js\";\nimport { getErrorString as M } from \"./Util.js\";\nimport { WebGLDriverTest as y } from \"./WebGLDriverTest.js\";\nimport { Capabilities as N } from \"./capabilities/Capabilities.js\";\nimport k from \"./capabilities/isWebGL2Context.js\";\nlet I = class {\n  constructor(t, e) {\n    this.gl = t, this.instanceCounter = new U(), this.programCache = new C(this), this._state = new f(), this._numOfDrawCalls = 0, this._numOfTriangles = 0, this.type = k(t) ? h.WEBGL2 : h.WEBGL1, this._loadExtensions(), this.configure(e);\n  }\n\n  get gl2() {\n    return this.type === h.WEBGL1 ? null : this.gl;\n  }\n\n  configure(e) {\n    this._capabilities = new N(this.gl, e), this._parameters = this._loadParameters(e);\n    const s = this.gl.getParameter(this.gl.VIEWPORT);\n    this._state = new f(), this._state.viewport = {\n      x: s[0],\n      y: s[1],\n      width: s[2],\n      height: s[3]\n    }, this._stateTracker = new S({\n      setBlending: t => {\n        if (t) {\n          this.setBlendingEnabled(!0), this.setBlendEquationSeparate(t.opRgb, t.opAlpha), this.setBlendFunctionSeparate(t.srcRgb, t.dstRgb, t.srcAlpha, t.dstAlpha);\n          const e = t.color;\n          this.setBlendColor(e.r, e.g, e.b, e.a);\n        } else this.setBlendingEnabled(!1);\n      },\n      setCulling: t => {\n        t ? (this.setFaceCullingEnabled(!0), this.setCullFace(t.face), this.setFrontFace(t.mode)) : this.setFaceCullingEnabled(!1);\n      },\n      setPolygonOffset: t => {\n        t ? (this.setPolygonOffsetFillEnabled(!0), this.setPolygonOffset(t.factor, t.units)) : this.setPolygonOffsetFillEnabled(!1);\n      },\n      setDepthTest: t => {\n        t ? (this.setDepthTestEnabled(!0), this.setDepthFunction(t.func)) : this.setDepthTestEnabled(!1);\n      },\n      setStencilTest: t => {\n        if (t) {\n          this.setStencilTestEnabled(!0);\n          const e = t.function;\n          this.setStencilFunction(e.func, e.ref, e.mask);\n          const s = t.operation;\n          this.setStencilOp(s.fail, s.zFail, s.zPass);\n        } else this.setStencilTestEnabled(!1);\n      },\n      setDepthWrite: t => {\n        t ? (this.setDepthWriteEnabled(!0), this.setDepthRange(t.zNear, t.zFar)) : this.setDepthWriteEnabled(!1);\n      },\n      setColorWrite: t => {\n        t ? this.setColorMask(t.r, t.g, t.b, t.a) : this.setColorMask(!1, !1, !1, !1);\n      },\n      setStencilWrite: t => {\n        t ? this.setStencilWriteMask(t.mask) : this.setStencilWriteMask(0);\n      }\n    }), this.enforceState(), t(this._driverTest), this._driverTest = new y(this);\n  }\n\n  dispose() {\n    t(this._driverTest), this.programCache.dispose(), this.bindVAO(null), this.unbindBuffer(o.ARRAY_BUFFER), this.unbindBuffer(o.ELEMENT_ARRAY_BUFFER), this.type === h.WEBGL2 && (this.unbindBuffer(o.UNIFORM_BUFFER), this._state.uniformBufferBindingPoints.length = 0, this.unbindBuffer(o.PIXEL_PACK_BUFFER), this.unbindBuffer(o.PIXEL_UNPACK_BUFFER), this.unbindBuffer(o.COPY_READ_BUFFER), this.unbindBuffer(o.COPY_WRITE_BUFFER)), this._state.textureUnitMap.length = 0, l() && console.log(this.instanceCounter.resourceInformation);\n  }\n\n  get driverTest() {\n    return this._driverTest;\n  }\n\n  get contextAttributes() {\n    return this.gl.getContextAttributes();\n  }\n\n  get parameters() {\n    return this._parameters;\n  }\n\n  setPipelineState(t) {\n    this._stateTracker.setPipeline(t);\n  }\n\n  setBlendingEnabled(t) {\n    this._state.blend !== t && (!0 === t ? this.gl.enable(this.gl.BLEND) : this.gl.disable(this.gl.BLEND), this._state.blend = t, this._stateTracker.invalidateBlending());\n  }\n\n  externalProgramUpdate() {\n    this._state.program?.stop(), this._state.program = null;\n  }\n\n  externalTextureUnitUpdate(t, e) {\n    for (let s = 0; s < t.length; ++s) this._state.textureUnitMap[t[s]] = null;\n\n    e >= 0 && (this._state.activeTexture = e);\n  }\n\n  externalVertexArrayObjectUpdate() {\n    const t = this.capabilities.vao;\n    t && (t.bindVertexArray(null), this._state.vertexArrayObject = null), this._state.vertexBuffer = null, this._state.indexBuffer = null;\n  }\n\n  externalVertexBufferUpdate() {\n    this._state.vertexBuffer = null;\n  }\n\n  externalIndexBufferUpdate() {\n    this._state.indexBuffer = null;\n  }\n\n  setBlendColor(t, e, s, i) {\n    t === this._state.blendColor.r && e === this._state.blendColor.g && s === this._state.blendColor.b && i === this._state.blendColor.a || (this.gl.blendColor(t, e, s, i), this._state.blendColor.r = t, this._state.blendColor.g = e, this._state.blendColor.b = s, this._state.blendColor.a = i, this._stateTracker.invalidateBlending());\n  }\n\n  setBlendFunction(t, e) {\n    t === this._state.blendFunction.srcRGB && e === this._state.blendFunction.dstRGB || (this.gl.blendFunc(t, e), this._state.blendFunction.srcRGB = t, this._state.blendFunction.srcAlpha = t, this._state.blendFunction.dstRGB = e, this._state.blendFunction.dstAlpha = e, this._stateTracker.invalidateBlending());\n  }\n\n  setBlendFunctionSeparate(t, e, s, i) {\n    this._state.blendFunction.srcRGB === t && this._state.blendFunction.srcAlpha === s && this._state.blendFunction.dstRGB === e && this._state.blendFunction.dstAlpha === i || (this.gl.blendFuncSeparate(t, e, s, i), this._state.blendFunction.srcRGB = t, this._state.blendFunction.srcAlpha = s, this._state.blendFunction.dstRGB = e, this._state.blendFunction.dstAlpha = i, this._stateTracker.invalidateBlending());\n  }\n\n  setBlendEquation(t) {\n    this._state.blendEquation.mode !== t && (this.gl.blendEquation(t), this._state.blendEquation.mode = t, this._state.blendEquation.modeAlpha = t, this._stateTracker.invalidateBlending());\n  }\n\n  setBlendEquationSeparate(t, e) {\n    this._state.blendEquation.mode === t && this._state.blendEquation.modeAlpha === e || (this.gl.blendEquationSeparate(t, e), this._state.blendEquation.mode = t, this._state.blendEquation.modeAlpha = e, this._stateTracker.invalidateBlending());\n  }\n\n  setColorMask(t, e, s, i) {\n    this._state.colorMask.r === t && this._state.colorMask.g === e && this._state.colorMask.b === s && this._state.colorMask.a === i || (this.gl.colorMask(t, e, s, i), this._state.colorMask.r = t, this._state.colorMask.g = e, this._state.colorMask.b = s, this._state.colorMask.a = i, this._stateTracker.invalidateColorWrite());\n  }\n\n  setClearColor(t, e, s, i) {\n    this._state.clearColor.r === t && this._state.clearColor.g === e && this._state.clearColor.b === s && this._state.clearColor.a === i || (this.gl.clearColor(t, e, s, i), this._state.clearColor.r = t, this._state.clearColor.g = e, this._state.clearColor.b = s, this._state.clearColor.a = i);\n  }\n\n  setFaceCullingEnabled(t) {\n    this._state.faceCulling !== t && (!0 === t ? this.gl.enable(this.gl.CULL_FACE) : this.gl.disable(this.gl.CULL_FACE), this._state.faceCulling = t, this._stateTracker.invalidateCulling());\n  }\n\n  setPolygonOffsetFillEnabled(t) {\n    this._state.polygonOffsetFill !== t && (!0 === t ? this.gl.enable(this.gl.POLYGON_OFFSET_FILL) : this.gl.disable(this.gl.POLYGON_OFFSET_FILL), this._state.polygonOffsetFill = t, this._stateTracker.invalidatePolygonOffset());\n  }\n\n  setPolygonOffset(t, e) {\n    this._state.polygonOffset[0] === t && this._state.polygonOffset[1] === e || (this._state.polygonOffset[0] = t, this._state.polygonOffset[1] = e, this.gl.polygonOffset(t, e), this._stateTracker.invalidatePolygonOffset());\n  }\n\n  setCullFace(t) {\n    this._state.cullFace !== t && (this.gl.cullFace(t), this._state.cullFace = t, this._stateTracker.invalidateCulling());\n  }\n\n  setFrontFace(t) {\n    this._state.frontFace !== t && (this.gl.frontFace(t), this._state.frontFace = t, this._stateTracker.invalidateCulling());\n  }\n\n  setScissorTestEnabled(t) {\n    this._state.scissorTest !== t && (!0 === t ? this.gl.enable(this.gl.SCISSOR_TEST) : this.gl.disable(this.gl.SCISSOR_TEST), this._state.scissorTest = t);\n  }\n\n  setScissorRect(t, e, s, i) {\n    this._state.scissorRect.x === t && this._state.scissorRect.y === e && this._state.scissorRect.width === s && this._state.scissorRect.height === i || (this.gl.scissor(t, e, s, i), this._state.scissorRect.x = t, this._state.scissorRect.y = e, this._state.scissorRect.width = s, this._state.scissorRect.height = i);\n  }\n\n  setDepthTestEnabled(t) {\n    this._state.depthTest !== t && (!0 === t ? this.gl.enable(this.gl.DEPTH_TEST) : this.gl.disable(this.gl.DEPTH_TEST), this._state.depthTest = t, this._stateTracker.invalidateDepthTest());\n  }\n\n  setClearDepth(t) {\n    this._state.clearDepth !== t && (this.gl.clearDepth(t), this._state.clearDepth = t);\n  }\n\n  setDepthFunction(t) {\n    this._state.depthFunction !== t && (this.gl.depthFunc(t), this._state.depthFunction = t, this._stateTracker.invalidateDepthTest());\n  }\n\n  setDepthWriteEnabled(t) {\n    this._state.depthWrite !== t && (this.gl.depthMask(t), this._state.depthWrite = t, this._stateTracker.invalidateDepthWrite());\n  }\n\n  setDepthRange(t, e) {\n    this._state.depthRange.zNear === t && this._state.depthRange.zFar === e || (this.gl.depthRange(t, e), this._state.depthRange.zNear = t, this._state.depthRange.zFar = e, this._stateTracker.invalidateDepthWrite());\n  }\n\n  setStencilTestEnabled(t) {\n    this._state.stencilTest !== t && (!0 === t ? this.gl.enable(this.gl.STENCIL_TEST) : this.gl.disable(this.gl.STENCIL_TEST), this._state.stencilTest = t, this._stateTracker.invalidateStencilTest());\n  }\n\n  setClearStencil(t) {\n    t !== this._state.clearStencil && (this.gl.clearStencil(t), this._state.clearStencil = t);\n  }\n\n  setStencilFunction(t, e, s) {\n    this._state.stencilFunction.func === t && this._state.stencilFunction.ref === e && this._state.stencilFunction.mask === s || (this.gl.stencilFunc(t, e, s), this._state.stencilFunction.face = _.FRONT_AND_BACK, this._state.stencilFunction.func = t, this._state.stencilFunction.ref = e, this._state.stencilFunction.mask = s, this._stateTracker.invalidateStencilTest());\n  }\n\n  setStencilFunctionSeparate(t, e, s, i) {\n    this._state.stencilFunction.face === t && this._state.stencilFunction.func === e && this._state.stencilFunction.ref === s && this._state.stencilFunction.mask === i || (this.gl.stencilFuncSeparate(t, e, s, i), this._state.stencilFunction.face = t, this._state.stencilFunction.func = e, this._state.stencilFunction.ref = s, this._state.stencilFunction.mask = i, this._stateTracker.invalidateStencilTest());\n  }\n\n  setStencilWriteMask(t) {\n    this._state.stencilWriteMask !== t && (this.gl.stencilMask(t), this._state.stencilWriteMask = t, this._stateTracker.invalidateStencilWrite());\n  }\n\n  setStencilOp(t, e, s) {\n    this._state.stencilOperation.face === _.FRONT_AND_BACK && this._state.stencilOperation.fail === t && this._state.stencilOperation.zFail === e && this._state.stencilOperation.zPass === s || (this.gl.stencilOp(t, e, s), this._state.stencilOperation.face = _.FRONT_AND_BACK, this._state.stencilOperation.fail = t, this._state.stencilOperation.zFail = e, this._state.stencilOperation.zPass = s, this._stateTracker.invalidateStencilTest());\n  }\n\n  setStencilOpSeparate(t, e, s, i) {\n    this._state.stencilOperation.face === t && this._state.stencilOperation.fail === e && this._state.stencilOperation.zFail === s && this._state.stencilOperation.zPass === i || (this.gl.stencilOpSeparate(t, e, s, i), this._state.stencilOperation.face = t, this._state.stencilOperation.fail = e, this._state.stencilOperation.zFail = s, this._state.stencilOperation.zPass = i, this._stateTracker.invalidateStencilTest());\n  }\n\n  setActiveTexture(t, e = !1) {\n    const s = this._state.activeTexture;\n    return t >= 0 && (e || t !== this._state.activeTexture) && (this.gl.activeTexture(u + t), this._state.activeTexture = t), s;\n  }\n\n  clear(t) {\n    t && this.gl.clear(t);\n  }\n\n  clearSafe(t, e = 255) {\n    t && (t & c.COLOR_BUFFER_BIT && this.setColorMask(!0, !0, !0, !0), t & c.DEPTH_BUFFER_BIT && this.setDepthWriteEnabled(!0), t & c.STENCIL_BUFFER_BIT && this.setStencilWriteMask(e), this.gl.clear(t));\n  }\n\n  drawArrays(t, e, s) {\n    if (l() && (this._numOfDrawCalls++, this._numOfTriangles += D(t, s)), this.gl.drawArrays(t, e, s), l()) {\n      const t = M(this);\n      t && console.error(\"drawArrays:\", t);\n    }\n  }\n\n  drawElements(t, s, i, a) {\n    if (l() && (this._numOfDrawCalls++, this._numOfTriangles += D(t, s)), this.gl.drawElements(t, s, i, a), l()) {\n      const r = M(this);\n\n      if (r) {\n        const n = this.getBoundVAO(),\n              l = n?.indexBuffer,\n              h = n?.vertexBuffers,\n              f = {\n          indexBuffer: l,\n          vertexBuffers: h\n        },\n              o = {\n          mode: t,\n          count: s,\n          type: i,\n          offset: a\n        },\n              _ = e(l, t => t.size) ?? 0,\n              u = a + s,\n              c = _ < u ? `. Buffer is too small. Attempted to draw index ${u} of ${_}` : \"\";\n\n        console.error(`drawElements: ${r}${c}`, {\n          args: o,\n          vao: f\n        });\n      }\n    }\n  }\n\n  logInfo() {\n    l() && console.log(`DrawCalls: ${this._numOfDrawCalls}, Triangles: ${this._numOfTriangles}`);\n  }\n\n  resetInfo() {\n    l() && (this._numOfDrawCalls = 0, this._numOfTriangles = 0);\n  }\n\n  get capabilities() {\n    return this._capabilities;\n  }\n\n  setViewport(t, e, s, i) {\n    s = Math.max(Math.round(s), 1), i = Math.max(Math.round(i), 1);\n    const a = this._state.viewport;\n    a.x === t && a.y === e && a.width === s && a.height === i || (a.x = t, a.y = e, a.width = s, a.height = i, this.gl.viewport(t, e, s, i));\n  }\n\n  getViewport() {\n    const t = this._state.viewport;\n    return {\n      x: t.x,\n      y: t.y,\n      width: t.width,\n      height: t.height\n    };\n  }\n\n  useProgram(t) {\n    this._state.program !== t && (this._state.program?.stop(), this._state.program = t, this.gl.useProgram(t?.glName ?? null));\n  }\n\n  bindTexture(t, e, a = !1) {\n    (e >= this.parameters.maxTextureImageUnits || e < 0) && console.error(\"Input texture unit is out of range of available units!\");\n    const r = this._state.textureUnitMap[e];\n    return s(t) || null == t.glName ? (i(r) && (this.setActiveTexture(e, a), this.gl.bindTexture(r.descriptor.target, null)), this._state.textureUnitMap[e] = null, r) : a || r !== t ? (this.setActiveTexture(e, a), this.gl.bindTexture(t.descriptor.target, t.glName), t.applyChanges(), this._state.textureUnitMap[e] = t, r) : (t.isDirty && (this.setActiveTexture(e, a), t.applyChanges()), r);\n  }\n\n  unbindTexture(t) {\n    if (!s(t)) for (let e = 0; e < this.parameters.maxTextureImageUnits; e++) this._state.textureUnitMap[e] === t && (this.bindTexture(null, e), this._state.textureUnitMap[e] = null);\n  }\n\n  bindFramebuffer(t, e = !1) {\n    if (e || this._state.readFramebuffer !== t || this._state.drawFramebuffer !== t) {\n      if (s(t)) return this.gl.bindFramebuffer(d.FRAMEBUFFER, null), this._state.readFramebuffer = null, void (this._state.drawFramebuffer = null);\n      t.initializeAndBind(d.FRAMEBUFFER), this._state.readFramebuffer = t, this._state.drawFramebuffer = t;\n    }\n  }\n\n  bindFramebufferSeparate(t, e, i = !1) {\n    const r = e === d.READ_FRAMEBUFFER,\n          n = r ? this._state.readFramebuffer : this._state.drawFramebuffer;\n    (i || n !== t) && (s(t) ? this.gl.bindFramebuffer(e, null) : t.initializeAndBind(e), r ? this._state.readFramebuffer = a(t, null) : this._state.drawFramebuffer = a(t, null));\n  }\n\n  blitFramebuffer(t, e, s = 0, i = 0, a = t.width, r = t.height, n = 0, l = 0, h = e.width, f = e.height, o = c.COLOR_BUFFER_BIT, _ = b.NEAREST) {\n    this.bindFramebufferSeparate(t, d.READ_FRAMEBUFFER), this.bindFramebufferSeparate(e, d.DRAW_FRAMEBUFFER);\n    this.gl.blitFramebuffer(s, i, a, r, n, l, h, f, o, _);\n  }\n\n  bindBuffer(t, e) {\n    if (t) switch (e ?? (e = t.bufferType), e) {\n      case o.ARRAY_BUFFER:\n        this._state.vertexBuffer = v(this.gl, t, e, this._state.vertexBuffer);\n        break;\n\n      case o.ELEMENT_ARRAY_BUFFER:\n        this._state.indexBuffer = v(this.gl, t, e, this._state.indexBuffer);\n        break;\n\n      case o.UNIFORM_BUFFER:\n        this._state.uniformBuffer = v(this.gl, t, e, this._state.uniformBuffer);\n        break;\n\n      case o.PIXEL_PACK_BUFFER:\n        this._state.pixelPackBuffer = v(this.gl, t, e, this._state.pixelPackBuffer);\n        break;\n\n      case o.PIXEL_UNPACK_BUFFER:\n        this._state.pixelUnpackBuffer = v(this.gl, t, e, this._state.pixelUnpackBuffer);\n        break;\n\n      case o.COPY_READ_BUFFER:\n        this._state.copyReadBuffer = v(this.gl, t, e, this._state.copyReadBuffer);\n        break;\n\n      case o.COPY_WRITE_BUFFER:\n        this._state.copyWriteBuffer = v(this.gl, t, e, this._state.copyWriteBuffer);\n    }\n  }\n\n  bindRenderbuffer(t) {\n    const e = this.gl;\n    t || (e.bindRenderbuffer(e.RENDERBUFFER, null), this._state.renderbuffer = null), this._state.renderbuffer !== t && (e.bindRenderbuffer(e.RENDERBUFFER, t.glName), this._state.renderbuffer = t);\n  }\n\n  _getBufferBinding(t, e) {\n    if (e >= this.parameters.maxUniformBufferBindings || e < 0) return console.error(\"Uniform buffer binding point is out of range!\"), null;\n    const i = this._state.uniformBufferBindingPoints;\n    let a = i[e];\n    return s(a) && (a = {\n      buffer: null,\n      offset: 0,\n      size: 0\n    }, i[e] = a), a;\n  }\n\n  bindBufferBase(t, e, i) {\n    const a = this._getBufferBinding(t, e);\n\n    if (s(a)) return;\n    if (a.buffer === i && 0 === a.offset && 0 === a.size) return;\n    this.gl.bindBufferBase(t, e, i ? i.glName : null), a.buffer = i, a.offset = 0, a.size = 0;\n  }\n\n  bindBufferRange(t, e, i, a, r) {\n    const n = this._getBufferBinding(t, e);\n\n    if (s(n)) return;\n    if (n.buffer === i && n.offset === a && n.size === r) return;\n    if (a % this._parameters.uniformBufferOffsetAlignment != 0) return void console.error(\"Uniform buffer binding offset is not a multiple of the context offset alignment\");\n    this.gl.bindBufferRange(t, e, i.glName, a, r), n.buffer = i, n.offset = a, n.size = r;\n  }\n\n  bindUBO(t, e, i, a) {\n    s(e) ? this.bindBufferBase(o.UNIFORM_BUFFER, t, null) : (l() && (a ?? e.byteLength) > this._parameters.maxUniformBlockSize && console.error(\"Attempting to bind more data than the maximum uniform block size\"), e.initialize(), void 0 !== i && void 0 !== a ? this.bindBufferRange(o.UNIFORM_BUFFER, t, e.buffer, i, a) : this.bindBufferBase(o.UNIFORM_BUFFER, t, e.buffer));\n  }\n\n  unbindUBO(t) {\n    for (let e = 0, s = this._state.uniformBufferBindingPoints.length; e < s; e++) {\n      const s = this._state.uniformBufferBindingPoints[e];\n      i(s) && s.buffer === t.buffer && this.bindBufferBase(o.UNIFORM_BUFFER, e, null);\n    }\n  }\n\n  unbindBuffer(t) {\n    switch (t) {\n      case o.ARRAY_BUFFER:\n        this._state.vertexBuffer = v(this.gl, null, t, this._state.vertexBuffer);\n        break;\n\n      case o.ELEMENT_ARRAY_BUFFER:\n        this._state.indexBuffer = v(this.gl, null, t, this._state.indexBuffer);\n        break;\n\n      case o.UNIFORM_BUFFER:\n        this._state.uniformBuffer = v(this.gl, null, t, this._state.uniformBuffer);\n        break;\n\n      case o.PIXEL_PACK_BUFFER:\n        this._state.pixelPackBuffer = v(this.gl, null, t, this._state.pixelPackBuffer);\n        break;\n\n      case o.PIXEL_UNPACK_BUFFER:\n        this._state.pixelUnpackBuffer = v(this.gl, null, t, this._state.pixelUnpackBuffer);\n        break;\n\n      case o.COPY_READ_BUFFER:\n        this._state.copyReadBuffer = v(this.gl, null, t, this._state.copyReadBuffer);\n        break;\n\n      case o.COPY_WRITE_BUFFER:\n        this._state.copyWriteBuffer = v(this.gl, null, t, this._state.copyWriteBuffer);\n    }\n  }\n\n  bindVAO(t = null) {\n    s(t) ? this._state.vertexArrayObject && (this._state.vertexArrayObject.unbind(), this._state.vertexArrayObject = null) : this._state.vertexArrayObject !== t && (t.bind(), this._state.vertexArrayObject = t);\n  }\n\n  clientWaitAsync(t = n(10)) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const e = _this.gl,\n            s = e.fenceSync(F.SYNC_GPU_COMMANDS_COMPLETE, 0);\n      if (!s) throw new Error(\"Client wait failed, could not create sync object\");\n      let i;\n      _this.instanceCounter.increment(g.Sync, s), e.flush();\n\n      do {\n        yield r(t), i = e.clientWaitSync(s, 0, 0);\n      } while (i === E.TIMEOUT_EXPIRED);\n\n      if (_this.instanceCounter.decrement(g.Sync, s), e.deleteSync(s), i === E.WAIT_FAILED) throw new Error(\"Client wait failed\");\n    })();\n  }\n\n  getBoundFramebufferObject(t = d.FRAMEBUFFER) {\n    return t === d.READ_FRAMEBUFFER ? this._state.readFramebuffer : this._state.drawFramebuffer;\n  }\n\n  getBoundVAO() {\n    return this._state.vertexArrayObject;\n  }\n\n  resetState() {\n    this.useProgram(null), this.bindVAO(null), this.bindFramebuffer(null, !0), this.unbindBuffer(o.ARRAY_BUFFER), this.unbindBuffer(o.ELEMENT_ARRAY_BUFFER), this.type === h.WEBGL2 && (this.unbindBuffer(o.UNIFORM_BUFFER), this._state.uniformBufferBindingPoints.length = 0, this.unbindBuffer(o.PIXEL_PACK_BUFFER), this.unbindBuffer(o.PIXEL_UNPACK_BUFFER), this.unbindBuffer(o.COPY_READ_BUFFER), this.unbindBuffer(o.COPY_WRITE_BUFFER));\n\n    for (let t = 0; t < this.parameters.maxTextureImageUnits; ++t) this.bindTexture(null, t);\n\n    this.setBlendingEnabled(!1), this.setBlendFunction(B.ONE, B.ZERO), this.setBlendEquation(p.ADD), this.setBlendColor(0, 0, 0, 0), this.setFaceCullingEnabled(!1), this.setCullFace(_.BACK), this.setFrontFace(m.CCW), this.setPolygonOffsetFillEnabled(!1), this.setPolygonOffset(0, 0), this.setScissorTestEnabled(!1), this.setScissorRect(0, 0, this.gl.canvas.width, this.gl.canvas.height), this.setDepthTestEnabled(!1), this.setDepthFunction(R.LESS), this.setDepthRange(0, 1), this.setStencilTestEnabled(!1), this.setStencilFunction(R.ALWAYS, 0, 0), this.setStencilOp(T.KEEP, T.KEEP, T.KEEP), this.setClearColor(0, 0, 0, 0), this.setClearDepth(1), this.setClearStencil(0), this.setColorMask(!0, !0, !0, !0), this.setStencilWriteMask(4294967295), this.setDepthWriteEnabled(!0), this.setViewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n  }\n\n  enforceState() {\n    const t = this.capabilities.vao;\n    t && t.bindVertexArray(null);\n    const {\n      gl: e,\n      gl2: s\n    } = this;\n\n    for (let i = 0; i < this.parameters.maxVertexAttributes; i++) e.disableVertexAttribArray(i);\n\n    if (this._state.vertexBuffer ? e.bindBuffer(this._state.vertexBuffer.bufferType, this._state.vertexBuffer.glName) : e.bindBuffer(o.ARRAY_BUFFER, null), this._state.indexBuffer ? e.bindBuffer(this._state.indexBuffer.bufferType, this._state.indexBuffer.glName) : e.bindBuffer(o.ELEMENT_ARRAY_BUFFER, null), i(s)) {\n      this._state.uniformBuffer ? s.bindBuffer(this._state.uniformBuffer.bufferType, this._state.uniformBuffer.glName) : s.bindBuffer(o.UNIFORM_BUFFER, null);\n\n      for (let t = 0; t < this._parameters.maxUniformBufferBindings; t++) {\n        const e = this._state.uniformBufferBindingPoints[t];\n\n        if (i(e)) {\n          const {\n            buffer: i,\n            offset: a,\n            size: r\n          } = e;\n          null !== i ? 0 === a && 0 === r ? s.bindBufferBase(o.UNIFORM_BUFFER, t, i.glName) : s.bindBufferRange(o.UNIFORM_BUFFER, t, i.glName, a, r) : s.bindBufferBase(o.UNIFORM_BUFFER, t, null);\n        }\n      }\n\n      this._state.pixelPackBuffer ? s.bindBuffer(this._state.pixelPackBuffer.bufferType, this._state.pixelPackBuffer.glName) : s.bindBuffer(o.PIXEL_PACK_BUFFER, null), this._state.pixelUnpackBuffer ? s.bindBuffer(this._state.pixelUnpackBuffer.bufferType, this._state.pixelUnpackBuffer.glName) : s.bindBuffer(o.PIXEL_UNPACK_BUFFER, null), this._state.copyReadBuffer ? s.bindBuffer(this._state.copyReadBuffer.bufferType, this._state.copyReadBuffer.glName) : s.bindBuffer(o.COPY_READ_BUFFER, null), this._state.copyWriteBuffer ? s.bindBuffer(this._state.copyWriteBuffer.bufferType, this._state.copyWriteBuffer.glName) : s.bindBuffer(o.COPY_WRITE_BUFFER, null), s.bindFramebuffer(d.READ_FRAMEBUFFER, null), s.readBuffer(s.BACK), this._state.readFramebuffer && (s.bindFramebuffer(d.READ_FRAMEBUFFER, this._state.readFramebuffer.glName), s.readBuffer(A.COLOR_ATTACHMENT0)), s.bindFramebuffer(d.DRAW_FRAMEBUFFER, this._state.drawFramebuffer?.glName ?? null);\n    } else this._state.readFramebuffer = this._state.drawFramebuffer, e.bindFramebuffer(d.FRAMEBUFFER, this._state.drawFramebuffer?.glName ?? null);\n\n    if (t && this._state.vertexArrayObject) {\n      const t = this._state.vertexArrayObject;\n      this._state.vertexArrayObject && (this._state.vertexArrayObject.unbind(), this._state.vertexArrayObject = null), this.bindVAO(t);\n    }\n\n    e.useProgram(this._state.program?.glName ?? null), e.blendColor(this._state.blendColor.r, this._state.blendColor.g, this._state.blendColor.b, this._state.blendColor.a), e.bindRenderbuffer(e.RENDERBUFFER, this._state.renderbuffer ? this._state.renderbuffer.glName : null), !0 === this._state.blend ? e.enable(this.gl.BLEND) : e.disable(this.gl.BLEND), e.blendEquationSeparate(this._state.blendEquation.mode, this._state.blendEquation.modeAlpha), e.blendFuncSeparate(this._state.blendFunction.srcRGB, this._state.blendFunction.dstRGB, this._state.blendFunction.srcAlpha, this._state.blendFunction.dstAlpha), e.clearColor(this._state.clearColor.r, this._state.clearColor.g, this._state.clearColor.b, this._state.clearColor.a), e.clearDepth(this._state.clearDepth), e.clearStencil(this._state.clearStencil), e.colorMask(this._state.colorMask.r, this._state.colorMask.g, this._state.colorMask.b, this._state.colorMask.a), e.cullFace(this._state.cullFace), e.depthFunc(this._state.depthFunction), e.depthRange(this._state.depthRange.zNear, this._state.depthRange.zFar), !0 === this._state.depthTest ? e.enable(e.DEPTH_TEST) : e.disable(e.DEPTH_TEST), e.depthMask(this._state.depthWrite), e.frontFace(this._state.frontFace), e.lineWidth(1), !0 === this._state.faceCulling ? e.enable(e.CULL_FACE) : e.disable(e.CULL_FACE), e.polygonOffset(this._state.polygonOffset[0], this._state.polygonOffset[1]), !0 === this._state.polygonOffsetFill ? e.enable(e.POLYGON_OFFSET_FILL) : e.disable(e.POLYGON_OFFSET_FILL), e.scissor(this._state.scissorRect.x, this._state.scissorRect.y, this._state.scissorRect.width, this._state.scissorRect.height), !0 === this._state.scissorTest ? e.enable(e.SCISSOR_TEST) : e.disable(e.SCISSOR_TEST), e.stencilFunc(this._state.stencilFunction.func, this._state.stencilFunction.ref, this._state.stencilFunction.mask), e.stencilOpSeparate(this._state.stencilOperation.face, this._state.stencilOperation.fail, this._state.stencilOperation.zFail, this._state.stencilOperation.zPass), !0 === this._state.stencilTest ? e.enable(e.STENCIL_TEST) : e.disable(e.STENCIL_TEST), e.stencilMask(this._state.stencilWriteMask);\n\n    for (let r = 0; r < this.parameters.maxTextureImageUnits; r++) {\n      e.activeTexture(u + r), e.bindTexture(x.TEXTURE_2D, null), e.bindTexture(x.TEXTURE_CUBE_MAP, null), this.type === h.WEBGL2 && (e.bindTexture(x.TEXTURE_3D, null), e.bindTexture(x.TEXTURE_2D_ARRAY, null));\n      const t = this._state.textureUnitMap[r];\n      i(t) && e.bindTexture(t.descriptor.target, t.glName);\n    }\n\n    e.activeTexture(u + this._state.activeTexture);\n    const a = this._state.viewport;\n    e.viewport(a.x, a.y, a.width, a.height), this.resetInfo();\n  }\n\n  _loadExtensions() {\n    this.type === h.WEBGL1 && this.gl.getExtension(\"OES_element_index_uint\"), this.gl.getExtension(\"KHR_parallel_shader_compile\");\n  }\n\n  _loadParameters(t) {\n    const e = this.capabilities.textureFilterAnisotropic,\n          s = t.maxAnisotropy ?? 1 / 0,\n          i = this.type === h.WEBGL2,\n          a = this.gl,\n          r = {\n      versionString: this.gl.getParameter(this.gl.VERSION),\n      maxVertexTextureImageUnits: this.gl.getParameter(this.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),\n      maxVertexAttributes: this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),\n      maxMaxAnisotropy: e ? Math.min(this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY), s) : 1,\n      maxTextureImageUnits: this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),\n      maxTextureSize: this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),\n      maxUniformBufferBindings: i ? a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS) : 0,\n      maxVertexUniformBlocks: i ? a.getParameter(a.MAX_VERTEX_UNIFORM_BLOCKS) : 0,\n      maxFragmentUniformBlocks: i ? a.getParameter(a.MAX_FRAGMENT_UNIFORM_BLOCKS) : 0,\n      maxUniformBlockSize: i ? a.getParameter(a.MAX_UNIFORM_BLOCK_SIZE) : 0,\n      uniformBufferOffsetAlignment: i ? a.getParameter(a.UNIFORM_BUFFER_OFFSET_ALIGNMENT) : 1,\n      maxArrayTextureLayers: i ? a.getParameter(a.MAX_ARRAY_TEXTURE_LAYERS) : 1,\n      maxSamples: i ? a.getParameter(a.MAX_SAMPLES) : 1\n    };\n    return P.TEXTURE_UNIT_FOR_UPDATES = r.maxTextureImageUnits - 1, r;\n  }\n\n};\n\nfunction v(t, e, s, i) {\n  return e ? i !== e && t.bindBuffer(s, e.glName) : t.bindBuffer(s, null), e;\n}\n\nfunction D(t, e) {\n  switch (t) {\n    case O.POINTS:\n      return 2 * e;\n\n    case O.TRIANGLES:\n      return e / 3;\n\n    case O.TRIANGLE_STRIP:\n    case O.TRIANGLE_FAN:\n      return e - 2;\n\n    default:\n      return 0;\n  }\n}\n\nexport { I as RenderingContext };","map":{"version":3,"names":["disposeMaybe","t","applySome","e","isNone","s","isSome","i","unwrapOr","a","after","r","Milliseconds","n","webglDebugEnabled","l","ContextType","h","ContextState","f","BufferType","o","Face","_","BASE_TEXTURE_UNIT","u","ClearBufferBit","c","FramebufferTarget","d","TextureSamplingMode","b","SyncCondition","F","ResourceType","g","ClientWaitSyncStatus","E","BlendFactor","B","BlendOperation","p","CullMode","m","CompareFunction","R","StencilOperation","T","ColorAttachment","A","TextureType","x","PrimitiveType","O","InstanceCounter","U","ProgramCache","C","StateTracker","S","Texture","P","getErrorString","M","WebGLDriverTest","y","Capabilities","N","k","I","constructor","gl","instanceCounter","programCache","_state","_numOfDrawCalls","_numOfTriangles","type","WEBGL2","WEBGL1","_loadExtensions","configure","gl2","_capabilities","_parameters","_loadParameters","getParameter","VIEWPORT","viewport","width","height","_stateTracker","setBlending","setBlendingEnabled","setBlendEquationSeparate","opRgb","opAlpha","setBlendFunctionSeparate","srcRgb","dstRgb","srcAlpha","dstAlpha","color","setBlendColor","setCulling","setFaceCullingEnabled","setCullFace","face","setFrontFace","mode","setPolygonOffset","setPolygonOffsetFillEnabled","factor","units","setDepthTest","setDepthTestEnabled","setDepthFunction","func","setStencilTest","setStencilTestEnabled","function","setStencilFunction","ref","mask","operation","setStencilOp","fail","zFail","zPass","setDepthWrite","setDepthWriteEnabled","setDepthRange","zNear","zFar","setColorWrite","setColorMask","setStencilWrite","setStencilWriteMask","enforceState","_driverTest","dispose","bindVAO","unbindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","UNIFORM_BUFFER","uniformBufferBindingPoints","length","PIXEL_PACK_BUFFER","PIXEL_UNPACK_BUFFER","COPY_READ_BUFFER","COPY_WRITE_BUFFER","textureUnitMap","console","log","resourceInformation","driverTest","contextAttributes","getContextAttributes","parameters","setPipelineState","setPipeline","blend","enable","BLEND","disable","invalidateBlending","externalProgramUpdate","program","stop","externalTextureUnitUpdate","activeTexture","externalVertexArrayObjectUpdate","capabilities","vao","bindVertexArray","vertexArrayObject","vertexBuffer","indexBuffer","externalVertexBufferUpdate","externalIndexBufferUpdate","blendColor","setBlendFunction","blendFunction","srcRGB","dstRGB","blendFunc","blendFuncSeparate","setBlendEquation","blendEquation","modeAlpha","blendEquationSeparate","colorMask","invalidateColorWrite","setClearColor","clearColor","faceCulling","CULL_FACE","invalidateCulling","polygonOffsetFill","POLYGON_OFFSET_FILL","invalidatePolygonOffset","polygonOffset","cullFace","frontFace","setScissorTestEnabled","scissorTest","SCISSOR_TEST","setScissorRect","scissorRect","scissor","depthTest","DEPTH_TEST","invalidateDepthTest","setClearDepth","clearDepth","depthFunction","depthFunc","depthWrite","depthMask","invalidateDepthWrite","depthRange","stencilTest","STENCIL_TEST","invalidateStencilTest","setClearStencil","clearStencil","stencilFunction","stencilFunc","FRONT_AND_BACK","setStencilFunctionSeparate","stencilFuncSeparate","stencilWriteMask","stencilMask","invalidateStencilWrite","stencilOperation","stencilOp","setStencilOpSeparate","stencilOpSeparate","setActiveTexture","clear","clearSafe","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","drawArrays","D","error","drawElements","getBoundVAO","vertexBuffers","count","offset","size","args","logInfo","resetInfo","setViewport","Math","max","round","getViewport","useProgram","glName","bindTexture","maxTextureImageUnits","descriptor","target","applyChanges","isDirty","unbindTexture","bindFramebuffer","readFramebuffer","drawFramebuffer","FRAMEBUFFER","initializeAndBind","bindFramebufferSeparate","READ_FRAMEBUFFER","blitFramebuffer","NEAREST","DRAW_FRAMEBUFFER","bindBuffer","bufferType","v","uniformBuffer","pixelPackBuffer","pixelUnpackBuffer","copyReadBuffer","copyWriteBuffer","bindRenderbuffer","RENDERBUFFER","renderbuffer","_getBufferBinding","maxUniformBufferBindings","buffer","bindBufferBase","bindBufferRange","uniformBufferOffsetAlignment","bindUBO","byteLength","maxUniformBlockSize","initialize","unbindUBO","unbind","bind","clientWaitAsync","fenceSync","SYNC_GPU_COMMANDS_COMPLETE","Error","increment","Sync","flush","clientWaitSync","TIMEOUT_EXPIRED","decrement","deleteSync","WAIT_FAILED","getBoundFramebufferObject","resetState","ONE","ZERO","ADD","BACK","CCW","canvas","LESS","ALWAYS","KEEP","maxVertexAttributes","disableVertexAttribArray","readBuffer","COLOR_ATTACHMENT0","lineWidth","TEXTURE_2D","TEXTURE_CUBE_MAP","TEXTURE_3D","TEXTURE_2D_ARRAY","getExtension","textureFilterAnisotropic","maxAnisotropy","versionString","VERSION","maxVertexTextureImageUnits","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_ATTRIBS","maxMaxAnisotropy","min","MAX_TEXTURE_MAX_ANISOTROPY","MAX_TEXTURE_IMAGE_UNITS","maxTextureSize","MAX_TEXTURE_SIZE","MAX_UNIFORM_BUFFER_BINDINGS","maxVertexUniformBlocks","MAX_VERTEX_UNIFORM_BLOCKS","maxFragmentUniformBlocks","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_UNIFORM_BLOCK_SIZE","UNIFORM_BUFFER_OFFSET_ALIGNMENT","maxArrayTextureLayers","MAX_ARRAY_TEXTURE_LAYERS","maxSamples","MAX_SAMPLES","TEXTURE_UNIT_FOR_UPDATES","POINTS","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","RenderingContext"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/webgl/RenderingContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t,applySome as e,isNone as s,isSome as i,unwrapOr as a}from\"../../core/maybe.js\";import{after as r}from\"../../core/promiseUtils.js\";import{Milliseconds as n}from\"../../core/time.js\";import{webglDebugEnabled as l}from\"./checkWebGLError.js\";import{ContextType as h}from\"./context-util.js\";import{ContextState as f}from\"./ContextState.js\";import{BufferType as o,Face as _,BASE_TEXTURE_UNIT as u,ClearBufferBit as c,FramebufferTarget as d,TextureSamplingMode as b,SyncCondition as F,ResourceType as g,ClientWaitSyncStatus as E,BlendFactor as B,BlendOperation as p,CullMode as m,CompareFunction as R,StencilOperation as T,ColorAttachment as A,TextureType as x,PrimitiveType as O}from\"./enums.js\";import{InstanceCounter as U}from\"./InstanceCounter.js\";import{ProgramCache as C}from\"./ProgramCache.js\";import{StateTracker as S}from\"./renderState.js\";import{Texture as P}from\"./Texture.js\";import{getErrorString as M}from\"./Util.js\";import{WebGLDriverTest as y}from\"./WebGLDriverTest.js\";import{Capabilities as N}from\"./capabilities/Capabilities.js\";import k from\"./capabilities/isWebGL2Context.js\";let I=class{constructor(t,e){this.gl=t,this.instanceCounter=new U,this.programCache=new C(this),this._state=new f,this._numOfDrawCalls=0,this._numOfTriangles=0,this.type=k(t)?h.WEBGL2:h.WEBGL1,this._loadExtensions(),this.configure(e)}get gl2(){return this.type===h.WEBGL1?null:this.gl}configure(e){this._capabilities=new N(this.gl,e),this._parameters=this._loadParameters(e);const s=this.gl.getParameter(this.gl.VIEWPORT);this._state=new f,this._state.viewport={x:s[0],y:s[1],width:s[2],height:s[3]},this._stateTracker=new S({setBlending:t=>{if(t){this.setBlendingEnabled(!0),this.setBlendEquationSeparate(t.opRgb,t.opAlpha),this.setBlendFunctionSeparate(t.srcRgb,t.dstRgb,t.srcAlpha,t.dstAlpha);const e=t.color;this.setBlendColor(e.r,e.g,e.b,e.a)}else this.setBlendingEnabled(!1)},setCulling:t=>{t?(this.setFaceCullingEnabled(!0),this.setCullFace(t.face),this.setFrontFace(t.mode)):this.setFaceCullingEnabled(!1)},setPolygonOffset:t=>{t?(this.setPolygonOffsetFillEnabled(!0),this.setPolygonOffset(t.factor,t.units)):this.setPolygonOffsetFillEnabled(!1)},setDepthTest:t=>{t?(this.setDepthTestEnabled(!0),this.setDepthFunction(t.func)):this.setDepthTestEnabled(!1)},setStencilTest:t=>{if(t){this.setStencilTestEnabled(!0);const e=t.function;this.setStencilFunction(e.func,e.ref,e.mask);const s=t.operation;this.setStencilOp(s.fail,s.zFail,s.zPass)}else this.setStencilTestEnabled(!1)},setDepthWrite:t=>{t?(this.setDepthWriteEnabled(!0),this.setDepthRange(t.zNear,t.zFar)):this.setDepthWriteEnabled(!1)},setColorWrite:t=>{t?this.setColorMask(t.r,t.g,t.b,t.a):this.setColorMask(!1,!1,!1,!1)},setStencilWrite:t=>{t?this.setStencilWriteMask(t.mask):this.setStencilWriteMask(0)}}),this.enforceState(),t(this._driverTest),this._driverTest=new y(this)}dispose(){t(this._driverTest),this.programCache.dispose(),this.bindVAO(null),this.unbindBuffer(o.ARRAY_BUFFER),this.unbindBuffer(o.ELEMENT_ARRAY_BUFFER),this.type===h.WEBGL2&&(this.unbindBuffer(o.UNIFORM_BUFFER),this._state.uniformBufferBindingPoints.length=0,this.unbindBuffer(o.PIXEL_PACK_BUFFER),this.unbindBuffer(o.PIXEL_UNPACK_BUFFER),this.unbindBuffer(o.COPY_READ_BUFFER),this.unbindBuffer(o.COPY_WRITE_BUFFER)),this._state.textureUnitMap.length=0,l()&&console.log(this.instanceCounter.resourceInformation)}get driverTest(){return this._driverTest}get contextAttributes(){return this.gl.getContextAttributes()}get parameters(){return this._parameters}setPipelineState(t){this._stateTracker.setPipeline(t)}setBlendingEnabled(t){this._state.blend!==t&&(!0===t?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._state.blend=t,this._stateTracker.invalidateBlending())}externalProgramUpdate(){this._state.program?.stop(),this._state.program=null}externalTextureUnitUpdate(t,e){for(let s=0;s<t.length;++s)this._state.textureUnitMap[t[s]]=null;e>=0&&(this._state.activeTexture=e)}externalVertexArrayObjectUpdate(){const t=this.capabilities.vao;t&&(t.bindVertexArray(null),this._state.vertexArrayObject=null),this._state.vertexBuffer=null,this._state.indexBuffer=null}externalVertexBufferUpdate(){this._state.vertexBuffer=null}externalIndexBufferUpdate(){this._state.indexBuffer=null}setBlendColor(t,e,s,i){t===this._state.blendColor.r&&e===this._state.blendColor.g&&s===this._state.blendColor.b&&i===this._state.blendColor.a||(this.gl.blendColor(t,e,s,i),this._state.blendColor.r=t,this._state.blendColor.g=e,this._state.blendColor.b=s,this._state.blendColor.a=i,this._stateTracker.invalidateBlending())}setBlendFunction(t,e){t===this._state.blendFunction.srcRGB&&e===this._state.blendFunction.dstRGB||(this.gl.blendFunc(t,e),this._state.blendFunction.srcRGB=t,this._state.blendFunction.srcAlpha=t,this._state.blendFunction.dstRGB=e,this._state.blendFunction.dstAlpha=e,this._stateTracker.invalidateBlending())}setBlendFunctionSeparate(t,e,s,i){this._state.blendFunction.srcRGB===t&&this._state.blendFunction.srcAlpha===s&&this._state.blendFunction.dstRGB===e&&this._state.blendFunction.dstAlpha===i||(this.gl.blendFuncSeparate(t,e,s,i),this._state.blendFunction.srcRGB=t,this._state.blendFunction.srcAlpha=s,this._state.blendFunction.dstRGB=e,this._state.blendFunction.dstAlpha=i,this._stateTracker.invalidateBlending())}setBlendEquation(t){this._state.blendEquation.mode!==t&&(this.gl.blendEquation(t),this._state.blendEquation.mode=t,this._state.blendEquation.modeAlpha=t,this._stateTracker.invalidateBlending())}setBlendEquationSeparate(t,e){this._state.blendEquation.mode===t&&this._state.blendEquation.modeAlpha===e||(this.gl.blendEquationSeparate(t,e),this._state.blendEquation.mode=t,this._state.blendEquation.modeAlpha=e,this._stateTracker.invalidateBlending())}setColorMask(t,e,s,i){this._state.colorMask.r===t&&this._state.colorMask.g===e&&this._state.colorMask.b===s&&this._state.colorMask.a===i||(this.gl.colorMask(t,e,s,i),this._state.colorMask.r=t,this._state.colorMask.g=e,this._state.colorMask.b=s,this._state.colorMask.a=i,this._stateTracker.invalidateColorWrite())}setClearColor(t,e,s,i){this._state.clearColor.r===t&&this._state.clearColor.g===e&&this._state.clearColor.b===s&&this._state.clearColor.a===i||(this.gl.clearColor(t,e,s,i),this._state.clearColor.r=t,this._state.clearColor.g=e,this._state.clearColor.b=s,this._state.clearColor.a=i)}setFaceCullingEnabled(t){this._state.faceCulling!==t&&(!0===t?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this._state.faceCulling=t,this._stateTracker.invalidateCulling())}setPolygonOffsetFillEnabled(t){this._state.polygonOffsetFill!==t&&(!0===t?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._state.polygonOffsetFill=t,this._stateTracker.invalidatePolygonOffset())}setPolygonOffset(t,e){this._state.polygonOffset[0]===t&&this._state.polygonOffset[1]===e||(this._state.polygonOffset[0]=t,this._state.polygonOffset[1]=e,this.gl.polygonOffset(t,e),this._stateTracker.invalidatePolygonOffset())}setCullFace(t){this._state.cullFace!==t&&(this.gl.cullFace(t),this._state.cullFace=t,this._stateTracker.invalidateCulling())}setFrontFace(t){this._state.frontFace!==t&&(this.gl.frontFace(t),this._state.frontFace=t,this._stateTracker.invalidateCulling())}setScissorTestEnabled(t){this._state.scissorTest!==t&&(!0===t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._state.scissorTest=t)}setScissorRect(t,e,s,i){this._state.scissorRect.x===t&&this._state.scissorRect.y===e&&this._state.scissorRect.width===s&&this._state.scissorRect.height===i||(this.gl.scissor(t,e,s,i),this._state.scissorRect.x=t,this._state.scissorRect.y=e,this._state.scissorRect.width=s,this._state.scissorRect.height=i)}setDepthTestEnabled(t){this._state.depthTest!==t&&(!0===t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._state.depthTest=t,this._stateTracker.invalidateDepthTest())}setClearDepth(t){this._state.clearDepth!==t&&(this.gl.clearDepth(t),this._state.clearDepth=t)}setDepthFunction(t){this._state.depthFunction!==t&&(this.gl.depthFunc(t),this._state.depthFunction=t,this._stateTracker.invalidateDepthTest())}setDepthWriteEnabled(t){this._state.depthWrite!==t&&(this.gl.depthMask(t),this._state.depthWrite=t,this._stateTracker.invalidateDepthWrite())}setDepthRange(t,e){this._state.depthRange.zNear===t&&this._state.depthRange.zFar===e||(this.gl.depthRange(t,e),this._state.depthRange.zNear=t,this._state.depthRange.zFar=e,this._stateTracker.invalidateDepthWrite())}setStencilTestEnabled(t){this._state.stencilTest!==t&&(!0===t?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._state.stencilTest=t,this._stateTracker.invalidateStencilTest())}setClearStencil(t){t!==this._state.clearStencil&&(this.gl.clearStencil(t),this._state.clearStencil=t)}setStencilFunction(t,e,s){this._state.stencilFunction.func===t&&this._state.stencilFunction.ref===e&&this._state.stencilFunction.mask===s||(this.gl.stencilFunc(t,e,s),this._state.stencilFunction.face=_.FRONT_AND_BACK,this._state.stencilFunction.func=t,this._state.stencilFunction.ref=e,this._state.stencilFunction.mask=s,this._stateTracker.invalidateStencilTest())}setStencilFunctionSeparate(t,e,s,i){this._state.stencilFunction.face===t&&this._state.stencilFunction.func===e&&this._state.stencilFunction.ref===s&&this._state.stencilFunction.mask===i||(this.gl.stencilFuncSeparate(t,e,s,i),this._state.stencilFunction.face=t,this._state.stencilFunction.func=e,this._state.stencilFunction.ref=s,this._state.stencilFunction.mask=i,this._stateTracker.invalidateStencilTest())}setStencilWriteMask(t){this._state.stencilWriteMask!==t&&(this.gl.stencilMask(t),this._state.stencilWriteMask=t,this._stateTracker.invalidateStencilWrite())}setStencilOp(t,e,s){this._state.stencilOperation.face===_.FRONT_AND_BACK&&this._state.stencilOperation.fail===t&&this._state.stencilOperation.zFail===e&&this._state.stencilOperation.zPass===s||(this.gl.stencilOp(t,e,s),this._state.stencilOperation.face=_.FRONT_AND_BACK,this._state.stencilOperation.fail=t,this._state.stencilOperation.zFail=e,this._state.stencilOperation.zPass=s,this._stateTracker.invalidateStencilTest())}setStencilOpSeparate(t,e,s,i){this._state.stencilOperation.face===t&&this._state.stencilOperation.fail===e&&this._state.stencilOperation.zFail===s&&this._state.stencilOperation.zPass===i||(this.gl.stencilOpSeparate(t,e,s,i),this._state.stencilOperation.face=t,this._state.stencilOperation.fail=e,this._state.stencilOperation.zFail=s,this._state.stencilOperation.zPass=i,this._stateTracker.invalidateStencilTest())}setActiveTexture(t,e=!1){const s=this._state.activeTexture;return t>=0&&(e||t!==this._state.activeTexture)&&(this.gl.activeTexture(u+t),this._state.activeTexture=t),s}clear(t){t&&this.gl.clear(t)}clearSafe(t,e=255){t&&(t&c.COLOR_BUFFER_BIT&&this.setColorMask(!0,!0,!0,!0),t&c.DEPTH_BUFFER_BIT&&this.setDepthWriteEnabled(!0),t&c.STENCIL_BUFFER_BIT&&this.setStencilWriteMask(e),this.gl.clear(t))}drawArrays(t,e,s){if(l()&&(this._numOfDrawCalls++,this._numOfTriangles+=D(t,s)),this.gl.drawArrays(t,e,s),l()){const t=M(this);t&&console.error(\"drawArrays:\",t)}}drawElements(t,s,i,a){if(l()&&(this._numOfDrawCalls++,this._numOfTriangles+=D(t,s)),this.gl.drawElements(t,s,i,a),l()){const r=M(this);if(r){const n=this.getBoundVAO(),l=n?.indexBuffer,h=n?.vertexBuffers,f={indexBuffer:l,vertexBuffers:h},o={mode:t,count:s,type:i,offset:a},_=e(l,(t=>t.size))??0,u=a+s,c=_<u?`. Buffer is too small. Attempted to draw index ${u} of ${_}`:\"\";console.error(`drawElements: ${r}${c}`,{args:o,vao:f})}}}logInfo(){l()&&console.log(`DrawCalls: ${this._numOfDrawCalls}, Triangles: ${this._numOfTriangles}`)}resetInfo(){l()&&(this._numOfDrawCalls=0,this._numOfTriangles=0)}get capabilities(){return this._capabilities}setViewport(t,e,s,i){s=Math.max(Math.round(s),1),i=Math.max(Math.round(i),1);const a=this._state.viewport;a.x===t&&a.y===e&&a.width===s&&a.height===i||(a.x=t,a.y=e,a.width=s,a.height=i,this.gl.viewport(t,e,s,i))}getViewport(){const t=this._state.viewport;return{x:t.x,y:t.y,width:t.width,height:t.height}}useProgram(t){this._state.program!==t&&(this._state.program?.stop(),this._state.program=t,this.gl.useProgram(t?.glName??null))}bindTexture(t,e,a=!1){(e>=this.parameters.maxTextureImageUnits||e<0)&&console.error(\"Input texture unit is out of range of available units!\");const r=this._state.textureUnitMap[e];return s(t)||null==t.glName?(i(r)&&(this.setActiveTexture(e,a),this.gl.bindTexture(r.descriptor.target,null)),this._state.textureUnitMap[e]=null,r):a||r!==t?(this.setActiveTexture(e,a),this.gl.bindTexture(t.descriptor.target,t.glName),t.applyChanges(),this._state.textureUnitMap[e]=t,r):(t.isDirty&&(this.setActiveTexture(e,a),t.applyChanges()),r)}unbindTexture(t){if(!s(t))for(let e=0;e<this.parameters.maxTextureImageUnits;e++)this._state.textureUnitMap[e]===t&&(this.bindTexture(null,e),this._state.textureUnitMap[e]=null)}bindFramebuffer(t,e=!1){if(e||this._state.readFramebuffer!==t||this._state.drawFramebuffer!==t){if(s(t))return this.gl.bindFramebuffer(d.FRAMEBUFFER,null),this._state.readFramebuffer=null,void(this._state.drawFramebuffer=null);t.initializeAndBind(d.FRAMEBUFFER),this._state.readFramebuffer=t,this._state.drawFramebuffer=t}}bindFramebufferSeparate(t,e,i=!1){const r=e===d.READ_FRAMEBUFFER,n=r?this._state.readFramebuffer:this._state.drawFramebuffer;(i||n!==t)&&(s(t)?this.gl.bindFramebuffer(e,null):t.initializeAndBind(e),r?this._state.readFramebuffer=a(t,null):this._state.drawFramebuffer=a(t,null))}blitFramebuffer(t,e,s=0,i=0,a=t.width,r=t.height,n=0,l=0,h=e.width,f=e.height,o=c.COLOR_BUFFER_BIT,_=b.NEAREST){this.bindFramebufferSeparate(t,d.READ_FRAMEBUFFER),this.bindFramebufferSeparate(e,d.DRAW_FRAMEBUFFER);this.gl.blitFramebuffer(s,i,a,r,n,l,h,f,o,_)}bindBuffer(t,e){if(t)switch(e??(e=t.bufferType),e){case o.ARRAY_BUFFER:this._state.vertexBuffer=v(this.gl,t,e,this._state.vertexBuffer);break;case o.ELEMENT_ARRAY_BUFFER:this._state.indexBuffer=v(this.gl,t,e,this._state.indexBuffer);break;case o.UNIFORM_BUFFER:this._state.uniformBuffer=v(this.gl,t,e,this._state.uniformBuffer);break;case o.PIXEL_PACK_BUFFER:this._state.pixelPackBuffer=v(this.gl,t,e,this._state.pixelPackBuffer);break;case o.PIXEL_UNPACK_BUFFER:this._state.pixelUnpackBuffer=v(this.gl,t,e,this._state.pixelUnpackBuffer);break;case o.COPY_READ_BUFFER:this._state.copyReadBuffer=v(this.gl,t,e,this._state.copyReadBuffer);break;case o.COPY_WRITE_BUFFER:this._state.copyWriteBuffer=v(this.gl,t,e,this._state.copyWriteBuffer)}}bindRenderbuffer(t){const e=this.gl;t||(e.bindRenderbuffer(e.RENDERBUFFER,null),this._state.renderbuffer=null),this._state.renderbuffer!==t&&(e.bindRenderbuffer(e.RENDERBUFFER,t.glName),this._state.renderbuffer=t)}_getBufferBinding(t,e){if(e>=this.parameters.maxUniformBufferBindings||e<0)return console.error(\"Uniform buffer binding point is out of range!\"),null;const i=this._state.uniformBufferBindingPoints;let a=i[e];return s(a)&&(a={buffer:null,offset:0,size:0},i[e]=a),a}bindBufferBase(t,e,i){const a=this._getBufferBinding(t,e);if(s(a))return;if(a.buffer===i&&0===a.offset&&0===a.size)return;this.gl.bindBufferBase(t,e,i?i.glName:null),a.buffer=i,a.offset=0,a.size=0}bindBufferRange(t,e,i,a,r){const n=this._getBufferBinding(t,e);if(s(n))return;if(n.buffer===i&&n.offset===a&&n.size===r)return;if(a%this._parameters.uniformBufferOffsetAlignment!=0)return void console.error(\"Uniform buffer binding offset is not a multiple of the context offset alignment\");this.gl.bindBufferRange(t,e,i.glName,a,r),n.buffer=i,n.offset=a,n.size=r}bindUBO(t,e,i,a){s(e)?this.bindBufferBase(o.UNIFORM_BUFFER,t,null):(l()&&(a??e.byteLength)>this._parameters.maxUniformBlockSize&&console.error(\"Attempting to bind more data than the maximum uniform block size\"),e.initialize(),void 0!==i&&void 0!==a?this.bindBufferRange(o.UNIFORM_BUFFER,t,e.buffer,i,a):this.bindBufferBase(o.UNIFORM_BUFFER,t,e.buffer))}unbindUBO(t){for(let e=0,s=this._state.uniformBufferBindingPoints.length;e<s;e++){const s=this._state.uniformBufferBindingPoints[e];i(s)&&s.buffer===t.buffer&&this.bindBufferBase(o.UNIFORM_BUFFER,e,null)}}unbindBuffer(t){switch(t){case o.ARRAY_BUFFER:this._state.vertexBuffer=v(this.gl,null,t,this._state.vertexBuffer);break;case o.ELEMENT_ARRAY_BUFFER:this._state.indexBuffer=v(this.gl,null,t,this._state.indexBuffer);break;case o.UNIFORM_BUFFER:this._state.uniformBuffer=v(this.gl,null,t,this._state.uniformBuffer);break;case o.PIXEL_PACK_BUFFER:this._state.pixelPackBuffer=v(this.gl,null,t,this._state.pixelPackBuffer);break;case o.PIXEL_UNPACK_BUFFER:this._state.pixelUnpackBuffer=v(this.gl,null,t,this._state.pixelUnpackBuffer);break;case o.COPY_READ_BUFFER:this._state.copyReadBuffer=v(this.gl,null,t,this._state.copyReadBuffer);break;case o.COPY_WRITE_BUFFER:this._state.copyWriteBuffer=v(this.gl,null,t,this._state.copyWriteBuffer)}}bindVAO(t=null){s(t)?this._state.vertexArrayObject&&(this._state.vertexArrayObject.unbind(),this._state.vertexArrayObject=null):this._state.vertexArrayObject!==t&&(t.bind(),this._state.vertexArrayObject=t)}async clientWaitAsync(t=n(10)){const e=this.gl,s=e.fenceSync(F.SYNC_GPU_COMMANDS_COMPLETE,0);if(!s)throw new Error(\"Client wait failed, could not create sync object\");let i;this.instanceCounter.increment(g.Sync,s),e.flush();do{await r(t),i=e.clientWaitSync(s,0,0)}while(i===E.TIMEOUT_EXPIRED);if(this.instanceCounter.decrement(g.Sync,s),e.deleteSync(s),i===E.WAIT_FAILED)throw new Error(\"Client wait failed\")}getBoundFramebufferObject(t=d.FRAMEBUFFER){return t===d.READ_FRAMEBUFFER?this._state.readFramebuffer:this._state.drawFramebuffer}getBoundVAO(){return this._state.vertexArrayObject}resetState(){this.useProgram(null),this.bindVAO(null),this.bindFramebuffer(null,!0),this.unbindBuffer(o.ARRAY_BUFFER),this.unbindBuffer(o.ELEMENT_ARRAY_BUFFER),this.type===h.WEBGL2&&(this.unbindBuffer(o.UNIFORM_BUFFER),this._state.uniformBufferBindingPoints.length=0,this.unbindBuffer(o.PIXEL_PACK_BUFFER),this.unbindBuffer(o.PIXEL_UNPACK_BUFFER),this.unbindBuffer(o.COPY_READ_BUFFER),this.unbindBuffer(o.COPY_WRITE_BUFFER));for(let t=0;t<this.parameters.maxTextureImageUnits;++t)this.bindTexture(null,t);this.setBlendingEnabled(!1),this.setBlendFunction(B.ONE,B.ZERO),this.setBlendEquation(p.ADD),this.setBlendColor(0,0,0,0),this.setFaceCullingEnabled(!1),this.setCullFace(_.BACK),this.setFrontFace(m.CCW),this.setPolygonOffsetFillEnabled(!1),this.setPolygonOffset(0,0),this.setScissorTestEnabled(!1),this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height),this.setDepthTestEnabled(!1),this.setDepthFunction(R.LESS),this.setDepthRange(0,1),this.setStencilTestEnabled(!1),this.setStencilFunction(R.ALWAYS,0,0),this.setStencilOp(T.KEEP,T.KEEP,T.KEEP),this.setClearColor(0,0,0,0),this.setClearDepth(1),this.setClearStencil(0),this.setColorMask(!0,!0,!0,!0),this.setStencilWriteMask(4294967295),this.setDepthWriteEnabled(!0),this.setViewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}enforceState(){const t=this.capabilities.vao;t&&t.bindVertexArray(null);const{gl:e,gl2:s}=this;for(let i=0;i<this.parameters.maxVertexAttributes;i++)e.disableVertexAttribArray(i);if(this._state.vertexBuffer?e.bindBuffer(this._state.vertexBuffer.bufferType,this._state.vertexBuffer.glName):e.bindBuffer(o.ARRAY_BUFFER,null),this._state.indexBuffer?e.bindBuffer(this._state.indexBuffer.bufferType,this._state.indexBuffer.glName):e.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null),i(s)){this._state.uniformBuffer?s.bindBuffer(this._state.uniformBuffer.bufferType,this._state.uniformBuffer.glName):s.bindBuffer(o.UNIFORM_BUFFER,null);for(let t=0;t<this._parameters.maxUniformBufferBindings;t++){const e=this._state.uniformBufferBindingPoints[t];if(i(e)){const{buffer:i,offset:a,size:r}=e;null!==i?0===a&&0===r?s.bindBufferBase(o.UNIFORM_BUFFER,t,i.glName):s.bindBufferRange(o.UNIFORM_BUFFER,t,i.glName,a,r):s.bindBufferBase(o.UNIFORM_BUFFER,t,null)}}this._state.pixelPackBuffer?s.bindBuffer(this._state.pixelPackBuffer.bufferType,this._state.pixelPackBuffer.glName):s.bindBuffer(o.PIXEL_PACK_BUFFER,null),this._state.pixelUnpackBuffer?s.bindBuffer(this._state.pixelUnpackBuffer.bufferType,this._state.pixelUnpackBuffer.glName):s.bindBuffer(o.PIXEL_UNPACK_BUFFER,null),this._state.copyReadBuffer?s.bindBuffer(this._state.copyReadBuffer.bufferType,this._state.copyReadBuffer.glName):s.bindBuffer(o.COPY_READ_BUFFER,null),this._state.copyWriteBuffer?s.bindBuffer(this._state.copyWriteBuffer.bufferType,this._state.copyWriteBuffer.glName):s.bindBuffer(o.COPY_WRITE_BUFFER,null),s.bindFramebuffer(d.READ_FRAMEBUFFER,null),s.readBuffer(s.BACK),this._state.readFramebuffer&&(s.bindFramebuffer(d.READ_FRAMEBUFFER,this._state.readFramebuffer.glName),s.readBuffer(A.COLOR_ATTACHMENT0)),s.bindFramebuffer(d.DRAW_FRAMEBUFFER,this._state.drawFramebuffer?.glName??null)}else this._state.readFramebuffer=this._state.drawFramebuffer,e.bindFramebuffer(d.FRAMEBUFFER,this._state.drawFramebuffer?.glName??null);if(t&&this._state.vertexArrayObject){const t=this._state.vertexArrayObject;this._state.vertexArrayObject&&(this._state.vertexArrayObject.unbind(),this._state.vertexArrayObject=null),this.bindVAO(t)}e.useProgram(this._state.program?.glName??null),e.blendColor(this._state.blendColor.r,this._state.blendColor.g,this._state.blendColor.b,this._state.blendColor.a),e.bindRenderbuffer(e.RENDERBUFFER,this._state.renderbuffer?this._state.renderbuffer.glName:null),!0===this._state.blend?e.enable(this.gl.BLEND):e.disable(this.gl.BLEND),e.blendEquationSeparate(this._state.blendEquation.mode,this._state.blendEquation.modeAlpha),e.blendFuncSeparate(this._state.blendFunction.srcRGB,this._state.blendFunction.dstRGB,this._state.blendFunction.srcAlpha,this._state.blendFunction.dstAlpha),e.clearColor(this._state.clearColor.r,this._state.clearColor.g,this._state.clearColor.b,this._state.clearColor.a),e.clearDepth(this._state.clearDepth),e.clearStencil(this._state.clearStencil),e.colorMask(this._state.colorMask.r,this._state.colorMask.g,this._state.colorMask.b,this._state.colorMask.a),e.cullFace(this._state.cullFace),e.depthFunc(this._state.depthFunction),e.depthRange(this._state.depthRange.zNear,this._state.depthRange.zFar),!0===this._state.depthTest?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),e.depthMask(this._state.depthWrite),e.frontFace(this._state.frontFace),e.lineWidth(1),!0===this._state.faceCulling?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),e.polygonOffset(this._state.polygonOffset[0],this._state.polygonOffset[1]),!0===this._state.polygonOffsetFill?e.enable(e.POLYGON_OFFSET_FILL):e.disable(e.POLYGON_OFFSET_FILL),e.scissor(this._state.scissorRect.x,this._state.scissorRect.y,this._state.scissorRect.width,this._state.scissorRect.height),!0===this._state.scissorTest?e.enable(e.SCISSOR_TEST):e.disable(e.SCISSOR_TEST),e.stencilFunc(this._state.stencilFunction.func,this._state.stencilFunction.ref,this._state.stencilFunction.mask),e.stencilOpSeparate(this._state.stencilOperation.face,this._state.stencilOperation.fail,this._state.stencilOperation.zFail,this._state.stencilOperation.zPass),!0===this._state.stencilTest?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),e.stencilMask(this._state.stencilWriteMask);for(let r=0;r<this.parameters.maxTextureImageUnits;r++){e.activeTexture(u+r),e.bindTexture(x.TEXTURE_2D,null),e.bindTexture(x.TEXTURE_CUBE_MAP,null),this.type===h.WEBGL2&&(e.bindTexture(x.TEXTURE_3D,null),e.bindTexture(x.TEXTURE_2D_ARRAY,null));const t=this._state.textureUnitMap[r];i(t)&&e.bindTexture(t.descriptor.target,t.glName)}e.activeTexture(u+this._state.activeTexture);const a=this._state.viewport;e.viewport(a.x,a.y,a.width,a.height),this.resetInfo()}_loadExtensions(){this.type===h.WEBGL1&&this.gl.getExtension(\"OES_element_index_uint\"),this.gl.getExtension(\"KHR_parallel_shader_compile\")}_loadParameters(t){const e=this.capabilities.textureFilterAnisotropic,s=t.maxAnisotropy??1/0,i=this.type===h.WEBGL2,a=this.gl,r={versionString:this.gl.getParameter(this.gl.VERSION),maxVertexTextureImageUnits:this.gl.getParameter(this.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexAttributes:this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),maxMaxAnisotropy:e?Math.min(this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY),s):1,maxTextureImageUnits:this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),maxTextureSize:this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),maxUniformBufferBindings:i?a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS):0,maxVertexUniformBlocks:i?a.getParameter(a.MAX_VERTEX_UNIFORM_BLOCKS):0,maxFragmentUniformBlocks:i?a.getParameter(a.MAX_FRAGMENT_UNIFORM_BLOCKS):0,maxUniformBlockSize:i?a.getParameter(a.MAX_UNIFORM_BLOCK_SIZE):0,uniformBufferOffsetAlignment:i?a.getParameter(a.UNIFORM_BUFFER_OFFSET_ALIGNMENT):1,maxArrayTextureLayers:i?a.getParameter(a.MAX_ARRAY_TEXTURE_LAYERS):1,maxSamples:i?a.getParameter(a.MAX_SAMPLES):1};return P.TEXTURE_UNIT_FOR_UPDATES=r.maxTextureImageUnits-1,r}};function v(t,e,s,i){return e?i!==e&&t.bindBuffer(s,e.glName):t.bindBuffer(s,null),e}function D(t,e){switch(t){case O.POINTS:return 2*e;case O.TRIANGLES:return e/3;case O.TRIANGLE_STRIP:case O.TRIANGLE_FAN:return e-2;default:return 0}}export{I as RenderingContext};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}