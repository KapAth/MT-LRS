{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../geometry.js\";\nimport e from \"../../request.js\";\nimport t from \"../../core/Error.js\";\nimport n from \"../../core/Logger.js\";\nimport { isNone as i, unwrapOr as r, isSome as a } from \"../../core/maybe.js\";\nimport { WGS84 as o } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport { project as s } from \"../../geometry/support/webMercatorUtils.js\";\nimport { convertToFeatureSet as l, convertToGeometry as c, convertFromGeometry as d } from \"../graphics/featureConversionUtils.js\";\nimport u from \"../graphics/OptimizedFeatureSet.js\";\nimport { validateGeoJSON as m, inferLayerProperties as p, createOptimizedFeatures as f } from \"../graphics/sources/geojson/geojson.js\";\nimport { createDrawingInfo as g } from \"../graphics/sources/support/clientSideDefaults.js\";\nimport y from \"../support/FieldsIndex.js\";\nimport { kebabDict as w } from \"../support/fieldType.js\";\nimport b from \"../../geometry/SpatialReference.js\";\nconst h = n.getLogger(\"esri.layers.graphics.sources.ogcfeature\"),\n      j = \"http://www.opengis.net/def/crs/\",\n      F = `${j}OGC/1.3/CRS84`;\n\nfunction I(_x, _x2) {\n  return _I.apply(this, arguments);\n}\n\nfunction _I() {\n  _I = _asyncToGenerator(function* (n, r, a = {}, o = 5) {\n    const {\n      links: s\n    } = n,\n          l = D(s, \"items\", \"application/geo+json\") || D(s, \"http://www.opengis.net/def/rel/ogc/1.0/items\", \"application/geo+json\");\n    if (i(l)) throw new t(\"ogc-feature-layer:missing-items-page\", \"Missing items url\");\n    const {\n      data: c\n    } = yield e(l.href, {\n      signal: a.signal,\n      query: {\n        limit: o,\n        ...a.customParameters,\n        token: a.apiKey\n      },\n      headers: {\n        accept: \"application/geo+json\"\n      }\n    });\n    yield m(c);\n    const d = p(c, {\n      geometryType: r.geometryType\n    }),\n          u = r.fields || d.fields || [],\n          f = null != r.hasZ ? r.hasZ : d.hasZ,\n          b = d.geometryType,\n          j = r.objectIdField || d.objectIdFieldName || \"OBJECTID\";\n    let F = r.timeInfo;\n    const I = u.find(({\n      name: e\n    }) => e === j);\n    if (I) I.editable = !1, I.nullable = !1;else {\n      if (!d.objectIdFieldType) throw new t(\"ogc-feature-layer:missing-feature-id\", \"Collection geojson require a feature id as a unique identifier\");\n      u.unshift({\n        name: j,\n        alias: j,\n        type: \"number\" === d.objectIdFieldType ? \"esriFieldTypeOID\" : \"esriFieldTypeString\",\n        editable: !1,\n        nullable: !1\n      });\n    }\n\n    if (j !== d.objectIdFieldName) {\n      const e = u.find(({\n        name: e\n      }) => e === d.objectIdFieldName);\n      e && (e.type = \"esriFieldTypeInteger\");\n    }\n\n    u === d.fields && d.unknownFields.length > 0 && h.warn({\n      name: \"ogc-feature-layer:unknown-field-types\",\n      message: \"Some fields types couldn't be inferred from the features and were dropped\",\n      details: {\n        unknownFields: d.unknownFields\n      }\n    });\n\n    for (const e of u) {\n      if (null == e.name && (e.name = e.alias), null == e.alias && (e.alias = e.name), \"esriFieldTypeOID\" !== e.type && \"esriFieldTypeGlobalID\" !== e.type && (e.editable = null == e.editable || !!e.editable, e.nullable = null == e.nullable || !!e.nullable), !e.name) throw new t(\"ogc-feature-layer:invalid-field-name\", \"field name is missing\", {\n        field: e\n      });\n      if (!w.jsonValues.includes(e.type)) throw new t(\"ogc-feature-layer:invalid-field-type\", `invalid type for field \"${e.name}\"`, {\n        field: e\n      });\n    }\n\n    if (F) {\n      const e = new y(u);\n\n      if (F.startTimeField) {\n        const t = e.get(F.startTimeField);\n        t ? (F.startTimeField = t.name, t.type = \"esriFieldTypeDate\") : F.startTimeField = null;\n      }\n\n      if (F.endTimeField) {\n        const t = e.get(F.endTimeField);\n        t ? (F.endTimeField = t.name, t.type = \"esriFieldTypeDate\") : F.endTimeField = null;\n      }\n\n      if (F.trackIdField) {\n        const t = e.get(F.trackIdField);\n        t ? F.trackIdField = t.name : (F.trackIdField = null, h.warn({\n          name: \"ogc-feature-layer:invalid-timeInfo-trackIdField\",\n          message: \"trackIdField is missing\",\n          details: {\n            timeInfo: F\n          }\n        }));\n      }\n\n      F.startTimeField || F.endTimeField || (h.warn({\n        name: \"ogc-feature-layer:invalid-timeInfo\",\n        message: \"startTimeField and endTimeField are missing\",\n        details: {\n          timeInfo: F\n        }\n      }), F = null);\n    }\n\n    return {\n      drawingInfo: b ? g(b) : null,\n      extent: W(n),\n      geometryType: b,\n      fields: u,\n      hasZ: !!f,\n      objectIdField: j,\n      timeInfo: F\n    };\n  });\n  return _I.apply(this, arguments);\n}\n\nfunction T(_x3) {\n  return _T.apply(this, arguments);\n}\n\nfunction _T() {\n  _T = _asyncToGenerator(function* (n, r = {}) {\n    const {\n      links: a\n    } = n,\n          o = D(a, \"data\", \"application/json\") || D(a, \"http://www.opengis.net/def/rel/ogc/1.0/data\", \"application/json\");\n    if (i(o)) throw new t(\"ogc-feature-layer:missing-collections-page\", \"Missing collections url\");\n    const {\n      apiKey: s,\n      customParameters: l,\n      signal: c\n    } = r,\n          {\n      data: d\n    } = yield e(o.href, {\n      signal: c,\n      headers: {\n        accept: \"application/json\"\n      },\n      query: { ...l,\n        token: s\n      }\n    });\n    return d;\n  });\n  return _T.apply(this, arguments);\n}\n\nfunction k(_x4) {\n  return _k.apply(this, arguments);\n}\n\nfunction _k() {\n  _k = _asyncToGenerator(function* (n, r = {}) {\n    const {\n      links: a\n    } = n,\n          o = D(a, \"conformance\", \"application/json\") || D(a, \"http://www.opengis.net/def/rel/ogc/1.0/conformance\", \"application/json\");\n    if (i(o)) throw new t(\"ogc-feature-layer:missing-conformance-page\", \"Missing conformance url\");\n    const {\n      apiKey: s,\n      customParameters: l,\n      signal: c\n    } = r,\n          {\n      data: d\n    } = yield e(o.href, {\n      signal: c,\n      headers: {\n        accept: \"application/json\"\n      },\n      query: { ...l,\n        token: s\n      }\n    });\n    return d;\n  });\n  return _k.apply(this, arguments);\n}\n\nfunction x(_x5) {\n  return _x6.apply(this, arguments);\n}\n\nfunction _x6() {\n  _x6 = _asyncToGenerator(function* (t, n = {}) {\n    const {\n      apiKey: i,\n      customParameters: r,\n      signal: a\n    } = n,\n          {\n      data: o\n    } = yield e(t, {\n      signal: a,\n      headers: {\n        accept: \"application/json\"\n      },\n      query: { ...r,\n        token: i\n      }\n    });\n    return o;\n  });\n  return _x6.apply(this, arguments);\n}\n\nfunction S(_x7) {\n  return _S.apply(this, arguments);\n}\n\nfunction _S() {\n  _S = _asyncToGenerator(function* (t, n = {}) {\n    const r = \"application/vnd.oai.openapi+json;version=3.0\",\n          a = D(t.links, \"service-desc\", r);\n    if (i(a)) return h.warn(\"ogc-feature-layer:missing-openapi-page\", \"The OGC API-Features server does not have an OpenAPI page.\"), null;\n    const {\n      apiKey: o,\n      customParameters: s,\n      signal: l\n    } = n,\n          {\n      data: c\n    } = yield e(a.href, {\n      signal: l,\n      headers: {\n        accept: r\n      },\n      query: { ...s,\n        token: o\n      }\n    });\n    return c;\n  });\n  return _S.apply(this, arguments);\n}\n\nfunction v(e) {\n  const t = /^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e)?.groups;\n  if (!t) return null;\n  const {\n    authority: n,\n    code: i\n  } = t;\n\n  switch (n.toLowerCase()) {\n    case \"ogc\":\n      switch (i.toLowerCase()) {\n        case \"crs27\":\n          return b.GCS_NAD_1927.wkid;\n\n        case \"crs83\":\n          return 4269;\n\n        case \"crs84\":\n        case \"crs84h\":\n          return b.WGS84.wkid;\n\n        default:\n          return null;\n      }\n\n    case \"esri\":\n    case \"epsg\":\n      {\n        const e = Number.parseInt(i, 10);\n        return Number.isNaN(e) ? null : e;\n      }\n\n    default:\n      return null;\n  }\n}\n\nfunction N(_x8, _x9, _x10) {\n  return _N.apply(this, arguments);\n}\n\nfunction _N() {\n  _N = _asyncToGenerator(function* (e, t, n) {\n    const i = yield q(e, t, n);\n    return l(i);\n  });\n  return _N.apply(this, arguments);\n}\n\nfunction q(_x11, _x12, _x13) {\n  return _q.apply(this, arguments);\n}\n\nfunction _q() {\n  _q = _asyncToGenerator(function* (n, l, m) {\n    const {\n      collection: p,\n      layerDefinition: g,\n      maxRecordCount: y,\n      queryParameters: {\n        apiKey: w,\n        customParameters: h\n      },\n      spatialReference: j,\n      supportedCrs: F\n    } = n,\n          {\n      links: I\n    } = p,\n          T = D(I, \"items\", \"application/geo+json\") || D(I, \"http://www.opengis.net/def/rel/ogc/1.0/items\", \"application/geo+json\");\n    if (i(T)) throw new t(\"ogc-feature-layer:missing-items-page\", \"Missing items url\");\n    const {\n      geometry: k,\n      num: x,\n      start: S,\n      timeExtent: v,\n      where: N\n    } = l;\n    if (l.objectIds) throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\", \"Queries with objectids are not supported\");\n    const q = b.fromJSON(j),\n          O = r(l.outSpatialReference, q),\n          C = O.isWGS84 ? null : R(O, F),\n          W = G(k, F),\n          P = M(v),\n          Z = $(N),\n          K = x ?? (null != S && void 0 !== S ? 10 : y),\n          {\n      data: L\n    } = yield e(T.href, { ...m,\n      query: { ...h,\n        ...W,\n        crs: C,\n        datetime: P,\n        query: Z,\n        limit: K,\n        startindex: S,\n        token: w\n      },\n      headers: {\n        accept: \"application/geo+json\"\n      }\n    });\n    let J = !1;\n\n    if (L.links) {\n      const e = L.links.find(e => \"next\" === e.rel);\n      J = !!e;\n    }\n\n    !J && Number.isInteger(L.numberMatched) && Number.isInteger(L.numberReturned) && (J = L.numberReturned < L.numberMatched);\n\n    const {\n      fields: z,\n      geometryType: A,\n      hasZ: E,\n      objectIdField: U\n    } = g,\n          _ = f(L, {\n      geometryType: A,\n      hasZ: E,\n      objectIdField: U\n    });\n\n    if (!C && O.isWebMercator) for (const e of _) if (a(e.geometry) && null != A) {\n      const t = c(e.geometry, A, E, !1);\n      t.spatialReference = b.WGS84, e.geometry = d(s(t, O));\n    }\n\n    for (const e of _) e.objectId = e.attributes[U];\n\n    const B = C || !C && O.isWebMercator ? O.toJSON() : o,\n          Q = new u();\n    return Q.exceededTransferLimit = J, Q.features = _, Q.fields = z, Q.geometryType = A, Q.hasZ = E, Q.objectIdFieldName = U, Q.spatialReference = B, Q;\n  });\n  return _q.apply(this, arguments);\n}\n\nfunction O(e) {\n  return a(e) && \"extent\" === e.type;\n}\n\nfunction R(e, t) {\n  const {\n    isWebMercator: n,\n    wkid: i\n  } = e;\n  if (!i) return null;\n  const r = n ? t[3857] ?? t[102100] ?? t[102113] ?? t[900913] : t[e.wkid];\n  return r ? `${j}${r}` : null;\n}\n\nfunction C(e) {\n  if (i(e)) return \"\";\n  const {\n    xmin: t,\n    ymin: n,\n    xmax: r,\n    ymax: a\n  } = e;\n  return `${t},${n},${r},${a}`;\n}\n\nfunction M(e) {\n  if (i(e)) return null;\n  const {\n    start: t,\n    end: n\n  } = e;\n  return `${a(t) ? t.toISOString() : \"..\"}/${a(n) ? n.toISOString() : \"..\"}`;\n}\n\nfunction $(e) {\n  return i(e) || !e || \"1=1\" === e ? null : e;\n}\n\nfunction G(e, t) {\n  if (!O(e)) return null;\n  const {\n    spatialReference: n\n  } = e;\n  if (!n || n.isWGS84) return {\n    bbox: C(e)\n  };\n  const i = R(n, t);\n  return a(i) ? {\n    bbox: C(e),\n    \"bbox-crs\": i\n  } : n.isWebMercator ? {\n    bbox: C(s(e, b.WGS84))\n  } : null;\n}\n\nfunction W(e) {\n  const t = e.extent?.spatial;\n  if (!t) return null;\n  const n = t.bbox[0],\n        i = 4 === n.length,\n        r = n[0],\n        a = n[1],\n        o = i ? void 0 : n[2];\n  return {\n    xmin: r,\n    ymin: a,\n    xmax: i ? n[2] : n[3],\n    ymax: i ? n[3] : n[4],\n    zmin: o,\n    zmax: i ? void 0 : n[5],\n    spatialReference: b.WGS84.toJSON()\n  };\n}\n\nfunction D(e, t, n) {\n  return e.find(e => e.rel === t && e.type === n) || e.find(e => e.rel === t && !e.type);\n}\n\nexport { F as crsDefault, j as crsPrefix, I as getCollectionDefinition, T as getServerCollections, k as getServerConformance, x as getServerLandingPage, S as getServerOpenApi, v as getSpatialReferenceWkid, N as queryFeatureSetJSON, q as queryOptimizedFeatureSet };","map":{"version":3,"names":["e","t","n","isNone","i","unwrapOr","r","isSome","a","WGS84","o","project","s","convertToFeatureSet","l","convertToGeometry","c","convertFromGeometry","d","u","validateGeoJSON","m","inferLayerProperties","p","createOptimizedFeatures","f","createDrawingInfo","g","y","kebabDict","w","b","h","getLogger","j","F","I","links","D","data","href","signal","query","limit","customParameters","token","apiKey","headers","accept","geometryType","fields","hasZ","objectIdField","objectIdFieldName","timeInfo","find","name","editable","nullable","objectIdFieldType","unshift","alias","type","unknownFields","length","warn","message","details","field","jsonValues","includes","startTimeField","get","endTimeField","trackIdField","drawingInfo","extent","W","T","k","x","S","v","exec","groups","authority","code","toLowerCase","GCS_NAD_1927","wkid","Number","parseInt","isNaN","N","q","collection","layerDefinition","maxRecordCount","queryParameters","spatialReference","supportedCrs","geometry","num","start","timeExtent","where","objectIds","fromJSON","O","outSpatialReference","C","isWGS84","R","G","P","M","Z","$","K","L","crs","datetime","startindex","J","rel","isInteger","numberMatched","numberReturned","z","A","E","U","_","isWebMercator","objectId","attributes","B","toJSON","Q","exceededTransferLimit","features","xmin","ymin","xmax","ymax","end","toISOString","bbox","spatial","zmin","zmax","crsDefault","crsPrefix","getCollectionDefinition","getServerCollections","getServerConformance","getServerLandingPage","getServerOpenApi","getSpatialReferenceWkid","queryFeatureSetJSON","queryOptimizedFeatureSet"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{isNone as i,unwrapOr as r,isSome as a}from\"../../core/maybe.js\";import{WGS84 as o}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as s}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as l,convertToGeometry as c,convertFromGeometry as d}from\"../graphics/featureConversionUtils.js\";import u from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as m,inferLayerProperties as p,createOptimizedFeatures as f}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as g}from\"../graphics/sources/support/clientSideDefaults.js\";import y from\"../support/FieldsIndex.js\";import{kebabDict as w}from\"../support/fieldType.js\";import b from\"../../geometry/SpatialReference.js\";const h=n.getLogger(\"esri.layers.graphics.sources.ogcfeature\"),j=\"http://www.opengis.net/def/crs/\",F=`${j}OGC/1.3/CRS84`;async function I(n,r,a={},o=5){const{links:s}=n,l=D(s,\"items\",\"application/geo+json\")||D(s,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(i(l))throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{data:c}=await e(l.href,{signal:a.signal,query:{limit:o,...a.customParameters,token:a.apiKey},headers:{accept:\"application/geo+json\"}});await m(c);const d=p(c,{geometryType:r.geometryType}),u=r.fields||d.fields||[],f=null!=r.hasZ?r.hasZ:d.hasZ,b=d.geometryType,j=r.objectIdField||d.objectIdFieldName||\"OBJECTID\";let F=r.timeInfo;const I=u.find((({name:e})=>e===j));if(I)I.editable=!1,I.nullable=!1;else{if(!d.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");u.unshift({name:j,alias:j,type:\"number\"===d.objectIdFieldType?\"esriFieldTypeOID\":\"esriFieldTypeString\",editable:!1,nullable:!1})}if(j!==d.objectIdFieldName){const e=u.find((({name:e})=>e===d.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}u===d.fields&&d.unknownFields.length>0&&h.warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:d.unknownFields}});for(const e of u){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(!w.jsonValues.includes(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(F){const e=new y(u);if(F.startTimeField){const t=e.get(F.startTimeField);t?(F.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):F.startTimeField=null}if(F.endTimeField){const t=e.get(F.endTimeField);t?(F.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):F.endTimeField=null}if(F.trackIdField){const t=e.get(F.trackIdField);t?F.trackIdField=t.name:(F.trackIdField=null,h.warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:F}}))}F.startTimeField||F.endTimeField||(h.warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:F}}),F=null)}return{drawingInfo:b?g(b):null,extent:W(n),geometryType:b,fields:u,hasZ:!!f,objectIdField:j,timeInfo:F}}async function T(n,r={}){const{links:a}=n,o=D(a,\"data\",\"application/json\")||D(a,\"http://www.opengis.net/def/rel/ogc/1.0/data\",\"application/json\");if(i(o))throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:s,customParameters:l,signal:c}=r,{data:d}=await e(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function k(n,r={}){const{links:a}=n,o=D(a,\"conformance\",\"application/json\")||D(a,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",\"application/json\");if(i(o))throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:s,customParameters:l,signal:c}=r,{data:d}=await e(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function x(t,n={}){const{apiKey:i,customParameters:r,signal:a}=n,{data:o}=await e(t,{signal:a,headers:{accept:\"application/json\"},query:{...r,token:i}});return o}async function S(t,n={}){const r=\"application/vnd.oai.openapi+json;version=3.0\",a=D(t.links,\"service-desc\",r);if(i(a))return h.warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:o,customParameters:s,signal:l}=n,{data:c}=await e(a.href,{signal:l,headers:{accept:r},query:{...s,token:o}});return c}function v(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e)?.groups;if(!t)return null;const{authority:n,code:i}=t;switch(n.toLowerCase()){case\"ogc\":switch(i.toLowerCase()){case\"crs27\":return b.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return b.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(i,10);return Number.isNaN(e)?null:e}default:return null}}async function N(e,t,n){const i=await q(e,t,n);return l(i)}async function q(n,l,m){const{collection:p,layerDefinition:g,maxRecordCount:y,queryParameters:{apiKey:w,customParameters:h},spatialReference:j,supportedCrs:F}=n,{links:I}=p,T=D(I,\"items\",\"application/geo+json\")||D(I,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(i(T))throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:k,num:x,start:S,timeExtent:v,where:N}=l;if(l.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with objectids are not supported\");const q=b.fromJSON(j),O=r(l.outSpatialReference,q),C=O.isWGS84?null:R(O,F),W=G(k,F),P=M(v),Z=$(N),K=x??(null!=S&&void 0!==S?10:y),{data:L}=await e(T.href,{...m,query:{...h,...W,crs:C,datetime:P,query:Z,limit:K,startindex:S,token:w},headers:{accept:\"application/geo+json\"}});let J=!1;if(L.links){const e=L.links.find((e=>\"next\"===e.rel));J=!!e}!J&&Number.isInteger(L.numberMatched)&&Number.isInteger(L.numberReturned)&&(J=L.numberReturned<L.numberMatched);const{fields:z,geometryType:A,hasZ:E,objectIdField:U}=g,_=f(L,{geometryType:A,hasZ:E,objectIdField:U});if(!C&&O.isWebMercator)for(const e of _)if(a(e.geometry)&&null!=A){const t=c(e.geometry,A,E,!1);t.spatialReference=b.WGS84,e.geometry=d(s(t,O))}for(const e of _)e.objectId=e.attributes[U];const B=C||!C&&O.isWebMercator?O.toJSON():o,Q=new u;return Q.exceededTransferLimit=J,Q.features=_,Q.fields=z,Q.geometryType=A,Q.hasZ=E,Q.objectIdFieldName=U,Q.spatialReference=B,Q}function O(e){return a(e)&&\"extent\"===e.type}function R(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${j}${r}`:null}function C(e){if(i(e))return\"\";const{xmin:t,ymin:n,xmax:r,ymax:a}=e;return`${t},${n},${r},${a}`}function M(e){if(i(e))return null;const{start:t,end:n}=e;return`${a(t)?t.toISOString():\"..\"}/${a(n)?n.toISOString():\"..\"}`}function $(e){return i(e)||!e||\"1=1\"===e?null:e}function G(e,t){if(!O(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:C(e)};const i=R(n,t);return a(i)?{bbox:C(e),\"bbox-crs\":i}:n.isWebMercator?{bbox:C(s(e,b.WGS84))}:null}function W(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,r=n[0],a=n[1],o=i?void 0:n[2];return{xmin:r,ymin:a,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:o,zmax:i?void 0:n[5],spatialReference:b.WGS84.toJSON()}}function D(e,t,n){return e.find((e=>e.rel===t&&e.type===n))||e.find((e=>e.rel===t&&!e.type))}export{F as crsDefault,j as crsPrefix,I as getCollectionDefinition,T as getServerCollections,k as getServerConformance,x as getServerLandingPage,S as getServerOpenApi,v as getSpatialReferenceWkid,N as queryFeatureSetJSON,q as queryOptimizedFeatureSet};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}