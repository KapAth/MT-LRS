{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Error.js\";\nimport { isNone as t, isSome as o } from \"../../core/maybe.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as p } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../../geometry/Point.js\";\nimport { combinedViewLayerTimeExtentProperty as a } from \"../../layers/support/commonProperties.js\";\nimport n from \"../../rest/support/Query.js\";\nimport { getFetchPopupTemplate as u } from \"./support/popupUtils.js\";\n\nconst m = m => {\n  let c = class extends m {\n    constructor() {\n      super(...arguments), this.view = null;\n    }\n\n    fetchPopupFeatures(e, s) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        const {\n          layer: p\n        } = _this;\n        if (!e) throw new r(\"imagerylayerview:fetchPopupFeatures\", \"Nothing to fetch without area\", {\n          layer: p\n        });\n        const {\n          popupEnabled: a\n        } = p,\n              m = u(p, s);\n        if (!a || t(m)) throw new r(\"imagerylayerview:fetchPopupFeatures\", \"Missing required popupTemplate or popupEnabled\", {\n          popupEnabled: a,\n          popupTemplate: m\n        });\n        const c = yield m.getRequiredFields(),\n              l = new n();\n        l.timeExtent = _this.timeExtent, l.geometry = e, l.outFields = c, l.outSpatialReference = e.spatialReference;\n        const {\n          resolution: y,\n          spatialReference: d\n        } = _this.view,\n              w = \"2d\" === _this.view.type ? new i(y, y, d) : new i(.5 * y, .5 * y, d),\n              {\n          returnTopmostRaster: f,\n          showNoDataRecords: h\n        } = m.layerOptions || {\n          returnTopmostRaster: !0,\n          showNoDataRecords: !1\n        },\n              R = {\n          returnDomainValues: !0,\n          returnTopmostRaster: f,\n          pixelSize: w,\n          showNoDataRecords: h,\n          signal: o(s) ? s.signal : null\n        };\n        return p.queryVisibleRasters(l, R).then(e => e);\n      })();\n    }\n\n    canResume() {\n      return !!super.canResume() && !this.timeExtent?.isEmpty;\n    }\n\n  };\n  return e([s()], c.prototype, \"layer\", void 0), e([s()], c.prototype, \"suspended\", void 0), e([s(a)], c.prototype, \"timeExtent\", void 0), e([s()], c.prototype, \"view\", void 0), c = e([p(\"esri.views.layers.ImageryLayerView\")], c), c;\n};\n\nexport { m as default };","map":{"version":3,"names":["_","e","r","isNone","t","isSome","o","property","s","subclass","p","i","combinedViewLayerTimeExtentProperty","a","n","getFetchPopupTemplate","u","m","c","constructor","arguments","view","fetchPopupFeatures","layer","popupEnabled","popupTemplate","getRequiredFields","l","timeExtent","geometry","outFields","outSpatialReference","spatialReference","resolution","y","d","w","type","returnTopmostRaster","f","showNoDataRecords","h","layerOptions","R","returnDomainValues","pixelSize","signal","queryVisibleRasters","then","canResume","isEmpty","prototype","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/layers/ImageryLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isNone as t,isSome as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as a}from\"../../layers/support/commonProperties.js\";import n from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as u}from\"./support/popupUtils.js\";const m=m=>{let c=class extends m{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,s){const{layer:p}=this;if(!e)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:p});const{popupEnabled:a}=p,m=u(p,s);if(!a||t(m))throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:m});const c=await m.getRequiredFields(),l=new n;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=c,l.outSpatialReference=e.spatialReference;const{resolution:y,spatialReference:d}=this.view,w=\"2d\"===this.view.type?new i(y,y,d):new i(.5*y,.5*y,d),{returnTopmostRaster:f,showNoDataRecords:h}=m.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},R={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:w,showNoDataRecords:h,signal:o(s)?s.signal:null};return p.queryVisibleRasters(l,R).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([s()],c.prototype,\"layer\",void 0),e([s()],c.prototype,\"suspended\",void 0),e([s(a)],c.prototype,\"timeExtent\",void 0),e([s()],c.prototype,\"view\",void 0),c=e([p(\"esri.views.layers.ImageryLayerView\")],c),c};export{m as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}