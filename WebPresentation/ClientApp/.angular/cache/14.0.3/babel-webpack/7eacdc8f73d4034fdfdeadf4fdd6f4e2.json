{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport { isSome as t, isNone as n } from \"../../core/maybe.js\";\nimport { urlToObject as r } from \"../../core/urlUtils.js\";\nimport i from \"../../geometry/Extent.js\";\nimport s from \"../../geometry/SpatialReference.js\";\nimport { isAxesOrderReversedForWkid as o } from \"../ogc/crsUtils.js\";\nconst a = {\n  84: 4326,\n  83: 4269,\n  27: 4267\n};\n\nfunction l(n) {\n  if (!n) return null;\n  const r = {\n    idCounter: -1\n  };\n\n  if (\"string\" == typeof n) {\n    n = new DOMParser().parseFromString(n, \"text/xml\");\n  }\n\n  const s = n.documentElement;\n\n  if (\"ServiceExceptionReport\" === s.nodeName) {\n    const t = Array.prototype.slice.call(s.childNodes).map(e => e.textContent).join(\"\\r\\n\");\n    throw new e(\"wmslayer:wms-capabilities-xml-is-not-valid\", \"The server returned errors when the WMS capabilities were requested.\", t);\n  }\n\n  const o = p(\"Capability\", s),\n        a = p(\"Service\", s),\n        l = o && p(\"Request\", o);\n  if (!o || !a || !l) return null;\n  const u = p(\"Layer\", o);\n  if (!u) return null;\n  const f = \"WMS_Capabilities\" === s.nodeName || \"WMT_MS_Capabilities\" === s.nodeName ? s.getAttribute(\"version\") : \"1.3.0\",\n        d = x(\"Title\", a, \"\") || x(\"Name\", a, \"\"),\n        h = x(\"AccessConstraints\", a, \"\"),\n        g = /^none$/i.test(h) ? \"\" : h,\n        b = x(\"Abstract\", a, \"\"),\n        E = parseInt(x(\"MaxWidth\", a, \"5000\"), 10),\n        w = parseInt(x(\"MaxHeight\", a, \"5000\"), 10),\n        L = y(l, \"GetMap\"),\n        F = N(l, \"GetMap\"),\n        C = A(u, f, r);\n  if (!C) return null;\n  let R,\n      v = 0;\n\n  const I = Array.prototype.slice.call(o.childNodes),\n        T = C.sublayers ?? [],\n        U = e => {\n    null != e && T.push(e);\n  };\n\n  I.forEach(e => {\n    \"Layer\" === e.nodeName && (0 === v ? R = e : 1 === v ? (C.name && (C.name = \"\", U(A(R, f, r))), U(A(e, f, r))) : U(A(e, f, r)), v++);\n  });\n  let V = C.sublayers,\n      O = C.extent;\n\n  const _ = C.fullExtents ?? [];\n\n  if (V || (V = []), 0 === V.length && V.push(C), !O) {\n    const e = new i(V[0].extent);\n    C.extent = e.toJSON(), O = C.extent;\n  }\n\n  const B = C.spatialReferences.length > 0 ? C.spatialReferences : c(C),\n        D = N(l, \"GetFeatureInfo\"),\n        j = D ? y(l, \"GetFeatureInfo\") : null,\n        k = m(V),\n        q = C.minScale || 0,\n        X = C.maxScale || 0,\n        G = C.dimensions ?? [],\n        W = k.reduce((e, t) => e.concat(t.dimensions ?? []), []),\n        P = G.concat(W).filter(M);\n  let $ = null;\n\n  if (P.length) {\n    const e = P.map(e => {\n      const {\n        extent: t\n      } = e;\n      return S(t) ? t.map(e => e.getTime()) : t?.map(e => [e.min.getTime(), e.max.getTime()]);\n    }).flat(2).filter(t);\n    $ = {\n      startTimeField: null,\n      endTimeField: null,\n      trackIdField: void 0,\n      timeExtent: [Math.min(...e), Math.max(...e)]\n    };\n  }\n\n  return {\n    copyright: g,\n    description: b,\n    dimensions: G,\n    extent: O,\n    fullExtents: _,\n    featureInfoFormats: j,\n    featureInfoUrl: D,\n    mapUrl: F,\n    maxWidth: E,\n    maxHeight: w,\n    maxScale: X,\n    minScale: q,\n    layers: k,\n    spatialReferences: B,\n    supportedImageFormatTypes: L,\n    timeInfo: $,\n    title: d,\n    version: f\n  };\n}\n\nfunction u(e) {\n  const t = e.filter(e => e.popupEnabled && e.name && e.queryable);\n  return t.length ? t.map(({\n    name: e\n  }) => e).join() : null;\n}\n\nfunction c(e) {\n  if (e.spatialReferences.length > 0) return e.spatialReferences;\n  if (e.sublayers) for (const t of e.sublayers) {\n    const e = c(t);\n    if (e.length > 0) return e;\n  }\n  return [];\n}\n\nfunction m(e) {\n  let t = [];\n\n  for (const n of e) t.push(n), n.sublayers?.length && (t = t.concat(m(n.sublayers)), delete n.sublayers);\n\n  return t;\n}\n\nfunction f(e, t, n) {\n  return t.getAttribute(e) ?? n;\n}\n\nfunction d(e, t, n, r) {\n  const i = p(e, n);\n  return i ? f(t, i, r) : r;\n}\n\nfunction p(e, t) {\n  for (let n = 0; n < t.childNodes.length; n++) {\n    const r = t.childNodes[n];\n    if (E(r) && r.nodeName === e) return r;\n  }\n\n  return null;\n}\n\nfunction h(e, t) {\n  if (null == t) return [];\n  const n = [];\n\n  for (let r = 0; r < t.childNodes.length; r++) {\n    const i = t.childNodes[r];\n    E(i) && i.nodeName === e && n.push(i);\n  }\n\n  return n;\n}\n\nfunction x(e, t, n) {\n  return p(e, t)?.textContent ?? n;\n}\n\nfunction g(e, t, n) {\n  if (!e) return null;\n  const r = parseFloat(e.getAttribute(\"minx\")),\n        o = parseFloat(e.getAttribute(\"miny\")),\n        a = parseFloat(e.getAttribute(\"maxx\")),\n        l = parseFloat(e.getAttribute(\"maxy\"));\n  let u, c, m, f;\n  n ? (u = isNaN(o) ? -Number.MAX_VALUE : o, c = isNaN(r) ? -Number.MAX_VALUE : r, m = isNaN(l) ? Number.MAX_VALUE : l, f = isNaN(a) ? Number.MAX_VALUE : a) : (u = isNaN(r) ? -Number.MAX_VALUE : r, c = isNaN(o) ? -Number.MAX_VALUE : o, m = isNaN(a) ? Number.MAX_VALUE : a, f = isNaN(l) ? Number.MAX_VALUE : l);\n  const d = new s({\n    wkid: t\n  });\n  return new i({\n    xmin: u,\n    ymin: c,\n    xmax: m,\n    ymax: f,\n    spatialReference: d\n  });\n}\n\nfunction N(e, t) {\n  const n = p(t, e);\n\n  if (n) {\n    const e = p(\"DCPType\", n);\n\n    if (e) {\n      const t = p(\"HTTP\", e);\n\n      if (t) {\n        const e = p(\"Get\", t);\n\n        if (e) {\n          let t = d(\"OnlineResource\", \"xlink:href\", e, null);\n          if (t) return t.indexOf(\"&\") === t.length - 1 && (t = t.substring(0, t.length - 1)), C(t, [\"service\", \"request\"]);\n        }\n      }\n    }\n  }\n\n  return null;\n}\n\nfunction y(e, n) {\n  const r = h(\"Operation\", e);\n\n  if (!r.length) {\n    return h(\"Format\", p(n, e)).map(({\n      textContent: e\n    }) => e).filter(t);\n  }\n\n  const i = [];\n\n  for (const t of r) if (t.getAttribute(\"name\") === n) {\n    const e = h(\"Format\", t);\n\n    for (const {\n      textContent: t\n    } of e) null != t && i.push(t);\n  }\n\n  return i;\n}\n\nfunction b(e, t, n) {\n  const r = p(t, e);\n  if (!r) return n;\n  const {\n    textContent: i\n  } = r;\n  if (null == i || \"\" === i) return n;\n  const s = Number(i);\n  return isNaN(s) ? n : s;\n}\n\nfunction A(e, t, n) {\n  if (!e) return null;\n  const r = {\n    id: n.idCounter++,\n    fullExtents: [],\n    parentLayerId: null,\n    queryable: \"1\" === e.getAttribute(\"queryable\"),\n    spatialReferences: [],\n    sublayers: null\n  },\n        l = p(\"LatLonBoundingBox\", e),\n        u = p(\"EX_GeographicBoundingBox\", e);\n  let c = null;\n  l && (c = g(l, 4326)), u && (c = new i(0, 0, 0, 0, new s({\n    wkid: 4326\n  })), c.xmin = parseFloat(x(\"westBoundLongitude\", u, \"0\")), c.ymin = parseFloat(x(\"southBoundLatitude\", u, \"0\")), c.xmax = parseFloat(x(\"eastBoundLongitude\", u, \"0\")), c.ymax = parseFloat(x(\"northBoundLatitude\", u, \"0\"))), l || u || (c = new i(-180, -90, 180, 90, new s({\n    wkid: 4326\n  }))), r.minScale = b(e, \"MaxScaleDenominator\", 0), r.maxScale = b(e, \"MinScaleDenominator\", 0);\n  const m = [\"1.0.0\", \"1.1.0\", \"1.1.1\"].includes(t) ? \"SRS\" : \"CRS\";\n  return Array.prototype.slice.call(e.childNodes).forEach(e => {\n    if (\"Name\" === e.nodeName) r.name = e.textContent || \"\";else if (\"Title\" === e.nodeName) r.title = e.textContent || \"\";else if (\"Abstract\" === e.nodeName) r.description = e.textContent || \"\";else if (\"BoundingBox\" === e.nodeName) {\n      const n = e.getAttribute(m);\n\n      if (n && 0 === n.indexOf(\"EPSG:\")) {\n        const r = parseInt(n.substring(5), 10);\n        0 === r || isNaN(r) || c || (c = \"1.3.0\" === t ? g(e, r, o(r)) : g(e, r));\n      }\n\n      const i = n && n.indexOf(\":\");\n\n      if (i && i > -1) {\n        let s = parseInt(n.substring(i + 1, n.length), 10);\n        0 === s || isNaN(s) || (s = a[s] ? a[s] : s);\n        const l = \"1.3.0\" === t ? g(e, s, o(s)) : g(e, s);\n        l && r.fullExtents && r.fullExtents.push(l);\n      }\n    } else if (e.nodeName === m) {\n      (e.textContent?.split(\" \") ?? []).forEach(e => {\n        const t = e.includes(\":\") ? parseInt(e.split(\":\")[1], 10) : parseInt(e, 10);\n\n        if (0 !== t && !isNaN(t)) {\n          const e = a[t] ? a[t] : t;\n          r.spatialReferences.includes(e) || r.spatialReferences.push(e);\n        }\n      });\n    } else if (\"Style\" !== e.nodeName || r.legendURL) {\n      if (\"Layer\" === e.nodeName) {\n        const i = A(e, t, n);\n        i && (i.parentLayerId = r.id, r.sublayers || (r.sublayers = []), r.sublayers.push(i));\n      }\n    } else {\n      const t = p(\"LegendURL\", e);\n\n      if (t) {\n        const e = p(\"OnlineResource\", t);\n        e && (r.legendURL = e.getAttribute(\"xlink:href\"));\n      }\n    }\n  }), r.extent = c?.toJSON(), r.dimensions = h(\"Dimension\", e).filter(e => e.getAttribute(\"name\") && e.getAttribute(\"units\") && e.textContent).map(e => {\n    const t = e.getAttribute(\"name\"),\n          n = e.getAttribute(\"units\"),\n          r = e.textContent,\n          i = e.getAttribute(\"unitSymbol\") ?? void 0,\n          s = e.getAttribute(\"default\") ?? void 0,\n          o = \"0\" !== f(\"default\", e, \"0\"),\n          a = \"0\" !== f(\"nearestValue\", e, \"0\"),\n          l = \"0\" !== f(\"current\", e, \"0\");\n\n    if (M({\n      name: t,\n      units: n\n    })) {\n      return {\n        name: \"time\",\n        units: \"ISO8601\",\n        extent: I(r),\n        default: I(s),\n        multipleValues: o,\n        nearestValue: a,\n        current: l\n      };\n    }\n\n    if (L({\n      name: t,\n      units: n\n    })) {\n      return {\n        name: \"elevation\",\n        units: n,\n        extent: R(r),\n        unitSymbol: i,\n        default: R(s),\n        multipleValues: o,\n        nearestValue: a\n      };\n    }\n\n    return {\n      name: t,\n      units: n,\n      extent: v(r),\n      unitSymbol: i,\n      default: v(s),\n      multipleValues: o,\n      nearestValue: a\n    };\n  }), r;\n}\n\nfunction S(e) {\n  return Array.isArray(e) && e.length > 0 && e[0] instanceof Date;\n}\n\nfunction E(e) {\n  return e.nodeType === Node.ELEMENT_NODE;\n}\n\nfunction w(e) {\n  return void 0 !== e.min && void 0 !== e.max;\n}\n\nfunction L(e) {\n  return /^elevation$/i.test(e.name) && /^(epsg|crs):\\d+$/i.test(e.units);\n}\n\nfunction F(e) {\n  return !M(e) && !L(e);\n}\n\nfunction M(e) {\n  return /^time$/i.test(e.name) && /^iso8601$/i.test(e.units);\n}\n\nfunction C(e, t) {\n  const n = [],\n        i = r(e);\n\n  for (const r in i.query) i.query.hasOwnProperty(r) && (t.includes(r.toLowerCase()) || n.push(r + \"=\" + i.query[r]));\n\n  return i.path + (n.length ? \"?\" + n.join(\"&\") : \"\");\n}\n\nfunction R(e) {\n  if (!e) return;\n  const n = e.includes(\"/\"),\n        r = e.split(\",\");\n  return n ? r.map(e => {\n    const t = e.split(\"/\");\n    if (t.length < 2) return null;\n    return {\n      min: parseFloat(t[0]),\n      max: parseFloat(t[1]),\n      resolution: t.length >= 3 && \"0\" !== t[2] ? parseFloat(t[2]) : void 0\n    };\n  }).filter(t) : r.map(e => parseFloat(e));\n}\n\nfunction v(e) {\n  if (!e) return;\n  const n = e.includes(\"/\"),\n        r = e.split(\",\");\n  return n ? r.map(e => {\n    const t = e.split(\"/\");\n    if (t.length < 2) return null;\n    return {\n      min: t[0],\n      max: t[1],\n      resolution: t.length >= 3 && \"0\" !== t[2] ? t[2] : void 0\n    };\n  }).filter(t) : r;\n}\n\nfunction I(e) {\n  if (!e) return;\n  const n = e.includes(\"/\"),\n        r = e.split(\",\");\n  return n ? r.map(e => {\n    const t = e.split(\"/\");\n    if (t.length < 2) return null;\n    return {\n      min: new Date(t[0]),\n      max: new Date(t[1]),\n      resolution: t.length >= 3 && \"0\" !== t[2] ? T(t[2]) : void 0\n    };\n  }).filter(t) : r.map(e => new Date(e));\n}\n\nfunction T(e) {\n  const t = /(?:p(\\d+y|\\d+(?:.|,)\\d+y)?(\\d+m|\\d+(?:.|,)\\d+m)?(\\d+d|\\d+(?:.|,)\\d+d)?)?(?:t(\\d+h|\\d+(?:.|,)\\d+h)?(\\d+m|\\d+(?:.|,)\\d+m)?(\\d+s|\\d+(?:.|,)\\d+s)?)?/i,\n        n = e.match(t);\n  if (!n) return null;\n  return {\n    years: U(n[1]),\n    months: U(n[2]),\n    days: U(n[3]),\n    hours: U(n[4]),\n    minutes: U(n[5]),\n    seconds: U(n[6])\n  };\n}\n\nfunction U(e) {\n  if (!e) return 0;\n  const t = /(?:\\d+(?:.|,)\\d+|\\d+)/,\n        n = e.match(t);\n  if (!n) return 0;\n  const r = n[0].replace(\",\", \".\");\n  return Number(r);\n}\n\nfunction V(e) {\n  return e.toISOString().replace(/\\.[0-9]{3}/, \"\");\n}\n\nconst O = new Set([102100, 3857, 102113, 900913]),\n      _ = new Set([3395, 54004]);\n\nfunction B(e, t) {\n  let r = e.wkid;\n  return n(t) ? r : (null != r && t.includes(r) || !e.latestWkid || (r = e.latestWkid), null != r && O.has(r) ? t.find(e => O.has(e)) || t.find(e => _.has(e)) || 102100 : r);\n}\n\nexport { T as fromISODuration, u as getPopupLayers, w as isDimensionInterval, L as isElevationDimension, F as isGenericDimension, M as isTimeDimension, B as normalizeWKID, l as parseCapabilities, V as toISOString };","map":{"version":3,"names":["e","isSome","t","isNone","n","urlToObject","r","i","s","isAxesOrderReversedForWkid","o","a","l","idCounter","DOMParser","parseFromString","documentElement","nodeName","Array","prototype","slice","call","childNodes","map","textContent","join","p","u","f","getAttribute","d","x","h","g","test","b","E","parseInt","w","L","y","F","N","C","A","R","v","I","T","sublayers","U","push","forEach","name","V","O","extent","_","fullExtents","length","toJSON","B","spatialReferences","c","D","j","k","m","q","minScale","X","maxScale","G","dimensions","W","reduce","concat","P","filter","M","$","S","getTime","min","max","flat","startTimeField","endTimeField","trackIdField","timeExtent","Math","copyright","description","featureInfoFormats","featureInfoUrl","mapUrl","maxWidth","maxHeight","layers","supportedImageFormatTypes","timeInfo","title","version","popupEnabled","queryable","parseFloat","isNaN","Number","MAX_VALUE","wkid","xmin","ymin","xmax","ymax","spatialReference","indexOf","substring","id","parentLayerId","includes","split","legendURL","units","default","multipleValues","nearestValue","current","unitSymbol","isArray","Date","nodeType","Node","ELEMENT_NODE","query","hasOwnProperty","toLowerCase","path","resolution","match","years","months","days","hours","minutes","seconds","replace","toISOString","Set","latestWkid","has","find","fromISODuration","getPopupLayers","isDimensionInterval","isElevationDimension","isGenericDimension","isTimeDimension","normalizeWKID","parseCapabilities"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/wmsUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{isSome as t,isNone as n}from\"../../core/maybe.js\";import{urlToObject as r}from\"../../core/urlUtils.js\";import i from\"../../geometry/Extent.js\";import s from\"../../geometry/SpatialReference.js\";import{isAxesOrderReversedForWkid as o}from\"../ogc/crsUtils.js\";const a={84:4326,83:4269,27:4267};function l(n){if(!n)return null;const r={idCounter:-1};if(\"string\"==typeof n){n=(new DOMParser).parseFromString(n,\"text/xml\")}const s=n.documentElement;if(\"ServiceExceptionReport\"===s.nodeName){const t=Array.prototype.slice.call(s.childNodes).map((e=>e.textContent)).join(\"\\r\\n\");throw new e(\"wmslayer:wms-capabilities-xml-is-not-valid\",\"The server returned errors when the WMS capabilities were requested.\",t)}const o=p(\"Capability\",s),a=p(\"Service\",s),l=o&&p(\"Request\",o);if(!o||!a||!l)return null;const u=p(\"Layer\",o);if(!u)return null;const f=\"WMS_Capabilities\"===s.nodeName||\"WMT_MS_Capabilities\"===s.nodeName?s.getAttribute(\"version\"):\"1.3.0\",d=x(\"Title\",a,\"\")||x(\"Name\",a,\"\"),h=x(\"AccessConstraints\",a,\"\"),g=/^none$/i.test(h)?\"\":h,b=x(\"Abstract\",a,\"\"),E=parseInt(x(\"MaxWidth\",a,\"5000\"),10),w=parseInt(x(\"MaxHeight\",a,\"5000\"),10),L=y(l,\"GetMap\"),F=N(l,\"GetMap\"),C=A(u,f,r);if(!C)return null;let R,v=0;const I=Array.prototype.slice.call(o.childNodes),T=C.sublayers??[],U=e=>{null!=e&&T.push(e)};I.forEach((e=>{\"Layer\"===e.nodeName&&(0===v?R=e:1===v?(C.name&&(C.name=\"\",U(A(R,f,r))),U(A(e,f,r))):U(A(e,f,r)),v++)}));let V=C.sublayers,O=C.extent;const _=C.fullExtents??[];if(V||(V=[]),0===V.length&&V.push(C),!O){const e=new i(V[0].extent);C.extent=e.toJSON(),O=C.extent}const B=C.spatialReferences.length>0?C.spatialReferences:c(C),D=N(l,\"GetFeatureInfo\"),j=D?y(l,\"GetFeatureInfo\"):null,k=m(V),q=C.minScale||0,X=C.maxScale||0,G=C.dimensions??[],W=k.reduce(((e,t)=>e.concat(t.dimensions??[])),[]),P=G.concat(W).filter(M);let $=null;if(P.length){const e=P.map((e=>{const{extent:t}=e;return S(t)?t.map((e=>e.getTime())):t?.map((e=>[e.min.getTime(),e.max.getTime()]))})).flat(2).filter(t);$={startTimeField:null,endTimeField:null,trackIdField:void 0,timeExtent:[Math.min(...e),Math.max(...e)]}}return{copyright:g,description:b,dimensions:G,extent:O,fullExtents:_,featureInfoFormats:j,featureInfoUrl:D,mapUrl:F,maxWidth:E,maxHeight:w,maxScale:X,minScale:q,layers:k,spatialReferences:B,supportedImageFormatTypes:L,timeInfo:$,title:d,version:f}}function u(e){const t=e.filter((e=>e.popupEnabled&&e.name&&e.queryable));return t.length?t.map((({name:e})=>e)).join():null}function c(e){if(e.spatialReferences.length>0)return e.spatialReferences;if(e.sublayers)for(const t of e.sublayers){const e=c(t);if(e.length>0)return e}return[]}function m(e){let t=[];for(const n of e)t.push(n),n.sublayers?.length&&(t=t.concat(m(n.sublayers)),delete n.sublayers);return t}function f(e,t,n){return t.getAttribute(e)??n}function d(e,t,n,r){const i=p(e,n);return i?f(t,i,r):r}function p(e,t){for(let n=0;n<t.childNodes.length;n++){const r=t.childNodes[n];if(E(r)&&r.nodeName===e)return r}return null}function h(e,t){if(null==t)return[];const n=[];for(let r=0;r<t.childNodes.length;r++){const i=t.childNodes[r];E(i)&&i.nodeName===e&&n.push(i)}return n}function x(e,t,n){return p(e,t)?.textContent??n}function g(e,t,n){if(!e)return null;const r=parseFloat(e.getAttribute(\"minx\")),o=parseFloat(e.getAttribute(\"miny\")),a=parseFloat(e.getAttribute(\"maxx\")),l=parseFloat(e.getAttribute(\"maxy\"));let u,c,m,f;n?(u=isNaN(o)?-Number.MAX_VALUE:o,c=isNaN(r)?-Number.MAX_VALUE:r,m=isNaN(l)?Number.MAX_VALUE:l,f=isNaN(a)?Number.MAX_VALUE:a):(u=isNaN(r)?-Number.MAX_VALUE:r,c=isNaN(o)?-Number.MAX_VALUE:o,m=isNaN(a)?Number.MAX_VALUE:a,f=isNaN(l)?Number.MAX_VALUE:l);const d=new s({wkid:t});return new i({xmin:u,ymin:c,xmax:m,ymax:f,spatialReference:d})}function N(e,t){const n=p(t,e);if(n){const e=p(\"DCPType\",n);if(e){const t=p(\"HTTP\",e);if(t){const e=p(\"Get\",t);if(e){let t=d(\"OnlineResource\",\"xlink:href\",e,null);if(t)return t.indexOf(\"&\")===t.length-1&&(t=t.substring(0,t.length-1)),C(t,[\"service\",\"request\"])}}}}return null}function y(e,n){const r=h(\"Operation\",e);if(!r.length){return h(\"Format\",p(n,e)).map((({textContent:e})=>e)).filter(t)}const i=[];for(const t of r)if(t.getAttribute(\"name\")===n){const e=h(\"Format\",t);for(const{textContent:t}of e)null!=t&&i.push(t)}return i}function b(e,t,n){const r=p(t,e);if(!r)return n;const{textContent:i}=r;if(null==i||\"\"===i)return n;const s=Number(i);return isNaN(s)?n:s}function A(e,t,n){if(!e)return null;const r={id:n.idCounter++,fullExtents:[],parentLayerId:null,queryable:\"1\"===e.getAttribute(\"queryable\"),spatialReferences:[],sublayers:null},l=p(\"LatLonBoundingBox\",e),u=p(\"EX_GeographicBoundingBox\",e);let c=null;l&&(c=g(l,4326)),u&&(c=new i(0,0,0,0,new s({wkid:4326})),c.xmin=parseFloat(x(\"westBoundLongitude\",u,\"0\")),c.ymin=parseFloat(x(\"southBoundLatitude\",u,\"0\")),c.xmax=parseFloat(x(\"eastBoundLongitude\",u,\"0\")),c.ymax=parseFloat(x(\"northBoundLatitude\",u,\"0\"))),l||u||(c=new i(-180,-90,180,90,new s({wkid:4326}))),r.minScale=b(e,\"MaxScaleDenominator\",0),r.maxScale=b(e,\"MinScaleDenominator\",0);const m=[\"1.0.0\",\"1.1.0\",\"1.1.1\"].includes(t)?\"SRS\":\"CRS\";return Array.prototype.slice.call(e.childNodes).forEach((e=>{if(\"Name\"===e.nodeName)r.name=e.textContent||\"\";else if(\"Title\"===e.nodeName)r.title=e.textContent||\"\";else if(\"Abstract\"===e.nodeName)r.description=e.textContent||\"\";else if(\"BoundingBox\"===e.nodeName){const n=e.getAttribute(m);if(n&&0===n.indexOf(\"EPSG:\")){const r=parseInt(n.substring(5),10);0===r||isNaN(r)||c||(c=\"1.3.0\"===t?g(e,r,o(r)):g(e,r))}const i=n&&n.indexOf(\":\");if(i&&i>-1){let s=parseInt(n.substring(i+1,n.length),10);0===s||isNaN(s)||(s=a[s]?a[s]:s);const l=\"1.3.0\"===t?g(e,s,o(s)):g(e,s);l&&r.fullExtents&&r.fullExtents.push(l)}}else if(e.nodeName===m){(e.textContent?.split(\" \")??[]).forEach((e=>{const t=e.includes(\":\")?parseInt(e.split(\":\")[1],10):parseInt(e,10);if(0!==t&&!isNaN(t)){const e=a[t]?a[t]:t;r.spatialReferences.includes(e)||r.spatialReferences.push(e)}}))}else if(\"Style\"!==e.nodeName||r.legendURL){if(\"Layer\"===e.nodeName){const i=A(e,t,n);i&&(i.parentLayerId=r.id,r.sublayers||(r.sublayers=[]),r.sublayers.push(i))}}else{const t=p(\"LegendURL\",e);if(t){const e=p(\"OnlineResource\",t);e&&(r.legendURL=e.getAttribute(\"xlink:href\"))}}})),r.extent=c?.toJSON(),r.dimensions=h(\"Dimension\",e).filter((e=>e.getAttribute(\"name\")&&e.getAttribute(\"units\")&&e.textContent)).map((e=>{const t=e.getAttribute(\"name\"),n=e.getAttribute(\"units\"),r=e.textContent,i=e.getAttribute(\"unitSymbol\")??void 0,s=e.getAttribute(\"default\")??void 0,o=\"0\"!==f(\"default\",e,\"0\"),a=\"0\"!==f(\"nearestValue\",e,\"0\"),l=\"0\"!==f(\"current\",e,\"0\");if(M({name:t,units:n})){return{name:\"time\",units:\"ISO8601\",extent:I(r),default:I(s),multipleValues:o,nearestValue:a,current:l}}if(L({name:t,units:n})){return{name:\"elevation\",units:n,extent:R(r),unitSymbol:i,default:R(s),multipleValues:o,nearestValue:a}}return{name:t,units:n,extent:v(r),unitSymbol:i,default:v(s),multipleValues:o,nearestValue:a}})),r}function S(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof Date}function E(e){return e.nodeType===Node.ELEMENT_NODE}function w(e){return void 0!==e.min&&void 0!==e.max}function L(e){return/^elevation$/i.test(e.name)&&/^(epsg|crs):\\d+$/i.test(e.units)}function F(e){return!M(e)&&!L(e)}function M(e){return/^time$/i.test(e.name)&&/^iso8601$/i.test(e.units)}function C(e,t){const n=[],i=r(e);for(const r in i.query)i.query.hasOwnProperty(r)&&(t.includes(r.toLowerCase())||n.push(r+\"=\"+i.query[r]));return i.path+(n.length?\"?\"+n.join(\"&\"):\"\")}function R(e){if(!e)return;const n=e.includes(\"/\"),r=e.split(\",\");return n?r.map((e=>{const t=e.split(\"/\");if(t.length<2)return null;return{min:parseFloat(t[0]),max:parseFloat(t[1]),resolution:t.length>=3&&\"0\"!==t[2]?parseFloat(t[2]):void 0}})).filter(t):r.map((e=>parseFloat(e)))}function v(e){if(!e)return;const n=e.includes(\"/\"),r=e.split(\",\");return n?r.map((e=>{const t=e.split(\"/\");if(t.length<2)return null;return{min:t[0],max:t[1],resolution:t.length>=3&&\"0\"!==t[2]?t[2]:void 0}})).filter(t):r}function I(e){if(!e)return;const n=e.includes(\"/\"),r=e.split(\",\");return n?r.map((e=>{const t=e.split(\"/\");if(t.length<2)return null;return{min:new Date(t[0]),max:new Date(t[1]),resolution:t.length>=3&&\"0\"!==t[2]?T(t[2]):void 0}})).filter(t):r.map((e=>new Date(e)))}function T(e){const t=/(?:p(\\d+y|\\d+(?:.|,)\\d+y)?(\\d+m|\\d+(?:.|,)\\d+m)?(\\d+d|\\d+(?:.|,)\\d+d)?)?(?:t(\\d+h|\\d+(?:.|,)\\d+h)?(\\d+m|\\d+(?:.|,)\\d+m)?(\\d+s|\\d+(?:.|,)\\d+s)?)?/i,n=e.match(t);if(!n)return null;return{years:U(n[1]),months:U(n[2]),days:U(n[3]),hours:U(n[4]),minutes:U(n[5]),seconds:U(n[6])}}function U(e){if(!e)return 0;const t=/(?:\\d+(?:.|,)\\d+|\\d+)/,n=e.match(t);if(!n)return 0;const r=n[0].replace(\",\",\".\");return Number(r)}function V(e){return e.toISOString().replace(/\\.[0-9]{3}/,\"\")}const O=new Set([102100,3857,102113,900913]),_=new Set([3395,54004]);function B(e,t){let r=e.wkid;return n(t)?r:(null!=r&&t.includes(r)||!e.latestWkid||(r=e.latestWkid),null!=r&&O.has(r)?t.find((e=>O.has(e)))||t.find((e=>_.has(e)))||102100:r)}export{T as fromISODuration,u as getPopupLayers,w as isDimensionInterval,L as isElevationDimension,F as isGenericDimension,M as isTimeDimension,B as normalizeWKID,l as parseCapabilities,V as toISOString};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}