{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst t = 9999999e31,\n      e = 2e-7,\n      n = {\n  u1: [0, 1],\n  u2: [0, 3],\n  u4: [0, 15],\n  u8: [0, 255],\n  s8: [-128, 127],\n  u16: [0, 65535],\n  s16: [-32768, 32767],\n  u32: [0, 4294967295],\n  s32: [-2147483648, 2147483647],\n  f32: [-34028234663852886e22, 34028234663852886e22],\n  f64: [-Number.MAX_VALUE, Number.MAX_VALUE]\n};\n\nfunction s(t) {\n  return n[t] ?? [-34028234663852886e22, 34028234663852886e22];\n}\n\nfunction u(n, u, a) {\n  if (n.depthCount && n.depthCount > 1) return;\n  const {\n    pixels: i,\n    statistics: l,\n    pixelType: o\n  } = n,\n        r = i[0].length,\n        f = n.bandMasks ?? [],\n        c = n.mask ?? new Uint8Array(r).fill(255),\n        b = \"f32\" === o || \"f64\" === o,\n        m = s(o);\n  let h = !1;\n\n  for (let s = 0; s < i.length; s++) {\n    const n = \"number\" == typeof u ? u : u[s];\n    if (null == n) continue;\n    const p = l?.[s].minValue ?? m[0],\n          N = l?.[s].maxValue ?? m[1];\n    if (p > n + Number.EPSILON || N < n - Number.EPSILON) continue;\n    const M = f[s] || new Uint8Array(r).fill(255),\n          d = i[s],\n          A = a?.customFloatTolerance;\n\n    if (b && 0 !== A) {\n      let s = A;\n      s || (s = Math.abs(n) >= t ? e * Math.abs(n) : \"f32\" === o ? 2 ** -23 : Number.EPSILON);\n\n      for (let t = 0; t < d.length; t++) M[t] && Math.abs(d[t] - n) < s && (d[t] = 0, M[t] = 0, c[t] = 0, h = !0);\n    } else for (let t = 0; t < d.length; t++) M[t] && d[t] === n && (d[t] = 0, M[t] = 0, c[t] = 0, h = !0);\n\n    f[s] = M;\n  }\n\n  h && (n.bandMasks = f, n.mask = c), h && \"updateStatistics\" in n && n.updateStatistics();\n}\n\nexport { u as convertNoDataToMask, s as getPixelValueRange };","map":{"version":3,"names":["t","e","n","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","Number","MAX_VALUE","s","u","a","depthCount","pixels","i","statistics","l","pixelType","o","r","length","f","bandMasks","c","mask","Uint8Array","fill","b","m","h","p","minValue","N","maxValue","EPSILON","M","d","A","customFloatTolerance","Math","abs","updateStatistics","convertNoDataToMask","getPixelValueRange"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst t=9999999e31,e=2e-7,n={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function s(t){return n[t]??[-34028234663852886e22,34028234663852886e22]}function u(n,u,a){if(n.depthCount&&n.depthCount>1)return;const{pixels:i,statistics:l,pixelType:o}=n,r=i[0].length,f=n.bandMasks??[],c=n.mask??new Uint8Array(r).fill(255),b=\"f32\"===o||\"f64\"===o,m=s(o);let h=!1;for(let s=0;s<i.length;s++){const n=\"number\"==typeof u?u:u[s];if(null==n)continue;const p=l?.[s].minValue??m[0],N=l?.[s].maxValue??m[1];if(p>n+Number.EPSILON||N<n-Number.EPSILON)continue;const M=f[s]||new Uint8Array(r).fill(255),d=i[s],A=a?.customFloatTolerance;if(b&&0!==A){let s=A;s||(s=Math.abs(n)>=t?e*Math.abs(n):\"f32\"===o?2**-23:Number.EPSILON);for(let t=0;t<d.length;t++)M[t]&&Math.abs(d[t]-n)<s&&(d[t]=0,M[t]=0,c[t]=0,h=!0)}else for(let t=0;t<d.length;t++)M[t]&&d[t]===n&&(d[t]=0,M[t]=0,c[t]=0,h=!0);f[s]=M}h&&(n.bandMasks=f,n.mask=c),h&&\"updateStatistics\"in n&&n.updateStatistics()}export{u as convertNoDataToMask,s as getPixelValueRange};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}