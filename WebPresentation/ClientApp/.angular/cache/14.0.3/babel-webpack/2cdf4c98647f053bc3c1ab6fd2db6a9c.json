{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport { rad2deg as e } from \"../../core/mathUtils.js\";\nimport { isNone as r } from \"../../core/maybe.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport { subclass as s } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { t as n } from \"../../chunks/common.js\";\nimport i from \"../../geometry/Extent.js\";\nimport a from \"../../geometry/Polygon.js\";\nimport c from \"./GeoreferenceBase.js\";\nlet p = class extends c {\n  constructor(t) {\n    super(t), this.extent = null, this.rotation = 0, this.type = \"extent-and-rotation\";\n  }\n\n  get coords() {\n    if (r(this.extent)) return null;\n    const {\n      xmin: t,\n      ymin: e,\n      xmax: o,\n      ymax: s,\n      spatialReference: n\n    } = this.extent;\n    let i;\n\n    if (this.rotation) {\n      const {\n        x: r,\n        y: n\n      } = this.extent.center,\n            a = m(r, n, this.rotation);\n      i = [a(t, e), a(t, s), a(o, s), a(o, e)], i.push(i[0]);\n    } else i = [[t, e], [t, s], [o, s], [o, e], [t, e]];\n\n    return new a({\n      rings: [i],\n      spatialReference: n\n    });\n  }\n\n  set coords(t) {\n    if (r(t) || r(this.extent)) return;\n    const o = this.extent.spatialReference;\n    if (t = this.projectOrWarn(t, o), r(t) || r(t.extent)) return;\n    const {\n      rings: [[s, n, a]],\n      extent: {\n        center: {\n          x: c,\n          y: p\n        }\n      }\n    } = t,\n          x = e(Math.PI / 2 - Math.atan2(n[1] - s[1], n[0] - s[0])),\n          u = m(c, p, -x),\n          [f, h] = u(s[0], s[1]),\n          [l, y] = u(a[0], a[1]);\n    this.extent = new i({\n      xmin: f,\n      ymin: h,\n      xmax: l,\n      ymax: y,\n      spatialReference: o\n    }), this.rotation = x;\n  }\n\n};\n\nfunction m(t, e, r) {\n  const o = n(r),\n        s = Math.cos(o),\n        i = Math.sin(o);\n  return (r, o) => [s * (r - t) + i * (o - e) + t, s * (o - e) - i * (r - t) + e];\n}\n\nt([o()], p.prototype, \"coords\", null), t([o({\n  type: i\n})], p.prototype, \"extent\", void 0), t([o({\n  type: Number\n})], p.prototype, \"rotation\", void 0), p = t([s(\"esri.layers.support.ExtentAndRotationGeoreference\")], p);\nconst x = p;\nexport { x as default };","map":{"version":3,"names":["_","t","rad2deg","e","isNone","r","property","o","subclass","s","n","i","a","c","p","constructor","extent","rotation","type","coords","xmin","ymin","xmax","ymax","spatialReference","x","y","center","m","push","rings","projectOrWarn","Math","PI","atan2","u","f","h","l","cos","sin","prototype","Number","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/ExtentAndRotationGeoreference.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{rad2deg as e}from\"../../core/mathUtils.js\";import{isNone as r}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{t as n}from\"../../chunks/common.js\";import i from\"../../geometry/Extent.js\";import a from\"../../geometry/Polygon.js\";import c from\"./GeoreferenceBase.js\";let p=class extends c{constructor(t){super(t),this.extent=null,this.rotation=0,this.type=\"extent-and-rotation\"}get coords(){if(r(this.extent))return null;const{xmin:t,ymin:e,xmax:o,ymax:s,spatialReference:n}=this.extent;let i;if(this.rotation){const{x:r,y:n}=this.extent.center,a=m(r,n,this.rotation);i=[a(t,e),a(t,s),a(o,s),a(o,e)],i.push(i[0])}else i=[[t,e],[t,s],[o,s],[o,e],[t,e]];return new a({rings:[i],spatialReference:n})}set coords(t){if(r(t)||r(this.extent))return;const o=this.extent.spatialReference;if(t=this.projectOrWarn(t,o),r(t)||r(t.extent))return;const{rings:[[s,n,a]],extent:{center:{x:c,y:p}}}=t,x=e(Math.PI/2-Math.atan2(n[1]-s[1],n[0]-s[0])),u=m(c,p,-x),[f,h]=u(s[0],s[1]),[l,y]=u(a[0],a[1]);this.extent=new i({xmin:f,ymin:h,xmax:l,ymax:y,spatialReference:o}),this.rotation=x}};function m(t,e,r){const o=n(r),s=Math.cos(o),i=Math.sin(o);return(r,o)=>[s*(r-t)+i*(o-e)+t,s*(o-e)-i*(r-t)+e]}t([o()],p.prototype,\"coords\",null),t([o({type:i})],p.prototype,\"extent\",void 0),t([o({type:Number})],p.prototype,\"rotation\",void 0),p=t([s(\"esri.layers.support.ExtentAndRotationGeoreference\")],p);const x=p;export{x as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}