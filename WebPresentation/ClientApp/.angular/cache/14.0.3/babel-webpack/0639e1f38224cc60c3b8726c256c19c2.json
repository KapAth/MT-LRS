{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { isSome as s, isNone as r } from \"../../../core/maybe.js\";\nimport { property as e } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/arrayUtils.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"./BaseRasterFunction.js\";\nimport i from \"./CompositeBandFunctionArguments.js\";\nimport { compositeBands as a } from \"./pixelUtils.js\";\nlet u = class extends n {\n  constructor() {\n    super(...arguments), this.functionName = \"CompositeBand\", this.functionArguments = null, this.rasterArgumentNames = [\"rasters\"];\n  }\n\n  _bindSourceRasters() {\n    const {\n      sourceRasterInfos: t\n    } = this,\n          r = t[0];\n    this.outputPixelType = this._getOutputPixelType(r.pixelType);\n    const e = r.clone();\n\n    if (e.attributeTable = null, e.colormap = null, e.pixelType = this.outputPixelType, e.bandCount = t.map(({\n      bandCount: t\n    }) => t).reduce((t, s) => t + s), t.every(({\n      statistics: t\n    }) => s(t) && t.length)) {\n      const r = [];\n      t.forEach(({\n        statistics: t\n      }) => s(t) && r.push(...t)), e.statistics = r;\n    }\n\n    if (t.every(({\n      histograms: t\n    }) => s(t) && t.length)) {\n      const r = [];\n      t.forEach(({\n        histograms: t\n      }) => s(t) && r.push(...t)), e.histograms = r;\n    }\n\n    e.bandCount > 1 && (e.colormap = null, e.attributeTable = null), this.rasterInfo = e;\n    return {\n      success: !0,\n      supportsGPU: e.bandCount <= 3\n    };\n  }\n\n  _processPixels(t) {\n    const {\n      pixelBlocks: s\n    } = t;\n    if (!s) return null;\n    const e = s?.[0];\n    return r(e) ? null : a(s);\n  }\n\n  _getWebGLParameters() {\n    return {\n      bandCount: this.rasterInfo.bandCount\n    };\n  }\n\n};\nt([e({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], u.prototype, \"functionName\", void 0), t([e({\n  type: i,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], u.prototype, \"functionArguments\", void 0), t([e()], u.prototype, \"rasterArgumentNames\", void 0), u = t([o(\"esri.layers.support.rasterFunctions.CompositeBandFunction\")], u);\nconst p = u;\nexport { p as default };","map":{"version":3,"names":["_","t","isSome","s","isNone","r","property","e","subclass","o","n","i","compositeBands","a","u","constructor","arguments","functionName","functionArguments","rasterArgumentNames","_bindSourceRasters","sourceRasterInfos","outputPixelType","_getOutputPixelType","pixelType","clone","attributeTable","colormap","bandCount","map","reduce","every","statistics","length","forEach","push","histograms","rasterInfo","success","supportsGPU","_processPixels","pixelBlocks","_getWebGLParameters","json","write","name","prototype","type","p","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/rasterFunctions/CompositeBandFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{isSome as s,isNone as r}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./BaseRasterFunction.js\";import i from\"./CompositeBandFunctionArguments.js\";import{compositeBands as a}from\"./pixelUtils.js\";let u=class extends n{constructor(){super(...arguments),this.functionName=\"CompositeBand\",this.functionArguments=null,this.rasterArgumentNames=[\"rasters\"]}_bindSourceRasters(){const{sourceRasterInfos:t}=this,r=t[0];this.outputPixelType=this._getOutputPixelType(r.pixelType);const e=r.clone();if(e.attributeTable=null,e.colormap=null,e.pixelType=this.outputPixelType,e.bandCount=t.map((({bandCount:t})=>t)).reduce(((t,s)=>t+s)),t.every((({statistics:t})=>s(t)&&t.length))){const r=[];t.forEach((({statistics:t})=>s(t)&&r.push(...t))),e.statistics=r}if(t.every((({histograms:t})=>s(t)&&t.length))){const r=[];t.forEach((({histograms:t})=>s(t)&&r.push(...t))),e.histograms=r}e.bandCount>1&&(e.colormap=null,e.attributeTable=null),this.rasterInfo=e;return{success:!0,supportsGPU:e.bandCount<=3}}_processPixels(t){const{pixelBlocks:s}=t;if(!s)return null;const e=s?.[0];return r(e)?null:a(s)}_getWebGLParameters(){return{bandCount:this.rasterInfo.bandCount}}};t([e({json:{write:!0,name:\"rasterFunction\"}})],u.prototype,\"functionName\",void 0),t([e({type:i,json:{write:!0,name:\"rasterFunctionArguments\"}})],u.prototype,\"functionArguments\",void 0),t([e()],u.prototype,\"rasterArgumentNames\",void 0),u=t([o(\"esri.layers.support.rasterFunctions.CompositeBandFunction\")],u);const p=u;export{p as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}