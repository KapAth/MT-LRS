{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { id as r } from \"../kernel.js\";\nimport e from \"../request.js\";\nimport n from \"../portal/Portal.js\";\n\nfunction t(r, e) {\n  if (null === r) return e;\n  return new n({\n    url: r.field(\"url\")\n  });\n}\n\nfunction s(_x, _x2, _x3) {\n  return _s.apply(this, arguments);\n}\n\nfunction _s() {\n  _s = _asyncToGenerator(function* (n, t, s) {\n    const u = r?.findCredential(n.restUrl);\n    if (!u) return null;\n    if (\"loaded\" === n.loadStatus && \"\" === t && n.user && n.user.sourceJSON && !1 === s) return n.user.sourceJSON;\n\n    if (\"\" === t) {\n      const r = yield e(n.restUrl + \"/community/self\", {\n        responseType: \"json\",\n        query: {\n          f: \"json\",\n          ...(!1 === s ? {} : {\n            returnUserLicenseTypeExtensions: !0\n          })\n        }\n      });\n\n      if (r.data) {\n        const e = r.data;\n        if (e && e.username) return e;\n      }\n\n      return null;\n    }\n\n    const o = yield e(n.restUrl + \"/community/users/\" + t, {\n      responseType: \"json\",\n      query: {\n        f: \"json\"\n      }\n    });\n\n    if (o.data) {\n      const r = o.data;\n      return r.error ? null : r;\n    }\n\n    return null;\n  });\n  return _s.apply(this, arguments);\n}\n\nexport { t as getPortal, s as lookupUser };","map":{"version":3,"names":["id","r","e","n","t","url","field","s","u","findCredential","restUrl","loadStatus","user","sourceJSON","responseType","query","f","returnUserLicenseTypeExtensions","data","username","o","error","getPortal","lookupUser"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/arcade/portalUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{id as r}from\"../kernel.js\";import e from\"../request.js\";import n from\"../portal/Portal.js\";function t(r,e){if(null===r)return e;return new n({url:r.field(\"url\")})}async function s(n,t,s){const u=r?.findCredential(n.restUrl);if(!u)return null;if(\"loaded\"===n.loadStatus&&\"\"===t&&n.user&&n.user.sourceJSON&&!1===s)return n.user.sourceJSON;if(\"\"===t){const r=await e(n.restUrl+\"/community/self\",{responseType:\"json\",query:{f:\"json\",...!1===s?{}:{returnUserLicenseTypeExtensions:!0}}});if(r.data){const e=r.data;if(e&&e.username)return e}return null}const o=await e(n.restUrl+\"/community/users/\"+t,{responseType:\"json\",query:{f:\"json\"}});if(o.data){const r=o.data;return r.error?null:r}return null}export{t as getPortal,s as lookupUser};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,SAAOA,EAAE,IAAIC,CAAb,QAAmB,cAAnB;AAAkC,OAAOC,CAAP,MAAa,eAAb;AAA6B,OAAOC,CAAP,MAAa,qBAAb;;AAAmC,SAASC,CAAT,CAAWH,CAAX,EAAaC,CAAb,EAAe;EAAC,IAAG,SAAOD,CAAV,EAAY,OAAOC,CAAP;EAAS,OAAO,IAAIC,CAAJ,CAAM;IAACE,GAAG,EAACJ,CAAC,CAACK,KAAF,CAAQ,KAAR;EAAL,CAAN,CAAP;AAAmC;;SAAeC,C;;;;;yBAAf,WAAiBJ,CAAjB,EAAmBC,CAAnB,EAAqBG,CAArB,EAAuB;IAAC,MAAMC,CAAC,GAACP,CAAC,EAAEQ,cAAH,CAAkBN,CAAC,CAACO,OAApB,CAAR;IAAqC,IAAG,CAACF,CAAJ,EAAM,OAAO,IAAP;IAAY,IAAG,aAAWL,CAAC,CAACQ,UAAb,IAAyB,OAAKP,CAA9B,IAAiCD,CAAC,CAACS,IAAnC,IAAyCT,CAAC,CAACS,IAAF,CAAOC,UAAhD,IAA4D,CAAC,CAAD,KAAKN,CAApE,EAAsE,OAAOJ,CAAC,CAACS,IAAF,CAAOC,UAAd;;IAAyB,IAAG,OAAKT,CAAR,EAAU;MAAC,MAAMH,CAAC,SAAOC,CAAC,CAACC,CAAC,CAACO,OAAF,GAAU,iBAAX,EAA6B;QAACI,YAAY,EAAC,MAAd;QAAqBC,KAAK,EAAC;UAACC,CAAC,EAAC,MAAH;UAAU,IAAG,CAAC,CAAD,KAAKT,CAAL,GAAO,EAAP,GAAU;YAACU,+BAA+B,EAAC,CAAC;UAAlC,CAAb;QAAV;MAA3B,CAA7B,CAAf;;MAAsI,IAAGhB,CAAC,CAACiB,IAAL,EAAU;QAAC,MAAMhB,CAAC,GAACD,CAAC,CAACiB,IAAV;QAAe,IAAGhB,CAAC,IAAEA,CAAC,CAACiB,QAAR,EAAiB,OAAOjB,CAAP;MAAS;;MAAA,OAAO,IAAP;IAAY;;IAAA,MAAMkB,CAAC,SAAOlB,CAAC,CAACC,CAAC,CAACO,OAAF,GAAU,mBAAV,GAA8BN,CAA/B,EAAiC;MAACU,YAAY,EAAC,MAAd;MAAqBC,KAAK,EAAC;QAACC,CAAC,EAAC;MAAH;IAA3B,CAAjC,CAAf;;IAAwF,IAAGI,CAAC,CAACF,IAAL,EAAU;MAAC,MAAMjB,CAAC,GAACmB,CAAC,CAACF,IAAV;MAAe,OAAOjB,CAAC,CAACoB,KAAF,GAAQ,IAAR,GAAapB,CAApB;IAAsB;;IAAA,OAAO,IAAP;EAAY,C;;;;AAAA,SAAOG,CAAC,IAAIkB,SAAZ,EAAsBf,CAAC,IAAIgB,UAA3B"},"metadata":{},"sourceType":"module"}