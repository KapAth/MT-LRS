{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { addTokenParameter as t } from \"../../../kernel.js\";\nimport o from \"../../../request.js\";\nimport { addProxy as e } from \"../../../core/urlUtils.js\";\nimport { mapParameters as n } from \"../../operations/urlUtils.js\";\nimport r from \"../support/AttachmentInfo.js\";\n\nfunction s(t) {\n  const o = t.toJSON();\n  return o.attachmentTypes && (o.attachmentTypes = o.attachmentTypes.join(\",\")), o.keywords && (o.keywords = o.keywords.join(\",\")), o.globalIds && (o.globalIds = o.globalIds.join(\",\")), o.objectIds && (o.objectIds = o.objectIds.join(\",\")), o.size && (o.size = o.size.join(\",\")), o;\n}\n\nfunction a(o, n) {\n  const s = {};\n\n  for (const a of n) {\n    const {\n      parentObjectId: n,\n      parentGlobalId: c,\n      attachmentInfos: m\n    } = a;\n\n    for (const a of m) {\n      const {\n        id: m\n      } = a,\n            p = e(t(`${o.path}/${n}/attachments/${m}`)),\n            i = r.fromJSON(a);\n      i.set({\n        url: p,\n        parentObjectId: n,\n        parentGlobalId: c\n      }), s[n] ? s[n].push(i) : s[n] = [i];\n    }\n  }\n\n  return s;\n}\n\nfunction c(t, e, r) {\n  let a = {\n    query: n({ ...t.query,\n      f: \"json\",\n      ...s(e)\n    })\n  };\n  return r && (a = { ...r,\n    ...a,\n    query: { ...r.query,\n      ...a.query\n    }\n  }), o(t.path + \"/queryAttachments\", a).then(t => t.data.attachmentGroups);\n}\n\nfunction m(_x, _x2, _x3) {\n  return _m.apply(this, arguments);\n}\n\nfunction _m() {\n  _m = _asyncToGenerator(function* (t, e, n) {\n    const {\n      objectIds: r\n    } = e,\n          s = [];\n\n    for (const a of r) s.push(o(t.path + \"/\" + a + \"/attachments\", n));\n\n    return Promise.all(s).then(t => r.map((o, e) => ({\n      parentObjectId: o,\n      attachmentInfos: t[e].data.attachmentInfos\n    })));\n  });\n  return _m.apply(this, arguments);\n}\n\nexport { c as executeAttachmentQuery, m as fetchAttachments, a as processAttachmentQueryResult };","map":{"version":3,"names":["addTokenParameter","t","o","addProxy","e","mapParameters","n","r","s","toJSON","attachmentTypes","join","keywords","globalIds","objectIds","size","a","parentObjectId","parentGlobalId","c","attachmentInfos","m","id","p","path","i","fromJSON","set","url","push","query","f","then","data","attachmentGroups","Promise","all","map","executeAttachmentQuery","fetchAttachments","processAttachmentQueryResult"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/rest/query/operations/queryAttachments.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as n}from\"../../operations/urlUtils.js\";import r from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(o,n){const s={};for(const a of n){const{parentObjectId:n,parentGlobalId:c,attachmentInfos:m}=a;for(const a of m){const{id:m}=a,p=e(t(`${o.path}/${n}/attachments/${m}`)),i=r.fromJSON(a);i.set({url:p,parentObjectId:n,parentGlobalId:c}),s[n]?s[n].push(i):s[n]=[i]}}return s}function c(t,e,r){let a={query:n({...t.query,f:\"json\",...s(e)})};return r&&(a={...r,...a,query:{...r.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then((t=>t.data.attachmentGroups))}async function m(t,e,n){const{objectIds:r}=e,s=[];for(const a of r)s.push(o(t.path+\"/\"+a+\"/attachments\",n));return Promise.all(s).then((t=>r.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,m as fetchAttachments,a as processAttachmentQueryResult};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}