{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { nextHighestPowerOfTwo as t } from \"../../../core/mathUtils.js\";\nimport { newIndexArray as n, compactIndices as e } from \"../../../views/3d/webgl-engine/lib/Indices.js\";\n\nfunction r(r, s, u) {\n  const c = Array.isArray(r),\n        a = c ? r.length / s : r.byteLength / (4 * s),\n        h = c ? r : new Uint32Array(r, 0, a * s),\n        y = u?.minReduction ?? 0,\n        g = u?.originalIndices || null,\n        A = g ? g.length : 0,\n        w = u?.componentOffsets || null;\n  let m = 0;\n  if (w) for (let t = 0; t < w.length - 1; t++) {\n    const n = w[t + 1] - w[t];\n    n > m && (m = n);\n  } else m = a;\n  const b = Math.floor(1.1 * m) + 1;\n  (null == f || f.length < 2 * b) && (f = new Uint32Array(t(2 * b)));\n\n  for (let t = 0; t < 2 * b; t++) f[t] = 0;\n\n  let U = 0;\n  const d = !!w && !!g,\n        p = d ? A : a;\n  let M = n(a / 3);\n  const j = new Uint32Array(A),\n        q = 1.96;\n  let I = 0 !== y ? Math.ceil(4 * q * q / (y * y) * y * (1 - y)) : p,\n      k = 1,\n      v = w ? w[1] : p;\n\n  for (let t = 0; t < p; t++) {\n    if (t === I) {\n      const n = 1 - U / t;\n      if (n + q * Math.sqrt(n * (1 - n) / t) < y) return null;\n      I *= 2;\n    }\n\n    if (t === v) {\n      for (let t = 0; t < 2 * b; t++) f[t] = 0;\n\n      if (g) for (let t = w[k - 1]; t < w[k]; t++) j[t] = M[g[t]];\n      v = w[++k];\n    }\n\n    const n = d ? g[t] : t,\n          e = n * s,\n          r = o(h, e, s);\n    let i = r % b,\n        u = U;\n\n    for (; 0 !== f[2 * i + 1];) {\n      if (f[2 * i] === r) {\n        const t = f[2 * i + 1] - 1;\n\n        if (l(h, e, t * s, s)) {\n          u = M[t];\n          break;\n        }\n      }\n\n      i++, i >= b && (i -= b);\n    }\n\n    u === U && (f[2 * i] = r, f[2 * i + 1] = n + 1, U++), M[n] = u;\n  }\n\n  if (0 !== y && 1 - U / a < y) return null;\n\n  if (d) {\n    for (let t = w[k - 1]; t < j.length; t++) j[t] = M[g[t]];\n\n    M = e(j);\n  }\n\n  const x = c ? new Array(U) : new Uint32Array(U * s);\n  U = 0;\n\n  for (let t = 0; t < p; t++) if (M[t] === U) {\n    i(h, (d ? g[t] : t) * s, x, U * s, s), U++;\n  }\n\n  if (g && !d) {\n    const t = new Uint32Array(A);\n\n    for (let n = 0; n < t.length; n++) t[n] = M[g[n]];\n\n    M = e(t);\n  }\n\n  return {\n    buffer: Array.isArray(x) ? x : x.buffer,\n    indices: M,\n    uniqueCount: U\n  };\n}\n\nfunction l(t, n, e, r) {\n  for (let l = 0; l < r; l++) if (t[n + l] !== t[e + l]) return !1;\n\n  return !0;\n}\n\nfunction i(t, n, e, r, l) {\n  for (let i = 0; i < l; i++) e[r + i] = t[n + i];\n}\n\nfunction o(t, n, e) {\n  let r = 0;\n\n  for (let l = 0; l < e; l++) r = t[n + l] + r | 0, r = r + (r << 11) + (r >>> 2) | 0;\n\n  return r >>> 0;\n}\n\nlet f = null;\nexport { r as deduplicate };","map":{"version":3,"names":["nextHighestPowerOfTwo","t","newIndexArray","n","compactIndices","e","r","s","u","c","Array","isArray","a","length","byteLength","h","Uint32Array","y","minReduction","g","originalIndices","A","w","componentOffsets","m","b","Math","floor","f","U","d","p","M","j","q","I","ceil","k","v","sqrt","o","i","l","x","buffer","indices","uniqueCount","deduplicate"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";import{newIndexArray as n,compactIndices as e}from\"../../../views/3d/webgl-engine/lib/Indices.js\";function r(r,s,u){const c=Array.isArray(r),a=c?r.length/s:r.byteLength/(4*s),h=c?r:new Uint32Array(r,0,a*s),y=u?.minReduction??0,g=u?.originalIndices||null,A=g?g.length:0,w=u?.componentOffsets||null;let m=0;if(w)for(let t=0;t<w.length-1;t++){const n=w[t+1]-w[t];n>m&&(m=n)}else m=a;const b=Math.floor(1.1*m)+1;(null==f||f.length<2*b)&&(f=new Uint32Array(t(2*b)));for(let t=0;t<2*b;t++)f[t]=0;let U=0;const d=!!w&&!!g,p=d?A:a;let M=n(a/3);const j=new Uint32Array(A),q=1.96;let I=0!==y?Math.ceil(4*q*q/(y*y)*y*(1-y)):p,k=1,v=w?w[1]:p;for(let t=0;t<p;t++){if(t===I){const n=1-U/t;if(n+q*Math.sqrt(n*(1-n)/t)<y)return null;I*=2}if(t===v){for(let t=0;t<2*b;t++)f[t]=0;if(g)for(let t=w[k-1];t<w[k];t++)j[t]=M[g[t]];v=w[++k]}const n=d?g[t]:t,e=n*s,r=o(h,e,s);let i=r%b,u=U;for(;0!==f[2*i+1];){if(f[2*i]===r){const t=f[2*i+1]-1;if(l(h,e,t*s,s)){u=M[t];break}}i++,i>=b&&(i-=b)}u===U&&(f[2*i]=r,f[2*i+1]=n+1,U++),M[n]=u}if(0!==y&&1-U/a<y)return null;if(d){for(let t=w[k-1];t<j.length;t++)j[t]=M[g[t]];M=e(j)}const x=c?new Array(U):new Uint32Array(U*s);U=0;for(let t=0;t<p;t++)if(M[t]===U){i(h,(d?g[t]:t)*s,x,U*s,s),U++}if(g&&!d){const t=new Uint32Array(A);for(let n=0;n<t.length;n++)t[n]=M[g[n]];M=e(t)}return{buffer:Array.isArray(x)?x:x.buffer,indices:M,uniqueCount:U}}function l(t,n,e,r){for(let l=0;l<r;l++)if(t[n+l]!==t[e+l])return!1;return!0}function i(t,n,e,r,l){for(let i=0;i<l;i++)e[r+i]=t[n+i]}function o(t,n,e){let r=0;for(let l=0;l<e;l++)r=t[n+l]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let f=null;export{r as deduplicate};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}