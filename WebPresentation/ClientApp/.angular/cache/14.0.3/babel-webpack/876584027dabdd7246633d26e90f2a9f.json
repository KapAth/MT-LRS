{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport \"../../../../../core/has.js\";\nimport { BitBlitRenderer as e } from \"../BitBlitRenderer.js\";\nimport { Effect as t } from \"./Effect.js\";\nimport s from \"./highlight/HighlightRenderer.js\";\nimport r from \"./highlight/HighlightSurfaces.js\";\nimport { TextureSamplingMode as i } from \"../../../../webgl/enums.js\";\nconst h = 4,\n      d = 4 / h;\n\nclass l extends t {\n  constructor() {\n    super(...arguments), this.defines = [\"highlight\"], this._hlRenderer = new s(), this._width = void 0, this._height = void 0, this._boundFBO = null, this._hlSurfaces = new r(), this._adjustedWidth = void 0, this._adjustedHeight = void 0, this._blitRenderer = new e();\n  }\n\n  dispose() {\n    this._hlSurfaces?.dispose(), this._hlRenderer?.dispose(), this._boundFBO = null;\n  }\n\n  bind(e) {\n    const {\n      context: t,\n      painter: s\n    } = e,\n          {\n      width: r,\n      height: i\n    } = t.getViewport(),\n          h = s.getFbos(r, i).effect0;\n    this.setup(e, r, i), t.bindFramebuffer(h), t.setColorMask(!0, !0, !0, !0), t.setClearColor(0, 0, 0, 0), t.clear(t.gl.COLOR_BUFFER_BIT);\n  }\n\n  unbind() {}\n\n  setup({\n    context: e\n  }, t, s) {\n    this._width = t, this._height = s;\n    const r = t % h,\n          i = s % h;\n    t += r < h / 2 ? -r : h - r, s += i < h / 2 ? -i : h - i, this._adjustedWidth = t, this._adjustedHeight = s, this._boundFBO = e.getBoundFramebufferObject();\n    const l = Math.round(t * d),\n          o = Math.round(s * d);\n    this._hlRenderer.setup(e, l, o), this._hlSurfaces.setup(e, l, o);\n  }\n\n  draw(e) {\n    const {\n      context: t,\n      highlightGradient: s\n    } = e;\n    if (!s) return;\n    const r = t.getBoundFramebufferObject();\n    t.setViewport(0, 0, this._adjustedWidth * d, this._adjustedHeight * d), t.bindFramebuffer(this._hlSurfaces.sharedBlur1Fbo), t.setStencilTestEnabled(!1), t.setClearColor(0, 0, 0, 0), t.clear(t.gl.COLOR_BUFFER_BIT), this._blitRenderer.render(t, r.colorTexture, i.NEAREST, 1), t.setStencilTestEnabled(!1), t.setBlendingEnabled(!1), t.setColorMask(!1, !1, !1, !0), t.bindFramebuffer(this._hlSurfaces.sharedBlur2Fbo), t.setClearColor(0, 0, 0, 0), t.clear(t.gl.COLOR_BUFFER_BIT), this._hlRenderer.preBlur(t, this._hlSurfaces.sharedBlur1Tex), t.bindFramebuffer(this._hlSurfaces.sharedBlur1Fbo), t.setClearColor(0, 0, 0, 0), t.clear(t.gl.COLOR_BUFFER_BIT), this._hlRenderer.finalBlur(t, this._hlSurfaces.sharedBlur2Tex), t.bindFramebuffer(this._boundFBO), t.setBlendingEnabled(!0), t.setColorMask(!0, !0, !0, !0), t.setViewport(0, 0, this._width, this._height), this._hlRenderer.renderHighlight(t, this._hlSurfaces.sharedBlur1Tex, s), this._boundFBO = null;\n  }\n\n}\n\nexport { l as default };","map":{"version":3,"names":["BitBlitRenderer","e","Effect","t","s","r","TextureSamplingMode","i","h","d","l","constructor","arguments","defines","_hlRenderer","_width","_height","_boundFBO","_hlSurfaces","_adjustedWidth","_adjustedHeight","_blitRenderer","dispose","bind","context","painter","width","height","getViewport","getFbos","effect0","setup","bindFramebuffer","setColorMask","setClearColor","clear","gl","COLOR_BUFFER_BIT","unbind","getBoundFramebufferObject","Math","round","o","draw","highlightGradient","setViewport","sharedBlur1Fbo","setStencilTestEnabled","render","colorTexture","NEAREST","setBlendingEnabled","sharedBlur2Fbo","preBlur","sharedBlur1Tex","finalBlur","sharedBlur2Tex","renderHighlight","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/engine/webgl/effects/HighlightEffect.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{BitBlitRenderer as e}from\"../BitBlitRenderer.js\";import{Effect as t}from\"./Effect.js\";import s from\"./highlight/HighlightRenderer.js\";import r from\"./highlight/HighlightSurfaces.js\";import{TextureSamplingMode as i}from\"../../../../webgl/enums.js\";const h=4,d=4/h;class l extends t{constructor(){super(...arguments),this.defines=[\"highlight\"],this._hlRenderer=new s,this._width=void 0,this._height=void 0,this._boundFBO=null,this._hlSurfaces=new r,this._adjustedWidth=void 0,this._adjustedHeight=void 0,this._blitRenderer=new e}dispose(){this._hlSurfaces?.dispose(),this._hlRenderer?.dispose(),this._boundFBO=null}bind(e){const{context:t,painter:s}=e,{width:r,height:i}=t.getViewport(),h=s.getFbos(r,i).effect0;this.setup(e,r,i),t.bindFramebuffer(h),t.setColorMask(!0,!0,!0,!0),t.setClearColor(0,0,0,0),t.clear(t.gl.COLOR_BUFFER_BIT)}unbind(){}setup({context:e},t,s){this._width=t,this._height=s;const r=t%h,i=s%h;t+=r<h/2?-r:h-r,s+=i<h/2?-i:h-i,this._adjustedWidth=t,this._adjustedHeight=s,this._boundFBO=e.getBoundFramebufferObject();const l=Math.round(t*d),o=Math.round(s*d);this._hlRenderer.setup(e,l,o),this._hlSurfaces.setup(e,l,o)}draw(e){const{context:t,highlightGradient:s}=e;if(!s)return;const r=t.getBoundFramebufferObject();t.setViewport(0,0,this._adjustedWidth*d,this._adjustedHeight*d),t.bindFramebuffer(this._hlSurfaces.sharedBlur1Fbo),t.setStencilTestEnabled(!1),t.setClearColor(0,0,0,0),t.clear(t.gl.COLOR_BUFFER_BIT),this._blitRenderer.render(t,r.colorTexture,i.NEAREST,1),t.setStencilTestEnabled(!1),t.setBlendingEnabled(!1),t.setColorMask(!1,!1,!1,!0),t.bindFramebuffer(this._hlSurfaces.sharedBlur2Fbo),t.setClearColor(0,0,0,0),t.clear(t.gl.COLOR_BUFFER_BIT),this._hlRenderer.preBlur(t,this._hlSurfaces.sharedBlur1Tex),t.bindFramebuffer(this._hlSurfaces.sharedBlur1Fbo),t.setClearColor(0,0,0,0),t.clear(t.gl.COLOR_BUFFER_BIT),this._hlRenderer.finalBlur(t,this._hlSurfaces.sharedBlur2Tex),t.bindFramebuffer(this._boundFBO),t.setBlendingEnabled(!0),t.setColorMask(!0,!0,!0,!0),t.setViewport(0,0,this._width,this._height),this._hlRenderer.renderHighlight(t,this._hlSurfaces.sharedBlur1Tex,s),this._boundFBO=null}}export{l as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}