{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { setTextures as e } from \"../../../../webgl/rasterUtils.js\";\nconst t = [1, 1],\n      n = [2, 0, 0, 0, 2, 0, -1, -1, 0];\n\nfunction a(t, n, a) {\n  const {\n    context: r,\n    rasterFunction: s,\n    hasBranches: i\n  } = t,\n        {\n    raster: o\n  } = s.parameters,\n        f = i ? o?.id ?? -1 : 0,\n        m = a.functionTextures[f] ?? a.rasterTexture;\n  e(r, n, [\"u_image\"], [m]);\n}\n\nfunction r(t, n, r) {\n  const {\n    rasters: s\n  } = t.rasterFunction.parameters;\n  if (!s) return;\n  if (s.length < 2) return a(t, n, r);\n  const i = s.filter(e => \"Constant\" !== e.name).map(e => null != e.id && \"Identity\" !== e.name ? r.functionTextures[e.id] : r.rasterTexture);\n  if (e(t.context, n, [\"u_image\", \"u_image1\", \"u_image2\"].slice(0, i.length), i), i.length !== s.length) if (2 === s.length) {\n    const e = s.findIndex(e => \"Constant\" === e.name),\n          t = 0 === e ? [0, 1, 0, 1, 0, 0, 0, 0, 0] : [1, 0, 0, 0, 1, 0, 0, 0, 0],\n          {\n      value: a\n    } = s[e].parameters;\n    n.setUniform1f(\"u_image1Const\", a), n.setUniformMatrix3fv(\"u_imageSwap\", t);\n  } else if (3 === s.length) {\n    const e = [];\n\n    if (s.forEach((t, n) => \"Constant\" === t.name && e.push(n)), 1 === e.length) {\n      const {\n        value: t\n      } = s[e[0]].parameters;\n      n.setUniform1f(\"u_image1Const\", t);\n      const a = 0 === e[0] ? [0, 1, 0, 0, 0, 1, 1, 0, 0] : 1 === e[0] ? [1, 0, 0, 0, 0, 1, 0, 1, 0] : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      n.setUniformMatrix3fv(\"u_imageSwap\", a);\n    } else if (2 === e.length) {\n      const {\n        value: t\n      } = s[e[0]].parameters;\n      n.setUniform1f(\"u_image1Const\", t);\n      const {\n        value: a\n      } = s[e[1]].parameters;\n      n.setUniform1f(\"u_image2Const\", a);\n      const r = s.findIndex(e => \"Constant\" !== e.name),\n            i = 0 === r ? [1, 0, 0, 0, 1, 0, 0, 0, 1] : 1 === r ? [0, 1, 0, 1, 0, 0, 0, 0, 1] : [0, 0, 1, 1, 0, 0, 0, 1, 0];\n      n.setUniformMatrix3fv(\"u_imageSwap\", i);\n    }\n  }\n}\n\nfunction s(e) {\n  e.setUniform2fv(\"u_coordScale\", t), e.setUniformMatrix3fv(\"u_dvsMat3\", n);\n}\n\nexport { s as setCoordsAndTransforms, r as setMultipleImageTextures, a as setSingleImageTextures };","map":{"version":3,"names":["setTextures","e","t","n","a","context","r","rasterFunction","s","hasBranches","i","raster","o","parameters","f","id","m","functionTextures","rasterTexture","rasters","length","filter","name","map","slice","findIndex","value","setUniform1f","setUniformMatrix3fv","forEach","push","setUniform2fv","setCoordsAndTransforms","setMultipleImageTextures","setSingleImageTextures"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{setTextures as e}from\"../../../../webgl/rasterUtils.js\";const t=[1,1],n=[2,0,0,0,2,0,-1,-1,0];function a(t,n,a){const{context:r,rasterFunction:s,hasBranches:i}=t,{raster:o}=s.parameters,f=i?o?.id??-1:0,m=a.functionTextures[f]??a.rasterTexture;e(r,n,[\"u_image\"],[m])}function r(t,n,r){const{rasters:s}=t.rasterFunction.parameters;if(!s)return;if(s.length<2)return a(t,n,r);const i=s.filter((e=>\"Constant\"!==e.name)).map((e=>null!=e.id&&\"Identity\"!==e.name?r.functionTextures[e.id]:r.rasterTexture));if(e(t.context,n,[\"u_image\",\"u_image1\",\"u_image2\"].slice(0,i.length),i),i.length!==s.length)if(2===s.length){const e=s.findIndex((e=>\"Constant\"===e.name)),t=0===e?[0,1,0,1,0,0,0,0,0]:[1,0,0,0,1,0,0,0,0],{value:a}=s[e].parameters;n.setUniform1f(\"u_image1Const\",a),n.setUniformMatrix3fv(\"u_imageSwap\",t)}else if(3===s.length){const e=[];if(s.forEach(((t,n)=>\"Constant\"===t.name&&e.push(n))),1===e.length){const{value:t}=s[e[0]].parameters;n.setUniform1f(\"u_image1Const\",t);const a=0===e[0]?[0,1,0,0,0,1,1,0,0]:1===e[0]?[1,0,0,0,0,1,0,1,0]:[1,0,0,0,1,0,0,0,1];n.setUniformMatrix3fv(\"u_imageSwap\",a)}else if(2===e.length){const{value:t}=s[e[0]].parameters;n.setUniform1f(\"u_image1Const\",t);const{value:a}=s[e[1]].parameters;n.setUniform1f(\"u_image2Const\",a);const r=s.findIndex((e=>\"Constant\"!==e.name)),i=0===r?[1,0,0,0,1,0,0,0,1]:1===r?[0,1,0,1,0,0,0,0,1]:[0,0,1,1,0,0,0,1,0];n.setUniformMatrix3fv(\"u_imageSwap\",i)}}}function s(e){e.setUniform2fv(\"u_coordScale\",t),e.setUniformMatrix3fv(\"u_dvsMat3\",n)}export{s as setCoordsAndTransforms,r as setMultipleImageTextures,a as setSingleImageTextures};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}