{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as r } from \"../../core/maybe.js\";\nimport { urlToObject as t, removeTrailingSlash as s, removeQueryParameters as n, join as l, Url as u, makeAbsolute as i } from \"../../core/urlUtils.js\";\nimport { w as o } from \"../../chunks/persistableUrlUtils.js\";\nconst c = {\n  mapserver: \"MapServer\",\n  imageserver: \"ImageServer\",\n  featureserver: \"FeatureServer\",\n  sceneserver: \"SceneServer\",\n  streamserver: \"StreamServer\",\n  vectortileserver: \"VectorTileServer\"\n},\n      a = Object.values(c),\n      f = new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`, \"i\"),\n      v = new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`, \"i\"),\n      p = /(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;\n\nfunction m(e) {\n  return !!f.test(e);\n}\n\nfunction d(r) {\n  if (e(r)) return null;\n  const s = t(r),\n        n = s.path.match(f) || s.path.match(v);\n  if (!n) return null;\n  const [, l, u, i, o] = n,\n        a = u.indexOf(\"/\");\n  return {\n    title: w(-1 !== a ? u.slice(a + 1) : u),\n    serverType: c[i.toLowerCase()],\n    sublayer: null != o && \"\" !== o ? parseInt(o, 10) : null,\n    url: {\n      path: l\n    }\n  };\n}\n\nfunction h(e) {\n  const r = t(e).path.match(p);\n  return r ? {\n    serviceUrl: r[1],\n    sublayerId: Number(r[2])\n  } : null;\n}\n\nfunction w(e) {\n  return (e = e.replace(/\\s*[/_]+\\s*/g, \" \"))[0].toUpperCase() + e.slice(1);\n}\n\nfunction y(e, t) {\n  const s = [];\n\n  if (e) {\n    const t = d(e);\n    r(t) && t.title && s.push(t.title);\n  }\n\n  if (t) {\n    const e = w(t);\n    s.push(e);\n  }\n\n  if (2 === s.length) {\n    if (s[0].toLowerCase().includes(s[1].toLowerCase())) return s[0];\n    if (s[1].toLowerCase().includes(s[0].toLowerCase())) return s[1];\n  }\n\n  return s.join(\" - \");\n}\n\nfunction g(e) {\n  if (!e) return !1;\n  const r = \".arcgis.com/\",\n        t = \"//services\",\n        s = \"//tiles\",\n        n = \"//features\",\n        l = (e = e.toLowerCase()).includes(r),\n        u = e.includes(t) || e.includes(s) || e.includes(n);\n  return l && u;\n}\n\nfunction S(e, r) {\n  return e ? s(n(e, r)) : e;\n}\n\nfunction b(e) {\n  let {\n    url: l\n  } = e;\n  if (!l) return {\n    url: l\n  };\n  l = n(l, e.logger);\n  const u = t(l),\n        i = d(u.path);\n  let o;\n  if (r(i)) null != i.sublayer && null == e.layer.layerId && (o = i.sublayer), l = i.url.path;else if (e.nonStandardUrlAllowed) {\n    const e = h(u.path);\n    r(e) && (l = e.serviceUrl, o = e.sublayerId);\n  }\n  return {\n    url: s(l),\n    layerId: o\n  };\n}\n\nfunction C(e, r, t, s, n) {\n  o(r, s, \"url\", n), s.url && null != e.layerId && (s.url = l(s.url, t, e.layerId.toString()));\n}\n\nfunction I(e) {\n  if (!e) return !1;\n  const r = e.toLowerCase(),\n        t = r.includes(\"/services/\"),\n        s = r.includes(\"/mapserver/wmsserver\"),\n        n = r.includes(\"/imageserver/wmsserver\"),\n        l = r.includes(\"/wmsserver\");\n  return t && (s || n || l);\n}\n\nfunction L(e) {\n  if (!e) return !1;\n  const r = new u(i(e)).authority?.toLowerCase();\n  return \"server.arcgisonline.com\" === r || \"services.arcgisonline.com\" === r;\n}\n\nexport { w as cleanTitle, m as isArcGISUrl, g as isHostedAgolService, L as isServerOrServicesAGOLUrl, I as isWmsServer, d as parse, h as parseNonStandardSublayerUrl, S as sanitizeUrl, b as sanitizeUrlWithLayerId, a as serverTypes, y as titleFromUrlAndName, C as writeUrlWithLayerId };","map":{"version":3,"names":["isNone","e","isSome","r","urlToObject","t","removeTrailingSlash","s","removeQueryParameters","n","join","l","Url","u","makeAbsolute","i","w","o","c","mapserver","imageserver","featureserver","sceneserver","streamserver","vectortileserver","a","Object","values","f","RegExp","v","p","m","test","d","path","match","indexOf","title","slice","serverType","toLowerCase","sublayer","parseInt","url","h","serviceUrl","sublayerId","Number","replace","toUpperCase","y","push","length","includes","g","S","b","logger","layer","layerId","nonStandardUrlAllowed","C","toString","I","L","authority","cleanTitle","isArcGISUrl","isHostedAgolService","isServerOrServicesAGOLUrl","isWmsServer","parse","parseNonStandardSublayerUrl","sanitizeUrl","sanitizeUrlWithLayerId","serverTypes","titleFromUrlAndName","writeUrlWithLayerId"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../core/maybe.js\";import{urlToObject as t,removeTrailingSlash as s,removeQueryParameters as n,join as l,Url as u,makeAbsolute as i}from\"../../core/urlUtils.js\";import{w as o}from\"../../chunks/persistableUrlUtils.js\";const c={mapserver:\"MapServer\",imageserver:\"ImageServer\",featureserver:\"FeatureServer\",sceneserver:\"SceneServer\",streamserver:\"StreamServer\",vectortileserver:\"VectorTileServer\"},a=Object.values(c),f=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),v=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),p=/(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;function m(e){return!!f.test(e)}function d(r){if(e(r))return null;const s=t(r),n=s.path.match(f)||s.path.match(v);if(!n)return null;const[,l,u,i,o]=n,a=u.indexOf(\"/\");return{title:w(-1!==a?u.slice(a+1):u),serverType:c[i.toLowerCase()],sublayer:null!=o&&\"\"!==o?parseInt(o,10):null,url:{path:l}}}function h(e){const r=t(e).path.match(p);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function w(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function y(e,t){const s=[];if(e){const t=d(e);r(t)&&t.title&&s.push(t.title)}if(t){const e=w(t);s.push(e)}if(2===s.length){if(s[0].toLowerCase().includes(s[1].toLowerCase()))return s[0];if(s[1].toLowerCase().includes(s[0].toLowerCase()))return s[1]}return s.join(\" - \")}function g(e){if(!e)return!1;const r=\".arcgis.com/\",t=\"//services\",s=\"//tiles\",n=\"//features\",l=(e=e.toLowerCase()).includes(r),u=e.includes(t)||e.includes(s)||e.includes(n);return l&&u}function S(e,r){return e?s(n(e,r)):e}function b(e){let{url:l}=e;if(!l)return{url:l};l=n(l,e.logger);const u=t(l),i=d(u.path);let o;if(r(i))null!=i.sublayer&&null==e.layer.layerId&&(o=i.sublayer),l=i.url.path;else if(e.nonStandardUrlAllowed){const e=h(u.path);r(e)&&(l=e.serviceUrl,o=e.sublayerId)}return{url:s(l),layerId:o}}function C(e,r,t,s,n){o(r,s,\"url\",n),s.url&&null!=e.layerId&&(s.url=l(s.url,t,e.layerId.toString()))}function I(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes(\"/services/\"),s=r.includes(\"/mapserver/wmsserver\"),n=r.includes(\"/imageserver/wmsserver\"),l=r.includes(\"/wmsserver\");return t&&(s||n||l)}function L(e){if(!e)return!1;const r=new u(i(e)).authority?.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}export{w as cleanTitle,m as isArcGISUrl,g as isHostedAgolService,L as isServerOrServicesAGOLUrl,I as isWmsServer,d as parse,h as parseNonStandardSublayerUrl,S as sanitizeUrl,b as sanitizeUrlWithLayerId,a as serverTypes,y as titleFromUrlAndName,C as writeUrlWithLayerId};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}