{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../Color.js\";\nimport { bidiText as t } from \"../../core/BidiText.js\";\nimport { clone as r } from \"../../core/lang.js\";\nimport a from \"../../core/Logger.js\";\nimport { isSome as o, isNone as i } from \"../../core/maybe.js\";\nimport s from \"../../core/RandomLCG.js\";\nimport { pt2px as n, px2pt as l } from \"../../core/screenUtils.js\";\nimport { create as c, expandPointInPlace as m } from \"../../geometry/support/aaBoundingRect.js\";\nimport { getBoundsXY as f } from \"../../geometry/support/boundsUtils.js\";\nimport { createRendererExpression as y } from \"../../support/arcadeOnDemand.js\";\nimport { Placement as u } from \"./CIMPlacements.js\";\nimport { horizontalAlignment2HAlign as h, verticalAlignment2VAlign as p, EnvDrawHelper as M, Transformation as d, CanvasDrawHelper as S, lineGapType2LineHeight as b } from \"./CIMSymbolDrawHelper.js\";\nimport { LineCapStyle as g, LineJoinStyle as C, BlockProgression as I, FontEffects as k, FontEncoding as x, FontType as w, GlyphHinting as P, TextReadingDirection as L, VerticalGlyphOrientation as v, BillBoardMode as D, TextureFilter as F, ExtremityPlacement as T } from \"./enums.js\";\nimport { getValue as z, isCIMMarkerStrokePlacement as G, attributesToFields as E, analyzeTextParts as O, assignTextValuesFromFeature as A, isGeometryEngineRequired as N, importGeometryEngine as R } from \"./utils.js\";\nimport j from \"../../views/2d/arcade/callExpressionWithFeature.js\";\nimport { C_INFINITY as V } from \"../../views/2d/engine/vectorTiles/GeometryUtils.js\";\nimport { GLYPH_SIZE as B, MAGIC_LABEL_LINE_HEIGHT as X, RANDOM_INSIDE_POLYGON_TEXTURE_SIZE as _ } from \"../../views/2d/engine/webgl/definitions.js\";\nimport { shapeGlyphs as H } from \"../../views/2d/engine/webgl/mesh/templates/shapingUtils.js\";\nconst Y = Math.PI,\n      $ = Y / 2,\n      U = 4,\n      q = 4,\n      W = 10,\n      J = 96 / 72,\n      K = Math.PI / 180,\n      Q = a.getLogger(\"esri.symbols.cim.CIMSymbolHelper\");\n\nfunction Z(e) {\n  if (!e || !e.type) return null;\n  let t;\n\n  switch (e.type) {\n    case \"cim\":\n      return e.data;\n\n    case \"web-style\":\n      return e;\n\n    case \"simple-marker\":\n      {\n        const r = ie.fromSimpleMarker(e);\n        if (!r) return null;\n        t = r;\n        break;\n      }\n\n    case \"picture-marker\":\n      t = ie.fromPictureMarker(e);\n      break;\n\n    case \"simple-line\":\n      t = ie.fromSimpleLineSymbol(e);\n      break;\n\n    case \"simple-fill\":\n      t = ie.fromSimpleFillSymbol(e);\n      break;\n\n    case \"picture-fill\":\n      t = ie.fromPictureFillSymbol(e);\n      break;\n\n    case \"text\":\n      t = ie.fromTextSymbol(e);\n  }\n\n  return {\n    type: \"CIMSymbolReference\",\n    symbol: t\n  };\n}\n\nfunction ee(e, t, r) {\n  switch (t.type) {\n    case \"CIMSymbolReference\":\n      return ee(e, t.symbol, r);\n\n    case \"CIMPointSymbol\":\n      null == r && (r = {\n        x: 0,\n        y: 0\n      }), e.drawSymbol(t, r);\n      break;\n\n    case \"CIMLineSymbol\":\n      null == r && (r = {\n        paths: [[[0, 0], [10, 0]]]\n      }), e.drawSymbol(t, r);\n      break;\n\n    case \"CIMPolygonSymbol\":\n      null == r && (r = {\n        rings: [[[0, 0], [0, 10], [10, 10], [10, 0], [0, 0]]]\n      }), e.drawSymbol(t, r);\n      break;\n\n    case \"CIMTextSymbol\":\n      {\n        const r = {\n          x: 0,\n          y: 0\n        };\n        e.drawSymbol(t, r);\n        break;\n      }\n\n    case \"CIMVectorMarker\":\n      {\n        const r = new u();\n        e.drawMarker(t, r);\n        break;\n      }\n  }\n\n  return e.envelope();\n}\n\nfunction te(e) {\n  if (!e) return 0;\n\n  switch (e.type) {\n    case \"CIMMarkerPlacementAlongLineSameSize\":\n    case \"CIMMarkerPlacementAlongLineRandomSize\":\n    case \"CIMMarkerPlacementAtExtremities\":\n    case \"CIMMarkerPlacementAtMeasuredUnits\":\n    case \"CIMMarkerPlacementAtRatioPositions\":\n    case \"CIMMarkerPlacementOnLine\":\n    case \"CIMMarkerPlacementOnVertices\":\n      return Math.abs(e.offset);\n\n    default:\n      return 0;\n  }\n}\n\nfunction re(e) {\n  if (!e) return 0;\n\n  switch (e.type) {\n    case \"CIMGeometricEffectArrow\":\n      return Math.abs(.5 * e.width);\n\n    case \"CIMGeometricEffectBuffer\":\n      return Math.abs(e.size);\n\n    case \"CIMGeometricEffectExtension\":\n    case \"CIMGeometricEffectRadial\":\n      return Math.abs(e.length);\n\n    case \"CIMGeometricEffectJog\":\n      return Math.abs(.5 * e.length);\n\n    case \"CIMGeometricEffectMove\":\n      return Math.max(Math.abs(z(e.offsetX)), Math.abs(z(e.offsetY)));\n\n    case \"CIMGeometricEffectOffset\":\n    case \"CIMGeometricEffectOffsetTangent\":\n      return Math.abs(e.offset);\n\n    case \"CIMGeometricEffectRegularPolygon\":\n      return Math.abs(e.radius);\n\n    case \"CIMGeometricEffectRotate\":\n    case \"CIMGeometricEffectScale\":\n    default:\n      return 0;\n\n    case \"CIMGeometricEffectTaperedPolygon\":\n      return .5 * Math.max(Math.abs(e.fromWidth), Math.abs(e.toWidth));\n\n    case \"CIMGeometricEffectWave\":\n      return Math.abs(e.amplitude);\n  }\n}\n\nfunction ae(e) {\n  if (!e) return 0;\n  let t = 0;\n\n  for (const r of e) t += re(r);\n\n  return t;\n}\n\nclass oe {\n  getSymbolInflateSize(e, t, r, a, o) {\n    return e || (e = [0, 0, 0, 0]), t ? this._getInflateSize(e, t, r, a, o) : e;\n  }\n\n  static safeSize(e) {\n    const t = Math.max(Math.abs(e[0]), Math.abs(e[2])),\n          r = Math.max(Math.abs(e[1]), Math.abs(e[3]));\n    return Math.sqrt(t * t + r * r);\n  }\n\n  _vectorMarkerBounds(e, t, r, a) {\n    let o = !0;\n    const i = c();\n    if (t && t.markerGraphics) for (const s of t.markerGraphics) {\n      const t = [0, 0, 0, 0];\n      s.geometry && (f(i, s.geometry), t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 0, this.getSymbolInflateSize(t, s.symbol, r, 0, a), i[0] += t[0], i[1] += t[1], i[2] += t[2], i[3] += t[3], o ? (e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], o = !1) : (e[0] = Math.min(e[0], i[0]), e[1] = Math.min(e[1], i[1]), e[2] = Math.max(e[2], i[2]), e[3] = Math.max(e[3], i[3])));\n    }\n    return e;\n  }\n\n  _getInflateSize(e, t, r, a, o) {\n    if (Me(t)) {\n      const i = this._getLayersInflateSize(e, t.symbolLayers, r, a, o),\n            s = ae(t.effects);\n\n      return s > 0 && (i[0] -= s, i[1] -= s, i[2] += s, i[3] += s), i;\n    }\n\n    return this._getTextInflatedSize(e, t, o);\n  }\n\n  _getLayersInflateSize(e, t, r, a, i) {\n    let s = !0;\n    if (!t) return e;\n\n    for (const n of t) {\n      if (!n) continue;\n      let t = [0, 0, 0, 0];\n\n      switch (n.type) {\n        case \"CIMSolidFill\":\n        case \"CIMPictureFill\":\n        case \"CIMHatchFill\":\n        case \"CIMGradientFill\":\n          break;\n\n        case \"CIMSolidStroke\":\n        case \"CIMPictureStroke\":\n        case \"CIMGradientStroke\":\n          {\n            const e = n;\n            let r = e.width;\n            null != r && (e.capStyle === g.Square || e.joinStyle === C.Miter ? r /= 1.4142135623730951 : r /= 2, t[0] = -r, t[1] = -r, t[2] = r, t[3] = r);\n            break;\n          }\n\n        case \"CIMCharacterMarker\":\n        case \"CIMVectorMarker\":\n        case \"CIMPictureMarker\":\n          {\n            const e = n;\n\n            if (\"CIMVectorMarker\" === n.type) {\n              const e = n;\n\n              if (t = this._vectorMarkerBounds(t, e, r, i), e.frame) {\n                const r = (e.frame.xmin + e.frame.xmax) / 2,\n                      a = (e.frame.ymin + e.frame.ymax) / 2;\n\n                if (t[0] -= r, t[1] -= a, t[2] -= r, t[3] -= a, null != e.size) {\n                  const r = e.size / (e.frame.ymax - e.frame.ymin);\n                  t[0] *= r, t[1] *= r, t[2] *= r, t[3] *= r;\n                }\n              }\n            } else if (\"CIMPictureMarker\" === n.type) {\n              const a = n,\n                    i = r.getResource(a.url);\n              let s = 1;\n\n              if (o(i) && i.height && (s = i.width / i.height), null != e.size) {\n                const r = e.size / 2,\n                      o = e.size * s * a.scaleX / 2;\n                t = [-o, -r, o, r];\n              }\n            } else if (null != e.size) {\n              const r = e.size / 2;\n              t = [-r, -r, r, r];\n            }\n\n            if (e.anchorPoint) {\n              let r, a;\n              \"Absolute\" === e.anchorPointUnits ? (r = e.anchorPoint.x, a = e.anchorPoint.y) : (r = e.anchorPoint.x * (t[2] - t[0]), a = e.anchorPoint.y * (t[3] - t[1])), t[0] -= r, t[1] -= a, t[2] -= r, t[3] -= a;\n            }\n\n            let s = z(e.rotation);\n\n            if (e.rotateClockwise && (s = -s), a && (s -= a), s) {\n              const e = K * s,\n                    r = Math.cos(e),\n                    a = Math.sin(e),\n                    o = c([V, V, -V, -V]);\n              m(o, [t[0] * r - t[1] * a, t[0] * a + t[1] * r]), m(o, [t[0] * r - t[3] * a, t[0] * a + t[3] * r]), m(o, [t[2] * r - t[1] * a, t[2] * a + t[1] * r]), m(o, [t[2] * r - t[3] * a, t[2] * a + t[3] * r]), t = o;\n            }\n\n            let l = z(e.offsetX),\n                f = z(e.offsetY);\n\n            if (a) {\n              const e = K * a,\n                    t = Math.cos(e),\n                    r = Math.sin(e),\n                    o = l * r + f * t;\n              l = l * t - f * r, f = o;\n            }\n\n            t[0] += l, t[1] += f, t[2] += l, t[3] += f;\n            const y = te(e.markerPlacement);\n            y > 0 && (t[0] -= y, t[1] -= y, t[2] += y, t[3] += y);\n            break;\n          }\n      }\n\n      const l = ae(n.effects);\n      l > 0 && (t[0] -= l, t[1] -= l, t[2] += l, t[3] += l), s ? (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], s = !1) : (e[0] = Math.min(e[0], t[0]), e[1] = Math.min(e[1], t[1]), e[2] = Math.max(e[2], t[2]), e[3] = Math.max(e[3], t[3]));\n    }\n\n    return e;\n  }\n\n  _getTextInflatedSize(e, r, a) {\n    const o = r.height ?? W;\n    if (e[0] = -o / 2, e[1] = -o / 2, e[2] = o / 2, e[3] = o / 2, !a) return e;\n    const i = a.get(r);\n    if (!i) return e;\n    const {\n      text: s,\n      mosaicItem: n\n    } = i;\n    if (!n?.glyphMosaicItems?.length) return e;\n    const {\n      lineGapType: l,\n      lineGap: c\n    } = r,\n          m = l ? b(l, c ?? 0, o) : 0,\n          f = t(s)[1],\n          y = n.glyphMosaicItems,\n          u = \"CIMBackgroundCallout\" === r.callout?.type,\n          M = H(y, f, {\n      scale: o / B,\n      angle: z(r.angle),\n      xOffset: z(r.offsetX),\n      yOffset: z(r.offsetY),\n      hAlign: h(r.horizontalAlignment),\n      vAlign: p(r.verticalAlignment),\n      maxLineWidth: 512,\n      lineHeight: X * Math.max(.25, Math.min(m || 1, 4)),\n      decoration: r.font.decoration || \"none\",\n      isCIM: !0,\n      hasBackground: u\n    }).boundsT;\n    return e[0] = M.x - M.halfWidth, e[1] = -M.y - M.halfHeight, e[2] = M.x + M.halfWidth, e[3] = -M.y + M.halfHeight, e;\n  }\n\n}\n\nclass ie {\n  static getEnvelope(e, t, r) {\n    if (!e) return null;\n    const a = new M(r);\n\n    if (Array.isArray(e)) {\n      let r;\n\n      for (const o of e) r ? r.union(ee(a, o, t)) : r = ee(a, o, t);\n\n      return r;\n    }\n\n    return ee(a, e, t);\n  }\n\n  static getTextureAnchor(e, t) {\n    const r = this.getEnvelope(e, null, t);\n    if (!r) return [0, 0, 0];\n    const a = (r.x + .5 * r.width) * J,\n          o = (r.y + .5 * r.height) * J,\n          i = r.width * J + 2,\n          s = r.height * J + 2;\n    return [-a / i, -o / s, s];\n  }\n\n  static rasterize(e, t, r, a, o = !0) {\n    const i = r || this.getEnvelope(t, null, a);\n    if (!i) return [null, 0, 0, 0, 0];\n    const s = (i.x + .5 * i.width) * J,\n          n = (i.y + .5 * i.height) * J;\n    e.width = i.width * J, e.height = i.height * J, r || (e.width += 2, e.height += 2);\n    const l = e.getContext(\"2d\"),\n          c = d.createScale(J, -J);\n    c.translate(.5 * e.width - s, .5 * e.height + n);\n    const m = new S(l, a, c);\n\n    switch (t.type) {\n      case \"CIMPointSymbol\":\n        {\n          const e = {\n            type: \"point\",\n            x: 0,\n            y: 0\n          };\n          m.drawSymbol(t, e);\n          break;\n        }\n\n      case \"CIMVectorMarker\":\n        {\n          const e = new u();\n          m.drawMarker(t, e);\n          break;\n        }\n    }\n\n    const f = l.getImageData(0, 0, e.width, e.height),\n          y = new Uint8Array(f.data);\n\n    if (o) {\n      let e;\n\n      for (let t = 0; t < y.length; t += 4) e = y[t + 3] / 255, y[t] = y[t] * e, y[t + 1] = y[t + 1] * e, y[t + 2] = y[t + 2] * e;\n    }\n\n    return [y, e.width, e.height, -s / e.width, -n / e.height];\n  }\n\n  static fromTextSymbol(e) {\n    const {\n      angle: r,\n      color: a,\n      font: o,\n      haloColor: i,\n      haloSize: s,\n      horizontalAlignment: n,\n      kerning: l,\n      text: c,\n      verticalAlignment: m,\n      xoffset: f,\n      yoffset: y,\n      backgroundColor: u,\n      borderLineColor: h,\n      borderLineSize: p\n    } = e;\n    let M, d, S, b, g, C;\n    o && (M = o.family, d = o.style, S = o.weight, b = o.size, g = o.decoration);\n    let F = !1;\n\n    if (c) {\n      F = t(c)[1];\n    }\n\n    return (u || p) && (C = {\n      type: \"CIMBackgroundCallout\",\n      margin: null,\n      backgroundSymbol: {\n        type: \"CIMPolygonSymbol\",\n        symbolLayers: [{\n          type: \"CIMSolidFill\",\n          color: fe(u)\n        }, {\n          type: \"CIMSolidStroke\",\n          color: fe(h),\n          width: p\n        }]\n      },\n      accentBarSymbol: null,\n      gap: null,\n      leaderLineSymbol: null,\n      lineStyle: null\n    }), {\n      type: \"CIMPointSymbol\",\n      symbolLayers: [{\n        type: \"CIMVectorMarker\",\n        enable: !0,\n        anchorPointUnits: \"Relative\",\n        dominantSizeAxis3D: \"Y\",\n        size: 10,\n        billboardMode3D: \"FaceNearPlane\",\n        frame: {\n          xmin: -5,\n          ymin: -5,\n          xmax: 5,\n          ymax: 5\n        },\n        markerGraphics: [{\n          type: \"CIMMarkerGraphic\",\n          geometry: {\n            x: 0,\n            y: 0\n          },\n          symbol: {\n            type: \"CIMTextSymbol\",\n            angle: r,\n            blockProgression: I.BTT,\n            depth3D: 1,\n            extrapolateBaselines: !0,\n            fontEffects: k.Normal,\n            fontEncoding: x.Unicode,\n            fontFamilyName: M || \"Arial\",\n            fontStyleName: ye(d, S),\n            fontType: w.Unspecified,\n            haloSize: s,\n            height: b,\n            hinting: P.Default,\n            horizontalAlignment: ce(n ?? \"center\"),\n            kerning: l,\n            letterWidth: 100,\n            ligatures: !0,\n            lineGapType: \"Multiple\",\n            offsetX: z(f),\n            offsetY: z(y),\n            strikethrough: \"line-through\" === g,\n            underline: \"underline\" === g,\n            symbol: {\n              type: \"CIMPolygonSymbol\",\n              symbolLayers: [{\n                type: \"CIMSolidFill\",\n                enable: !0,\n                color: fe(a)\n              }]\n            },\n            haloSymbol: {\n              type: \"CIMPolygonSymbol\",\n              symbolLayers: [{\n                type: \"CIMSolidFill\",\n                enable: !0,\n                color: fe(i)\n              }]\n            },\n            shadowColor: [0, 0, 0, 255],\n            shadowOffsetX: 1,\n            shadowOffsetY: 1,\n            textCase: \"Normal\",\n            textDirection: F ? L.RTL : L.LTR,\n            verticalAlignment: me(m ?? \"baseline\"),\n            verticalGlyphOrientation: v.Right,\n            wordSpacing: 100,\n            billboardMode3D: D.FaceNearPlane,\n            callout: C\n          },\n          textString: c\n        }],\n        scaleSymbolsProportionally: !0,\n        respectFrame: !0\n      }],\n      scaleX: 1,\n      angleAlignment: \"Display\"\n    };\n  }\n\n  static fromPictureFillSymbol(e) {\n    const {\n      height: t,\n      outline: r,\n      width: a,\n      xoffset: o,\n      xscale: i,\n      yoffset: s,\n      yscale: n\n    } = e,\n          l = [],\n          c = {\n      type: \"CIMPolygonSymbol\",\n      symbolLayers: l\n    };\n\n    if (r) {\n      const {\n        cap: e,\n        join: t,\n        miterLimit: a,\n        width: o\n      } = r;\n      l.push({\n        type: \"CIMSolidStroke\",\n        color: fe(r.color),\n        capStyle: ne(e),\n        joinStyle: le(t),\n        miterLimit: a,\n        width: o\n      });\n    }\n\n    let m = e.url;\n    \"esriPFS\" === e.type && e.imageData && (m = e.imageData);\n    const f = \"angle\" in e ? e.angle ?? 0 : 0,\n          y = (a ?? 0) * (i || 1),\n          u = (t ?? 0) * (n || 1);\n    return l.push({\n      type: \"CIMPictureFill\",\n      invertBackfaceTexture: !1,\n      scaleX: 1,\n      textureFilter: F.Picture,\n      tintColor: null,\n      url: m,\n      height: u,\n      width: y,\n      offsetX: z(o),\n      offsetY: z(s),\n      rotation: z(-f),\n      colorSubstitutions: null\n    }), c;\n  }\n\n  static fromSimpleFillSymbol(e) {\n    const {\n      color: t,\n      style: a,\n      outline: o\n    } = e,\n          i = [],\n          s = {\n      type: \"CIMPolygonSymbol\",\n      symbolLayers: i\n    };\n    let n = null;\n\n    if (o) {\n      const {\n        cap: e,\n        join: t,\n        style: r\n      } = o;\n      \"solid\" !== r && \"none\" !== r && \"esriSLSSolid\" !== r && \"esriSLSNull\" !== r && (n = [{\n        type: \"CIMGeometricEffectDashes\",\n        dashTemplate: pe(r, e),\n        lineDashEnding: \"NoConstraint\",\n        scaleDash: !0,\n        offsetAlongLine: null\n      }]), i.push({\n        type: \"CIMSolidStroke\",\n        color: fe(o.color),\n        capStyle: ne(e),\n        joinStyle: le(t),\n        miterLimit: o.miterLimit,\n        width: o.width,\n        effects: n\n      });\n    }\n\n    if (a && \"solid\" !== a && \"none\" !== a && \"esriSFSSolid\" !== a && \"esriSFSNull\" !== a) {\n      const e = {\n        type: \"CIMLineSymbol\",\n        symbolLayers: [{\n          type: \"CIMSolidStroke\",\n          color: fe(t),\n          capStyle: g.Butt,\n          joinStyle: C.Miter,\n          width: .75\n        }]\n      };\n      let o = 0;\n      const s = l(Se(a) ? 8 : 10);\n\n      switch (a) {\n        case \"vertical\":\n        case \"esriSFSVertical\":\n          o = 90;\n          break;\n\n        case \"forward-diagonal\":\n        case \"esriSFSForwardDiagonal\":\n        case \"diagonal-cross\":\n        case \"esriSFSDiagonalCross\":\n          o = -45;\n          break;\n\n        case \"backward-diagonal\":\n        case \"esriSFSBackwardDiagonal\":\n          o = 45;\n          break;\n\n        case \"cross\":\n        case \"esriSFSCross\":\n          o = 0;\n      }\n\n      i.push({\n        type: \"CIMHatchFill\",\n        lineSymbol: e,\n        offsetX: 0,\n        offsetY: 0,\n        rotation: o,\n        separation: s\n      }), \"cross\" === a || \"esriSFSCross\" === a ? i.push({\n        type: \"CIMHatchFill\",\n        lineSymbol: r(e),\n        offsetX: 0,\n        offsetY: 0,\n        rotation: 90,\n        separation: s\n      }) : \"diagonal-cross\" !== a && \"esriSFSDiagonalCross\" !== a || i.push({\n        type: \"CIMHatchFill\",\n        lineSymbol: r(e),\n        offsetX: 0,\n        offsetY: 0,\n        rotation: 45,\n        separation: s\n      });\n    } else !a || \"solid\" !== a && \"esriSFSSolid\" !== a || i.push({\n      type: \"CIMSolidFill\",\n      enable: !0,\n      color: fe(t)\n    });\n\n    return s;\n  }\n\n  static fromSimpleLineSymbol(e) {\n    const {\n      cap: t,\n      color: r,\n      join: a,\n      marker: o,\n      miterLimit: i,\n      style: s,\n      width: n\n    } = e;\n    let l = null;\n    \"solid\" !== s && \"none\" !== s && \"esriSLSSolid\" !== s && \"esriSLSNull\" !== s && (l = [{\n      type: \"CIMGeometricEffectDashes\",\n      dashTemplate: pe(s, t),\n      lineDashEnding: \"NoConstraint\",\n      scaleDash: !0,\n      offsetAlongLine: null\n    }]);\n    const c = [];\n\n    if (o) {\n      let e;\n\n      switch (o.placement) {\n        case \"begin-end\":\n          e = T.Both;\n          break;\n\n        case \"begin\":\n          e = T.JustBegin;\n          break;\n\n        case \"end\":\n          e = T.JustEnd;\n          break;\n\n        default:\n          e = T.None;\n      }\n\n      const t = ie.fromSimpleMarker(o, n, r).symbolLayers[0];\n      t.markerPlacement = {\n        type: \"CIMMarkerPlacementAtExtremities\",\n        angleToLine: !0,\n        offset: 0,\n        extremityPlacement: e,\n        offsetAlongLine: 0\n      }, c.push(t);\n    }\n\n    return \"none\" !== s && \"esriSLSNull\" !== s && c.push({\n      type: \"CIMSolidStroke\",\n      color: fe(r),\n      capStyle: ne(t),\n      joinStyle: le(a),\n      miterLimit: i,\n      width: n,\n      effects: l\n    }), {\n      type: \"CIMLineSymbol\",\n      symbolLayers: c\n    };\n  }\n\n  static fromPictureMarker(e) {\n    const {\n      angle: t,\n      height: r,\n      width: a,\n      xoffset: o,\n      yoffset: i\n    } = e;\n    let s = e.url;\n    return \"esriPMS\" === e.type && e.imageData && (s = e.imageData), {\n      type: \"CIMPointSymbol\",\n      symbolLayers: [{\n        type: \"CIMPictureMarker\",\n        invertBackfaceTexture: !1,\n        scaleX: 1,\n        textureFilter: F.Picture,\n        tintColor: null,\n        url: s,\n        size: r,\n        width: a,\n        offsetX: z(o),\n        offsetY: z(i),\n        rotation: z(-t)\n      }]\n    };\n  }\n\n  static fromSimpleMarker(e, t, r) {\n    const {\n      style: a\n    } = e,\n          o = e.color ?? r;\n\n    if (\"path\" === a) {\n      const t = [];\n\n      if (\"outline\" in e && e.outline) {\n        const r = e.outline;\n        t.push({\n          type: \"CIMSolidStroke\",\n          enable: !0,\n          width: n(Math.round(l(r.width))),\n          color: fe(r.color)\n        });\n      }\n\n      t.push({\n        type: \"CIMSolidFill\",\n        enable: !0,\n        color: fe(o),\n        path: e.path\n      });\n      const [r, a] = de(\"square\");\n      return {\n        type: \"CIMPointSymbol\",\n        symbolLayers: [{\n          type: \"CIMVectorMarker\",\n          enable: !0,\n          rotation: z(-e.angle),\n          size: z(e.size || 6),\n          offsetX: z(e.xoffset),\n          offsetY: z(e.yoffset),\n          frame: r,\n          markerGraphics: [{\n            type: \"CIMMarkerGraphic\",\n            geometry: a,\n            symbol: {\n              type: \"CIMPolygonSymbol\",\n              symbolLayers: t\n            }\n          }]\n        }]\n      };\n    }\n\n    const [i, s] = de(a);\n    let c;\n\n    if (s && i) {\n      const r = [];\n\n      if (\"outline\" in e && e.outline) {\n        const t = e.outline;\n        r.push({\n          type: \"CIMSolidStroke\",\n          enable: !0,\n          width: null != t.width && t.width > .667 ? n(Math.round(l(t.width))) : t.width,\n          color: fe(t.color)\n        });\n      } else !t || \"line-marker\" !== e.type || \"cross\" !== e.style && \"x\" !== e.style || r.push({\n        type: \"CIMSolidStroke\",\n        enable: !0,\n        width: t,\n        color: fe(o)\n      });\n\n      r.push({\n        type: \"CIMSolidFill\",\n        enable: !0,\n        color: fe(o)\n      });\n      const a = {\n        type: \"CIMPolygonSymbol\",\n        symbolLayers: r\n      };\n      c = {\n        type: \"CIMPointSymbol\",\n        symbolLayers: [{\n          type: \"CIMVectorMarker\",\n          enable: !0,\n          rotation: z(-e.angle),\n          size: z(e.size || 6 * t),\n          offsetX: z(e.xoffset),\n          offsetY: z(e.yoffset),\n          frame: i,\n          markerGraphics: [{\n            type: \"CIMMarkerGraphic\",\n            geometry: s,\n            symbol: a\n          }]\n        }]\n      };\n    }\n\n    return c;\n  }\n\n  static fromCIMHatchFill(e, t) {\n    const a = t * (e.separation ?? U),\n          o = a / 2,\n          i = r(e.lineSymbol);\n    i.symbolLayers?.forEach(e => {\n      switch (e.type) {\n        case \"CIMSolidStroke\":\n          null != e.width && (e.width *= t), e.effects?.forEach(e => {\n            \"CIMGeometricEffectDashes\" === e.type && (e.dashTemplate = e.dashTemplate.map(e => e * t));\n          });\n          break;\n\n        case \"CIMVectorMarker\":\n          {\n            null != e.size && (e.size *= t);\n            const r = e.markerPlacement;\n            null != r && \"placementTemplate\" in r && (r.placementTemplate = r.placementTemplate.map(e => e * t));\n            break;\n          }\n      }\n    });\n    let s = this._getLineSymbolPeriod(i) || q;\n\n    for (; s < q;) s *= 2;\n\n    const n = s / 2;\n    return {\n      type: \"CIMVectorMarker\",\n      frame: {\n        xmin: -n,\n        xmax: n,\n        ymin: -o,\n        ymax: o\n      },\n      markerGraphics: [{\n        type: \"CIMMarkerGraphic\",\n        geometry: {\n          paths: [[[-n, 0], [n, 0]]]\n        },\n        symbol: i\n      }],\n      size: a\n    };\n  }\n\n  static fetchResources(e, t, r) {\n    if (e && t) switch (e.type) {\n      case \"CIMPointSymbol\":\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n        {\n          const a = e.symbolLayers;\n          if (!a) return;\n\n          for (const e of a) switch (ge(e, t, r), e.type) {\n            case \"CIMPictureFill\":\n            case \"CIMHatchFill\":\n            case \"CIMGradientFill\":\n            case \"CIMPictureStroke\":\n            case \"CIMGradientStroke\":\n            case \"CIMCharacterMarker\":\n            case \"CIMPictureMarker\":\n              \"url\" in e && e.url && r.push(t.fetchResource(e.url, null));\n              break;\n\n            case \"CIMVectorMarker\":\n              {\n                const a = e.markerGraphics;\n                if (!a) continue;\n\n                for (const e of a) if (e) {\n                  const a = e.symbol;\n                  a && ie.fetchResources(a, t, r);\n                }\n              }\n          }\n        }\n    }\n  }\n\n  static _getLineSymbolPeriod(e) {\n    if (e) {\n      const t = this._getEffectsRepeat(e.effects);\n\n      if (t) return t;\n      if (e.symbolLayers) for (const r of e.symbolLayers) if (r) {\n        const e = this._getEffectsRepeat(r.effects);\n\n        if (e) return e;\n\n        switch (r.type) {\n          case \"CIMCharacterMarker\":\n          case \"CIMPictureMarker\":\n          case \"CIMVectorMarker\":\n          case \"CIMObjectMarker3D\":\n          case \"CIMglTFMarker3D\":\n            {\n              const e = this._getPlacementRepeat(r.markerPlacement);\n\n              if (e) return e;\n            }\n        }\n      }\n    }\n\n    return 0;\n  }\n\n  static _getEffectsRepeat(e) {\n    if (e) for (const t of e) if (t) switch (t.type) {\n      case \"CIMGeometricEffectDashes\":\n        {\n          const e = t.dashTemplate;\n\n          if (e && e.length) {\n            let t = 0;\n\n            for (const r of e) t += r;\n\n            return 1 & e.length && (t *= 2), t;\n          }\n\n          break;\n        }\n\n      case \"CIMGeometricEffectWave\":\n        return t.period;\n\n      default:\n        Q.error(`unsupported geometric effect type ${t.type}`);\n    }\n    return 0;\n  }\n\n  static _getPlacementRepeat(e) {\n    if (e) switch (e.type) {\n      case \"CIMMarkerPlacementAlongLineSameSize\":\n      case \"CIMMarkerPlacementAlongLineRandomSize\":\n      case \"CIMMarkerPlacementAlongLineVariableSize\":\n        {\n          const t = e.placementTemplate;\n\n          if (t && t.length) {\n            let e = 0;\n\n            for (const r of t) e += +r;\n\n            return 1 & t.length && (e *= 2), e;\n          }\n\n          break;\n        }\n    }\n    return 0;\n  }\n\n  static fromCIMInsidePolygon(e) {\n    const t = e.markerPlacement,\n          r = { ...e\n    };\n    r.markerPlacement = null, r.anchorPoint = null;\n    const a = Math.abs(t.stepX),\n          o = Math.abs(t.stepY),\n          i = (t.randomness ?? 100) / 100;\n    let n, c, m, f;\n\n    if (\"Random\" === t.gridType) {\n      const e = l(_),\n            r = Math.max(Math.floor(e / a), 1),\n            y = Math.max(Math.floor(e / o), 1);\n      n = r * a / 2, c = y * o / 2, m = 2 * c;\n      const u = new s(t.seed),\n            h = i * a / 1.5,\n            p = i * o / 1.5;\n      f = [];\n\n      for (let t = 0; t < r; t++) for (let e = 0; e < y; e++) {\n        const r = t * a - n + h * (.5 - u.getFloat()),\n              i = e * o - c + p * (.5 - u.getFloat());\n        f.push({\n          x: r,\n          y: i\n        }), 0 === t && f.push({\n          x: r + 2 * n,\n          y: i\n        }), 0 === e && f.push({\n          x: r,\n          y: i + 2 * c\n        });\n      }\n    } else !0 === t.shiftOddRows ? (n = a / 2, c = o, m = 2 * o, f = [{\n      x: -n,\n      y: 0\n    }, {\n      x: n,\n      y: 0\n    }, {\n      x: 0,\n      y: c\n    }, {\n      x: 0,\n      y: -c\n    }]) : (n = a / 2, c = o / 2, m = o, f = [{\n      x: -a,\n      y: 0\n    }, {\n      x: 0,\n      y: -o\n    }, {\n      x: -a,\n      y: -o\n    }, {\n      x: 0,\n      y: 0\n    }, {\n      x: a,\n      y: 0\n    }, {\n      x: 0,\n      y: o\n    }, {\n      x: a,\n      y: o\n    }, {\n      x: -a,\n      y: o\n    }, {\n      x: a,\n      y: -o\n    }]);\n\n    return {\n      type: \"CIMVectorMarker\",\n      frame: {\n        xmin: -n,\n        xmax: n,\n        ymin: -c,\n        ymax: c\n      },\n      markerGraphics: f.map(e => ({\n        type: \"CIMMarkerGraphic\",\n        geometry: e,\n        symbol: {\n          type: \"CIMPointSymbol\",\n          symbolLayers: [r]\n        }\n      })),\n      size: m\n    };\n  }\n\n  static getSize(e) {\n    if (e) switch (e.type) {\n      case \"CIMTextSymbol\":\n        return e.height;\n\n      case \"CIMPointSymbol\":\n        {\n          let t = 0;\n          if (e.symbolLayers) for (const r of e.symbolLayers) if (r) switch (r.type) {\n            case \"CIMCharacterMarker\":\n            case \"CIMPictureMarker\":\n            case \"CIMVectorMarker\":\n            case \"CIMObjectMarker3D\":\n            case \"CIMglTFMarker3D\":\n              {\n                const e = r.size;\n                null != e && e > t && (t = e);\n                break;\n              }\n          }\n          return t;\n        }\n\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n        {\n          let t = 0;\n          if (e.symbolLayers) for (const r of e.symbolLayers) if (r) switch (r.type) {\n            case \"CIMSolidStroke\":\n            case \"CIMPictureStroke\":\n            case \"CIMGradientStroke\":\n              {\n                const e = r.width;\n                null != e && e > t && (t = e);\n                break;\n              }\n\n            case \"CIMCharacterMarker\":\n            case \"CIMPictureMarker\":\n            case \"CIMVectorMarker\":\n            case \"CIMObjectMarker3D\":\n            case \"CIMglTFMarker3D\":\n              if (r.markerPlacement && G(r.markerPlacement)) {\n                const e = r.size;\n                null != e && e > t && (t = e);\n              }\n\n          }\n          return t;\n        }\n    }\n  }\n\n  static getMarkerScaleRatio(e) {\n    if (e && \"CIMVectorMarker\" === e.type) if (!1 !== e.scaleSymbolsProportionally && e.frame && null != e.size) {\n      const t = e.frame.ymax - e.frame.ymin;\n      return e.size / t;\n    }\n    return 1;\n  }\n\n}\n\nclass se {\n  static findApplicableOverrides(e, t, r) {\n    if (e && t) {\n      if (e.primitiveName) {\n        let a = !1;\n\n        for (const t of r) if (t.primitiveName === e.primitiveName) {\n          a = !0;\n          break;\n        }\n\n        if (!a) for (const o of t) o.primitiveName === e.primitiveName && r.push(o);\n      }\n\n      switch (e.type) {\n        case \"CIMPointSymbol\":\n        case \"CIMLineSymbol\":\n        case \"CIMPolygonSymbol\":\n          if (e.effects) for (const a of e.effects) se.findApplicableOverrides(a, t, r);\n          if (e.symbolLayers) for (const a of e.symbolLayers) se.findApplicableOverrides(a, t, r);\n          break;\n\n        case \"CIMTextSymbol\":\n          break;\n\n        case \"CIMSolidStroke\":\n        case \"CIMPictureStroke\":\n        case \"CIMGradientStroke\":\n        case \"CIMSolidFill\":\n        case \"CIMPictureFill\":\n        case \"CIMHatchFill\":\n        case \"CIMGradientFill\":\n        case \"CIMVectorMarker\":\n        case \"CIMCharacterMarker\":\n        case \"CIMPictureMarker\":\n          if (e.effects) for (const a of e.effects) se.findApplicableOverrides(a, t, r);\n\n          if (e.markerPlacement && se.findApplicableOverrides(e.markerPlacement, t, r), \"CIMVectorMarker\" === e.type) {\n            if (e.markerGraphics) for (const a of e.markerGraphics) se.findApplicableOverrides(a, t, r), se.findApplicableOverrides(a.symbol, t, r);\n          } else \"CIMCharacterMarker\" === e.type ? se.findApplicableOverrides(e.symbol, t, r) : \"CIMHatchFill\" === e.type ? se.findApplicableOverrides(e.lineSymbol, t, r) : \"CIMPictureMarker\" === e.type && se.findApplicableOverrides(e.animatedSymbolProperties, t, r);\n\n      }\n    }\n  }\n\n  static findEffectOverrides(e, t, r) {\n    if (!t || !e) return;\n    const a = e.length;\n\n    for (let o = 0; o < a; o++) {\n      const a = e[o]?.primitiveName;\n\n      if (a) {\n        let e = !1;\n\n        for (const t of r) if (t.primitiveName === a) {\n          e = !0;\n          break;\n        }\n\n        if (!e) for (const o of t) o.primitiveName === a && r.push(o);\n      }\n    }\n  }\n\n  static resolveSymbolOverrides(e, t, a, o, i, s, n) {\n    return _asyncToGenerator(function* () {\n      if (!e || !e.symbol) return null;\n      let {\n        symbol: l,\n        primitiveOverrides: c\n      } = e;\n      const m = !!c;\n      if (!m && !o) return l;\n      l = r(l);\n      let f = !0;\n\n      if (t || (t = {\n        attributes: {}\n      }, f = !1), m) {\n        if (f || (c = c.filter(e => !e.valueExpressionInfo?.expression.includes(\"$feature\"))), n || (c = c.filter(e => !e.valueExpressionInfo?.expression.includes(\"$view\"))), c.length > 0) {\n          const e = E(t.attributes);\n          yield se.evaluateOverrides(c, t, {\n            spatialReference: a,\n            fields: e,\n            geometryType: i\n          }, s, n);\n        }\n\n        se.applyOverrides(l, c);\n      }\n\n      return o && se.applyDictionaryTextOverrides(l, t, o), l;\n    })();\n  }\n\n  static evaluateOverrides(e, t, r, a, o) {\n    return _asyncToGenerator(function* () {\n      if (!t) return;\n      let i;\n\n      for (const s of e) {\n        const e = s.valueExpressionInfo;\n\n        if (e && r && r.geometryType) {\n          i || (i = []), s.value = void 0;\n          const n = y(e.expression, r.spatialReference, r.fields).then(e => {\n            s.value = j(e, t, {\n              $view: o\n            }, r.geometryType, a);\n          });\n          i.push(n);\n        }\n      }\n\n      void 0 !== i && i.length > 0 && (yield Promise.all(i));\n    })();\n  }\n\n  static applyDictionaryTextOverrides(e, t, r, a = \"Normal\") {\n    if (e && e.type) switch (e.type) {\n      case \"CIMPointSymbol\":\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n      case \"CIMTextSymbol\":\n        {\n          const o = e.symbolLayers;\n          if (!o) return;\n\n          for (const i of o) i && \"CIMVectorMarker\" === i.type && se.applyDictionaryTextOverrides(i, t, r, \"CIMTextSymbol\" === e.type ? e.textCase : a);\n        }\n        break;\n\n      case \"CIMVectorMarker\":\n        {\n          const a = e.markerGraphics;\n          if (!a) return;\n\n          for (const e of a) e && se.applyDictionaryTextOverrides(e, t, r);\n        }\n        break;\n\n      case \"CIMMarkerGraphic\":\n        {\n          const o = e.textString;\n\n          if (o && o.includes(\"[\")) {\n            const i = O(o, r);\n            e.textString = A(t, i, a);\n          }\n        }\n    }\n  }\n\n  static applyOverrides(e, t, r, a) {\n    if (e.primitiveName) for (const i of t) if (i.primitiveName === e.primitiveName) {\n      const t = be(i.propertyName);\n\n      if (a && a.push({\n        cim: e,\n        nocapPropertyName: t,\n        value: e[t]\n      }), i.expression && (i.value = se.toValue(i.propertyName, i.expression)), r) {\n        let t = !1;\n\n        for (const a of r) a.primitiveName === e.primitiveName && (t = !0);\n\n        t || r.push(i);\n      }\n\n      o(i.value) && (e[t] = i.value);\n    }\n\n    switch (e.type) {\n      case \"CIMPointSymbol\":\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n        if (e.effects) for (const o of e.effects) se.applyOverrides(o, t, r, a);\n        if (e.symbolLayers) for (const o of e.symbolLayers) se.applyOverrides(o, t, r, a);\n        break;\n\n      case \"CIMTextSymbol\":\n        break;\n\n      case \"CIMSolidStroke\":\n      case \"CIMSolidFill\":\n      case \"CIMVectorMarker\":\n        if (e.effects) for (const o of e.effects) se.applyOverrides(o, t, r, a);\n        if (\"CIMVectorMarker\" === e.type && e.markerGraphics) for (const o of e.markerGraphics) se.applyOverrides(o, t, r, a), se.applyOverrides(o.symbol, t, r, a);\n    }\n  }\n\n  static restoreOverrides(e) {\n    for (const t of e) t.cim[t.nocapPropertyName] = t.value;\n  }\n\n  static buildOverrideKey(e) {\n    let t = \"\";\n\n    for (const r of e) void 0 !== r.value && (t += `${r.primitiveName}${r.propertyName}${JSON.stringify(r.value)}`);\n\n    return t;\n  }\n\n  static toValue(t, r) {\n    if (\"DashTemplate\" === t) return r.split(\" \").map(e => Number(e));\n\n    if (\"Color\" === t) {\n      const t = new e(r).toRgba();\n      return t[3] *= 255, t;\n    }\n\n    return r;\n  }\n\n}\n\nconst ne = e => {\n  if (!e) return g.Butt;\n\n  switch (e) {\n    case \"butt\":\n      return g.Butt;\n\n    case \"square\":\n      return g.Square;\n\n    case \"round\":\n      return g.Round;\n  }\n},\n      le = e => {\n  if (!e) return C.Miter;\n\n  switch (e) {\n    case \"miter\":\n      return C.Miter;\n\n    case \"round\":\n      return C.Round;\n\n    case \"bevel\":\n      return C.Bevel;\n  }\n},\n      ce = e => {\n  if (i(e)) return \"Center\";\n\n  switch (e) {\n    case \"left\":\n      return \"Left\";\n\n    case \"right\":\n      return \"Right\";\n\n    case \"center\":\n      return \"Center\";\n  }\n},\n      me = e => {\n  if (i(e)) return \"Center\";\n\n  switch (e) {\n    case \"baseline\":\n      return \"Baseline\";\n\n    case \"top\":\n      return \"Top\";\n\n    case \"middle\":\n      return \"Center\";\n\n    case \"bottom\":\n      return \"Bottom\";\n  }\n},\n      fe = e => {\n  if (!e) return [0, 0, 0, 0];\n  const {\n    r: t,\n    g: r,\n    b: a,\n    a: o\n  } = e;\n  return [t, r, a, 255 * o];\n},\n      ye = (e, t) => {\n  const r = ue(t),\n        a = he(e);\n  return r && a ? `${r}-${a}` : `${r}${a}`;\n},\n      ue = e => {\n  if (!e) return \"\";\n\n  switch (e.toLowerCase()) {\n    case \"bold\":\n    case \"bolder\":\n      return \"bold\";\n  }\n\n  return \"\";\n},\n      he = e => {\n  if (!e) return \"\";\n\n  switch (e.toLowerCase()) {\n    case \"italic\":\n    case \"oblique\":\n      return \"italic\";\n  }\n\n  return \"\";\n},\n      pe = (e, t) => {\n  const r = \"butt\" === t;\n\n  switch (e) {\n    case \"dash\":\n    case \"esriSLSDash\":\n      return r ? [4, 3] : [3, 4];\n\n    case \"dash-dot\":\n    case \"esriSLSDashDot\":\n      return r ? [4, 3, 1, 3] : [3, 4, 0, 4];\n\n    case \"dot\":\n    case \"esriSLSDot\":\n      return r ? [1, 3] : [0, 4];\n\n    case \"long-dash\":\n    case \"esriSLSLongDash\":\n      return r ? [8, 3] : [7, 4];\n\n    case \"long-dash-dot\":\n    case \"esriSLSLongDashDot\":\n      return r ? [8, 3, 1, 3] : [7, 4, 0, 4];\n\n    case \"long-dash-dot-dot\":\n    case \"esriSLSDashDotDot\":\n      return r ? [8, 3, 1, 3, 1, 3] : [7, 4, 0, 4, 0, 4];\n\n    case \"short-dash\":\n    case \"esriSLSShortDash\":\n      return r ? [4, 1] : [3, 2];\n\n    case \"short-dash-dot\":\n    case \"esriSLSShortDashDot\":\n      return r ? [4, 1, 1, 1] : [3, 2, 0, 2];\n\n    case \"short-dash-dot-dot\":\n    case \"esriSLSShortDashDotDot\":\n      return r ? [4, 1, 1, 1, 1, 1] : [3, 2, 0, 2, 0, 2];\n\n    case \"short-dot\":\n    case \"esriSLSShortDot\":\n      return r ? [1, 1] : [0, 2];\n\n    case \"solid\":\n    case \"esriSLSSolid\":\n    case \"none\":\n      return Q.error(\"Unexpected: style does not require rasterization\"), [0, 0];\n\n    default:\n      return Q.error(`Tried to rasterize SLS, but found an unexpected style: ${e}!`), [0, 0];\n  }\n};\n\nfunction Me(e) {\n  return void 0 !== e.symbolLayers;\n}\n\nconst de = e => {\n  const t = 100,\n        r = 50;\n  let a, o;\n  const i = e;\n\n  if (\"circle\" === i || \"esriSMSCircle\" === i) {\n    const e = .25;\n    let t = Math.acos(1 - e / r),\n        i = Math.ceil(Y / t / 4);\n    0 === i && (i = 1), t = $ / i, i *= 4;\n    const s = [];\n    s.push([r, 0]);\n\n    for (let a = 1; a < i; a++) s.push([r * Math.cos(a * t), -r * Math.sin(a * t)]);\n\n    s.push([r, 0]), a = {\n      rings: [s]\n    }, o = {\n      xmin: -r,\n      ymin: -r,\n      xmax: r,\n      ymax: r\n    };\n  } else if (\"cross\" === i || \"esriSMSCross\" === i) {\n    const e = 0;\n    a = {\n      rings: [[[e, r], [e, e], [r, e], [r, -e], [e, -e], [e, -r], [-e, -r], [-e, -e], [-r, -e], [-r, e], [-e, e], [-e, r], [e, r]]]\n    }, o = {\n      xmin: -r,\n      ymin: -r,\n      xmax: r,\n      ymax: r\n    };\n  } else if (\"diamond\" === i || \"esriSMSDiamond\" === i) a = {\n    rings: [[[-r, 0], [0, r], [r, 0], [0, -r], [-r, 0]]]\n  }, o = {\n    xmin: -r,\n    ymin: -r,\n    xmax: r,\n    ymax: r\n  };else if (\"square\" === i || \"esriSMSSquare\" === i) a = {\n    rings: [[[-r, -r], [-r, r], [r, r], [r, -r], [-r, -r]]]\n  }, o = {\n    xmin: -r,\n    ymin: -r,\n    xmax: r,\n    ymax: r\n  };else if (\"x\" === i || \"esriSMSX\" === i) {\n    const e = 0;\n    a = {\n      rings: [[[0, e], [r - e, r], [r, r - e], [e, 0], [r, e - r], [r - e, -r], [0, -e], [e - r, -r], [-r, e - r], [-e, 0], [-r, r - e], [e - r, r], [0, e]]]\n    }, o = {\n      xmin: -r,\n      ymin: -r,\n      xmax: r,\n      ymax: r\n    };\n  } else if (\"triangle\" === i || \"esriSMSTriangle\" === i) {\n    const e = t * .5773502691896257,\n          r = -e,\n          i = 2 / 3 * t,\n          s = i - t;\n    a = {\n      rings: [[[r, s], [0, i], [e, s], [r, s]]]\n    }, o = {\n      xmin: r,\n      ymin: s,\n      xmax: e,\n      ymax: i\n    };\n  } else \"arrow\" === i && (a = {\n    rings: [[[-50, 50], [50, 0], [-50, -50], [-33, -20], [-33, 20], [-50, 50]]]\n  }, o = {\n    xmin: -r,\n    ymin: -r,\n    xmax: r,\n    ymax: r\n  });\n\n  return [o, a];\n},\n      Se = e => \"vertical\" === e || \"horizontal\" === e || \"cross\" === e || \"esriSFSCross\" === e || \"esriSFSVertical\" === e || \"esriSFSHorizontal\" === e,\n      be = e => e ? e.charAt(0).toLowerCase() + e.substr(1) : e;\n\nfunction ge(e, t, r) {\n  if (!e.effects || o(t.geometryEngine)) return;\n  if (t.geometryEnginePromise) return void r.push(t.geometryEnginePromise);\n  N(e.effects) && (t.geometryEnginePromise = R(), r.push(t.geometryEnginePromise), t.geometryEnginePromise.then(e => t.geometryEngine = e));\n}\n\nexport { ie as CIMSymbolHelper, oe as CIMSymbolInflatedSizeHelper, se as OverrideHelper, pe as slsDashToTemplateArray, Z as symbolToCIM };","map":{"version":3,"names":["e","bidiText","t","clone","r","a","isSome","o","isNone","i","s","pt2px","n","px2pt","l","create","c","expandPointInPlace","m","getBoundsXY","f","createRendererExpression","y","Placement","u","horizontalAlignment2HAlign","h","verticalAlignment2VAlign","p","EnvDrawHelper","M","Transformation","d","CanvasDrawHelper","S","lineGapType2LineHeight","b","LineCapStyle","g","LineJoinStyle","C","BlockProgression","I","FontEffects","k","FontEncoding","x","FontType","w","GlyphHinting","P","TextReadingDirection","L","VerticalGlyphOrientation","v","BillBoardMode","D","TextureFilter","F","ExtremityPlacement","T","getValue","z","isCIMMarkerStrokePlacement","G","attributesToFields","E","analyzeTextParts","O","assignTextValuesFromFeature","A","isGeometryEngineRequired","N","importGeometryEngine","R","j","C_INFINITY","V","GLYPH_SIZE","B","MAGIC_LABEL_LINE_HEIGHT","X","RANDOM_INSIDE_POLYGON_TEXTURE_SIZE","_","shapeGlyphs","H","Y","Math","PI","$","U","q","W","J","K","Q","getLogger","Z","type","data","ie","fromSimpleMarker","fromPictureMarker","fromSimpleLineSymbol","fromSimpleFillSymbol","fromPictureFillSymbol","fromTextSymbol","symbol","ee","drawSymbol","paths","rings","drawMarker","envelope","te","abs","offset","re","width","size","length","max","offsetX","offsetY","radius","fromWidth","toWidth","amplitude","ae","oe","getSymbolInflateSize","_getInflateSize","safeSize","sqrt","_vectorMarkerBounds","markerGraphics","geometry","min","Me","_getLayersInflateSize","symbolLayers","effects","_getTextInflatedSize","capStyle","Square","joinStyle","Miter","frame","xmin","xmax","ymin","ymax","getResource","url","height","scaleX","anchorPoint","anchorPointUnits","rotation","rotateClockwise","cos","sin","markerPlacement","get","text","mosaicItem","glyphMosaicItems","lineGapType","lineGap","callout","scale","angle","xOffset","yOffset","hAlign","horizontalAlignment","vAlign","verticalAlignment","maxLineWidth","lineHeight","decoration","font","isCIM","hasBackground","boundsT","halfWidth","halfHeight","getEnvelope","Array","isArray","union","getTextureAnchor","rasterize","getContext","createScale","translate","getImageData","Uint8Array","color","haloColor","haloSize","kerning","xoffset","yoffset","backgroundColor","borderLineColor","borderLineSize","family","style","weight","margin","backgroundSymbol","fe","accentBarSymbol","gap","leaderLineSymbol","lineStyle","enable","dominantSizeAxis3D","billboardMode3D","blockProgression","BTT","depth3D","extrapolateBaselines","fontEffects","Normal","fontEncoding","Unicode","fontFamilyName","fontStyleName","ye","fontType","Unspecified","hinting","Default","ce","letterWidth","ligatures","strikethrough","underline","haloSymbol","shadowColor","shadowOffsetX","shadowOffsetY","textCase","textDirection","RTL","LTR","me","verticalGlyphOrientation","Right","wordSpacing","FaceNearPlane","textString","scaleSymbolsProportionally","respectFrame","angleAlignment","outline","xscale","yscale","cap","join","miterLimit","push","ne","le","imageData","invertBackfaceTexture","textureFilter","Picture","tintColor","colorSubstitutions","dashTemplate","pe","lineDashEnding","scaleDash","offsetAlongLine","Butt","Se","lineSymbol","separation","marker","placement","Both","JustBegin","JustEnd","None","angleToLine","extremityPlacement","round","path","de","fromCIMHatchFill","forEach","map","placementTemplate","_getLineSymbolPeriod","fetchResources","ge","fetchResource","_getEffectsRepeat","_getPlacementRepeat","period","error","fromCIMInsidePolygon","stepX","stepY","randomness","gridType","floor","seed","getFloat","shiftOddRows","getSize","getMarkerScaleRatio","se","findApplicableOverrides","primitiveName","animatedSymbolProperties","findEffectOverrides","resolveSymbolOverrides","primitiveOverrides","attributes","filter","valueExpressionInfo","expression","includes","evaluateOverrides","spatialReference","fields","geometryType","applyOverrides","applyDictionaryTextOverrides","value","then","$view","Promise","all","be","propertyName","cim","nocapPropertyName","toValue","restoreOverrides","buildOverrideKey","JSON","stringify","split","Number","toRgba","Round","Bevel","ue","he","toLowerCase","acos","ceil","charAt","substr","geometryEngine","geometryEnginePromise","CIMSymbolHelper","CIMSymbolInflatedSizeHelper","OverrideHelper","slsDashToTemplateArray","symbolToCIM"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{bidiText as t}from\"../../core/BidiText.js\";import{clone as r}from\"../../core/lang.js\";import a from\"../../core/Logger.js\";import{isSome as o,isNone as i}from\"../../core/maybe.js\";import s from\"../../core/RandomLCG.js\";import{pt2px as n,px2pt as l}from\"../../core/screenUtils.js\";import{create as c,expandPointInPlace as m}from\"../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as f}from\"../../geometry/support/boundsUtils.js\";import{createRendererExpression as y}from\"../../support/arcadeOnDemand.js\";import{Placement as u}from\"./CIMPlacements.js\";import{horizontalAlignment2HAlign as h,verticalAlignment2VAlign as p,EnvDrawHelper as M,Transformation as d,CanvasDrawHelper as S,lineGapType2LineHeight as b}from\"./CIMSymbolDrawHelper.js\";import{LineCapStyle as g,LineJoinStyle as C,BlockProgression as I,FontEffects as k,FontEncoding as x,FontType as w,GlyphHinting as P,TextReadingDirection as L,VerticalGlyphOrientation as v,BillBoardMode as D,TextureFilter as F,ExtremityPlacement as T}from\"./enums.js\";import{getValue as z,isCIMMarkerStrokePlacement as G,attributesToFields as E,analyzeTextParts as O,assignTextValuesFromFeature as A,isGeometryEngineRequired as N,importGeometryEngine as R}from\"./utils.js\";import j from\"../../views/2d/arcade/callExpressionWithFeature.js\";import{C_INFINITY as V}from\"../../views/2d/engine/vectorTiles/GeometryUtils.js\";import{GLYPH_SIZE as B,MAGIC_LABEL_LINE_HEIGHT as X,RANDOM_INSIDE_POLYGON_TEXTURE_SIZE as _}from\"../../views/2d/engine/webgl/definitions.js\";import{shapeGlyphs as H}from\"../../views/2d/engine/webgl/mesh/templates/shapingUtils.js\";const Y=Math.PI,$=Y/2,U=4,q=4,W=10,J=96/72,K=Math.PI/180,Q=a.getLogger(\"esri.symbols.cim.CIMSymbolHelper\");function Z(e){if(!e||!e.type)return null;let t;switch(e.type){case\"cim\":return e.data;case\"web-style\":return e;case\"simple-marker\":{const r=ie.fromSimpleMarker(e);if(!r)return null;t=r;break}case\"picture-marker\":t=ie.fromPictureMarker(e);break;case\"simple-line\":t=ie.fromSimpleLineSymbol(e);break;case\"simple-fill\":t=ie.fromSimpleFillSymbol(e);break;case\"picture-fill\":t=ie.fromPictureFillSymbol(e);break;case\"text\":t=ie.fromTextSymbol(e)}return{type:\"CIMSymbolReference\",symbol:t}}function ee(e,t,r){switch(t.type){case\"CIMSymbolReference\":return ee(e,t.symbol,r);case\"CIMPointSymbol\":null==r&&(r={x:0,y:0}),e.drawSymbol(t,r);break;case\"CIMLineSymbol\":null==r&&(r={paths:[[[0,0],[10,0]]]}),e.drawSymbol(t,r);break;case\"CIMPolygonSymbol\":null==r&&(r={rings:[[[0,0],[0,10],[10,10],[10,0],[0,0]]]}),e.drawSymbol(t,r);break;case\"CIMTextSymbol\":{const r={x:0,y:0};e.drawSymbol(t,r);break}case\"CIMVectorMarker\":{const r=new u;e.drawMarker(t,r);break}}return e.envelope()}function te(e){if(!e)return 0;switch(e.type){case\"CIMMarkerPlacementAlongLineSameSize\":case\"CIMMarkerPlacementAlongLineRandomSize\":case\"CIMMarkerPlacementAtExtremities\":case\"CIMMarkerPlacementAtMeasuredUnits\":case\"CIMMarkerPlacementAtRatioPositions\":case\"CIMMarkerPlacementOnLine\":case\"CIMMarkerPlacementOnVertices\":return Math.abs(e.offset);default:return 0}}function re(e){if(!e)return 0;switch(e.type){case\"CIMGeometricEffectArrow\":return Math.abs(.5*e.width);case\"CIMGeometricEffectBuffer\":return Math.abs(e.size);case\"CIMGeometricEffectExtension\":case\"CIMGeometricEffectRadial\":return Math.abs(e.length);case\"CIMGeometricEffectJog\":return Math.abs(.5*e.length);case\"CIMGeometricEffectMove\":return Math.max(Math.abs(z(e.offsetX)),Math.abs(z(e.offsetY)));case\"CIMGeometricEffectOffset\":case\"CIMGeometricEffectOffsetTangent\":return Math.abs(e.offset);case\"CIMGeometricEffectRegularPolygon\":return Math.abs(e.radius);case\"CIMGeometricEffectRotate\":case\"CIMGeometricEffectScale\":default:return 0;case\"CIMGeometricEffectTaperedPolygon\":return.5*Math.max(Math.abs(e.fromWidth),Math.abs(e.toWidth));case\"CIMGeometricEffectWave\":return Math.abs(e.amplitude)}}function ae(e){if(!e)return 0;let t=0;for(const r of e)t+=re(r);return t}class oe{getSymbolInflateSize(e,t,r,a,o){return e||(e=[0,0,0,0]),t?this._getInflateSize(e,t,r,a,o):e}static safeSize(e){const t=Math.max(Math.abs(e[0]),Math.abs(e[2])),r=Math.max(Math.abs(e[1]),Math.abs(e[3]));return Math.sqrt(t*t+r*r)}_vectorMarkerBounds(e,t,r,a){let o=!0;const i=c();if(t&&t.markerGraphics)for(const s of t.markerGraphics){const t=[0,0,0,0];s.geometry&&(f(i,s.geometry),t[0]=0,t[1]=0,t[2]=0,t[3]=0,this.getSymbolInflateSize(t,s.symbol,r,0,a),i[0]+=t[0],i[1]+=t[1],i[2]+=t[2],i[3]+=t[3],o?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],o=!1):(e[0]=Math.min(e[0],i[0]),e[1]=Math.min(e[1],i[1]),e[2]=Math.max(e[2],i[2]),e[3]=Math.max(e[3],i[3])))}return e}_getInflateSize(e,t,r,a,o){if(Me(t)){const i=this._getLayersInflateSize(e,t.symbolLayers,r,a,o),s=ae(t.effects);return s>0&&(i[0]-=s,i[1]-=s,i[2]+=s,i[3]+=s),i}return this._getTextInflatedSize(e,t,o)}_getLayersInflateSize(e,t,r,a,i){let s=!0;if(!t)return e;for(const n of t){if(!n)continue;let t=[0,0,0,0];switch(n.type){case\"CIMSolidFill\":case\"CIMPictureFill\":case\"CIMHatchFill\":case\"CIMGradientFill\":break;case\"CIMSolidStroke\":case\"CIMPictureStroke\":case\"CIMGradientStroke\":{const e=n;let r=e.width;null!=r&&(e.capStyle===g.Square||e.joinStyle===C.Miter?r/=1.4142135623730951:r/=2,t[0]=-r,t[1]=-r,t[2]=r,t[3]=r);break}case\"CIMCharacterMarker\":case\"CIMVectorMarker\":case\"CIMPictureMarker\":{const e=n;if(\"CIMVectorMarker\"===n.type){const e=n;if(t=this._vectorMarkerBounds(t,e,r,i),e.frame){const r=(e.frame.xmin+e.frame.xmax)/2,a=(e.frame.ymin+e.frame.ymax)/2;if(t[0]-=r,t[1]-=a,t[2]-=r,t[3]-=a,null!=e.size){const r=e.size/(e.frame.ymax-e.frame.ymin);t[0]*=r,t[1]*=r,t[2]*=r,t[3]*=r}}}else if(\"CIMPictureMarker\"===n.type){const a=n,i=r.getResource(a.url);let s=1;if(o(i)&&i.height&&(s=i.width/i.height),null!=e.size){const r=e.size/2,o=e.size*s*a.scaleX/2;t=[-o,-r,o,r]}}else if(null!=e.size){const r=e.size/2;t=[-r,-r,r,r]}if(e.anchorPoint){let r,a;\"Absolute\"===e.anchorPointUnits?(r=e.anchorPoint.x,a=e.anchorPoint.y):(r=e.anchorPoint.x*(t[2]-t[0]),a=e.anchorPoint.y*(t[3]-t[1])),t[0]-=r,t[1]-=a,t[2]-=r,t[3]-=a}let s=z(e.rotation);if(e.rotateClockwise&&(s=-s),a&&(s-=a),s){const e=K*s,r=Math.cos(e),a=Math.sin(e),o=c([V,V,-V,-V]);m(o,[t[0]*r-t[1]*a,t[0]*a+t[1]*r]),m(o,[t[0]*r-t[3]*a,t[0]*a+t[3]*r]),m(o,[t[2]*r-t[1]*a,t[2]*a+t[1]*r]),m(o,[t[2]*r-t[3]*a,t[2]*a+t[3]*r]),t=o}let l=z(e.offsetX),f=z(e.offsetY);if(a){const e=K*a,t=Math.cos(e),r=Math.sin(e),o=l*r+f*t;l=l*t-f*r,f=o}t[0]+=l,t[1]+=f,t[2]+=l,t[3]+=f;const y=te(e.markerPlacement);y>0&&(t[0]-=y,t[1]-=y,t[2]+=y,t[3]+=y);break}}const l=ae(n.effects);l>0&&(t[0]-=l,t[1]-=l,t[2]+=l,t[3]+=l),s?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],s=!1):(e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[2]),e[3]=Math.max(e[3],t[3]))}return e}_getTextInflatedSize(e,r,a){const o=r.height??W;if(e[0]=-o/2,e[1]=-o/2,e[2]=o/2,e[3]=o/2,!a)return e;const i=a.get(r);if(!i)return e;const{text:s,mosaicItem:n}=i;if(!n?.glyphMosaicItems?.length)return e;const{lineGapType:l,lineGap:c}=r,m=l?b(l,c??0,o):0,f=t(s)[1],y=n.glyphMosaicItems,u=\"CIMBackgroundCallout\"===r.callout?.type,M=H(y,f,{scale:o/B,angle:z(r.angle),xOffset:z(r.offsetX),yOffset:z(r.offsetY),hAlign:h(r.horizontalAlignment),vAlign:p(r.verticalAlignment),maxLineWidth:512,lineHeight:X*Math.max(.25,Math.min(m||1,4)),decoration:r.font.decoration||\"none\",isCIM:!0,hasBackground:u}).boundsT;return e[0]=M.x-M.halfWidth,e[1]=-M.y-M.halfHeight,e[2]=M.x+M.halfWidth,e[3]=-M.y+M.halfHeight,e}}class ie{static getEnvelope(e,t,r){if(!e)return null;const a=new M(r);if(Array.isArray(e)){let r;for(const o of e)r?r.union(ee(a,o,t)):r=ee(a,o,t);return r}return ee(a,e,t)}static getTextureAnchor(e,t){const r=this.getEnvelope(e,null,t);if(!r)return[0,0,0];const a=(r.x+.5*r.width)*J,o=(r.y+.5*r.height)*J,i=r.width*J+2,s=r.height*J+2;return[-a/i,-o/s,s]}static rasterize(e,t,r,a,o=!0){const i=r||this.getEnvelope(t,null,a);if(!i)return[null,0,0,0,0];const s=(i.x+.5*i.width)*J,n=(i.y+.5*i.height)*J;e.width=i.width*J,e.height=i.height*J,r||(e.width+=2,e.height+=2);const l=e.getContext(\"2d\"),c=d.createScale(J,-J);c.translate(.5*e.width-s,.5*e.height+n);const m=new S(l,a,c);switch(t.type){case\"CIMPointSymbol\":{const e={type:\"point\",x:0,y:0};m.drawSymbol(t,e);break}case\"CIMVectorMarker\":{const e=new u;m.drawMarker(t,e);break}}const f=l.getImageData(0,0,e.width,e.height),y=new Uint8Array(f.data);if(o){let e;for(let t=0;t<y.length;t+=4)e=y[t+3]/255,y[t]=y[t]*e,y[t+1]=y[t+1]*e,y[t+2]=y[t+2]*e}return[y,e.width,e.height,-s/e.width,-n/e.height]}static fromTextSymbol(e){const{angle:r,color:a,font:o,haloColor:i,haloSize:s,horizontalAlignment:n,kerning:l,text:c,verticalAlignment:m,xoffset:f,yoffset:y,backgroundColor:u,borderLineColor:h,borderLineSize:p}=e;let M,d,S,b,g,C;o&&(M=o.family,d=o.style,S=o.weight,b=o.size,g=o.decoration);let F=!1;if(c){F=t(c)[1]}return(u||p)&&(C={type:\"CIMBackgroundCallout\",margin:null,backgroundSymbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",color:fe(u)},{type:\"CIMSolidStroke\",color:fe(h),width:p}]},accentBarSymbol:null,gap:null,leaderLineSymbol:null,lineStyle:null}),{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPointUnits:\"Relative\",dominantSizeAxis3D:\"Y\",size:10,billboardMode3D:\"FaceNearPlane\",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{x:0,y:0},symbol:{type:\"CIMTextSymbol\",angle:r,blockProgression:I.BTT,depth3D:1,extrapolateBaselines:!0,fontEffects:k.Normal,fontEncoding:x.Unicode,fontFamilyName:M||\"Arial\",fontStyleName:ye(d,S),fontType:w.Unspecified,haloSize:s,height:b,hinting:P.Default,horizontalAlignment:ce(n??\"center\"),kerning:l,letterWidth:100,ligatures:!0,lineGapType:\"Multiple\",offsetX:z(f),offsetY:z(y),strikethrough:\"line-through\"===g,underline:\"underline\"===g,symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:fe(a)}]},haloSymbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:fe(i)}]},shadowColor:[0,0,0,255],shadowOffsetX:1,shadowOffsetY:1,textCase:\"Normal\",textDirection:F?L.RTL:L.LTR,verticalAlignment:me(m??\"baseline\"),verticalGlyphOrientation:v.Right,wordSpacing:100,billboardMode3D:D.FaceNearPlane,callout:C},textString:c}],scaleSymbolsProportionally:!0,respectFrame:!0}],scaleX:1,angleAlignment:\"Display\"}}static fromPictureFillSymbol(e){const{height:t,outline:r,width:a,xoffset:o,xscale:i,yoffset:s,yscale:n}=e,l=[],c={type:\"CIMPolygonSymbol\",symbolLayers:l};if(r){const{cap:e,join:t,miterLimit:a,width:o}=r;l.push({type:\"CIMSolidStroke\",color:fe(r.color),capStyle:ne(e),joinStyle:le(t),miterLimit:a,width:o})}let m=e.url;\"esriPFS\"===e.type&&e.imageData&&(m=e.imageData);const f=\"angle\"in e?e.angle??0:0,y=(a??0)*(i||1),u=(t??0)*(n||1);return l.push({type:\"CIMPictureFill\",invertBackfaceTexture:!1,scaleX:1,textureFilter:F.Picture,tintColor:null,url:m,height:u,width:y,offsetX:z(o),offsetY:z(s),rotation:z(-f),colorSubstitutions:null}),c}static fromSimpleFillSymbol(e){const{color:t,style:a,outline:o}=e,i=[],s={type:\"CIMPolygonSymbol\",symbolLayers:i};let n=null;if(o){const{cap:e,join:t,style:r}=o;\"solid\"!==r&&\"none\"!==r&&\"esriSLSSolid\"!==r&&\"esriSLSNull\"!==r&&(n=[{type:\"CIMGeometricEffectDashes\",dashTemplate:pe(r,e),lineDashEnding:\"NoConstraint\",scaleDash:!0,offsetAlongLine:null}]),i.push({type:\"CIMSolidStroke\",color:fe(o.color),capStyle:ne(e),joinStyle:le(t),miterLimit:o.miterLimit,width:o.width,effects:n})}if(a&&\"solid\"!==a&&\"none\"!==a&&\"esriSFSSolid\"!==a&&\"esriSFSNull\"!==a){const e={type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",color:fe(t),capStyle:g.Butt,joinStyle:C.Miter,width:.75}]};let o=0;const s=l(Se(a)?8:10);switch(a){case\"vertical\":case\"esriSFSVertical\":o=90;break;case\"forward-diagonal\":case\"esriSFSForwardDiagonal\":case\"diagonal-cross\":case\"esriSFSDiagonalCross\":o=-45;break;case\"backward-diagonal\":case\"esriSFSBackwardDiagonal\":o=45;break;case\"cross\":case\"esriSFSCross\":o=0}i.push({type:\"CIMHatchFill\",lineSymbol:e,offsetX:0,offsetY:0,rotation:o,separation:s}),\"cross\"===a||\"esriSFSCross\"===a?i.push({type:\"CIMHatchFill\",lineSymbol:r(e),offsetX:0,offsetY:0,rotation:90,separation:s}):\"diagonal-cross\"!==a&&\"esriSFSDiagonalCross\"!==a||i.push({type:\"CIMHatchFill\",lineSymbol:r(e),offsetX:0,offsetY:0,rotation:45,separation:s})}else!a||\"solid\"!==a&&\"esriSFSSolid\"!==a||i.push({type:\"CIMSolidFill\",enable:!0,color:fe(t)});return s}static fromSimpleLineSymbol(e){const{cap:t,color:r,join:a,marker:o,miterLimit:i,style:s,width:n}=e;let l=null;\"solid\"!==s&&\"none\"!==s&&\"esriSLSSolid\"!==s&&\"esriSLSNull\"!==s&&(l=[{type:\"CIMGeometricEffectDashes\",dashTemplate:pe(s,t),lineDashEnding:\"NoConstraint\",scaleDash:!0,offsetAlongLine:null}]);const c=[];if(o){let e;switch(o.placement){case\"begin-end\":e=T.Both;break;case\"begin\":e=T.JustBegin;break;case\"end\":e=T.JustEnd;break;default:e=T.None}const t=ie.fromSimpleMarker(o,n,r).symbolLayers[0];t.markerPlacement={type:\"CIMMarkerPlacementAtExtremities\",angleToLine:!0,offset:0,extremityPlacement:e,offsetAlongLine:0},c.push(t)}return\"none\"!==s&&\"esriSLSNull\"!==s&&c.push({type:\"CIMSolidStroke\",color:fe(r),capStyle:ne(t),joinStyle:le(a),miterLimit:i,width:n,effects:l}),{type:\"CIMLineSymbol\",symbolLayers:c}}static fromPictureMarker(e){const{angle:t,height:r,width:a,xoffset:o,yoffset:i}=e;let s=e.url;return\"esriPMS\"===e.type&&e.imageData&&(s=e.imageData),{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMPictureMarker\",invertBackfaceTexture:!1,scaleX:1,textureFilter:F.Picture,tintColor:null,url:s,size:r,width:a,offsetX:z(o),offsetY:z(i),rotation:z(-t)}]}}static fromSimpleMarker(e,t,r){const{style:a}=e,o=e.color??r;if(\"path\"===a){const t=[];if(\"outline\"in e&&e.outline){const r=e.outline;t.push({type:\"CIMSolidStroke\",enable:!0,width:n(Math.round(l(r.width))),color:fe(r.color)})}t.push({type:\"CIMSolidFill\",enable:!0,color:fe(o),path:e.path});const[r,a]=de(\"square\");return{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,rotation:z(-e.angle),size:z(e.size||6),offsetX:z(e.xoffset),offsetY:z(e.yoffset),frame:r,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:a,symbol:{type:\"CIMPolygonSymbol\",symbolLayers:t}}]}]}}const[i,s]=de(a);let c;if(s&&i){const r=[];if(\"outline\"in e&&e.outline){const t=e.outline;r.push({type:\"CIMSolidStroke\",enable:!0,width:null!=t.width&&t.width>.667?n(Math.round(l(t.width))):t.width,color:fe(t.color)})}else!t||\"line-marker\"!==e.type||\"cross\"!==e.style&&\"x\"!==e.style||r.push({type:\"CIMSolidStroke\",enable:!0,width:t,color:fe(o)});r.push({type:\"CIMSolidFill\",enable:!0,color:fe(o)});const a={type:\"CIMPolygonSymbol\",symbolLayers:r};c={type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,rotation:z(-e.angle),size:z(e.size||6*t),offsetX:z(e.xoffset),offsetY:z(e.yoffset),frame:i,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:s,symbol:a}]}]}}return c}static fromCIMHatchFill(e,t){const a=t*(e.separation??U),o=a/2,i=r(e.lineSymbol);i.symbolLayers?.forEach((e=>{switch(e.type){case\"CIMSolidStroke\":null!=e.width&&(e.width*=t),e.effects?.forEach((e=>{\"CIMGeometricEffectDashes\"===e.type&&(e.dashTemplate=e.dashTemplate.map((e=>e*t)))}));break;case\"CIMVectorMarker\":{null!=e.size&&(e.size*=t);const r=e.markerPlacement;null!=r&&\"placementTemplate\"in r&&(r.placementTemplate=r.placementTemplate.map((e=>e*t)));break}}}));let s=this._getLineSymbolPeriod(i)||q;for(;s<q;)s*=2;const n=s/2;return{type:\"CIMVectorMarker\",frame:{xmin:-n,xmax:n,ymin:-o,ymax:o},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[-n,0],[n,0]]]},symbol:i}],size:a}}static fetchResources(e,t,r){if(e&&t)switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":{const a=e.symbolLayers;if(!a)return;for(const e of a)switch(ge(e,t,r),e.type){case\"CIMPictureFill\":case\"CIMHatchFill\":case\"CIMGradientFill\":case\"CIMPictureStroke\":case\"CIMGradientStroke\":case\"CIMCharacterMarker\":case\"CIMPictureMarker\":\"url\"in e&&e.url&&r.push(t.fetchResource(e.url,null));break;case\"CIMVectorMarker\":{const a=e.markerGraphics;if(!a)continue;for(const e of a)if(e){const a=e.symbol;a&&ie.fetchResources(a,t,r)}}}}}}static _getLineSymbolPeriod(e){if(e){const t=this._getEffectsRepeat(e.effects);if(t)return t;if(e.symbolLayers)for(const r of e.symbolLayers)if(r){const e=this._getEffectsRepeat(r.effects);if(e)return e;switch(r.type){case\"CIMCharacterMarker\":case\"CIMPictureMarker\":case\"CIMVectorMarker\":case\"CIMObjectMarker3D\":case\"CIMglTFMarker3D\":{const e=this._getPlacementRepeat(r.markerPlacement);if(e)return e}}}}return 0}static _getEffectsRepeat(e){if(e)for(const t of e)if(t)switch(t.type){case\"CIMGeometricEffectDashes\":{const e=t.dashTemplate;if(e&&e.length){let t=0;for(const r of e)t+=r;return 1&e.length&&(t*=2),t}break}case\"CIMGeometricEffectWave\":return t.period;default:Q.error(`unsupported geometric effect type ${t.type}`)}return 0}static _getPlacementRepeat(e){if(e)switch(e.type){case\"CIMMarkerPlacementAlongLineSameSize\":case\"CIMMarkerPlacementAlongLineRandomSize\":case\"CIMMarkerPlacementAlongLineVariableSize\":{const t=e.placementTemplate;if(t&&t.length){let e=0;for(const r of t)e+=+r;return 1&t.length&&(e*=2),e}break}}return 0}static fromCIMInsidePolygon(e){const t=e.markerPlacement,r={...e};r.markerPlacement=null,r.anchorPoint=null;const a=Math.abs(t.stepX),o=Math.abs(t.stepY),i=(t.randomness??100)/100;let n,c,m,f;if(\"Random\"===t.gridType){const e=l(_),r=Math.max(Math.floor(e/a),1),y=Math.max(Math.floor(e/o),1);n=r*a/2,c=y*o/2,m=2*c;const u=new s(t.seed),h=i*a/1.5,p=i*o/1.5;f=[];for(let t=0;t<r;t++)for(let e=0;e<y;e++){const r=t*a-n+h*(.5-u.getFloat()),i=e*o-c+p*(.5-u.getFloat());f.push({x:r,y:i}),0===t&&f.push({x:r+2*n,y:i}),0===e&&f.push({x:r,y:i+2*c})}}else!0===t.shiftOddRows?(n=a/2,c=o,m=2*o,f=[{x:-n,y:0},{x:n,y:0},{x:0,y:c},{x:0,y:-c}]):(n=a/2,c=o/2,m=o,f=[{x:-a,y:0},{x:0,y:-o},{x:-a,y:-o},{x:0,y:0},{x:a,y:0},{x:0,y:o},{x:a,y:o},{x:-a,y:o},{x:a,y:-o}]);return{type:\"CIMVectorMarker\",frame:{xmin:-n,xmax:n,ymin:-c,ymax:c},markerGraphics:f.map((e=>({type:\"CIMMarkerGraphic\",geometry:e,symbol:{type:\"CIMPointSymbol\",symbolLayers:[r]}}))),size:m}}static getSize(e){if(e)switch(e.type){case\"CIMTextSymbol\":return e.height;case\"CIMPointSymbol\":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers)if(r)switch(r.type){case\"CIMCharacterMarker\":case\"CIMPictureMarker\":case\"CIMVectorMarker\":case\"CIMObjectMarker3D\":case\"CIMglTFMarker3D\":{const e=r.size;null!=e&&e>t&&(t=e);break}}return t}case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers)if(r)switch(r.type){case\"CIMSolidStroke\":case\"CIMPictureStroke\":case\"CIMGradientStroke\":{const e=r.width;null!=e&&e>t&&(t=e);break}case\"CIMCharacterMarker\":case\"CIMPictureMarker\":case\"CIMVectorMarker\":case\"CIMObjectMarker3D\":case\"CIMglTFMarker3D\":if(r.markerPlacement&&G(r.markerPlacement)){const e=r.size;null!=e&&e>t&&(t=e)}}return t}}}static getMarkerScaleRatio(e){if(e&&\"CIMVectorMarker\"===e.type)if(!1!==e.scaleSymbolsProportionally&&e.frame&&null!=e.size){const t=e.frame.ymax-e.frame.ymin;return e.size/t}return 1}}class se{static findApplicableOverrides(e,t,r){if(e&&t){if(e.primitiveName){let a=!1;for(const t of r)if(t.primitiveName===e.primitiveName){a=!0;break}if(!a)for(const o of t)o.primitiveName===e.primitiveName&&r.push(o)}switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":if(e.effects)for(const a of e.effects)se.findApplicableOverrides(a,t,r);if(e.symbolLayers)for(const a of e.symbolLayers)se.findApplicableOverrides(a,t,r);break;case\"CIMTextSymbol\":break;case\"CIMSolidStroke\":case\"CIMPictureStroke\":case\"CIMGradientStroke\":case\"CIMSolidFill\":case\"CIMPictureFill\":case\"CIMHatchFill\":case\"CIMGradientFill\":case\"CIMVectorMarker\":case\"CIMCharacterMarker\":case\"CIMPictureMarker\":if(e.effects)for(const a of e.effects)se.findApplicableOverrides(a,t,r);if(e.markerPlacement&&se.findApplicableOverrides(e.markerPlacement,t,r),\"CIMVectorMarker\"===e.type){if(e.markerGraphics)for(const a of e.markerGraphics)se.findApplicableOverrides(a,t,r),se.findApplicableOverrides(a.symbol,t,r)}else\"CIMCharacterMarker\"===e.type?se.findApplicableOverrides(e.symbol,t,r):\"CIMHatchFill\"===e.type?se.findApplicableOverrides(e.lineSymbol,t,r):\"CIMPictureMarker\"===e.type&&se.findApplicableOverrides(e.animatedSymbolProperties,t,r)}}}static findEffectOverrides(e,t,r){if(!t||!e)return;const a=e.length;for(let o=0;o<a;o++){const a=e[o]?.primitiveName;if(a){let e=!1;for(const t of r)if(t.primitiveName===a){e=!0;break}if(!e)for(const o of t)o.primitiveName===a&&r.push(o)}}}static async resolveSymbolOverrides(e,t,a,o,i,s,n){if(!e||!e.symbol)return null;let{symbol:l,primitiveOverrides:c}=e;const m=!!c;if(!m&&!o)return l;l=r(l);let f=!0;if(t||(t={attributes:{}},f=!1),m){if(f||(c=c.filter((e=>!e.valueExpressionInfo?.expression.includes(\"$feature\")))),n||(c=c.filter((e=>!e.valueExpressionInfo?.expression.includes(\"$view\")))),c.length>0){const e=E(t.attributes);await se.evaluateOverrides(c,t,{spatialReference:a,fields:e,geometryType:i},s,n)}se.applyOverrides(l,c)}return o&&se.applyDictionaryTextOverrides(l,t,o),l}static async evaluateOverrides(e,t,r,a,o){if(!t)return;let i;for(const s of e){const e=s.valueExpressionInfo;if(e&&r&&r.geometryType){i||(i=[]),s.value=void 0;const n=y(e.expression,r.spatialReference,r.fields).then((e=>{s.value=j(e,t,{$view:o},r.geometryType,a)}));i.push(n)}}void 0!==i&&i.length>0&&await Promise.all(i)}static applyDictionaryTextOverrides(e,t,r,a=\"Normal\"){if(e&&e.type)switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":case\"CIMTextSymbol\":{const o=e.symbolLayers;if(!o)return;for(const i of o)i&&\"CIMVectorMarker\"===i.type&&se.applyDictionaryTextOverrides(i,t,r,\"CIMTextSymbol\"===e.type?e.textCase:a)}break;case\"CIMVectorMarker\":{const a=e.markerGraphics;if(!a)return;for(const e of a)e&&se.applyDictionaryTextOverrides(e,t,r)}break;case\"CIMMarkerGraphic\":{const o=e.textString;if(o&&o.includes(\"[\")){const i=O(o,r);e.textString=A(t,i,a)}}}}static applyOverrides(e,t,r,a){if(e.primitiveName)for(const i of t)if(i.primitiveName===e.primitiveName){const t=be(i.propertyName);if(a&&a.push({cim:e,nocapPropertyName:t,value:e[t]}),i.expression&&(i.value=se.toValue(i.propertyName,i.expression)),r){let t=!1;for(const a of r)a.primitiveName===e.primitiveName&&(t=!0);t||r.push(i)}o(i.value)&&(e[t]=i.value)}switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":if(e.effects)for(const o of e.effects)se.applyOverrides(o,t,r,a);if(e.symbolLayers)for(const o of e.symbolLayers)se.applyOverrides(o,t,r,a);break;case\"CIMTextSymbol\":break;case\"CIMSolidStroke\":case\"CIMSolidFill\":case\"CIMVectorMarker\":if(e.effects)for(const o of e.effects)se.applyOverrides(o,t,r,a);if(\"CIMVectorMarker\"===e.type&&e.markerGraphics)for(const o of e.markerGraphics)se.applyOverrides(o,t,r,a),se.applyOverrides(o.symbol,t,r,a)}}static restoreOverrides(e){for(const t of e)t.cim[t.nocapPropertyName]=t.value}static buildOverrideKey(e){let t=\"\";for(const r of e)void 0!==r.value&&(t+=`${r.primitiveName}${r.propertyName}${JSON.stringify(r.value)}`);return t}static toValue(t,r){if(\"DashTemplate\"===t)return r.split(\" \").map((e=>Number(e)));if(\"Color\"===t){const t=new e(r).toRgba();return t[3]*=255,t}return r}}const ne=e=>{if(!e)return g.Butt;switch(e){case\"butt\":return g.Butt;case\"square\":return g.Square;case\"round\":return g.Round}},le=e=>{if(!e)return C.Miter;switch(e){case\"miter\":return C.Miter;case\"round\":return C.Round;case\"bevel\":return C.Bevel}},ce=e=>{if(i(e))return\"Center\";switch(e){case\"left\":return\"Left\";case\"right\":return\"Right\";case\"center\":return\"Center\"}},me=e=>{if(i(e))return\"Center\";switch(e){case\"baseline\":return\"Baseline\";case\"top\":return\"Top\";case\"middle\":return\"Center\";case\"bottom\":return\"Bottom\"}},fe=e=>{if(!e)return[0,0,0,0];const{r:t,g:r,b:a,a:o}=e;return[t,r,a,255*o]},ye=(e,t)=>{const r=ue(t),a=he(e);return r&&a?`${r}-${a}`:`${r}${a}`},ue=e=>{if(!e)return\"\";switch(e.toLowerCase()){case\"bold\":case\"bolder\":return\"bold\"}return\"\"},he=e=>{if(!e)return\"\";switch(e.toLowerCase()){case\"italic\":case\"oblique\":return\"italic\"}return\"\"},pe=(e,t)=>{const r=\"butt\"===t;switch(e){case\"dash\":case\"esriSLSDash\":return r?[4,3]:[3,4];case\"dash-dot\":case\"esriSLSDashDot\":return r?[4,3,1,3]:[3,4,0,4];case\"dot\":case\"esriSLSDot\":return r?[1,3]:[0,4];case\"long-dash\":case\"esriSLSLongDash\":return r?[8,3]:[7,4];case\"long-dash-dot\":case\"esriSLSLongDashDot\":return r?[8,3,1,3]:[7,4,0,4];case\"long-dash-dot-dot\":case\"esriSLSDashDotDot\":return r?[8,3,1,3,1,3]:[7,4,0,4,0,4];case\"short-dash\":case\"esriSLSShortDash\":return r?[4,1]:[3,2];case\"short-dash-dot\":case\"esriSLSShortDashDot\":return r?[4,1,1,1]:[3,2,0,2];case\"short-dash-dot-dot\":case\"esriSLSShortDashDotDot\":return r?[4,1,1,1,1,1]:[3,2,0,2,0,2];case\"short-dot\":case\"esriSLSShortDot\":return r?[1,1]:[0,2];case\"solid\":case\"esriSLSSolid\":case\"none\":return Q.error(\"Unexpected: style does not require rasterization\"),[0,0];default:return Q.error(`Tried to rasterize SLS, but found an unexpected style: ${e}!`),[0,0]}};function Me(e){return void 0!==e.symbolLayers}const de=e=>{const t=100,r=50;let a,o;const i=e;if(\"circle\"===i||\"esriSMSCircle\"===i){const e=.25;let t=Math.acos(1-e/r),i=Math.ceil(Y/t/4);0===i&&(i=1),t=$/i,i*=4;const s=[];s.push([r,0]);for(let a=1;a<i;a++)s.push([r*Math.cos(a*t),-r*Math.sin(a*t)]);s.push([r,0]),a={rings:[s]},o={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if(\"cross\"===i||\"esriSMSCross\"===i){const e=0;a={rings:[[[e,r],[e,e],[r,e],[r,-e],[e,-e],[e,-r],[-e,-r],[-e,-e],[-r,-e],[-r,e],[-e,e],[-e,r],[e,r]]]},o={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if(\"diamond\"===i||\"esriSMSDiamond\"===i)a={rings:[[[-r,0],[0,r],[r,0],[0,-r],[-r,0]]]},o={xmin:-r,ymin:-r,xmax:r,ymax:r};else if(\"square\"===i||\"esriSMSSquare\"===i)a={rings:[[[-r,-r],[-r,r],[r,r],[r,-r],[-r,-r]]]},o={xmin:-r,ymin:-r,xmax:r,ymax:r};else if(\"x\"===i||\"esriSMSX\"===i){const e=0;a={rings:[[[0,e],[r-e,r],[r,r-e],[e,0],[r,e-r],[r-e,-r],[0,-e],[e-r,-r],[-r,e-r],[-e,0],[-r,r-e],[e-r,r],[0,e]]]},o={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if(\"triangle\"===i||\"esriSMSTriangle\"===i){const e=t*.5773502691896257,r=-e,i=2/3*t,s=i-t;a={rings:[[[r,s],[0,i],[e,s],[r,s]]]},o={xmin:r,ymin:s,xmax:e,ymax:i}}else\"arrow\"===i&&(a={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},o={xmin:-r,ymin:-r,xmax:r,ymax:r});return[o,a]},Se=e=>\"vertical\"===e||\"horizontal\"===e||\"cross\"===e||\"esriSFSCross\"===e||\"esriSFSVertical\"===e||\"esriSFSHorizontal\"===e,be=e=>e?e.charAt(0).toLowerCase()+e.substr(1):e;function ge(e,t,r){if(!e.effects||o(t.geometryEngine))return;if(t.geometryEnginePromise)return void r.push(t.geometryEnginePromise);N(e.effects)&&(t.geometryEnginePromise=R(),r.push(t.geometryEnginePromise),t.geometryEnginePromise.then((e=>t.geometryEngine=e)))}export{ie as CIMSymbolHelper,oe as CIMSymbolInflatedSizeHelper,se as OverrideHelper,pe as slsDashToTemplateArray,Z as symbolToCIM};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}