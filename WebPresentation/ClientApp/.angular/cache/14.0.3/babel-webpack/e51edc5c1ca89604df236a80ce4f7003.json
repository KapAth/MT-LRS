{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { blendingAlpha as e } from \"../3d/webgl-engine/lib/OrderIndependentTransparency.js\";\nimport { w as t } from \"../../chunks/webgl-debug.js\";\nimport { BufferObject as r } from \"./BufferObject.js\";\nimport { ContextType as o } from \"./context-util.js\";\nimport { TargetType as i, DepthStencilTargetType as a, TextureType as n, TextureWrapMode as s, PixelFormat as p, PixelType as l, SizedPixelFormat as c, TextureSamplingMode as m, Usage as f, DataType as u, PrimitiveType as d } from \"./enums.js\";\nimport { FramebufferObject as b } from \"./FramebufferObject.js\";\nimport { makePipelineState as g } from \"./renderState.js\";\nimport { VertexArrayObject as _ } from \"./VertexArrayObject.js\";\nimport { VertexElementDescriptor as T } from \"./VertexElementDescriptor.js\";\nimport { WebGLDriverTestModule as w } from \"./WebGLDriverTestModule.js\";\n\nclass x extends w {\n  constructor(e) {\n    if (super(), this._rctx = e, !e.gl) return;\n    if (e.type === o.WEBGL1) return void (this._result = !(!e.capabilities.textureFloat?.textureFloat || !e.capabilities.colorBufferFloat?.textureFloat));\n    if (!(e.capabilities.textureFloat?.textureFloat && e.capabilities.colorBufferFloat?.textureFloat && e.capabilities.colorBufferFloat?.floatBlend)) return;\n    const t = \"\\n    precision highp float;\\n    attribute vec2 a_pos;\\n\\n    void main() {\\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \",\n          r = \"\\n     precision highp float;\\n\\n     void main() {\\n      gl_FragColor = vec4(0.5, 0.5, 0.5, 0.5);\\n     }\\n    \";\n    this._program = e.programCache.acquire(t, r, new Map([[\"a_pos\", 0]]));\n  }\n\n  _test(o) {\n    const w = this._rctx,\n          x = new b(w, {\n      colorTarget: i.TEXTURE,\n      depthStencilTarget: a.NONE\n    }, {\n      target: n.TEXTURE_2D,\n      wrapMode: s.CLAMP_TO_EDGE,\n      pixelFormat: p.RGBA,\n      dataType: l.FLOAT,\n      internalFormat: c.RGBA32F,\n      samplingMode: m.NEAREST,\n      width: 1,\n      height: 1\n    }),\n          F = r.createVertex(w, f.STATIC_DRAW, new Uint16Array([0, 0, 1, 0, 0, 1, 1, 1])),\n          h = new _(w, new Map([[\"a_pos\", 0]]), {\n      geometry: [new T(\"a_pos\", 2, u.UNSIGNED_SHORT, 0, 4)]\n    }, {\n      geometry: F\n    });\n    w.useProgram(o);\n    const E = w.getBoundFramebufferObject(),\n          {\n      x: j,\n      y: A,\n      width: y,\n      height: O\n    } = w.getViewport();\n    w.bindFramebuffer(x), w.setViewport(0, 0, 1, 1), w.bindVAO(h), w.drawArrays(d.TRIANGLE_STRIP, 0, 4);\n    const R = g({\n      blending: e\n    });\n    w.setPipelineState(R), w.drawArrays(d.TRIANGLE_STRIP, 0, 4), t.init(w);\n    const B = w.gl.getError();\n    return w.setViewport(j, A, y, O), w.bindFramebuffer(E), h.dispose(!1), F.dispose(), x.dispose(), 1282 !== B || (console.warn(\"Device claims support for WebGL extension EXT_float_blend but does not support it. Using fall back.\"), !1);\n  }\n\n}\n\nexport { x as FloatBufferBlend };","map":{"version":3,"names":["blendingAlpha","e","w","t","BufferObject","r","ContextType","o","TargetType","i","DepthStencilTargetType","a","TextureType","n","TextureWrapMode","s","PixelFormat","p","PixelType","l","SizedPixelFormat","c","TextureSamplingMode","m","Usage","f","DataType","u","PrimitiveType","d","FramebufferObject","b","makePipelineState","g","VertexArrayObject","_","VertexElementDescriptor","T","WebGLDriverTestModule","x","constructor","_rctx","gl","type","WEBGL1","_result","capabilities","textureFloat","colorBufferFloat","floatBlend","_program","programCache","acquire","Map","_test","colorTarget","TEXTURE","depthStencilTarget","NONE","target","TEXTURE_2D","wrapMode","CLAMP_TO_EDGE","pixelFormat","RGBA","dataType","FLOAT","internalFormat","RGBA32F","samplingMode","NEAREST","width","height","F","createVertex","STATIC_DRAW","Uint16Array","h","geometry","UNSIGNED_SHORT","useProgram","E","getBoundFramebufferObject","j","y","A","O","getViewport","bindFramebuffer","setViewport","bindVAO","drawArrays","TRIANGLE_STRIP","R","blending","setPipelineState","init","B","getError","dispose","console","warn","FloatBufferBlend"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/webgl/testFloatBufferBlend.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{blendingAlpha as e}from\"../3d/webgl-engine/lib/OrderIndependentTransparency.js\";import{w as t}from\"../../chunks/webgl-debug.js\";import{BufferObject as r}from\"./BufferObject.js\";import{ContextType as o}from\"./context-util.js\";import{TargetType as i,DepthStencilTargetType as a,TextureType as n,TextureWrapMode as s,PixelFormat as p,PixelType as l,SizedPixelFormat as c,TextureSamplingMode as m,Usage as f,DataType as u,PrimitiveType as d}from\"./enums.js\";import{FramebufferObject as b}from\"./FramebufferObject.js\";import{makePipelineState as g}from\"./renderState.js\";import{VertexArrayObject as _}from\"./VertexArrayObject.js\";import{VertexElementDescriptor as T}from\"./VertexElementDescriptor.js\";import{WebGLDriverTestModule as w}from\"./WebGLDriverTestModule.js\";class x extends w{constructor(e){if(super(),this._rctx=e,!e.gl)return;if(e.type===o.WEBGL1)return void(this._result=!(!e.capabilities.textureFloat?.textureFloat||!e.capabilities.colorBufferFloat?.textureFloat));if(!(e.capabilities.textureFloat?.textureFloat&&e.capabilities.colorBufferFloat?.textureFloat&&e.capabilities.colorBufferFloat?.floatBlend))return;const t=\"\\n    precision highp float;\\n    attribute vec2 a_pos;\\n\\n    void main() {\\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \",r=\"\\n     precision highp float;\\n\\n     void main() {\\n      gl_FragColor = vec4(0.5, 0.5, 0.5, 0.5);\\n     }\\n    \";this._program=e.programCache.acquire(t,r,new Map([[\"a_pos\",0]]))}_test(o){const w=this._rctx,x=new b(w,{colorTarget:i.TEXTURE,depthStencilTarget:a.NONE},{target:n.TEXTURE_2D,wrapMode:s.CLAMP_TO_EDGE,pixelFormat:p.RGBA,dataType:l.FLOAT,internalFormat:c.RGBA32F,samplingMode:m.NEAREST,width:1,height:1}),F=r.createVertex(w,f.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1])),h=new _(w,new Map([[\"a_pos\",0]]),{geometry:[new T(\"a_pos\",2,u.UNSIGNED_SHORT,0,4)]},{geometry:F});w.useProgram(o);const E=w.getBoundFramebufferObject(),{x:j,y:A,width:y,height:O}=w.getViewport();w.bindFramebuffer(x),w.setViewport(0,0,1,1),w.bindVAO(h),w.drawArrays(d.TRIANGLE_STRIP,0,4);const R=g({blending:e});w.setPipelineState(R),w.drawArrays(d.TRIANGLE_STRIP,0,4),t.init(w);const B=w.gl.getError();return w.setViewport(j,A,y,O),w.bindFramebuffer(E),h.dispose(!1),F.dispose(),x.dispose(),1282!==B||(console.warn(\"Device claims support for WebGL extension EXT_float_blend but does not support it. Using fall back.\"),!1)}}export{x as FloatBufferBlend};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}