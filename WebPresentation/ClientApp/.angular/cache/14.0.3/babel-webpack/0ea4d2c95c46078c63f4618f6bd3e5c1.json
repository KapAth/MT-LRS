{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../../../core/maybe.js\";\nimport { WGLGeometryType as e } from \"../enums.js\";\nimport { createProgramDescriptor as o } from \"../Utils.js\";\nimport a from \"./WGLGeometryBrush.js\";\nimport { TextMaterialKey as r } from \"../materialKey/MaterialKey.js\";\nimport { PrimitiveType as s, DataType as n } from \"../../../../webgl/enums.js\";\n\nconst i = t => o(t.data, {\n  geometry: [{\n    location: 0,\n    name: \"a_pos\",\n    count: 2,\n    type: n.SHORT\n  }, {\n    location: 1,\n    name: \"a_id\",\n    count: 4,\n    type: n.UNSIGNED_BYTE\n  }, {\n    location: 2,\n    name: \"a_color\",\n    count: 4,\n    type: n.UNSIGNED_BYTE,\n    normalized: !0\n  }, {\n    location: 3,\n    name: \"a_haloColor\",\n    count: 4,\n    type: n.UNSIGNED_BYTE,\n    normalized: !0\n  }, {\n    location: 4,\n    name: \"a_texFontSize\",\n    count: 4,\n    type: n.UNSIGNED_BYTE\n  }, {\n    location: 5,\n    name: \"a_aux\",\n    count: 4,\n    type: n.BYTE\n  }, {\n    location: 6,\n    name: \"a_zoomRange\",\n    count: 2,\n    type: n.UNSIGNED_SHORT\n  }, {\n    location: 7,\n    name: \"a_vertexOffset\",\n    count: 2,\n    type: n.SHORT\n  }, {\n    location: 8,\n    name: \"a_texCoords\",\n    count: 2,\n    type: n.UNSIGNED_SHORT\n  }]\n});\n\nclass m extends a {\n  dispose() {}\n\n  getGeometryType() {\n    return e.TEXT;\n  }\n\n  supportsSymbology(t) {\n    return !0;\n  }\n\n  drawGeometry(e, o, a, m) {\n    const {\n      context: l,\n      painter: u,\n      rendererInfo: d,\n      state: f,\n      passOptions: _,\n      requestRender: p,\n      allowDelayedRender: c\n    } = e,\n          y = r.load(a.materialKey),\n          E = t(_) && \"hittest\" === _.type,\n          {\n      bufferLayouts: N,\n      attributes: U\n    } = i(y),\n          S = u.materialManager.getMaterialProgram(e, y, \"materials/text\", U, m);\n\n    if (c && t(p) && !S.compiled) return void p();\n    l.useProgram(S);\n    let T = s.TRIANGLES;\n    E && (T = s.POINTS), this._setSharedUniforms(S, e, o), u.textureManager.bindTextures(l, S, y), S.setUniformMatrix3fv(\"u_displayMat3\", f.displayMat3), S.setUniformMatrix3fv(\"u_displayViewMat3\", f.displayViewMat3), this._setSizeVVUniforms(y, S, d, o), this._setColorAndOpacityVVUniforms(y, S, d), this._setRotationVVUniforms(y, S, d);\n    const x = a.target.getVAO(l, N, U),\n          I = a.indexFrom * Uint32Array.BYTES_PER_ELEMENT;\n    S.setUniform1f(\"u_isHaloPass\", 0), S.setUniform1f(\"u_isBackgroundPass\", 1), l.bindVAO(x), l.drawElements(T, a.indexCount, n.UNSIGNED_INT, I), S.setUniform1f(\"u_isHaloPass\", 1), S.setUniform1f(\"u_isBackgroundPass\", 0), l.drawElements(s.TRIANGLES, a.indexCount, n.UNSIGNED_INT, I), S.setUniform1f(\"u_isHaloPass\", 0), S.setUniform1f(\"u_isBackgroundPass\", 0), l.drawElements(T, a.indexCount, n.UNSIGNED_INT, I);\n  }\n\n}\n\nexport { m as default };","map":{"version":3,"names":["isSome","t","WGLGeometryType","e","createProgramDescriptor","o","a","TextMaterialKey","r","PrimitiveType","s","DataType","n","i","data","geometry","location","name","count","type","SHORT","UNSIGNED_BYTE","normalized","BYTE","UNSIGNED_SHORT","m","dispose","getGeometryType","TEXT","supportsSymbology","drawGeometry","context","l","painter","u","rendererInfo","d","state","f","passOptions","_","requestRender","p","allowDelayedRender","c","y","load","materialKey","E","bufferLayouts","N","attributes","U","S","materialManager","getMaterialProgram","compiled","useProgram","T","TRIANGLES","POINTS","_setSharedUniforms","textureManager","bindTextures","setUniformMatrix3fv","displayMat3","displayViewMat3","_setSizeVVUniforms","_setColorAndOpacityVVUniforms","_setRotationVVUniforms","x","target","getVAO","I","indexFrom","Uint32Array","BYTES_PER_ELEMENT","setUniform1f","bindVAO","drawElements","indexCount","UNSIGNED_INT","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLGeometryBrushText.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{WGLGeometryType as e}from\"../enums.js\";import{createProgramDescriptor as o}from\"../Utils.js\";import a from\"./WGLGeometryBrush.js\";import{TextMaterialKey as r}from\"../materialKey/MaterialKey.js\";import{PrimitiveType as s,DataType as n}from\"../../../../webgl/enums.js\";const i=t=>o(t.data,{geometry:[{location:0,name:\"a_pos\",count:2,type:n.SHORT},{location:1,name:\"a_id\",count:4,type:n.UNSIGNED_BYTE},{location:2,name:\"a_color\",count:4,type:n.UNSIGNED_BYTE,normalized:!0},{location:3,name:\"a_haloColor\",count:4,type:n.UNSIGNED_BYTE,normalized:!0},{location:4,name:\"a_texFontSize\",count:4,type:n.UNSIGNED_BYTE},{location:5,name:\"a_aux\",count:4,type:n.BYTE},{location:6,name:\"a_zoomRange\",count:2,type:n.UNSIGNED_SHORT},{location:7,name:\"a_vertexOffset\",count:2,type:n.SHORT},{location:8,name:\"a_texCoords\",count:2,type:n.UNSIGNED_SHORT}]});class m extends a{dispose(){}getGeometryType(){return e.TEXT}supportsSymbology(t){return!0}drawGeometry(e,o,a,m){const{context:l,painter:u,rendererInfo:d,state:f,passOptions:_,requestRender:p,allowDelayedRender:c}=e,y=r.load(a.materialKey),E=t(_)&&\"hittest\"===_.type,{bufferLayouts:N,attributes:U}=i(y),S=u.materialManager.getMaterialProgram(e,y,\"materials/text\",U,m);if(c&&t(p)&&!S.compiled)return void p();l.useProgram(S);let T=s.TRIANGLES;E&&(T=s.POINTS),this._setSharedUniforms(S,e,o),u.textureManager.bindTextures(l,S,y),S.setUniformMatrix3fv(\"u_displayMat3\",f.displayMat3),S.setUniformMatrix3fv(\"u_displayViewMat3\",f.displayViewMat3),this._setSizeVVUniforms(y,S,d,o),this._setColorAndOpacityVVUniforms(y,S,d),this._setRotationVVUniforms(y,S,d);const x=a.target.getVAO(l,N,U),I=a.indexFrom*Uint32Array.BYTES_PER_ELEMENT;S.setUniform1f(\"u_isHaloPass\",0),S.setUniform1f(\"u_isBackgroundPass\",1),l.bindVAO(x),l.drawElements(T,a.indexCount,n.UNSIGNED_INT,I),S.setUniform1f(\"u_isHaloPass\",1),S.setUniform1f(\"u_isBackgroundPass\",0),l.drawElements(s.TRIANGLES,a.indexCount,n.UNSIGNED_INT,I),S.setUniform1f(\"u_isHaloPass\",0),S.setUniform1f(\"u_isBackgroundPass\",0),l.drawElements(T,a.indexCount,n.UNSIGNED_INT,I)}}export{m as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}