{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { f as e } from \"../../../../../../chunks/vec3f32.js\";\nimport { VertexTextureCoordinates as s } from \"../attributes/VertexTextureCoordinates.glsl.js\";\nimport { textureSize as r } from \"../util/WebGL2Utils.js\";\nimport { Float3DrawUniform as o } from \"../../shaderModules/Float3DrawUniform.js\";\nimport { Float3PassUniform as t } from \"../../shaderModules/Float3PassUniform.js\";\nimport { glsl as a } from \"../../shaderModules/interfaces.js\";\nimport { createTexture2DDrawSizeUniforms as i } from \"../../shaderModules/Texture2DDrawUniform.js\";\nimport { createTexture2DPassSizeUniforms as c } from \"../../shaderModules/Texture2DPassUniform.js\";\nimport { TextureSizeUniformType as n } from \"../../shaderModules/TextureSizeUniformType.js\";\nimport { BindType as u } from \"../../shaderTechnique/BindType.js\";\nimport { GLTextureMaterialBindParameters as l } from \"../../../lib/GLTextureMaterial.js\";\nconst m = e(0, .6, .2);\nvar d;\n!function (e) {\n  e[e.Disabled = 0] = \"Disabled\", e[e.Normal = 1] = \"Normal\", e[e.Schematic = 2] = \"Schematic\", e[e.Water = 3] = \"Water\", e[e.WaterOnIntegratedMesh = 4] = \"WaterOnIntegratedMesh\", e[e.Terrain = 5] = \"Terrain\", e[e.TerrainWithWater = 6] = \"TerrainWithWater\", e[e.COUNT = 7] = \"COUNT\";\n}(d || (d = {}));\n\nclass p extends l {}\n\nfunction x(e, l) {\n  const m = e.fragment,\n        p = l.hasMetallicRoughnessTexture || l.hasEmissionTexture || l.hasOcclusionTexture;\n  if (l.pbrMode === d.Normal && p && e.include(s, l), l.pbrMode !== d.Schematic) {\n    if (l.pbrMode !== d.Disabled) {\n      if (l.pbrMode === d.Normal) {\n        m.code.add(a`vec3 mrr;\nvec3 emission;\nfloat occlusion;`);\n        const e = l.supportsTextureAtlas ? l.hasWebGL2Context ? n.None : n.Size : n.None,\n              s = l.pbrTextureBindType;\n        l.hasMetallicRoughnessTexture && (m.uniforms.add(s === u.Pass ? c(\"texMetallicRoughness\", e => e.textureMetallicRoughness, e) : i(\"texMetallicRoughness\", e => e.textureMetallicRoughness, e)), m.code.add(a`void applyMetallnessAndRoughness(TextureLookupParameter params) {\nvec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\nmrr[0] *= metallicRoughness.b;\nmrr[1] *= metallicRoughness.g;\n}`)), l.hasEmissionTexture && (m.uniforms.add(s === u.Pass ? c(\"texEmission\", e => e.textureEmissive, e) : i(\"texEmission\", e => e.textureEmissive, e)), m.code.add(a`void applyEmission(TextureLookupParameter params) {\nemission *= textureLookup(texEmission, params).rgb;\n}`)), l.hasOcclusionTexture ? (m.uniforms.add(s === u.Pass ? c(\"texOcclusion\", e => e.textureOcclusion, e) : i(\"texOcclusion\", e => e.textureOcclusion, e)), m.code.add(a`void applyOcclusion(TextureLookupParameter params) {\nocclusion *= textureLookup(texOcclusion, params).r;\n}\nfloat getBakedOcclusion() {\nreturn occlusion;\n}`)) : m.code.add(a`float getBakedOcclusion() { return 1.0; }`), m.uniforms.add(s === u.Pass ? [new t(\"emissionFactor\", e => e.emissiveFactor), new t(\"mrrFactors\", e => e.mrrFactors)] : [new o(\"emissionFactor\", e => e.emissiveFactor), new o(\"mrrFactors\", e => e.mrrFactors)]), m.code.add(a`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${p ? a`vtc.uv = vuv0;` : \"\"}\n      ${l.hasMetallicRoughnessTextureTransform ? a`vtc.uv = metallicRoughnessUV;` : \"\"}\n      ${l.hasMetallicRoughnessTexture ? l.supportsTextureAtlas ? a`\n                vtc.size = ${r(l, \"texMetallicRoughness\")};\n                applyMetallnessAndRoughness(vtc);` : a`applyMetallnessAndRoughness(vtc);` : \"\"}\n      ${l.hasEmissiveTextureTransform ? a`vtc.uv = emissiveUV;` : \"\"}\n      ${l.hasEmissionTexture ? l.supportsTextureAtlas ? a`\n                vtc.size = ${r(l, \"texEmission\")};\n                applyEmission(vtc);` : a`applyEmission(vtc);` : \"\"}\n      ${l.hasOcclusionTextureTransform ? a`vtc.uv = occlusionUV;` : \"\"}\n      ${l.hasOcclusionTexture ? l.supportsTextureAtlas ? a`\n                vtc.size = ${r(l, \"texOcclusion\")};\n                applyOcclusion(vtc);` : a`applyOcclusion(vtc);` : \"\"}\n    }\n  `);\n      }\n    } else m.code.add(a`float getBakedOcclusion() { return 1.0; }`);\n  } else m.code.add(a`vec3 mrr = vec3(0.0, 0.6, 0.2);\nvec3 emission = vec3(0.0);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);\n}\n\nexport { p as PBRBindParameters, d as PBRMode, m as PBRSchematicMRRValues, x as PhysicallyBasedRenderingParameters };","map":{"version":3,"names":["f","e","VertexTextureCoordinates","s","textureSize","r","Float3DrawUniform","o","Float3PassUniform","t","glsl","a","createTexture2DDrawSizeUniforms","i","createTexture2DPassSizeUniforms","c","TextureSizeUniformType","n","BindType","u","GLTextureMaterialBindParameters","l","m","d","Disabled","Normal","Schematic","Water","WaterOnIntegratedMesh","Terrain","TerrainWithWater","COUNT","p","x","fragment","hasMetallicRoughnessTexture","hasEmissionTexture","hasOcclusionTexture","pbrMode","include","code","add","supportsTextureAtlas","hasWebGL2Context","None","Size","pbrTextureBindType","uniforms","Pass","textureMetallicRoughness","textureEmissive","textureOcclusion","emissiveFactor","mrrFactors","hasMetallicRoughnessTextureTransform","hasEmissiveTextureTransform","hasOcclusionTextureTransform","PBRBindParameters","PBRMode","PBRSchematicMRRValues","PhysicallyBasedRenderingParameters"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../../../chunks/vec3f32.js\";import{VertexTextureCoordinates as s}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{textureSize as r}from\"../util/WebGL2Utils.js\";import{Float3DrawUniform as o}from\"../../shaderModules/Float3DrawUniform.js\";import{Float3PassUniform as t}from\"../../shaderModules/Float3PassUniform.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";import{createTexture2DDrawSizeUniforms as i}from\"../../shaderModules/Texture2DDrawUniform.js\";import{createTexture2DPassSizeUniforms as c}from\"../../shaderModules/Texture2DPassUniform.js\";import{TextureSizeUniformType as n}from\"../../shaderModules/TextureSizeUniformType.js\";import{BindType as u}from\"../../shaderTechnique/BindType.js\";import{GLTextureMaterialBindParameters as l}from\"../../../lib/GLTextureMaterial.js\";const m=e(0,.6,.2);var d;!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Normal=1]=\"Normal\",e[e.Schematic=2]=\"Schematic\",e[e.Water=3]=\"Water\",e[e.WaterOnIntegratedMesh=4]=\"WaterOnIntegratedMesh\",e[e.Terrain=5]=\"Terrain\",e[e.TerrainWithWater=6]=\"TerrainWithWater\",e[e.COUNT=7]=\"COUNT\"}(d||(d={}));class p extends l{}function x(e,l){const m=e.fragment,p=l.hasMetallicRoughnessTexture||l.hasEmissionTexture||l.hasOcclusionTexture;if(l.pbrMode===d.Normal&&p&&e.include(s,l),l.pbrMode!==d.Schematic)if(l.pbrMode!==d.Disabled){if(l.pbrMode===d.Normal){m.code.add(a`vec3 mrr;\nvec3 emission;\nfloat occlusion;`);const e=l.supportsTextureAtlas?l.hasWebGL2Context?n.None:n.Size:n.None,s=l.pbrTextureBindType;l.hasMetallicRoughnessTexture&&(m.uniforms.add(s===u.Pass?c(\"texMetallicRoughness\",(e=>e.textureMetallicRoughness),e):i(\"texMetallicRoughness\",(e=>e.textureMetallicRoughness),e)),m.code.add(a`void applyMetallnessAndRoughness(TextureLookupParameter params) {\nvec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\nmrr[0] *= metallicRoughness.b;\nmrr[1] *= metallicRoughness.g;\n}`)),l.hasEmissionTexture&&(m.uniforms.add(s===u.Pass?c(\"texEmission\",(e=>e.textureEmissive),e):i(\"texEmission\",(e=>e.textureEmissive),e)),m.code.add(a`void applyEmission(TextureLookupParameter params) {\nemission *= textureLookup(texEmission, params).rgb;\n}`)),l.hasOcclusionTexture?(m.uniforms.add(s===u.Pass?c(\"texOcclusion\",(e=>e.textureOcclusion),e):i(\"texOcclusion\",(e=>e.textureOcclusion),e)),m.code.add(a`void applyOcclusion(TextureLookupParameter params) {\nocclusion *= textureLookup(texOcclusion, params).r;\n}\nfloat getBakedOcclusion() {\nreturn occlusion;\n}`)):m.code.add(a`float getBakedOcclusion() { return 1.0; }`),m.uniforms.add(s===u.Pass?[new t(\"emissionFactor\",(e=>e.emissiveFactor)),new t(\"mrrFactors\",(e=>e.mrrFactors))]:[new o(\"emissionFactor\",(e=>e.emissiveFactor)),new o(\"mrrFactors\",(e=>e.mrrFactors))]),m.code.add(a`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${p?a`vtc.uv = vuv0;`:\"\"}\n      ${l.hasMetallicRoughnessTextureTransform?a`vtc.uv = metallicRoughnessUV;`:\"\"}\n      ${l.hasMetallicRoughnessTexture?l.supportsTextureAtlas?a`\n                vtc.size = ${r(l,\"texMetallicRoughness\")};\n                applyMetallnessAndRoughness(vtc);`:a`applyMetallnessAndRoughness(vtc);`:\"\"}\n      ${l.hasEmissiveTextureTransform?a`vtc.uv = emissiveUV;`:\"\"}\n      ${l.hasEmissionTexture?l.supportsTextureAtlas?a`\n                vtc.size = ${r(l,\"texEmission\")};\n                applyEmission(vtc);`:a`applyEmission(vtc);`:\"\"}\n      ${l.hasOcclusionTextureTransform?a`vtc.uv = occlusionUV;`:\"\"}\n      ${l.hasOcclusionTexture?l.supportsTextureAtlas?a`\n                vtc.size = ${r(l,\"texOcclusion\")};\n                applyOcclusion(vtc);`:a`applyOcclusion(vtc);`:\"\"}\n    }\n  `)}}else m.code.add(a`float getBakedOcclusion() { return 1.0; }`);else m.code.add(a`vec3 mrr = vec3(0.0, 0.6, 0.2);\nvec3 emission = vec3(0.0);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`)}export{p as PBRBindParameters,d as PBRMode,m as PBRSchematicMRRValues,x as PhysicallyBasedRenderingParameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}