{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../request.js\";\nimport r from \"../core/Error.js\";\nimport t from \"../core/Logger.js\";\nimport { isSome as o } from \"../core/maybe.js\";\nimport { getDeepValue as s } from \"../core/object.js\";\nimport { removeTrailingSlash as a } from \"../core/urlUtils.js\";\nimport { asValidOptions as n, parseUrl as i } from \"./utils.js\";\nimport l from \"./support/NetworkServiceDescription.js\";\nconst f = t.getLogger(\"esri.rest.networkService\");\n\nfunction u(e, r, t, o) {\n  o[t] = [r.length, r.length + e.length], e.forEach(e => {\n    r.push(e.geometry);\n  });\n}\n\nfunction c(e, r) {\n  for (let t = 0; t < r.length; t++) {\n    const o = e[r[t]];\n    if (o && o.length) for (const e of o) e.z = void 0;\n  }\n\n  f.warnOnce(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\");\n}\n\nfunction d(e, r) {\n  for (let t = 0; t < r.length; t++) {\n    const s = e[r[t]];\n    if (s && s.length) for (const e of s) if (o(e) && e.hasZ) return !0;\n  }\n\n  return !1;\n}\n\nfunction p(_x, _x2, _x3) {\n  return _p.apply(this, arguments);\n}\n\nfunction _p() {\n  _p = _asyncToGenerator(function* (t, o, s) {\n    if (!t) throw new r(\"network-service:missing-url\", \"Url to Network service is missing\");\n    const a = n({\n      f: \"json\",\n      token: o\n    }, s),\n          {\n      data: i\n    } = yield e(t, a),\n          f = i.currentVersion >= 10.4 ? m(t, o, s) : v(t, s),\n          {\n      defaultTravelMode: u,\n      supportedTravelModes: c\n    } = yield f;\n    return i.defaultTravelMode = u, i.supportedTravelModes = c, l.fromJSON(i);\n  });\n  return _p.apply(this, arguments);\n}\n\nfunction v(_x4, _x5) {\n  return _v.apply(this, arguments);\n}\n\nfunction _v() {\n  _v = _asyncToGenerator(function* (r, t) {\n    const o = n({\n      f: \"json\"\n    }, t),\n          {\n      data: l\n    } = yield e(r.replace(/\\/rest\\/.*$/i, \"/info\"), o);\n    if (!l || !l.owningSystemUrl) return {\n      supportedTravelModes: [],\n      defaultTravelMode: null\n    };\n    const {\n      owningSystemUrl: f\n    } = l,\n          u = a(f) + \"/sharing/rest/portals/self\",\n          {\n      data: c\n    } = yield e(u, o),\n          d = s(\"helperServices.routingUtilities.url\", c);\n    if (!d) return {\n      supportedTravelModes: [],\n      defaultTravelMode: null\n    };\n    const p = i(f),\n          v = /\\/solve$/i.test(p.path) ? \"Route\" : /\\/solveclosestfacility$/i.test(p.path) ? \"ClosestFacility\" : \"ServiceAreas\",\n          m = n({\n      f: \"json\",\n      serviceName: v\n    }, t),\n          h = a(d) + \"/GetTravelModes/execute\",\n          g = yield e(h, m),\n          w = [];\n    let T = null;\n\n    if (g?.data?.results?.length) {\n      const e = g.data.results;\n\n      for (const r of e) if (\"supportedTravelModes\" === r.paramName) {\n        if (r.value?.features) for (const {\n          attributes: e\n        } of r.value.features) if (e) {\n          const r = JSON.parse(e.TravelMode);\n          w.push(r);\n        }\n      } else \"defaultTravelMode\" === r.paramName && (T = r.value);\n    }\n\n    return {\n      supportedTravelModes: w,\n      defaultTravelMode: T\n    };\n  });\n  return _v.apply(this, arguments);\n}\n\nfunction m(_x6, _x7, _x8) {\n  return _m.apply(this, arguments);\n}\n\nfunction _m() {\n  _m = _asyncToGenerator(function* (t, o, s) {\n    try {\n      const r = n({\n        f: \"json\",\n        token: o\n      }, s),\n            i = a(t) + \"/retrieveTravelModes\",\n            {\n        data: {\n          supportedTravelModes: l,\n          defaultTravelMode: f\n        }\n      } = yield e(i, r);\n      return {\n        supportedTravelModes: l,\n        defaultTravelMode: f\n      };\n    } catch (i) {\n      throw new r(\"network-service:retrieveTravelModes\", \"Could not get to the NAServer's retrieveTravelModes.\", {\n        error: i\n      });\n    }\n  });\n  return _m.apply(this, arguments);\n}\n\nexport { u as collectGeometries, c as dropZValuesOffInputGeometry, p as fetchServiceDescription, d as isInputGeometryZAware };","map":{"version":3,"names":["e","r","t","isSome","o","getDeepValue","s","removeTrailingSlash","a","asValidOptions","n","parseUrl","i","l","f","getLogger","u","length","forEach","push","geometry","c","z","warnOnce","d","hasZ","p","token","data","currentVersion","m","v","defaultTravelMode","supportedTravelModes","fromJSON","replace","owningSystemUrl","test","path","serviceName","h","g","w","T","results","paramName","value","features","attributes","JSON","parse","TravelMode","error","collectGeometries","dropZValuesOffInputGeometry","fetchServiceDescription","isInputGeometryZAware"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/rest/networkService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";import r from\"../core/Error.js\";import t from\"../core/Logger.js\";import{isSome as o}from\"../core/maybe.js\";import{getDeepValue as s}from\"../core/object.js\";import{removeTrailingSlash as a}from\"../core/urlUtils.js\";import{asValidOptions as n,parseUrl as i}from\"./utils.js\";import l from\"./support/NetworkServiceDescription.js\";const f=t.getLogger(\"esri.rest.networkService\");function u(e,r,t,o){o[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}function c(e,r){for(let t=0;t<r.length;t++){const o=e[r[t]];if(o&&o.length)for(const e of o)e.z=void 0}f.warnOnce(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}function d(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)if(o(e)&&e.hasZ)return!0}return!1}async function p(t,o,s){if(!t)throw new r(\"network-service:missing-url\",\"Url to Network service is missing\");const a=n({f:\"json\",token:o},s),{data:i}=await e(t,a),f=i.currentVersion>=10.4?m(t,o,s):v(t,s),{defaultTravelMode:u,supportedTravelModes:c}=await f;return i.defaultTravelMode=u,i.supportedTravelModes=c,l.fromJSON(i)}async function v(r,t){const o=n({f:\"json\"},t),{data:l}=await e(r.replace(/\\/rest\\/.*$/i,\"/info\"),o);if(!l||!l.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};const{owningSystemUrl:f}=l,u=a(f)+\"/sharing/rest/portals/self\",{data:c}=await e(u,o),d=s(\"helperServices.routingUtilities.url\",c);if(!d)return{supportedTravelModes:[],defaultTravelMode:null};const p=i(f),v=/\\/solve$/i.test(p.path)?\"Route\":/\\/solveclosestfacility$/i.test(p.path)?\"ClosestFacility\":\"ServiceAreas\",m=n({f:\"json\",serviceName:v},t),h=a(d)+\"/GetTravelModes/execute\",g=await e(h,m),w=[];let T=null;if(g?.data?.results?.length){const e=g.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value?.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);w.push(r)}}else\"defaultTravelMode\"===r.paramName&&(T=r.value)}return{supportedTravelModes:w,defaultTravelMode:T}}async function m(t,o,s){try{const r=n({f:\"json\",token:o},s),i=a(t)+\"/retrieveTravelModes\",{data:{supportedTravelModes:l,defaultTravelMode:f}}=await e(i,r);return{supportedTravelModes:l,defaultTravelMode:f}}catch(i){throw new r(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:i})}}export{u as collectGeometries,c as dropZValuesOffInputGeometry,p as fetchServiceDescription,d as isInputGeometryZAware};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,eAAb;AAA6B,OAAOC,CAAP,MAAa,kBAAb;AAAgC,OAAOC,CAAP,MAAa,mBAAb;AAAiC,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,kBAAvB;AAA0C,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,mBAA7B;AAAiD,SAAOC,mBAAmB,IAAIC,CAA9B,QAAoC,qBAApC;AAA0D,SAAOC,cAAc,IAAIC,CAAzB,EAA2BC,QAAQ,IAAIC,CAAvC,QAA6C,YAA7C;AAA0D,OAAOC,CAAP,MAAa,wCAAb;AAAsD,MAAMC,CAAC,GAACZ,CAAC,CAACa,SAAF,CAAY,0BAAZ,CAAR;;AAAgD,SAASC,CAAT,CAAWhB,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiBE,CAAjB,EAAmB;EAACA,CAAC,CAACF,CAAD,CAAD,GAAK,CAACD,CAAC,CAACgB,MAAH,EAAUhB,CAAC,CAACgB,MAAF,GAASjB,CAAC,CAACiB,MAArB,CAAL,EAAkCjB,CAAC,CAACkB,OAAF,CAAWlB,CAAC,IAAE;IAACC,CAAC,CAACkB,IAAF,CAAOnB,CAAC,CAACoB,QAAT;EAAmB,CAAlC,CAAlC;AAAuE;;AAAA,SAASC,CAAT,CAAWrB,CAAX,EAAaC,CAAb,EAAe;EAAC,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,CAAC,CAACgB,MAAhB,EAAuBf,CAAC,EAAxB,EAA2B;IAAC,MAAME,CAAC,GAACJ,CAAC,CAACC,CAAC,CAACC,CAAD,CAAF,CAAT;IAAgB,IAAGE,CAAC,IAAEA,CAAC,CAACa,MAAR,EAAe,KAAI,MAAMjB,CAAV,IAAeI,CAAf,EAAiBJ,CAAC,CAACsB,CAAF,GAAI,KAAK,CAAT;EAAW;;EAAAR,CAAC,CAACS,QAAF,CAAW,6IAAX;AAA0J;;AAAA,SAASC,CAAT,CAAWxB,CAAX,EAAaC,CAAb,EAAe;EAAC,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,CAAC,CAACgB,MAAhB,EAAuBf,CAAC,EAAxB,EAA2B;IAAC,MAAMI,CAAC,GAACN,CAAC,CAACC,CAAC,CAACC,CAAD,CAAF,CAAT;IAAgB,IAAGI,CAAC,IAAEA,CAAC,CAACW,MAAR,EAAe,KAAI,MAAMjB,CAAV,IAAeM,CAAf,EAAiB,IAAGF,CAAC,CAACJ,CAAD,CAAD,IAAMA,CAAC,CAACyB,IAAX,EAAgB,OAAM,CAAC,CAAP;EAAS;;EAAA,OAAM,CAAC,CAAP;AAAS;;SAAeC,C;;;;;yBAAf,WAAiBxB,CAAjB,EAAmBE,CAAnB,EAAqBE,CAArB,EAAuB;IAAC,IAAG,CAACJ,CAAJ,EAAM,MAAM,IAAID,CAAJ,CAAM,6BAAN,EAAoC,mCAApC,CAAN;IAA+E,MAAMO,CAAC,GAACE,CAAC,CAAC;MAACI,CAAC,EAAC,MAAH;MAAUa,KAAK,EAACvB;IAAhB,CAAD,EAAoBE,CAApB,CAAT;IAAA,MAAgC;MAACsB,IAAI,EAAChB;IAAN,UAAeZ,CAAC,CAACE,CAAD,EAAGM,CAAH,CAAhD;IAAA,MAAsDM,CAAC,GAACF,CAAC,CAACiB,cAAF,IAAkB,IAAlB,GAAuBC,CAAC,CAAC5B,CAAD,EAAGE,CAAH,EAAKE,CAAL,CAAxB,GAAgCyB,CAAC,CAAC7B,CAAD,EAAGI,CAAH,CAAzF;IAAA,MAA+F;MAAC0B,iBAAiB,EAAChB,CAAnB;MAAqBiB,oBAAoB,EAACZ;IAA1C,UAAmDP,CAAlJ;IAAoJ,OAAOF,CAAC,CAACoB,iBAAF,GAAoBhB,CAApB,EAAsBJ,CAAC,CAACqB,oBAAF,GAAuBZ,CAA7C,EAA+CR,CAAC,CAACqB,QAAF,CAAWtB,CAAX,CAAtD;EAAoE,C;;;;SAAemB,C;;;;;yBAAf,WAAiB9B,CAAjB,EAAmBC,CAAnB,EAAqB;IAAC,MAAME,CAAC,GAACM,CAAC,CAAC;MAACI,CAAC,EAAC;IAAH,CAAD,EAAYZ,CAAZ,CAAT;IAAA,MAAwB;MAAC0B,IAAI,EAACf;IAAN,UAAeb,CAAC,CAACC,CAAC,CAACkC,OAAF,CAAU,cAAV,EAAyB,OAAzB,CAAD,EAAmC/B,CAAnC,CAAxC;IAA8E,IAAG,CAACS,CAAD,IAAI,CAACA,CAAC,CAACuB,eAAV,EAA0B,OAAM;MAACH,oBAAoB,EAAC,EAAtB;MAAyBD,iBAAiB,EAAC;IAA3C,CAAN;IAAuD,MAAK;MAACI,eAAe,EAACtB;IAAjB,IAAoBD,CAAzB;IAAA,MAA2BG,CAAC,GAACR,CAAC,CAACM,CAAD,CAAD,GAAK,4BAAlC;IAAA,MAA+D;MAACc,IAAI,EAACP;IAAN,UAAerB,CAAC,CAACgB,CAAD,EAAGZ,CAAH,CAA/E;IAAA,MAAqFoB,CAAC,GAAClB,CAAC,CAAC,qCAAD,EAAuCe,CAAvC,CAAxF;IAAkI,IAAG,CAACG,CAAJ,EAAM,OAAM;MAACS,oBAAoB,EAAC,EAAtB;MAAyBD,iBAAiB,EAAC;IAA3C,CAAN;IAAuD,MAAMN,CAAC,GAACd,CAAC,CAACE,CAAD,CAAT;IAAA,MAAaiB,CAAC,GAAC,YAAYM,IAAZ,CAAiBX,CAAC,CAACY,IAAnB,IAAyB,OAAzB,GAAiC,2BAA2BD,IAA3B,CAAgCX,CAAC,CAACY,IAAlC,IAAwC,iBAAxC,GAA0D,cAA1G;IAAA,MAAyHR,CAAC,GAACpB,CAAC,CAAC;MAACI,CAAC,EAAC,MAAH;MAAUyB,WAAW,EAACR;IAAtB,CAAD,EAA0B7B,CAA1B,CAA5H;IAAA,MAAyJsC,CAAC,GAAChC,CAAC,CAACgB,CAAD,CAAD,GAAK,yBAAhK;IAAA,MAA0LiB,CAAC,SAAOzC,CAAC,CAACwC,CAAD,EAAGV,CAAH,CAAnM;IAAA,MAAyMY,CAAC,GAAC,EAA3M;IAA8M,IAAIC,CAAC,GAAC,IAAN;;IAAW,IAAGF,CAAC,EAAEb,IAAH,EAASgB,OAAT,EAAkB3B,MAArB,EAA4B;MAAC,MAAMjB,CAAC,GAACyC,CAAC,CAACb,IAAF,CAAOgB,OAAf;;MAAuB,KAAI,MAAM3C,CAAV,IAAeD,CAAf,EAAiB,IAAG,2BAAyBC,CAAC,CAAC4C,SAA9B,EAAwC;QAAC,IAAG5C,CAAC,CAAC6C,KAAF,EAASC,QAAZ,EAAqB,KAAI,MAAK;UAACC,UAAU,EAAChD;QAAZ,CAAT,IAA0BC,CAAC,CAAC6C,KAAF,CAAQC,QAAlC,EAA2C,IAAG/C,CAAH,EAAK;UAAC,MAAMC,CAAC,GAACgD,IAAI,CAACC,KAAL,CAAWlD,CAAC,CAACmD,UAAb,CAAR;UAAiCT,CAAC,CAACvB,IAAF,CAAOlB,CAAP;QAAU;MAAC,CAA3J,MAA+J,wBAAsBA,CAAC,CAAC4C,SAAxB,KAAoCF,CAAC,GAAC1C,CAAC,CAAC6C,KAAxC;IAA+C;;IAAA,OAAM;MAACb,oBAAoB,EAACS,CAAtB;MAAwBV,iBAAiB,EAACW;IAA1C,CAAN;EAAmD,C;;;;SAAeb,C;;;;;yBAAf,WAAiB5B,CAAjB,EAAmBE,CAAnB,EAAqBE,CAArB,EAAuB;IAAC,IAAG;MAAC,MAAML,CAAC,GAACS,CAAC,CAAC;QAACI,CAAC,EAAC,MAAH;QAAUa,KAAK,EAACvB;MAAhB,CAAD,EAAoBE,CAApB,CAAT;MAAA,MAAgCM,CAAC,GAACJ,CAAC,CAACN,CAAD,CAAD,GAAK,sBAAvC;MAAA,MAA8D;QAAC0B,IAAI,EAAC;UAACK,oBAAoB,EAACpB,CAAtB;UAAwBmB,iBAAiB,EAAClB;QAA1C;MAAN,UAA0Dd,CAAC,CAACY,CAAD,EAAGX,CAAH,CAAzH;MAA+H,OAAM;QAACgC,oBAAoB,EAACpB,CAAtB;QAAwBmB,iBAAiB,EAAClB;MAA1C,CAAN;IAAmD,CAAtL,CAAsL,OAAMF,CAAN,EAAQ;MAAC,MAAM,IAAIX,CAAJ,CAAM,qCAAN,EAA4C,sDAA5C,EAAmG;QAACmD,KAAK,EAACxC;MAAP,CAAnG,CAAN;IAAoH;EAAC,C;;;;AAAA,SAAOI,CAAC,IAAIqC,iBAAZ,EAA8BhC,CAAC,IAAIiC,2BAAnC,EAA+D5B,CAAC,IAAI6B,uBAApE,EAA4F/B,CAAC,IAAIgC,qBAAjG"},"metadata":{},"sourceType":"module"}