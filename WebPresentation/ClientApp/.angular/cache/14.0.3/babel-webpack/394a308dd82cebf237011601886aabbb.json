{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport { isSome as r } from \"../../../../../core/maybe.js\";\nimport { f as e } from \"../../../../../chunks/vec4f32.js\";\nimport { Pos2b as t } from \"../DefaultVertexAttributeLayouts.js\";\nimport s from \"./WGLBrush.js\";\nimport { background as i } from \"../shaders/BackgroundPrograms.js\";\nimport { BufferObject as o } from \"../../../../webgl/BufferObject.js\";\nimport { StencilOperation as a, Face as l, CompareFunction as n, PrimitiveType as d, Usage as m } from \"../../../../webgl/enums.js\";\nimport { createProgram as c } from \"../../../../webgl/ProgramTemplate.js\";\nimport { VertexArrayObject as _ } from \"../../../../webgl/VertexArrayObject.js\";\n\nclass h extends s {\n  constructor() {\n    super(...arguments), this._color = e(1, 0, 0, 1), this._initialized = !1;\n  }\n\n  dispose() {\n    this._solidProgram && (this._solidProgram.dispose(), this._solidProgram = null), this._solidVertexArrayObject && (this._solidVertexArrayObject.dispose(), this._solidVertexArrayObject = null);\n  }\n\n  prepareState({\n    context: r\n  }) {\n    r.setDepthWriteEnabled(!1), r.setDepthTestEnabled(!1), r.setStencilTestEnabled(!0), r.setBlendingEnabled(!1), r.setColorMask(!1, !1, !1, !1), r.setStencilOp(a.KEEP, a.KEEP, a.REPLACE), r.setStencilWriteMask(255);\n  }\n\n  draw(e, t) {\n    const {\n      context: s,\n      requestRender: i,\n      allowDelayedRender: o\n    } = e;\n    this._initialized || this._initialize(s), o && r(i) && !this._solidProgram.compiled ? i() : (s.setStencilFunctionSeparate(l.FRONT_AND_BACK, n.GREATER, t.stencilRef, 255), s.bindVAO(this._solidVertexArrayObject), s.useProgram(this._solidProgram), this._solidProgram.setUniformMatrix3fv(\"u_dvsMat3\", t.transforms.dvs), this._solidProgram.setUniform2fv(\"u_coord_range\", [t.rangeX, t.rangeY]), this._solidProgram.setUniform1f(\"u_depth\", 0), this._solidProgram.setUniform4fv(\"u_color\", this._color), s.drawArrays(d.TRIANGLE_STRIP, 0, 4), s.bindVAO());\n  }\n\n  _initialize(r) {\n    if (this._initialized) return !0;\n    const e = c(r, i);\n    if (!e) return !1;\n    const s = new Int8Array([0, 0, 1, 0, 0, 1, 1, 1]),\n          a = o.createVertex(r, m.STATIC_DRAW, s),\n          l = new _(r, i.attributes, t, {\n      geometry: a\n    });\n    return this._solidProgram = e, this._solidVertexArrayObject = l, this._initialized = !0, !0;\n  }\n\n}\n\nexport { h as default };","map":{"version":3,"names":["isSome","r","f","e","Pos2b","t","s","background","i","BufferObject","o","StencilOperation","a","Face","l","CompareFunction","n","PrimitiveType","d","Usage","m","createProgram","c","VertexArrayObject","_","h","constructor","arguments","_color","_initialized","dispose","_solidProgram","_solidVertexArrayObject","prepareState","context","setDepthWriteEnabled","setDepthTestEnabled","setStencilTestEnabled","setBlendingEnabled","setColorMask","setStencilOp","KEEP","REPLACE","setStencilWriteMask","draw","requestRender","allowDelayedRender","_initialize","compiled","setStencilFunctionSeparate","FRONT_AND_BACK","GREATER","stencilRef","bindVAO","useProgram","setUniformMatrix3fv","transforms","dvs","setUniform2fv","rangeX","rangeY","setUniform1f","setUniform4fv","drawArrays","TRIANGLE_STRIP","Int8Array","createVertex","STATIC_DRAW","attributes","geometry","default"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushStencil.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../../../../core/maybe.js\";import{f as e}from\"../../../../../chunks/vec4f32.js\";import{Pos2b as t}from\"../DefaultVertexAttributeLayouts.js\";import s from\"./WGLBrush.js\";import{background as i}from\"../shaders/BackgroundPrograms.js\";import{BufferObject as o}from\"../../../../webgl/BufferObject.js\";import{StencilOperation as a,Face as l,CompareFunction as n,PrimitiveType as d,Usage as m}from\"../../../../webgl/enums.js\";import{createProgram as c}from\"../../../../webgl/ProgramTemplate.js\";import{VertexArrayObject as _}from\"../../../../webgl/VertexArrayObject.js\";class h extends s{constructor(){super(...arguments),this._color=e(1,0,0,1),this._initialized=!1}dispose(){this._solidProgram&&(this._solidProgram.dispose(),this._solidProgram=null),this._solidVertexArrayObject&&(this._solidVertexArrayObject.dispose(),this._solidVertexArrayObject=null)}prepareState({context:r}){r.setDepthWriteEnabled(!1),r.setDepthTestEnabled(!1),r.setStencilTestEnabled(!0),r.setBlendingEnabled(!1),r.setColorMask(!1,!1,!1,!1),r.setStencilOp(a.KEEP,a.KEEP,a.REPLACE),r.setStencilWriteMask(255)}draw(e,t){const{context:s,requestRender:i,allowDelayedRender:o}=e;this._initialized||this._initialize(s),o&&r(i)&&!this._solidProgram.compiled?i():(s.setStencilFunctionSeparate(l.FRONT_AND_BACK,n.GREATER,t.stencilRef,255),s.bindVAO(this._solidVertexArrayObject),s.useProgram(this._solidProgram),this._solidProgram.setUniformMatrix3fv(\"u_dvsMat3\",t.transforms.dvs),this._solidProgram.setUniform2fv(\"u_coord_range\",[t.rangeX,t.rangeY]),this._solidProgram.setUniform1f(\"u_depth\",0),this._solidProgram.setUniform4fv(\"u_color\",this._color),s.drawArrays(d.TRIANGLE_STRIP,0,4),s.bindVAO())}_initialize(r){if(this._initialized)return!0;const e=c(r,i);if(!e)return!1;const s=new Int8Array([0,0,1,0,0,1,1,1]),a=o.createVertex(r,m.STATIC_DRAW,s),l=new _(r,i.attributes,t,{geometry:a});return this._solidProgram=e,this._solidVertexArrayObject=l,this._initialized=!0,!0}}export{h as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}