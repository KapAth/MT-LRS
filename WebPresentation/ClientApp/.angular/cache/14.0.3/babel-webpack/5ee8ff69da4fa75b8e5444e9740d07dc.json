{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../TimeExtent.js\";\nimport { unwrap as t, isSome as n, isNone as i } from \"../core/maybe.js\";\nimport { eachAlways as r } from \"../core/promiseUtils.js\";\nimport { offsetDate as o } from \"../core/timeUtils.js\";\n\nfunction m(e) {\n  return void 0 !== e.timeInfo;\n}\n\nfunction s(_x, _x2) {\n  return _s.apply(this, arguments);\n}\n\nfunction _s() {\n  _s = _asyncToGenerator(function* (o, s) {\n    if (0 === o.length) return e.allTime;\n    const f = o.filter(m);\n    yield Promise.all(f.map(e => e.load({\n      signal: s\n    })));\n    const a = [],\n          u = [];\n\n    for (const e of f) \"feature\" !== e?.type && \"map-image\" !== e?.type || !e.timeInfo?.hasLiveData ? u.push(e) : a.push(e);\n\n    const l = e => i(e) || e.isAllTime,\n          c = u.map(e => e.timeInfo?.fullTimeExtent);\n\n    if (c.some(l)) return e.allTime;\n    const p = a.map( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (e) {\n        const {\n          timeExtent: n\n        } = yield e.fetchRecomputedExtents({\n          signal: s\n        });\n        return n || t(e.timeInfo?.fullTimeExtent);\n      });\n\n      return function (_x3) {\n        return _ref.apply(this, arguments);\n      };\n    }()),\n          T = (yield r(p)).map(e => e.value);\n    if (T.some(l)) return e.allTime;\n    return [...T, ...c].filter(n).reduce((e, t) => e.union(t));\n  });\n  return _s.apply(this, arguments);\n}\n\nfunction f(t) {\n  if (!t) return t;\n  const {\n    start: i,\n    end: r\n  } = t;\n  return new e({\n    start: n(i) ? o(i, -i.getTimezoneOffset(), \"minutes\") : i,\n    end: n(r) ? o(r, -r.getTimezoneOffset(), \"minutes\") : r\n  });\n}\n\nfunction a(t) {\n  if (!t) return t;\n  const {\n    start: i,\n    end: r\n  } = t;\n  return new e({\n    start: n(i) ? o(i, i.getTimezoneOffset(), \"minutes\") : i,\n    end: n(r) ? o(r, r.getTimezoneOffset(), \"minutes\") : r\n  });\n}\n\nexport { s as getTimeExtentFromLayers, a as toLocalTimeExtent, f as toUTCTimeExtent };","map":{"version":3,"names":["e","unwrap","t","isSome","n","isNone","i","eachAlways","r","offsetDate","o","m","timeInfo","s","length","allTime","f","filter","Promise","all","map","load","signal","a","u","type","hasLiveData","push","l","isAllTime","c","fullTimeExtent","some","p","timeExtent","fetchRecomputedExtents","T","value","reduce","union","start","end","getTimezoneOffset","getTimeExtentFromLayers","toLocalTimeExtent","toUTCTimeExtent"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/support/timeUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../TimeExtent.js\";import{unwrap as t,isSome as n,isNone as i}from\"../core/maybe.js\";import{eachAlways as r}from\"../core/promiseUtils.js\";import{offsetDate as o}from\"../core/timeUtils.js\";function m(e){return void 0!==e.timeInfo}async function s(o,s){if(0===o.length)return e.allTime;const f=o.filter(m);await Promise.all(f.map((e=>e.load({signal:s}))));const a=[],u=[];for(const e of f)\"feature\"!==e?.type&&\"map-image\"!==e?.type||!e.timeInfo?.hasLiveData?u.push(e):a.push(e);const l=e=>i(e)||e.isAllTime,c=u.map((e=>e.timeInfo?.fullTimeExtent));if(c.some(l))return e.allTime;const p=a.map((async e=>{const{timeExtent:n}=await e.fetchRecomputedExtents({signal:s});return n||t(e.timeInfo?.fullTimeExtent)})),T=(await r(p)).map((e=>e.value));if(T.some(l))return e.allTime;return[...T,...c].filter(n).reduce(((e,t)=>e.union(t)))}function f(t){if(!t)return t;const{start:i,end:r}=t;return new e({start:n(i)?o(i,-i.getTimezoneOffset(),\"minutes\"):i,end:n(r)?o(r,-r.getTimezoneOffset(),\"minutes\"):r})}function a(t){if(!t)return t;const{start:i,end:r}=t;return new e({start:n(i)?o(i,i.getTimezoneOffset(),\"minutes\"):i,end:n(r)?o(r,r.getTimezoneOffset(),\"minutes\"):r})}export{s as getTimeExtentFromLayers,a as toLocalTimeExtent,f as toUTCTimeExtent};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}