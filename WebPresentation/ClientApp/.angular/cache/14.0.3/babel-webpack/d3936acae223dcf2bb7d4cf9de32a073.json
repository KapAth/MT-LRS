{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from \"../../../request.js\";\nimport { mapParameters as t } from \"../../operations/urlUtils.js\";\n\nfunction o(e, t) {\n  const o = e.toJSON();\n  return o.objectIds && (o.objectIds = o.objectIds.join(\",\")), o.orderByFields && (o.orderByFields = o.orderByFields.join(\",\")), o.outFields && !t?.returnCountOnly ? o.outFields.includes(\"*\") ? o.outFields = \"*\" : o.outFields = o.outFields.join(\",\") : delete o.outFields, o.outSpatialReference && (o.outSR = o.outSR.wkid || JSON.stringify(o.outSR.toJSON()), delete o.outSpatialReference), o.dynamicDataSource && (o.layer = JSON.stringify({\n    source: o.dynamicDataSource\n  }), delete o.dynamicDataSource), o;\n}\n\nfunction r(_x, _x2, _x3) {\n  return _r.apply(this, arguments);\n}\n\nfunction _r() {\n  _r = _asyncToGenerator(function* (e, t, o) {\n    const r = yield s(e, t, o),\n          n = r.data,\n          a = n.geometryType,\n          d = n.spatialReference,\n          c = {};\n\n    for (const s of n.relatedRecordGroups) {\n      const e = {\n        fields: void 0,\n        objectIdFieldName: void 0,\n        geometryType: a,\n        spatialReference: d,\n        hasZ: !!n.hasZ,\n        hasM: !!n.hasM,\n        features: s.relatedRecords\n      };\n      if (null != s.objectId) c[s.objectId] = e;else for (const t in s) s.hasOwnProperty(t) && \"relatedRecords\" !== t && (c[s[t]] = e);\n    }\n\n    return { ...r,\n      data: c\n    };\n  });\n  return _r.apply(this, arguments);\n}\n\nfunction n(_x4, _x5, _x6) {\n  return _n.apply(this, arguments);\n}\n\nfunction _n() {\n  _n = _asyncToGenerator(function* (e, t, o) {\n    const r = yield s(e, t, o, {\n      returnCountOnly: !0\n    }),\n          n = r.data,\n          a = {};\n\n    for (const s of n.relatedRecordGroups) null != s.objectId && (a[s.objectId] = s.count);\n\n    return { ...r,\n      data: a\n    };\n  });\n  return _n.apply(this, arguments);\n}\n\nfunction s(_x7, _x8) {\n  return _s.apply(this, arguments);\n}\n\nfunction _s() {\n  _s = _asyncToGenerator(function* (r, n, s = {}, a) {\n    const d = t({ ...r.query,\n      f: \"json\",\n      ...a,\n      ...o(n, a)\n    });\n    return e(r.path + \"/queryRelatedRecords\", { ...s,\n      query: { ...s.query,\n        ...d\n      }\n    });\n  });\n  return _s.apply(this, arguments);\n}\n\nexport { r as executeRelationshipQuery, n as executeRelationshipQueryForCount, o as toQueryStringParameters };","map":{"version":3,"names":["e","mapParameters","t","o","toJSON","objectIds","join","orderByFields","outFields","returnCountOnly","includes","outSpatialReference","outSR","wkid","JSON","stringify","dynamicDataSource","layer","source","r","s","n","data","a","geometryType","d","spatialReference","c","relatedRecordGroups","fields","objectIdFieldName","hasZ","hasM","features","relatedRecords","objectId","hasOwnProperty","count","query","f","path","executeRelationshipQuery","executeRelationshipQueryForCount","toQueryStringParameters"],"sources":["C:/Users/akaps/Documents/Visual Studio 2022/Projects/MT_LRS/WebPresentation/node_modules/@arcgis/core/rest/query/operations/queryRelatedRecords.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{mapParameters as t}from\"../../operations/urlUtils.js\";function o(e,t){const o=e.toJSON();return o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),o.outFields&&!t?.returnCountOnly?o.outFields.includes(\"*\")?o.outFields=\"*\":o.outFields=o.outFields.join(\",\"):delete o.outFields,o.outSpatialReference&&(o.outSR=o.outSR.wkid||JSON.stringify(o.outSR.toJSON()),delete o.outSpatialReference),o.dynamicDataSource&&(o.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o}async function r(e,t,o){const r=await s(e,t,o),n=r.data,a=n.geometryType,d=n.spatialReference,c={};for(const s of n.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:a,spatialReference:d,hasZ:!!n.hasZ,hasM:!!n.hasM,features:s.relatedRecords};if(null!=s.objectId)c[s.objectId]=e;else for(const t in s)s.hasOwnProperty(t)&&\"relatedRecords\"!==t&&(c[s[t]]=e)}return{...r,data:c}}async function n(e,t,o){const r=await s(e,t,o,{returnCountOnly:!0}),n=r.data,a={};for(const s of n.relatedRecordGroups)null!=s.objectId&&(a[s.objectId]=s.count);return{...r,data:a}}async function s(r,n,s={},a){const d=t({...r.query,f:\"json\",...a,...o(n,a)});return e(r.path+\"/queryRelatedRecords\",{...s,query:{...s.query,...d}})}export{r as executeRelationshipQuery,n as executeRelationshipQueryForCount,o as toQueryStringParameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}